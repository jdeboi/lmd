{"version":3,"sources":["components/shared/FAQ/assets/chat_md.gif","components/shared/FAQ/assets/move_md.gif","components/shared/Welcome/components/glasses.png","components/shared/Socket/Socket.js","components/shared/Header/components/ListItem.js","components/shared/Header/components/FinderSubmenu.js","components/shared/Header/components/Clock.js","store/actions/menuItems.js","store/actions/messages.js","store/actions/music.js","components/sketches/Sketches.js","components/shared/Header/Header.js","components/shared/Header/MobileFooter/MobileFooter.js","components/shared/Chat/ComboBox.js","components/shared/Chat/Messages.js","components/shared/Frame/Toolbar.js","components/shared/Frame/Frame.js","components/shared/CenterModal/Helper.js","components/shared/CenterModal/CenterModal.tsx","components/sketches/Gallery/constants.js","store/actions/user.js","store/actions/userActiveChat.js","components/shared/Chat/Chat.js","components/shared/LiveStream/YouTube.js","store/actions/index.js","components/shared/Welcome/components/Helpers.js","components/shared/SignIn/SignIn.js","components/shared/Welcome/components/MFADeets.js","components/shared/FAQ/FAQ.js","components/shared/Welcome/components/Glasses.js","components/shared/Welcome/components/Closed.js","components/shared/Welcome/Welcome.js","components/shared/FAQ/FAQFrame.js","components/shared/RoomDecal/RoomDecal.js","components/sketches/Gallery/p5/functions/round.js","components/sketches/Gallery/p5/functions/floor.js","components/sketches/Gallery/p5/functions/building.js","components/sketches/Gallery/p5/functions/emojis.js","components/sketches/Gallery/p5/functions/destination.js","components/sketches/Gallery/p5/functions/users.js","components/sketches/Gallery/p5/functions/garden.js","components/sketches/Gallery/p5/components/Draggable/Button.js","components/sketches/Gallery/p5/components/Draggable/Draggable.js","components/sketches/Gallery/p5/components/Folder.js","components/sketches/Gallery/p5/components/Draggable/ShadowDraggable.js","components/sketches/Gallery/p5/components/Boundaries.js","components/sketches/Gallery/p5/components/Door.js","components/sketches/Gallery/p5/components/Draggable/ButtonSq.js","components/sketches/Gallery/p5/components/Light.js","components/sketches/Gallery/p5/components/Bar.js","components/sketches/Gallery/p5/components/Tree.js","components/sketches/Gallery/p5/components/RoomLabel.js","components/sketches/Gallery/p5/components/Trash.js","components/sketches/Gallery/p5/components/TrashFolder.js","components/sketches/Gallery/p5/components/Draggable/ButtonLab.js","components/sketches/Gallery/p5/components/Swing.js","components/sketches/Gallery/p5/components/Draggable/ButtonTog.js","components/sketches/Gallery/p5/components/Table.js","components/sketches/Gallery/p5/functions/divs.js","components/sketches/Gallery/p5/GallerySketch.js","components/sketches/Gallery/p5/components/TreeSlider.js","components/sketches/Gallery/p5/components/Wall.js","components/sketches/Gallery/p5/components/Room.js","components/sketches/Gallery/p5/components/Duck.js","components/sketches/Gallery/p5/components/Dancer.js","components/sketches/Gallery/p5/functions/crossing.js","components/sketches/Gallery/MiniMap/AvatarMiniMap.js","components/sketches/Gallery/MiniMap/MiniMap.js","components/shared/LoadingPage/LoadingPage.js","components/shared/Helpers/Helpers.js","components/sketches/Gallery/Gallery.js","components/sketches/MacbookAir/MacbookAir.js","components/sketches/JungleGyms/Pipe.js","components/sketches/JungleGyms/JungleGyms.js","components/shared/Babylon.jsx","components/shared/Frame/FrameSimple.js","components/sketches/HardDrives/Birds.js","components/sketches/HardDrives/HardDrives.js","components/sketches/Wasted/Wasted.js","components/sketches/Mars/components/BabylonWater.js","components/sketches/WetStreams/wetSketch.js","components/sketches/Mars/components/SwimLane.js","components/sketches/Mars/components/PoolButtons.js","components/sketches/Mars/components/Chairs.js","components/sketches/Mars/components/BigCrater.js","components/sketches/Mars/components/SmallCrater.js","components/sketches/Mars/components/Board.js","components/sketches/Mars/components/MarsDesktop.js","components/sketches/Mars/components/MarsMobile.js","components/sketches/Mars/Mars.js","components/sketches/WetStreams/components/Shower.js","components/sketches/WetStreams/WetStreams.js","components/sketches/Confessional/components/PearlyGates/LiveBar.js","components/sketches/Confessional/components/PearlyGates/PearlyGates.js","components/sketches/Confessional/components/WebZoom.js","components/sketches/Confessional/components/Emojis/Emojis.js","components/sketches/Confessional/components/Emojis/BottomBar.js","components/sketches/Confessional/components/ConfessForm/ConfessFormContent.js","components/sketches/Confessional/components/ConfessForm/ConfessFormFrame.js","components/sketches/Confessional/components/ConfessForm/ConfessMobileForm.js","components/sketches/Confessional/components/Candles/Candle.js","components/sketches/Confessional/components/Candles/Candles.js","components/sketches/Confessional/Confessional.js","components/shared/DesktopIcon/DesktopIcon.js","components/sketches/Confessional/components/ConfessionIcon/Tweet/TweetContent.js","components/sketches/Confessional/components/ConfessionIcon/Confession.js","components/sketches/Confessional/components/ConfessionIcon/Tweet/TweetModal.js","components/sketches/Confessional/components/Helpers.js","components/sketches/Xfinity/Xfinity.js","components/sketches/Confessional/Confessions.js","components/sketches/Flush/Emoji.js","components/sketches/Flush/Flush.js","components/sketches/Oogle/data.js","components/sketches/Oogle/components/Modal.js","components/sketches/Oogle/Oogle.js","components/sketches/Yosemite/Yosemite.js","components/sketches/Blinds/p5/components/Draggable/Button.js","components/sketches/Blinds/p5/components/Draggable/BlindsDraggable.js","components/sketches/Blinds/p5/components/Draggable/Draggable.js","components/sketches/Blinds/p5/components/divs.js","components/sketches/Blinds/p5/BlindsSketch.js","components/sketches/Blinds/Blinds.js","components/sketches/ClickMe/components/LikeButton/LikeButton.js","components/sketches/ClickMe/components/EmojiMonitor/Helper.js","components/sketches/ClickMe/components/EmojiMonitor/EmojiMonitor.js","components/sketches/ClickMe/components/Roses/Rose.js","components/sketches/ClickMe/components/Roses/Roses.js","components/sketches/ClickMe/ClickMe.js","components/pages/About.js","components/pages/Statement.js","components/pages/Credits.js","components/pages/NotFound.js","components/utilities/Projection/PanSketch.js","components/utilities/RegisterDesktop/RegisterDesktop.js","components/utilities/RegisterDesktop/UnregisterDesktop.js","components/utilities/ViewUsers/ViewUsers.js","components/utilities/PanGallery/PanGallery.js","components/utilities/ScrollSketches/ScrollSketches.js","components/utilities/Projection/Projection.js","App/App.js","serviceWorker.js","store/reducers/menuItems.js","store/reducers/user.js","store/reducers/music.js","store/reducers/window.js","store/reducers/index.js","store/reducers/messages.js","index.js","components/shared/3D/AnaglyphEffect.js"],"names":["module","exports","socket","io","ListItem","getMenuItem","title","shortcut","className","this","props","link","ui","callback","classN","width","DOMParser","parseFromString","body","innerHTML","getShortcut","classn","href","target","rel","to","onClick","React","PureComponent","FinderSubmenu","getPageTitle","id","isXXSmall","currentPage","getMainTitle","Fragment","getMobile","isMobile","hasFooter","state","isVisible","toggleHidden","bind","setWrapperRef","handleClickOutside","document","addEventListener","removeEventListener","node","wrapperRef","event","contains","setState","prevState","icon","specialClass","ulSpecialClass","listItems","ref","map","item","i","classLN","key","Clock","currentTimeString","updateClock","interval","setInterval","clearInterval","currentTime","Date","currentHours","getHours","currentMinutes","getMinutes","timeOfDay","getDay","hideMenus","type","setOneMenu","show","payload","setGalleryActive","toggleMap","showMap","hideMap","toggleFaq","showFaq","hideFaq","toggleChat","showChat","hideChat","toggleUserIcons","hideLiveStream","toggleLiveStream","showSignIn","hideSignIn","addMessage","message","addMessageNotification","resetMessgeNotification","setSketchMusic","sketch","volume","setNoSketchMusic","toggleVolume","setSketchVolume","vol","setRandomSong","setSong","num","song","rooms","short","x","y","rot","dir","about","year","sk","unshift","label","sketches","getUrl","find","Header","liveStreamToggle","liveStreamOn","handleClick","getArrowIconLi","arrowClass","history","push","getHamburgerSub","getMainMenuSub","isClosed","isMenuOn","getDesktopHeader","headerClass","getChatLi","getMapLi","getFaqLi","getLiveStreamLi","user","comp","getVolumeLi","getAvatarLi","getMobileHeaderLandscape","getMobileHeaderPortrait","chatClicked","menu","classVol","isLiveStreamHidden","hasClickedLiveStream","getVolumeIcon","music","isMuted","avatarClicked","getAvatar","classFaq","isFaqHidden","fontSize","classMap","isHome","room","isMapHidden","classChat","isChatHidden","chatNotifications","getChatNotification","n","avatar","showSideBar","volumeMuted","liveStreamInterval","isSimpleHeader","orientation","Component","withRouter","connect","MobileFooter","goToGallery","window","confirm","getSignInButton","classUser","mobile","getChatButton","getFAQButton","getMapButton","getGalleryButton","src","AWS","style","height","footerClass","ComboBox","getInitialUserNames","names","initialUsers","userName","setInputValue","newInputValue","inputValue","getUserListInRoom","users","length","getLabel","getUsersInRoomTrunc","getUsersInRoom","filter","setValue","newValue","setRecipient","prevProps","userActiveChat","listID","sty","w","Autocomplete","value","onChange","onInputChange","onFocus","options","getOptionLabel","option","getOptionSelected","fullWidth","renderInput","params","InputProps","placeholder","inputProps","Messages","getUserById","o","getUserNameById","obj","scrollToBottom","messagesEnd","scrollIntoView","behavior","block","inline","scrollToTop","messagesStart","isMobilie","renderMobile","renderDesktop","messages","from","avatarHidden","messageToCol","float","clear","el","slice","reverse","Toolbar","toggleClosed","toggleMinimzed","toggleMaximized","Frame","onControlledDrag","e","position","controlledPosition","onDrag","onControlledDragStop","onStop","onHide","stopPropagation","isMinimized","onMinimized","origCoords","console","log","onMaximized","onStart","activeDrags","handleStart","newFrameToTop","toolBarH","deltaPosition","wrapper","createRef","dx","dy","parser","isHidden","isMaximized","contentVisibility","display","frameH","bounds","bounded","frameStyle","Math","floor","zIndex","z","axis","handle","defaultPosition","positionOffset","grid","scale","cancel","handleStop","nodeRef","windowStyle","content","getCenterModalDim","isRelative","contentW","minW","getWidthTooSmall","toolbarH","contentH","minH","getHeightTooSmall","headerH","padding","h","getPortraitSmall","getLandscapeSmall","CenterModal","buttons","min","classT","onDoubleClick","visibility","background","setUser","setUserRoom","setUserComp","removeUserComp","moveUser","wineLocation","addWine","location","setWine","needsWine","hasWine","addCheese","addCocktail","toggleOutside","setUserActiveChat","globalConfig","scaler","minX","maxX","minY","maxY","stepS","p5ToWorldCoords","p5ToDomCoords","mouseToWorld","userEase","p5","mouseX","windowWidth","mouseY","windowHeight","worldUser","domCoordsToP5World","p","domCoordsToP5","limits","startX","pools","startY","outsideDoors","x0","y0","x1","y1","outsideDoorFramesInit","door","lightsOG","cheeseBot","wineBot1","cocktailBot","flipped","danceFloorP5","danceFloor","djLocation","hostBotLocation","Chat","handleTextBoxChange","textBox","buttonDisabled","sendToOne","txt","socketId","time","connected","emit","sendToRoom","sendToAll","sendToHostBot","setTimeout","hostBotRespond","sendToCocktailBot","cocktailBotRespond","sendToCheeseBot","cheeseBotRespond","sendToWineBot","wineBotRespond","sendToDJ","djRespond","wineBotJustAsked","lc","toLowerCase","phrase","indexOf","hostBotJustAsked","cocktailBotJustAsked","cheeseBotJustAsked","djJustAsked","onSubmit","sendMessage","alert","handleKeyDown","setUserHover","userHover","setUserHoverLeave","getMobileFrame","getMobileContent","getMobileButtons","getIsHidden","inputW","flexDirection","onKeyDown","disabled","addUserMessage","getFrame","edgeSpacing","input","textInput","userHoverChat","YouTube","setVolume","frameBorder","allow","allowFullScreen","loadingApp","doneLoadingApp","startComposition","resetApp","resizeApp","getEmojis","SignIn","setAvatarBar","emoji","localAvatar","setUserName","evt","localUserName","shouldClose","handleSubmit","userRegister","isUser","submitSuccess","nextStep","userRegisterCheck","userCheck","handleUserUpdate","isSignInHidden","getForm","getButtons","emojis","inputprops","isFrame","setClick","nextProps","nextState","hasAvatar","MFADeets","fonts","paddingBottom","FAQ","alt","moveGif","chatGif","Glasses","glasses","Closed","Welcome","getWelcomeStepClosed","step","click","clickSubmit","prevStep","getButtonsClosed","closeWelcome","getWelcomeStep","showWelcome","FAQFrame","RoomDecal","userHoverLeave","getParticipantsBox","usr","getRoomCount","data-tip","getUsers","getFakeUsers","buttonClicked","startMedia","hasLoadedRoom","r","fontWeight","roundToMult","mult","newNum","roundToMult2","drawAllFloors","floorTex","strokeWeight","stroke","drawFloor","drawDanceFloor","noStroke","drawSpaceFloor","drawSpaceFloorLine","drawGalleryGround","drawGalleryRects","sc","spacing","yOffset","slope","b","yValRounded","noise","alpha","fill","rect","isDark","isFilled","sin","xInd","ix","iy","image","yind","xind","cFilled","color","cDark","drawWalls","walls","wall","displayBorder","drawRooms","roomTextures","eyeIcon","roomCount","displayDancers","dancers","updateDucks","hasCheese","userX","userY","ducks","duck","applyBehaviors","update","reachedDestination","stepTo","destination","getStepDist","space","sqrt","drawUsers","dogica","imgs","textFont","otherUser","coord","ava","translate","text","hasCocktail","drawLabel","pop","textSize","dist","drawChat","drawCheese","drawWine","drawCocktail","name","textWidth","chat","wine","cheese","bread","drawPlantRow","img","pt","noFill","c","drawGrassPatch","grass0","grass1","xx","yy","shrub","drawShrubPatch","Button","mx","my","mouseOver","ellipse","Draggable","origX","origY","offsetX","offsetY","startDrag","startDragCoords","dragging","locked","closed","minimized","barH","bRad","closeButton","minButton","xp","maxButton","mask","createGraphics","displayContent","gx","gy","displayFrame","col","mouse","closeWindow","toggleMinimze","maximizeWindow","overToolBar","div","minimizeWindow","setSize","Folder","checkOver","xLab","tw","checkDoubleClicked","openInNewTab","url","open","focus","point","ShadowDraggable","shadow","displayShadow","backW","backH","intersectionPoint","x2","y2","x3","y3","x4","y4","ua","ub","denom","seg1","seg2","doorLineCrossing","pos","nextPos","config","intersectsOG","boundaryLineCrossing","boundary","point0","point1","a1","a2","b1","b2","c1","c2","r1","r2","r3","r4","sameSign","a","sign","Door","isFlipped","isOpen","openAmt","isPanGallery","maxOpen","checkOpen","closedSign","dAmt","rotate","PI","sW","sH","line","prevStop","userStep","ButtonSq","isChecked","Light","isOn","button","checkButton","toggleLights","imgBack","backY","displaySolidBack","displayButton","Bar","img0","loadImage","img1","img2","bar","displayBarContents","displayCheese","displayBev","displayDJ","xsp","Tree","sz","RoomLabel","rc","count","displayLabel","displayEye","br","substring","t1","t2","Trash","folder","openWindow","TrashFolder","checkContentsClicked","checkBox","displayLabels","labels","index","lab","ButtonLab","yLab","Swing","baby","chain","origin","createVector","armLength","angle","aAcceleration","aVelocity","updateSwing","displaySimple","displayChain","displaySeat","seatW","cos","swingPushed","ButtonTog","mouseOverEdge","Table","closedImg","isUmbrellaOpen","toggleButton","addRoomLabelDivs","divs","roomLabels","roomL","displayRoomLabelDivs","rl","displayToolBar","addDoorDivs","doors","doorImgs","addLightDivs","lightImgs","lights","light","addColumnDivs","columnGif","columns","column","numCols","addTrashDivs","trashFiles","trashCans","trashFolders","tf","t","addFolderDivs","instaImg","txtFile","folders","addOakDivs","oakImg","oaks","oak","addSwingDivs","swings","addTableDivs","tableImgs","tables","table","addBarDivs","lightImg","bars","addTreeDivs","tree","trees","numTrees","sp","displayDoorDivs","displayLightDivs","displayFolderDivs","displayTrashDivs","trashF","displayColumnDivs","displayBarDivs","displayOakDivs","displayTableDivs","displaySwingDivs","swing","displayTreeDivs","updateDivs","openDoor","keys","Object","flowerRow","ivory","treeSlider","duckImg","checkTrashDiv","checkDiv","checkButtons","checkDragging","TreeSlider","sliderX","constrain","over","Wall","wallsInit","points","sWs","borderPoints","initBorderPoints","sw","beginShape","uv","getWallUV","vertex","u","v","endShape","borderW","p0","p1","pNext0","pNext1","pIntersect","displayOutline","Room","start","end","doorC","Duck","velocity","acceleration","maxforce","maxspeed","force","add","hasBread","vehicles","userWorld","separateForce","separate","seekForce","seek","millis","applyForce","setFlip","desired","subtractVec","normalize","steer","limit","dz","desiredseparation","sum","other","d","diff","sub","checkBoundaries","Dancer","lastStep","random","dancerImgs","barEmojis","isWalking","lastMouseMove","initEmojis","initBuilding","initDivs","drawOverTarget","drawOverUser","getValue","innerWidth","innerHeight","manualResize","showTarget","lineL","showDestination","showUserEllipses","pmouseX","pmouseY","mouseDidMove","mouseIsPressed","dx2","dy2","showMouseLoc","userTakeStep","outsideDoor","cross","doorCrossing","roomDoorEntry","roomDoorEntryCrossing","roomDoor","roomDoorCrossing","roomDoorB","roomDoorBoundary","userNewRoom","roomBoundaryCrossing","roomBoundary","wallBoundaryCrossing","wallBoundary","updateUserEase","userMove","triggerMove","setUserActive","userClicked","userChat","dChat","checkUserClicked","checkDivPress","mouseStep","steps","stepDis","getNextStep","windowResized","resizeCanvas","preload","loadGif","loadFont","setup","canvasParentRef","cnv","createCanvas","parent","mousePressed","frameRate","loadingDone","draw","drawUser","keyPressed","keyCode","UP_ARROW","RIGHT_ARROW","LEFT_ARROW","DOWN_ARROW","mouseReleased","endDrag","endDivDrag","doubleClicked","checkFolderDivsDouble","checkTrashDivsDouble","AvatarMiniMap","dim","miniScaler","miniX","miniY","bigScaler","bigX","bigY","loc","top","left","hidden","MiniMap","LoadingPage","getRandomNum","val","getNewZIndices","indexToTop","array","prevVal","maxVal","newArr","mapVal","in_min","in_max","out_min","out_max","max","randomInRange","Gallery","cycleEllipses","numEllipses","enterRoom","loadingInterval","getHomeComponents","loading","getEllipses","getVolume","dis","outside","keyDown","userTransition","transitionUser","MacbookAir","videoSpeed","sliderOG","mainOG","cloudsRef","fanRef","setSpeed","getDimensions","getMainWindow","getSliderWindow","resetPlayer","compositionStarted","current","play","speed","playbackRate","aspectRatio","minSpacing","originalDim","factor","windowDim","sliderDim","vertical","availableHeight","minSpacingY","availableWidth","minSpacingX","spacingFinal","getLandscapeDimensions","windowAspectRatio","getPortraitDimensions","muted","loop","playsInline","autoPlay","px","py","ContinuousSliderVert","ContinuousSliderHoriz","frameDimensions","useState","sliderStyle","aria-label","Slider","aria-labelledby","defaultValue","Pipe","nodes","scene","box","pipeRadius","ballJointRadius","gridBounds","THREE","currentPosition","randomInteger","positions","object3d","addTexture","setAt","makeBallJoint","fromPoint","toPoint","material","deltaVector","subVectors","arrow","clone","geometry","mesh","rotation","setFromQuaternion","quaternion","addVectors","multiplyScalar","updateMatrix","ball","copy","fromPosition","toPosition","tangentVector","elball","texUrl","pipeTexture","load","wrapS","wrapT","repeat","set","emissive","specular","shininess","lastPosition","lastDirectionVector","directionVector","chooseFrom","newPosition","containsPoint","getAt","equals","makeCylinderBetweenPoints","values","round","AnaglyphEffect","require","JungleGyms","handleWindowResize","renderer","camera","aspect","updateProjectionMatrix","setupScene","antialias","mount","appendChild","domElement","effect","controls","OrbitControls","minDistance","maxDistance","ambientLight","addLight","addScreenCube","videoGym","videoSwings","pipes","vines","addWallPaper","addVines","look","startAnimationLoop","chance","getTime","render","requestID","requestAnimationFrame","reset","remove","intensity","video","pW","pH","fac","boxLen","videoTex","minFilter","magFilter","format","side","plane","opacity","transparent","cube","edges","linewidth","self","modelPath","onProgress","xhr","lengthComputable","loaded","total","onError","manager","addHandler","DDSLoader","MTLLoader","setPath","model","materials","OBJLoader","setMaterials","vine","newVine","newVine2","firstLoad","vector","matrix","makeRotationAxis","applyMatrix4","center","lookAt","getControlsFrame","cancelAnimationFrame","dispose","gymUrl","crossOrigin","reactCanvas","useRef","engineOptions","adaptToDeviceRatio","sceneOptions","onRender","rest","onSceneReady","useEffect","engine","Engine","Scene","isReady","onReadyObservable","addOnce","runRenderLoop","resize","getEngine","touch-action","tabIndex","FrameSimple","notAbsolute","Birds","initBirds","birdInitialsX","birdInitialsY","flyDirection","updateBirds","maxW","flyIndex","numVisibleBirds","getBird","bird","getBirdLocation","HardDrives","AnaglyphUniversalCamera","Vector3","clearColor","Color3","Black","setTarget","canvas","getRenderingCanvas","attachControl","inputs","removeByType","HemisphericLight","addWater","addPalms","addGround","addSkybox","addBottles","water","bottles","nextIsland","islandIndex","urlIndex","beaches","island","waterMesh","Mesh","CreateGround","WaterMaterial","Vector2","backFaceCulling","bumpTexture","Texture","windForce","waveHeight","bumpHeight","waveLength","waterColor","colorBlendFactor","groundTexture","vScale","uScale","groundMaterial","StandardMaterial","diffuseTexture","ground","addToRenderList","skybox","CreateBox","skyboxMaterial","reflectionTexture","CubeTexture","coordinatesMode","SKYBOX_MODE","diffuseColor","specularColor","disableLighting","getRandom","seed","gThis","SceneLoader","LoadAssetContainer","container","bottle","meshes","addAllToScene","bottleVectors","instantiateModelsToScene","rootNodes","AssetContainer","scaling","svFrame","f","ogW","ogH","wTemp","Babylon","aria-hidden","Wasted","startTime","currentFrame","increasing","currentText","gridNum","setFrame","setText","heightBuffer","words","intervalFrames","wordIndex","word","toUpperCase","fr","fs","grids","marginTop","palindromeStyle","GridFrame","dimW","dimH","dimX","dimY","Color4","SwimLane","changeSwimLane","swimmerPos","swimmer","numSwimmers","getSwimmerLanes","lanes","lane0","lane1","ceil","swimInterval","buttonClick","buttonStyle","paddingTop","ftStyle","backgroundSize","Chairs","chairUpdate","chairY","chairInterval","chairStyle","backgroundPosition","BigCrater","poolRef","poolVid","vidC","MarsDesktop","vids","poolVid0","poolVid1","poolVid2","poolVid3","addClass","removeClass","sketchW","sketchH","pool","chairs","smallCrater","bab","board","swimLaneFrame","tank","SmallCrater","PoolButtons","BabylonWater","Board","MarsMobile","availW","availH","Mars","justPool","emojisTransparent","ps","percent","velocities","velX","velY","offsets","degrees","createEmojisTransparent","myCustomRedrawAccordingToNewPropsHandler","origins","ParticleSystem","isPlaying","initParticles","deltas","tint","emojiS","forEach","sys","run","Particle","deg","gravity","positionOG","lifespan","launched","isDead","radians","launch","particles","numParticle","launchIndex","addParticle","launchParticle","setPercent","particle","Shower","handleDrag","onClosed","imgSrc","WetStreams","playStreamReset","playingStreams","dps","deltaPositions","dp","deltaX","deltaY","showerFrame","showWater","bgimg","backgroundImage","LiveBar","timeInc","sec","hr","updateTime","updateWatchers","watchers","intervalTimer","intervalWatcher","faEye","PearlyGates","pearlyVid","doveX","doveY","yLive","WebZoom","videoOn","videoConstraints","facingMode","Emojis","BottomBar","updateEmojis","splice","addEmoji","intervalEmoji","toggleAudio","toggleVideo","audioOn","addCandle","vidIcon","faVideo","faVideoSlash","audioIcon","faMicrophoneAlt","faMicrophoneAltSlash","variant","paddingRight","ConfessionFormContent","handleTimeChange","timePeriod","handlePrayChange","prayTo","line0","multiline","ConfessionFormFrame","ConfessMobileForm","Candle","Candles","candles","candle","Confessional","getButtonSty","gates","buttonSty","buttonW","getAllDim","confessDim","zoomDim","pearlyDim","totalFramesW","totalFramesH","totalSideFrameH","bottomBarH","getPearlyGatesDimMobile","pearly","winX","winY","confessFormHidden","showConfess","hideConfess","getDesktop","dimensions","tweetX","tweetY","DesktopIcon","onDblClick","newIconToTop","onClickMobile","getDesktopDesktop","zIcon","disableWindow","getMobileDesktop","zFrame","frameContent","TweetContent","tweet","confession","username","likes","rts","replies","profileUrl","faComment","faRetweet","faHeart","setTweetModal","undefined","TweetModal","processString","initConfessions","confessions","confessionsTxt","initZIndicesIcons","zind","initZIndicesFrames","Confessions","addTweet","tweetObj","string","tweets","regex","fn","result","hashtag","hashtagUrl","tweetID","profile_image_url","public_metrics","like_count","retweet_count","reply_count","newZ","zIndicesIcons","zIndicesFrames","modalTweetHidden","modalTweet","modalTweetConfession","hideTweetModal","numConfessions","getNumConfessions","fetchTweets","now","fetch","response","json","initialRes","data","includes","author_id","findUserByID","Xfinity","setImages","imageIndex","mapDivs","numFrames","mod","imgW","numImages","wheel","getMouseWheel","mouseW","getCascadeDivs","balloonX","opac","imgH","isControlled","getDesktopDivs","getMobileDivs","asp","touchAction","onTouchStart","touchStart","onTouchMove","touchMove","onTouchEnd","touchEnd","touchS","touches","clientY","currentMobileDiv","divRef","preventDefault","onWheel","Emoji","ang","rand","emojiTexture","emojiMaterial","hasAlpha","setEnabled","isStopping","Flush","mat","vidTex","VideoTexture","lastVolume","isVideoPlaying","vid","paused","ended","readyState","flushToilet","isFlushing","handleDown","startFlush","stopFlush","handleUp","transform","lev","stars","description","roads","roomLines","Modal","getDesktopModal","getModalContentPortrait","getModalFrameH","getMobileModal","getModalContentLandscape","fullH","fH","txtH","playing","currentContent","contentHidden","mapR","Oogle","setRoomIconTransforms","setLabelTransforms","setVisibleLabels","init","initRenderer","initCamera","Interaction","initControls","initAnaglyph","initLights","initRoomIcons","initLabels","initRooms","initRoads","initModels","initGrids","onWindowResize","setPixelRatio","devicePixelRatio","setClearColor","MapControls","minZoom","promises","loadObj","Promise","all","then","drawGrid","level","labelLevel","path","l","loadSVG","group","startZ","labelGroups","geo","cursor","on","ev","setLabel","onShowModal","gl","gi","pivot","iconPos","xs","plane1","plane2","setRoom","icons","labelCallback","scaleVector","setRoomLabels","resetLabelGroups","visible","g","roomPoints","addLine","roadPoints","initDoors","doorPoints","lW","LineGeometry","setPositions","matLine","LineMaterial","vertexColors","dashed","resolution","Line2","computeLineDistances","SVGLoader","paths","fillColor","userData","setStyle","fillOpacity","depthWrite","wireframe","shapes","toShapes","j","shape","strokeColor","strokeOpacity","jl","subPaths","subPath","pointsToStroke","getPoints","gridHelper","drawRoom","geometryL","WireframeGeometry2","Wireframe","isoLines","urls","textureCube","resolve","reject","object","traverse","child","isMesh","materialT","rotateMap","amt","onHideModal","isModalHidden","currentPoint","Yosemite","startPop","hasStarted","popUp","popTime","numPop","numPops","popups","popW","yMax","popInterval","getPopUps","getFireH","endW","clicked","getFrames","frames","frame","framesW","getFolderList","titles","BlindsDraggable","blinds","closeAmt","pg","maxDis","fillC","strokeC","arc","toolC","frameC","buttonC","displayArcToolbar","displayArcFrame","coverImg","wallTexture","windows","updateGraphics","blendMode","REMOVE","displayMask","drawDivSquares","initGraphics","canvasPressed","addMobilePortraitDivs","addMobileLandscapeDivs","numFramesW","numFramesH","addDesktopDivs","buttoncol","framecol","toolcol","displayDivs","mouseDragged","Blinds","ASPECT","fog","initFloor","floorTexture","floorMaterial","floorGeometry","initStatues","objLoader","root","newCL","newCR","hercules","fence","fenceR","fenceL","initEffect","initGround","initFrames","texture","framesSpacing","updateFrames","backgroundColor","LikeButton","heartClicked","getDim","buttonH","fontS","repeats","barW","xB","yB","bW","bH","isVert","getMobileDimHoriz","getMobileDimVert","availLen","maxLen","getDimDesktop","EmojiMonitor","ems","heartRate","maxHeart","numHearts","Rose","roseStyle","Roses","hR","hT","roseDim","roseBL","roseBR","roseTL","roseTR","bigRoseTL","bigRoseTR","heartTotal","heartVelocity","ClickMe","onPointerMove","isPrimary","clientX","setCursor","setHeart","heartSz","pulse","composer","gui","anaglyphEffect","heart","face","currentSceneIndex","sceneCreators","canGoBackwardsInTime","ballScene","light1","light2","lightningColor","outlineColor","lightningMaterial","sphereMaterial","sphereMesh","lightningStrike","lightningStrikeMesh","sphere","rayDirection","rayLength","vec1","vec2","rayParams","sourceOffset","destOffset","radius0","radius1","radius0Factor","minRadius","maxIterations","isEternal","timeScale","propagationTimeFactor","vanishingTimeFactor","subrayPeriod","ramification","recursionProbability","roughness","straightness","onSubrayCreation","segment","parentSubray","childSubray","subrayConePosition","pos1","rayParameters","randomGenerator","setLength","rayParams2","recreateRay","LightningStrike","passes","addPass","RenderPass","rayPass","outlinePass","objectsArray","visibleColor","OutlinePass","edgeStrength","edgeGlow","edgeThickness","visibleEdgeColor","hiddenEdgeColor","outlineEnabled","createOutline","raycaster","setFromCamera","intersection","ray","intersectSphere","enabled","enableDamping","dampingFactor","clock","createScene","destroy","GUI","hide","sceneFolder","addFolder","sceneIndex","timeRate","graphicsFolder","lightningColorRGB","addColor","setRGB","outlineColorRGB","rayFolder","raySlowFolder","onFinishChange","createGUI","EffectComposer","initFace","jar","jarMaterial","metalness","initJar","MTLFile","initHeart","blindsTexture","offset","groundMat","initBlinds","animate","getDelta","faceSz","heartPump","ram","blind","onMouseMove","About","size","Statement","Credits","NotFound","RegisterDesktop","handleChange","computerNumber","UnregisterDesktop","ViewUsers","computerUsers","viewTime","stepToIndex","updateView","coords","abs","PanGallery","ScrollSketches","changeSketch","currentSketch","Projection","isGallery","App","handleKeyPress","pageChange","newPath","pathname","nextRoom","getRoom","toggleSideBar","handleDrawerClose","updateDeviceDimensions","classes","indexOfClass","socketSetup","sessionID","addBots","filteredArray","setRoomCount","usersChange","hostBot","wineBot","dj","hasOwnProperty","getAvatarById","rm","pages","getRoomTitle","replace","getStringClasses","str","handleMouseMove","showDock","hasAudio","audioPlayer","cursorID","Cookies","get","appHeaderClass","exact","component","currentSongTitle","player","Boolean","hostname","match","initState","isVolumeHidden","isUserIconsHidden","isGalleryActive","getOneMenu","oldMenu","newMenu","roomX","roomY","needsCheese","needsCocktail","userNearBar","songs","gallery","yosemite","cloud","hardDrives","xfinity","mars","wetStreams","macBookAir","jungleGyms","flush","clickMe","default","wasted","currentSong","masterVolume","sketchVolume","initW","initH","initialState","getIsMobile","getOrientation","getWindowSize","getHasFooter","getHeaderH","getContentW","getContentH","getEdgeSpacing","test","navigator","userAgent","allReducers","combineReducers","action","prevRoom","s","song2","numSongs","rootReducer","store","createStore","__REDUX_DEVTOOLS_EXTENSION__","ReactDOM","StrictMode","getElementById","serviceWorker","ready","registration","unregister","useOGMatrices","colorMatrixLeft","Matrix3","fromArray","colorMatrixRight","_camera","OrthographicCamera","_scene","_stereo","StereoCamera","_params","LinearFilter","NearestFilter","RGBAFormat","_renderTargetL","WebGLRenderTarget","_renderTargetR","_material","ShaderMaterial","uniforms","vertexShader","join","fragmentShader","_mesh","PlaneBufferGeometry","pixelRatio","getPixelRatio","currentRenderTarget","getRenderTarget","updateMatrixWorld","setRenderTarget","cameraL","cameraR"],"mappings":"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Q,2BAAQ,2BACtC,SAAK,qBAAO,qBAAO,qBAAO,qBAAO,qBACjC,eAAM,2BAAQ,2BAAQ,2BAAQ,2BAAQ,2BACtC,SAAK,qBAAO,qBAAO,qBAAO,qBAAO,qBACjC,eAAM,2BAAQ,2BAAQ,2BAAQ,2BAAQ,2BAEtC,SAAK,qBAAO,qBAAO,qBAAO,qBAAO,qBACjC,eAAM,2BAAQ,2BAAQ,2BAAQ,2BAAQ,2BACtC,eAAM,2BAAQ,2BAAQ,2BAAQ,2BAAQ,2BACtC,eAAM,eAAM,eAAM,eAAM,eAAM,eAAM,eAAM,eAAM,eAAM,eAAM,eAAM,eAAM,eAAM,eAAM,eAAM,eAAM,eAAM,eAAM,eAAM,eAAM,eAAM,eAAM,eAAM,eAAM,eAAM,eAAM,eAAM,eAAM,eAAM,eAAM,eAAM,eAAM,eAAM,eAAM,eAAM,eAAM,eAAM,eAAM,eAAM,eAAM,eAAM,eAAM,eAAM,eAAM,eAAM,eAAM,eAAM,eAAM,eAAM,eAAM,eAAM,eAAM,eAAM,eAAM,eAAM,eAAM,eAAM,eAAM,eAAM,eAAM,eAAM,eAAM,eAAM,eAAM,eAAM,eAAM,eAAM,eAAM,eAAM,eAAM,eAAM,eAAM,eAAM,eAAM,eAAM,eAAM,eAAM,eAAM,eAAM,eAAM,eAAM,eAAM,eAAM,eAAM,eAAM,eAAM,eAAM,eAAM,eAAM,eAAM,eAAM,eAAM,eAAM,eAAM,eAAM,eAAM,eAAM,eAAM,eAAM,eAAM,eAAM,eAAM,eAAM,eAAM,eAAM,eAAM,eAAM,eAAM,eAAM,eAAM,eAAM,eAAM,eAAM,eAAM,eAAM,eAAM,eAAM,eAAM,eAAM,eAAM,eAAM,eAAM,eAAM,eAAM,eAAM,eAAM,eAAM,eAAM,eAAM,eAAM,eAAM,eAAM,eAAM,eAAM,eAAM,eAAM,eAAM,eAAM,eAAM,eAAM,eAAM,eAAM,eAAM,eAAM,eAAM,eAAM,eAAM,eAAM,eAAM,eAAM,eAAM,eAAM,eAAM,eAAM,eAAM,eAAM,eAAM,eAAM,eAAM,eAAM,eAAM,eAAM,eAAM,eAAM,eAAM,eAAM,eAAM,eAAM,eAAM,eAAM,eAAM,eAAM,eAAM,eAAM,eAAM,eAAM,eAAM,eAAM,SAAK,eAAM,eAAM,eAAM,eAAM,eAAM,eAAM,eAAM,eAAM,eAAM,eAAM,eAAM,eAAM,eAAM,eAAM,eAAM,eAAM,eAAM,eAAM,eAAM,eAAM,eAAM,eAAM,eAAM,eAC3rC,eAAM,2BAAQ,2BAAQ,2BAAQ,2BAAQ,2BAAQ,eAAM,2BAAQ,2BAAQ,2BAAQ,2BAAQ,2BACpF,eAAM,2BAAQ,2BAAQ,2BAAQ,2BAAQ,2BACtC,eAAM,2BAAQ,2BAAQ,2BAAQ,2BAAQ,2BACtC,eAAM,2BAAQ,2BAAQ,2BAAQ,2BAAQ,2BACtC,eAAM,2BAAQ,2BAAQ,2BAAQ,2BAAQ,2BACtC,eAAM,2BAAQ,2BAAQ,2BAAQ,2BAAQ,2BACtC,eAAM,eAAM,eAAM,eAAM,2BAAQ,2BAAQ,2BAAQ,2BAAQ,2BAAQ,eAAM,2BAAQ,2BAAQ,2BAAQ,2BAAQ,2BAAQ,eAAM,2BAAQ,2BAAQ,2BAAQ,2BAAQ,2BAAQ,eAAM,eAAM,eAAM,eAAM,eAAM,eAAM,eAAM,eAAM,eAAM,eAAM,eAAM,eAAM,eAAM,eAAM,eAAM,eAAM,eAAM,eAAM,eAAM,eAAM,eAAM,eAAM,eAAM,eAAM,eAAM,eAAM,eAAM,eAAM,eAAM,eAAM,eAAM,eAAM,eAAM,eAAM,eAAM,eAAM,qBAAO,eAAM,eAAM,eAAM,eAAM,eAAM,eAAM,eAAM,eAAM,eAAM,eAAM,eAAM,eAAM,eAAM,eAAM,eAAM,eAAM,eAAM,eAAM,eAAM,eAAM,eAAM,eAAM,eAAM,eAAM,eAAM,eAAM,eAAM,eAAM,eAAM,eAAM,eAAM,eAAM,eAAM,eAAM,eAAM,eAAM,eAAM,eAAM,eAAM,eAAM,eAAM,eAAM,eAAM,eAAM,eAAM,eAAM,eAAM,eAAM,eAAM,eAAM,eAAM,eAAM,eAAM,eAAM,eAAM,eAAM,eAAM,eAAM,eAAM,eAAM,eAAM,eAAM,eAAM,eAAM,eAAM,eAAM,eAAM,eAAM,eAAM,eAAM,eAAM,eAAM,eAAM,eAAM,eAAM,eAAM,eAAM,eAAM,eAAM,eAAM,eAAM,eAAM,eAAM,2BAAQ,2BAAQ,2BAAQ,2BAAQ,2BAAQ,2BAAQ,2BAAQ,2BAAQ,2BAAQ,2BAAQ,2BAAQ,2BAAQ,2BAAQ,2BAAQ,2BAAQ,2BAAQ,2BAAQ,2BAAQ,2BAAQ,2BAAQ,2BAAQ,2BAAQ,2BAAQ,2BAAQ,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","file":"static/js/main.ba3af7e9.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/chat_md.77dd4ed5.gif\";","module.exports = __webpack_public_path__ + \"static/media/move_md.d29cf99a.gif\";","module.exports = \"data:image/png;base64,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\"","import io from \"socket.io-client\";\nlet socket = io(process.env.NODE_ENV === 'development'?\"http://localhost:5000/\":\"\");\nexport default socket;\n","import React from 'react';\nimport {Link} from 'react-router-dom';\n\nclass ListItem extends React.PureComponent {\n\n  // constructor(props) {\n  //   super(props);\n  // }\n\n  render() {\n    const {title, link, ui, callback, classN} = this.props;\n    const shortcut = getShortcut(this.props.shortcut, ui.width);\n    // let classn = (shortcut === '' || shortcut === null || ui.isMobile) ? 'noShortcut': 'shortcut';\n    let classn = classN;\n    classn += (shortcut === '' || shortcut === null) ? ' noShortcut': ' shortcut';\n\n    if (title === \"thesis\") {\n      return (\n        <li className={classn}><a href={\"https://lmd-bucket.s3.us-east-2.amazonaws.com/thesis.pdf\"} target=\"_blank\" rel=\"noopener noreferrer\">thesis</a></li>\n      )\n    }\n    else if (link && link !== '') {\n      return (\n          <li className={classn}><Link to={link}>{this.getMenuItem(title, shortcut)}</Link></li>\n      );\n    }\n\n    return (\n      <li className={classn} onClick={callback} shortcut={shortcut}>{title}</li>\n    );\n  }\n\n  getMenuItem = (title,shortcut) => {\n    return (\n      <div className=\"flexRow\">\n        <div className=\"title flex1\">{title}</div>\n        <div className=\"shortcut\">{shortcut}</div>\n      </div>\n    )\n  }\n}\n\nfunction getShortcut(shortcut, width) {\n  // if (shortcut === null || shortcut === \"\" || width < 500) return null;\n  if (shortcut === null || shortcut === \"\") \n    return null;\n\n  const parser = new DOMParser();\n  const parsedString = parser.parseFromString(shortcut, 'text/html');\n  return parsedString.body.innerHTML;\n}\n\nexport default ListItem\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport ListItem from './ListItem';\n\nclass FinderSubmenu extends React.PureComponent {\n\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      isVisible: false\n    }\n\n    this.toggleHidden = this.toggleHidden.bind(this);\n    this.setWrapperRef = this.setWrapperRef.bind(this);\n    this.handleClickOutside = this.handleClickOutside.bind(this);\n  }\n\n  componentDidMount() {\n    document.addEventListener('mousedown', this.handleClickOutside);\n  }\n\n  componentWillUnmount() {\n    document.removeEventListener('mousedown', this.handleClickOutside);\n  }\n\n  setWrapperRef(node) {\n    this.wrapperRef = node;\n  }\n\n  handleClickOutside(event) {\n    if (this.wrapperRef && !this.wrapperRef.contains(event.target)) {\n      this.setState({\n        isVisible: false\n      })\n    }\n  }\n\n  toggleHidden() {\n    this.setState(prevState => ({\n      isVisible: !prevState.isVisible\n    }));\n  }\n\n  render() {\n\n    var title = this.getMainTitle();\n\n    if (this.props.title === \"\") {\n      title = <i className={this.props.icon}></i>\n    }\n    // const cursor = this.props.cursor;\n    const specialClass = this.props.specialClass;\n    let ulSpecialClass = this.props.ulSpecialClass ? this.props.ulSpecialClass : \"\";\n    if (this.getMobile())\n      ulSpecialClass += \" mobile\";\n    const listItems = this.props.listItems;\n\n\n    let classN = specialClass ? (\" \" + specialClass) : \"\";\n    if (!this.getMobile()) {\n      classN += \" expandable\";\n      classN += this.state.isVisible ? ' selected' : '';\n    }\n    // if (this.props.title === \"losing my dimension\" && this.isXXSmall())\n    //   classN += \" xxsmall\";\n\n    return (\n      <li className={classN} onClick={this.toggleHidden} ref={this.setWrapperRef}>{title}\n        <div className={`submenu ${this.state.isVisible ? 'visible' : ''}`}>\n          <ul className={ulSpecialClass}>\n            {listItems.map((item, i) => {\n              let classLN = item.classN ? item.classN : \"\";\n              \n              // if(item.title === \"spacer\") {\n              //   if (this.getMobile()) \n              //     return null;\n              //   return (\n              //     <li className=\"spacer\" key={i} />\n              //   )\n              // }\n              return (\n                <ListItem key={i} ui={this.props.ui} shortcut={item.shortcut} title={item.title} link={`/${item.link}`} callback={item.callback} classN={classLN} />)\n            }\n            )\n            }  </ul>\n        </div>\n      </li>\n    );\n  }\n\n  getPageTitle = () => {\n    // if (this.getMobile() && this.props.title === \"losing my dimension\") {\n    //   return (\n    //     <div className=\"mobile-title\">\n    //       <div>losing my dimension</div>\n    //       <div className=\"subtitle\">{this.props.currentPage}</div>\n    //     </div>\n    //   )\n    // }\n    return (\n      <span id=\"pageTitle\">{this.props.title}</span>\n    )\n\n  }\n\n  isXXSmall = () => {\n    return (this.props.currentPage !== \"gallery\" && this.props.ui.width < 445);\n  }\n\n  getMainTitle = () => {\n    // let title = \"losing my dimension\";\n    if (this.props.title === \"losing my dimension\") {\n      if (this.isXXSmall()) {\n        // let sty = { display: \"flex\", flexDirection: \"column\", lineHeight: \"15px\", position: \"absolute\", top: 10 }\n        // return (\n        //   <span><span className=\"xxsmallLogo\" style={sty}><span>losing my</span><span>dimension</span></span></span>\n        // )\n        return null;\n      }\n\n\n    }\n    return (\n      <React.Fragment>{this.props.title}</React.Fragment>\n    )\n\n    // return this.props.currentPage; // === \"gallery\"?\"losing my dimension\":this.props.currentPage;\n  }\n\n  getMobile = () => {\n    return this.props.ui.isMobile || this.props.ui.hasFooter;\n  }\n\n}\n\nexport default FinderSubmenu\n","import React from 'react';\n\nclass Clock extends React.PureComponent {\n\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      currentTimeString: 0\n    }\n\n    this.updateClock = this.updateClock.bind(this);\n  }\n\n  componentDidMount() {\n    this.updateClock();\n    this.interval = setInterval(this.updateClock, 1000);\n  }\n\n  componentWillUnmount() {\n    clearInterval(this.interval);\n  }\n\n\n  updateClock() {\n    var currentTime = new Date();\n    var currentHours = currentTime.getHours();\n    var currentMinutes = currentTime.getMinutes();\n    currentMinutes = (currentMinutes < 10 ? \"0\" : \"\") + currentMinutes;\n\n    // var currentSeconds = currentTime.getSeconds();\n    // currentSeconds = (currentSeconds < 10 ? \"0\" : \"\") + currentSeconds;\n\n    var timeOfDay = (currentHours < 12) ? \"AM\" : \"PM\";\n    currentHours = (currentHours > 12) ? currentHours - 12 : currentHours;\n    currentHours = (currentHours === 0) ? 12 : currentHours;\n\n    var shortDays = [\n      'Sun', //Sunday starts at 0\n      'Mon',\n      'Tue',\n      'Wed',\n      'Thu',\n      'Fri',\n      'Sat'\n    ];\n    var x = currentTime.getDay(); //This returns a number, starting with 0 for Sunday\n    var day = (shortDays[x]);\n\n    var currentTimeString = day + \" \" + currentHours + \":\" + currentMinutes + \" \" + timeOfDay;\n\n    this.setState({currentTimeString: currentTimeString});\n  }\n\n\n  render() {\n    return(\n      <span id=\"clock\">{this.state.currentTimeString}</span>\n    )\n  }\n\n\n}\n\n\nexport default Clock;\n","// action types\nexport const HIDEMENUS = 'HIDEMENUS';\nexport const SETONEMENU = 'SETONEMENU';\n\nexport const SHOWMAP = 'SHOWMAP';\nexport const HIDEMAP = 'HIDEMAP';\nexport const TOGGLEMAP = 'TOGGLEMAP';\n\nexport const SHOWFAQ = 'SHOWFAQ';\nexport const HIDEFAQ = 'HIDEFAQ';\nexport const TOGGLEFAQ = 'TOGGLEFAQ';\n\nexport const SHOWCHAT = 'SHOWCHAT';\nexport const HIDECHAT = 'HIDECHAT';\nexport const TOGGLECHAT = 'TOGGLECHAT';\n\nexport const SHOWUSERICONS = 'SHOWUSERICONS';\nexport const HIDEUSERICONS = 'HIDEUSERICONS';\nexport const TOGGLEUSERICONS = 'TOGGLEUSERICONS';\n\nexport const SHOWVOLUME = 'SHOWVOLUME';\nexport const HIDEVOLUME = 'HIDEVOLUME';\nexport const TOGGLEVOLUMEMENU = 'TOGGLEVOLUMEMENU';\n\nexport const SHOWLIVESTREAM = 'SHOWLIVESTREAM';\nexport const HIDELIVESTREAM = 'HIDELIVESTREAM';\nexport const TOGGLELIVESTREAM = 'TOGGLELIVESTREAM';\n\nexport const SHOWSIGNIN = 'SHOWSIGNIN';\nexport const HIDESIGNIN = 'HIDESIGNIN';\nexport const TOGGLESIGNIN = 'TOGGLESIGNIN';\n\nexport const SETGALLERYACTIVE = 'SETGALLERYACTIVE';\n\nexport const hideMenus = () => {\n  return {\n    type: HIDEMENUS\n  }\n}\n\nexport const setOneMenu = (show) => {\n  return {\n    type: SETONEMENU,\n    payload: { show }\n  }\n}\n\nexport const setGalleryActive = () => {\n  return {\n    type: SETGALLERYACTIVE\n  }\n}\n\n///////////// MAP\nexport const toggleMap = () => {\n  return {\n    type: TOGGLEMAP\n  }\n}\n\nexport const showMap = () => {\n  return {\n    type: SHOWMAP\n  }\n}\n\nexport const hideMap = () => {\n  return {\n    type: HIDEMAP\n  }\n}\n\n///////////// FAQ\nexport const toggleFaq = () => {\n  return {\n    type: TOGGLEFAQ\n  }\n}\n\nexport const showFaq = () => {\n  return {\n    type: SHOWFAQ\n  }\n}\n\nexport const hideFaq = () => {\n  return {\n    type: HIDEFAQ\n  }\n}\n\n///////////// Chat\nexport const toggleChat = () => {\n  return {\n    type: TOGGLECHAT\n  }\n}\n\nexport const showChat = () => {\n  return {\n    type: SHOWCHAT\n  }\n}\n\nexport const hideChat = () => {\n  return {\n    type: HIDECHAT\n  }\n}\n\n\n///////////// USER ICONS\nexport const toggleUserIcons = () => {\n  return {\n    type: TOGGLEUSERICONS\n  }\n}\n\nexport const showUserIcons = () => {\n  return {\n    type: SHOWUSERICONS\n  }\n}\n\nexport const hideUserIcons = () => {\n  return {\n    type: HIDEUSERICONS\n  }\n}\n\n////////////// VOLUME\n\n\nexport const showVolume = () => {\n  return {\n    type: SHOWVOLUME\n  }\n}\n\nexport const hideVolume = () => {\n  return {\n    type: HIDEVOLUME\n  }\n}\n\nexport const toggleVolumeMenu = () => {\n  return {\n    type: TOGGLEVOLUMEMENU\n  }\n}\n\n\n////////////// live stream\n\n\nexport const showLiveStream = () => {\n  return {\n    type: SHOWLIVESTREAM\n  }\n}\n\nexport const hideLiveStream = () => {\n  return {\n    type: HIDELIVESTREAM\n  }\n}\n\nexport const toggleLiveStream = () => {\n  return {\n    type: TOGGLELIVESTREAM\n  }\n}\n\n///////////// SIGN IN\nexport const toggleSignIn = () => {\n  return {\n    type: TOGGLESIGNIN\n  }\n}\n\nexport const showSignIn = () => {\n  return {\n    type: SHOWSIGNIN\n  }\n}\n\nexport const hideSignIn = () => {\n  return {\n    type: HIDESIGNIN\n  }\n}\n","export const ADDMESSAGE = 'ADDMESSAGE';\nexport const INCREMENTMESSAGENOTIFICATION = 'INCREMENTMESSAGENOTIFICATION';\nexport const RESETMESSAGENOTIFICATION = 'RESETMESSAGENOTIFICATION';\n\n\nexport const addMessage = (message) => {\n  return {\n    type: ADDMESSAGE,\n    payload: {message}\n  }\n}\n\n\nexport const addMessageNotification = () => {\n  return { type : INCREMENTMESSAGENOTIFICATION };\n}\n\nexport const resetMessgeNotification = () => {\n  return { type : RESETMESSAGENOTIFICATION };\n}","export const UNMUTEVOLUME = 'UNMUTEVOLUME';\nexport const MUTEVOLUME = 'MUTEVOLUME';\nexport const TOGGLEVOLUME = 'TOGGLEVOLUME';\nexport const SETVOLUME = 'SETVOLUME';\nexport const SETSKETCHVOLUME = 'SETSKETCHVOLUME';\n\nexport const INCREMENTSONG = 'INCREMENTSONG';\nexport const DECREMENTSONG = 'DECREMENTSONG';\nexport const SETSONG = 'SETSONG';\nexport const SETRANDOMSONG = 'SETRANDOMSONG';\n\nexport const SETSKETCHMUSIC = 'SETSKETCHMUSIC'; \nexport const SETNOSKETCHMUSIC = 'SETNOSKETCHMUSIC';\n\n\n//////////////// sketch music\nexport const setSketchMusic = (sketch, id, volume=.5) => {\n    return { \n        type: SETSKETCHMUSIC, \n        payload: { sketch, id, volume } \n    };\n}\n\nexport const setNoSketchMusic = () => {\n    return { type: SETNOSKETCHMUSIC };\n}\n\n//////////////// volume\nexport const unmuteVolume = () => {\n    return { type: UNMUTEVOLUME };\n}\n\nexport const toggleVolume = () => {\n    return { type: TOGGLEVOLUME };\n}\n\nexport const muteVolume = () => {\n    return { type: MUTEVOLUME };\n}\n\nexport const setVolume = (vol) => {\n    return { type: SETVOLUME, payload: { volume: vol } };\n}\n\nexport const setSketchVolume = (vol) => {\n    return { type: SETSKETCHVOLUME, payload: { volume: vol } };\n}\n\n//////////////// current song\nexport const setRandomSong = () => {\n    return { type: SETRANDOMSONG };\n}\n\nexport const incrementSong = () => {\n    return { type: INCREMENTSONG };\n}\n\n\nexport const decrementSong = () => {\n    return { type: DECREMENTSONG };\n}\n\nexport const setSong = (num) => {\n    return { type: SETSONG, payload: { song: num } }\n}","\nexport const rooms = [\n    { id: 1, short: \"mac\", link: \"macbook-air\", title: \"macbook air\", x: 5, y: 22, rot: -90, dir: \"right\", about: \"interior/exterior spaces online\", shortcut: \"&#x2318;1\", year: 2020 },\n    { id: 2, short: \"wet\", link: \"wet-streams\", title: \"wet streams\", x: 12, y: 13, rot: 0, dir: \"bottom\", about: \"thinking about internet sexuality, online homemaking\", shortcut: \"&#x2318;2\", year: 2020 },\n    { id: 3, short: \"hard\", link: \"hard-drives-on-seashores\", title: \"hard drives on seashores\", x: 12, y: 8, rot: -90, dir: \"right\", about: \"thinking about digital escape\", shortcut: \"&#x2318;3\", year: 2020 },\n    { id: 4, short: \"jung\", link: \"jungle-gyms\", title: \"jungle gyms\", x: 7, y: 8, rot: 90, dir: \"left\", about: \"thinking about confined covid space\", shortcut: \"&#x2318;4\", year: 2020 },\n    { id: 5, short: \"wasted\", link: \"wasted-days\", title: \"wasted days\", x: 0, y: 17, rot: -90, dir: \"right\", about: \"thinking about quarantine time\", shortcut: \"&#x2318;5\", year: 2020 },\n    { id: 6, short: \"esc\", link: \"esc-to-mars\", title: \"esc to mars\", x: 0, y: 0, rot: 0, dir: \"bottom\", about: \"thinking about digital escape\", shortcut: \"&#x2318;6\", year: 2020 },\n    { id: 7, short: \"xfin\", link: \"xfinity-depths\", title: \"xfinity depths\", x: 5, y: 0, rot: 0, dir: \"bottom\", about: \"thinking about infinite scroll\", shortcut: \"&#x2318;7\", year: 2020 },\n    { id: 8, short: \"cloud\", link: \"cloud-confessional\", title: \"cloud confessional\", x: 20, y: 22, rot: 90, dir: \"left\", about: \"thinking about the quality of online social space\", shortcut: \"&#x2318;8\", year: 2020 },\n    { id: 9, short: \"blind\", link: \"blind-eye\", title: \"blind eye\", x: 15, y: 0, rot: 0, dir: \"bottom\", about: \"How does the white cube translate into cyber-dimensions? What social and economic barriers (for example, systemic racism) prevent access to the art world, and how do these barriers operate online?\", shortcut: \"&#x2318;9\", year: 2021 },\n    { id: 10, short: \"flush\", link: \"flush\", title: \"flush\", x: 27, y: 5, rot: 90, dir: \"left\", about: \"thinking about internet vortexes, blackholes, shitholes...\", shortcut: \"&#x2318;F1\", year: 2020 },\n    { id: 11, short: \"home\", link: \"home-page\", title: \"home page\", x: 27, y: 10, rot: 90, dir: \"left\", about: \"thinking about digital privacy, digital/analog movement\", shortcut: \"&#x2318;F2\", year: 2020 },\n    { id: 12, short: \"yose\", link: \"yosemite\", title: \"yosemite\", x: -5, y: 12, rot: -90, dir: \"right\", about: \"How do digital representations of \", shortcut: \"&#x2318;F3\", year: 2021 },\n    { id: 13, short: \"click\", link: \"click-me-baby\", title: \"click me, baby\", x: 10, y: 0, rot: 0, dir: \"bottom\", about: \"buy something!\", shortcut: \"&#x2318;F4\", year: 2021 },\n];\n\nconst sk = [...rooms];\nsk.unshift({ id: 0, short: \"gallery\", title: \"gallery\", label: \"gallery\", link: \"\", classN: \"gallery\", shortcut: \"&#x2318;0\" })\nexport const sketches = sk;\n\n\nexport const getUrl = (short) => {\n    let sk = sketches.find((sketch) => sketch.short === short);\n    return \"/\" + sk.link;\n}\n\nexport const getSketch = (room) => {\n    return rooms.find((r) => r.link === room);\n}\n\nexport const getRoomDescription = (room) => {\n    let rm = rooms.find((r) => r.link === room);\n    if (rm) {\n        return rm.about;\n    }\n    return \"\";\n}\n\nexport const getRoomTitle = (room) => {\n    let rm = rooms.find((r) => r.link === room);\n    if (rm) {\n        return rm.title;\n    }\n    return \"\";\n}\n\nexport const getRoomCount = (room, users) => {\n    let rm = users.filter((usr) => usr.room === room);\n    return rm.length+1;\n}","import React from 'react';\nimport './Header.css';\nimport FinderSubmenu from './components/FinderSubmenu';\nimport { withRouter, Link } from \"react-router-dom\";\n\n// components\nimport Clock from './components/Clock';\n// import Volume from '../Volume/VolumeMute';\n\n// icons\nimport AccountCircleIcon from '@material-ui/icons/AccountCircle';\nimport ChatIcon from '@material-ui/icons/Chat';\nimport NotifyIcon from '@material-ui/icons/Notifications'\nimport MapIcon from '@material-ui/icons/Room';\nimport HelpOutlineIcon from '@material-ui/icons/HelpOutline';\n// import Volume from '@material-ui/icons/VolumeMute';\nimport VolumeUp from '@material-ui/icons/VolumeUp';\nimport VolumeOff from '@material-ui/icons/VolumeOff';\nimport LiveIcon from '@material-ui/icons/LiveTv';\nimport VolumeDown from '@material-ui/icons/VolumeDown';\n\n// import UsersIcon from '@material-ui/icons/SupervisedUserCircle';\n\n// store\nimport { connect } from 'react-redux';\nimport { toggleMap, toggleFaq, toggleChat, toggleUserIcons, toggleLiveStream } from '../../../store/actions/menuItems';\nimport { resetMessgeNotification } from '../../../store/actions/messages';\nimport { toggleVolume } from '../../../store/actions/music';\n\nimport { sketches } from '../../sketches/Sketches';\n\n/*\nReact.PureComponents shouldComponentUpdate() only shallowly compares\nthe objects. If these contain complex data structures, it may produce\nfalse-negatives for deeper differences. Only extend PureComponent when\nyou expect to have simple props and state, or use forceUpdate() when you\nknow deep data structures have changed. Or, consider\nusing immutable objects to facilitate fast comparisons of nested data.\nhttps://reactjs.org/docs/react-api.html#reactpurecomponent\n*/\nclass Header extends React.Component {\n\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      currentTimeString: 0,\n      showSideBar: true,\n      volumeMuted: false,\n      liveStreamOn: false\n    }\n\n  }\n\n  componentDidMount() {\n    this.liveStreamInterval = setInterval(this.liveStreamToggle, 1000);\n  }\n\n  componentWillUnmount() {\n    clearInterval(this.liveStreamInterval);\n  }\n\n  liveStreamToggle = () => {\n    this.setState({ liveStreamOn: !this.state.liveStreamOn });\n  }\n\n  // shouldComponentUpdate(nextProps) {\n  //   const shouldRender = nextProps.dimensions.windowWidth !== this.props.dimensions.windowWidth\n  //   || nextProps.dimensions.windowHeight !== this.props.dimensions.windowHeight\n  //   || nextProps.dimensions.device !== this.props.dimensions.device\n  //   || nextProps.user.avatar !== this.props.user.avatar;\n  //   console.log(nextProps.dimensions.windowWidth, this.props.dimensions.windowWidth);\n  //\n  //   return (\n  //     shouldRender\n  //   );\n  // }\n\n\n  handleClick = (id) => {\n    // console.log(id);\n  }\n\n\n  render() {\n\n\n\n    // phone shortcut: \"&#128222\"\n\n    // const styB = {border: \"1px solid white\", borderRadius: 5, fontSize: 11, color: \"white\"}\n\n\n    if (this.isSimpleHeader()) {\n      if (this.props.ui.orientation === \"landscape\")\n        return this.getMobileHeaderLandscape();\n      return this.getMobileHeaderPortrait();\n    }\n\n    return this.getDesktopHeader();\n  }\n\n  getArrowIconLi = () => {\n    const iconArrow = \"fas fa-arrow-left\";\n    const iconHouse = \"fas fa-home\";\n    // const iconArrow = \"fas fa-arrow-circle-left\";\n    const arrowClass = this.props.currentPage === \"gallery\" ? \"hidden\" : \"arrow expandable\";\n    return (\n      <li className={arrowClass} onClick={() => this.props.history.push(\"/\")}><i className={iconArrow}></i><i className={iconHouse}></i></li>\n    )\n  }\n\n  isXXSmall = () => {\n    return (this.props.currentPage !== \"gallery\" && this.props.ui.width < 445);\n  }\n\n  getHamburgerSub = () => {\n    // const homeIcon = this.props.ui.isMobile?\"fas fa-bars\":\"fa fa-cube\";\n    const homeIcon = \"fas fa-bars\";\n    const hamburgerMenuItems = [\n      { title: \"about\", link: \"about\", shortcut: \"\" },\n      { title: \"statement\", link: \"statement\", shortcut: \"\" },\n      { title: \"thesis\", link: \"thesis\", shortcut: \"\" },\n\n      // {title: \"cookies\", link:\"/words\", shortcut: \"\"},\n      // { title: \"credits\", link: \"credits\", shortcut: \"\" }\n    ];\n\n    return (\n      <FinderSubmenu ui={this.props.ui} title=\"\" currentPage={this.props.currentPage} icon={homeIcon} specialClass=\"apple\" listItems={hamburgerMenuItems} />\n    )\n  }\n\n\n  getMainMenuSub = () => {\n\n    const { currentPage, isClosed, isMenuOn } = this.props;\n    if ((isMenuOn) || currentPage === \"gallerytest\")\n      return <FinderSubmenu ui={this.props.ui} currentPage={this.props.currentPage} title=\"losing my dimension\" icon=\"\" specialClass=\"\" listItems={sketches} />\n    else if (this.isXXSmall() && currentPage !== \"gallery\")\n      return null;\n    else\n      return <li><span id=\"pageTitle\">losing my dimension</span></li>\n\n  }\n\n  getDesktopHeader = () => {\n\n    let headerClass = \"Header menuTheme\";\n    if (this.props.currentPage === \"click me baby\")\n      headerClass += \" clickMe\";\n    return (\n      <header className={headerClass}>\n        <ul className=\"left\">\n          {this.getArrowIconLi()}\n          {/*<FinderSubmenu cursor={`cursor-${this.state.hand}`} dimensions={this.props.dimensions} title=\"\" icon=\"fa fa-cube\" specialClass=\"apple\" listItems={hamburgerMenuItems} /> */}\n          {this.getHamburgerSub()}\n          {this.getMainMenuSub()}\n          {/* <li className={`expandable`}><Link to=\"/\"><span id=\"pageTitle\">Losing My Dimension</span></Link></li> */}\n          {/* <li><span className=\"currentPage\">/{this.props.currentPage}</span></li> */}\n        </ul>\n        <ul className=\"right\">\n          {this.getChatLi()}\n          {/* <li className={classUserIcons} onClick={this.props.toggleUserIcons}><UsersIcon fontSize=\"inherit\" /></li> */}\n          {this.getMapLi()}\n          {this.getFaqLi()}\n          {this.getLiveStreamLi()}\n          <li></li>\n          <li><Clock /></li>\n          {/* <li></li> */}\n          {this.props.user.comp === null ? this.getVolumeLi() : null}\n          {/* <li></li> */}\n          {this.getAvatarLi()}\n          {/* <li className=\"expandable hamburger\" onClick={this.props.toggleSideBar}><i className=\"fas fa-bars\"></i></li>*/}\n        </ul>\n      </header>\n    )\n  }\n\n  getMobileHeaderLandscape = () => {\n\n    const headerClass = \"Header menuTheme mobile\";\n\n    return (\n      <header className={headerClass}>\n        <ul className=\"left\">\n          {this.getArrowIconLi()}\n          {this.getHamburgerSub()}\n          {this.getMainMenuSub()}\n\n          {/* {this.getMainTitleLi()} */}\n        </ul>\n      </header>\n    )\n  }\n\n  getMobileHeaderPortrait = () => {\n\n    const headerClass = \"Header menuTheme mobile\";\n\n    return (\n      <header className={headerClass}>\n        <ul className=\"left\">\n          {this.getArrowIconLi()}\n          {this.getMainMenuSub()}\n          {/* {this.getMainTitleLi()} */}\n        </ul>\n        <ul className=\"right\">\n          {this.getHamburgerSub()}\n        </ul>\n      </header>\n    )\n  }\n\n\n  isSimpleHeader() {\n    const { ui } = this.props;\n    return (ui.isMobile || ui.hasFooter);\n  }\n\n  chatClicked = () => {\n    this.props.resetMessgeNotification();\n    this.props.toggleChat();\n  }\n\n\n\n  getMobileRightMenus() {\n    return (\n      <ul className=\"right\">\n        <li className=\"header-avatar\" onClick={this.props.avatarClicked}>{this.getAvatar()}</li>\n      </ul>\n    );\n  }\n\n\n  getLiveStreamLi = () => {\n    const { menu, user } = this.props;\n    let classVol = \"expandable icon\" + (menu.isLiveStreamHidden ? \" closed\" : \" opened\");\n    classVol += ((this.state.liveStreamOn && !menu.hasClickedLiveStream) ? \" liveStreamOn\" : \"\");\n\n    if (user.comp !== null)\n      return null;\n    return (\n      <li className={classVol} onClick={this.props.toggleLiveStream}>\n        {/* <Volume isMuted={this.props.music.isMuted} /> */}\n        {/* {this.getVolumeIcon()} */}\n        <LiveIcon />\n      </li>\n    )\n  }\n\n  getVolumeLi = () => {\n    const classVol = \"expandable icon opened\";\n    return (\n      <li className={classVol} onClick={this.props.toggleVolume}>\n        {/* <Volume isMuted={this.props.music.isMuted} /> */}\n        {this.getVolumeIcon()}\n      </li>\n    )\n  }\n\n  getVolumeIcon = () => {\n    const { music } = this.props;\n    if (music.isMuted || music.volume == 0)\n      return <VolumeOff />\n    // else if (music.volume < .5)\n    //   return <VolumeDown />\n    return <VolumeUp />\n  }\n\n  getAvatarLi = () => {\n    return (\n      <li className=\"header-avatar expandable\" onClick={this.props.avatarClicked}>\n        {this.getAvatar()}\n      </li>\n    )\n  }\n\n  getFaqLi = () => {\n    const classFaq = \"expandable icon\" + (this.props.menu.isFaqHidden ? \" closed\" : \" opened\");\n\n    return (\n      <li className={classFaq} onClick={this.props.toggleFaq}>\n        <HelpOutlineIcon fontSize=\"inherit\" />\n      </li>\n    )\n  }\n\n  getMapLi = () => {\n    var classMap = \"icon\";\n    const isHome = this.props.user.room === \"gallery\";\n    if (isHome) {\n      classMap += (this.props.menu.isMapHidden ? \" closed\" : \" opened\");\n      classMap += \" expandable\";\n    }\n    else classMap += \" closed disabled\";\n\n    if (!isHome)\n      return null;\n    return (\n      <li className={classMap} onClick={this.props.toggleMap} >\n        <MapIcon fontSize=\"inherit\" />\n      </li >\n    )\n  }\n\n  getChatLi = () => {\n    var classChat = \"expandable icon\" + (this.props.menu.isChatHidden ? \" closed\" : \" opened\");\n    if (this.props.chatNotifications)\n      classChat += \" notify\";\n    return (\n      <li className={classChat} onClick={this.chatClicked}>\n        <ChatIcon fontSize=\"inherit\" />\n        {this.getChatNotification()}\n      </li>\n    )\n  }\n\n  getChatNotification = () => {\n    let n = this.props.chatNotifications;\n    if (n) {\n      if (n > 10)\n        return (<div className=\"notification\"><span className=\"badge\"><NotifyIcon /></span></div>);\n      return (<div className=\"notification\"><span className=\"badge\">{n}</span></div>);\n    }\n    return null;\n  }\n\n  getAvatar = () => {\n    const { user } = this.props;\n    if (user) {\n      return (user.avatar);\n    }\n    return (\n      <AccountCircleIcon />\n    );\n  }\n\n\n}\n\nconst mapStateToProps = (state) => {\n  return {\n    menu: state.menu,\n    chatNotifications: state.chatNotifications,\n    music: state.music,\n    ui: state.ui,\n    user: state.user\n  }\n}\n\nconst mapDispatchToProps = () => {\n  return {\n    toggleMap,\n    toggleFaq,\n    toggleChat,\n    toggleLiveStream,\n    resetMessgeNotification,\n    toggleUserIcons,\n    toggleVolume,\n\n  }\n}\n\n\nexport default withRouter(connect(mapStateToProps, mapDispatchToProps())(Header));\n","import React from 'react';\nimport './MobileFooter.css';\nimport { withRouter } from \"react-router-dom\";\n\nimport AccountCircleIcon from '@material-ui/icons/AccountCircle';\nimport ChatIcon from '@material-ui/icons/Chat';\nimport NotifyIcon from '@material-ui/icons/Notifications'\nimport MapIcon from '@material-ui/icons/Room';\nimport HelpOutlineIcon from '@material-ui/icons/HelpOutline';\n\n// store\nimport { connect } from 'react-redux';\nimport { showMap, showFaq, showChat, showSignIn, setOneMenu } from '../../../../store/actions/menuItems';\nimport { resetMessgeNotification } from '../../../../store/actions/messages';\n\n\nclass MobileFooter extends React.Component {\n\n    //\n    render() {\n        const { ui, menu, chatNotifications, user } = this.props;\n        var footerClass = \"MobileFooter\" + (ui.orientation === \"landscape\" ? \" landscape\" : \"\");\n\n\n\n\n        // const sty = {top: this.props.ui.height-60};\n        if (this.hasFooter()) {\n            return (\n                <div className={footerClass}>\n                    {this.props.user.room === \"gallery\" ? this.getMapButton() : null}\n                    {/* this.getGalleryButton()} */}\n                    {this.getChatButton()}\n                    {this.getFAQButton()}\n                    {this.getSignInButton()}\n                </div>\n            )\n        }\n        return null;\n    }\n\n    goToGallery = () => {\n        if (window.confirm('Go back to main gallery?')) {\n            this.props.history.push(\"/\");\n        }\n    }\n\n    getSignInButton = () => {\n        const { menu } = this.props;\n        ////////// USER CLASS\n        const classUser = \"icon\" + (menu.mobile === \"signIn\" ? \" opened\" : \" closed\");\n        return (\n            <button className={classUser} onClick={() => this.props.setOneMenu(\"signIn\")}><AccountCircleIcon fontSize=\"inherit\" /></button>\n        )\n    }\n\n    getChatButton = () => {\n        const { menu, chatNotifications, user } = this.props;\n        ////////// CHAT CLASS\n        var classChat = \"icon\" + (menu.mobile === \"chat\" ? \" opened\" : \" closed\");\n        if (chatNotifications) classChat += \" notify\";\n        if (user.room !== \"gallery\") {\n            classChat += \" top\";\n        }\n        return (\n            <button className={classChat} onClick={this.chatClicked}><ChatIcon fontSize=\"inherit\" />{this.getChatNotification()}</button>\n        )\n    }\n\n    getFAQButton = () => {\n        const { menu } = this.props;\n        ////////// FAQ CLASS\n        const classFaq = \"icon\" + (menu.mobile === \"faq\" ? \" opened\" : \" closed\");\n        // const classUserIcons = \"expandable icon\" + (this.props.userIconsIsHidden ? \" closed\" : \" opened\");\n\n        return (\n            <button className={classFaq} onClick={() => this.props.setOneMenu(\"faq\")}><HelpOutlineIcon fontSize=\"inherit\" /></button>\n        )\n    }\n\n    getMapButton = () => {\n        const { menu, user } = this.props;\n        ////////// MAP CLASS\n        var classMap = \"icon\";\n        if (user.room === \"gallery\") {\n            classMap += (menu.mobile === \"map\" ? \" opened\" : \" closed\");\n            classMap += \" top\";\n        }\n        else classMap += \" closed disabled\";\n\n        return (\n            <button className={classMap} onClick={() => this.props.setOneMenu(\"map\")}><MapIcon fontSize=\"inherit\" /></button>\n        )\n    }\n\n    getGalleryButton = () => {\n        // const { ui, menu, chatNotifications, user } = this.props;\n        return (\n            <button onClick={this.goToGallery}>\n                <img src={window.AWS + \"/shared/homeicon.png\"}\n                    style={{\n                        height: 30,\n                        width: 30\n                    }}\n                />\n            </button>\n        )\n    }\n\n    hasFooter = () => {\n        const { ui } = this.props;\n        return (ui.isMobile || ui.hasFooter);\n    }\n\n    chatClicked = () => {\n        this.props.resetMessgeNotification();\n        // this.props.setOneMenu(\"chat\");\n        this.props.setOneMenu(\"chat\");\n    }\n\n    getChatNotification = () => {\n        let n = this.props.chatNotifications;\n        if (n) {\n            if (n > 10)\n                return (<div className=\"notification\"><span className=\"badge\"><NotifyIcon /></span></div>);\n            return (<div className=\"notification\"><span className=\"badge\">{n}</span></div>);\n        }\n        return null;\n    }\n\n    getAvatar = () => {\n        const { user } = this.props;\n        if (user) {\n            return (user.avatar);\n        }\n        return (\n            <AccountCircleIcon />\n        );\n    }\n\n}\n\n\n\nconst mapStateToProps = (state) => {\n    return {\n        chatNotifications: state.chatNotifications,\n        ui: state.ui,\n        menu: state.menu\n    }\n}\n\nconst mapDispatchToProps = () => {\n    return {\n        resetMessgeNotification,\n        setOneMenu,\n        showFaq,\n        showSignIn,\n        showChat,\n        showMap\n    }\n}\n\n\nexport default withRouter(connect(mapStateToProps, mapDispatchToProps())(MobileFooter));\n\n","/* eslint-disable no-use-before-define */\nimport React from 'react';\nimport Autocomplete from '@material-ui/lab/Autocomplete';\n\n\nimport { connect } from 'react-redux';\nimport { resetMessgeNotification } from '../../../store/actions/messages';\n\n\n\nclass ComboBox extends React.Component {\n\n  // really I only think this needs to rerender if someone joins/leaves a ROOM\n  // or registers/ connects / disconnects\n\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      // value: null,\n      inputValue: \"\",\n    }\n\n\n    this.initialUsers = [{userName: \"Everyone\", avatar: \"\"}, {userName: \"Room\", avatar: \"\"}];\n\n    // if (this.props.room === \"home\") {\n    //   const wineBot = {};\n    //   const hostBot = {};\n    //   this.initialUsers.push(wineBot);\n    //   this.initialUsers.push(hostBot);\n    // }\n\n\n\n  }\n\n  componentDidUpdate(prevProps) {\n    // console.log(\"setting new chat user\", this.props.userActiveChat);\n    if (prevProps.userActiveChat !== this.props.userActiveChat) {\n      // this.updateAndNotify();\n      var label = \"\";\n      if (this.props.userActiveChat) label = this.getLabel(this.props.userActiveChat);\n      this.setState({inputValue: label});\n      // this.setValue(this.props.userActiveChat);\n    }\n  }\n\n  getInitialUserNames = () => {\n    const names = [];\n    for (const user of this.initialUsers) {\n      names.push(user.userName);\n    }\n    return names;\n  }\n\n  getLabel(user) {\n    if (!user) return \"\";\n    return `${user.avatar} ${user.userName}`;\n  }\n\n  // CHANGES WHEN TYPING INPUT\n  setInputValue = (newInputValue) => {\n    if (newInputValue) {\n      this.setState({inputValue: newInputValue});\n    }\n    else {\n      this.setState({inputValue: \"\"});\n    }\n  }\n\n  getUserListInRoom = () => {\n    var users = this.getInitialUserNames();\n    if (this.props.users) {\n      for (let i = 0; i < this.props.users.length; i++) {\n        const user = {...this.props.users[i]};\n        // don't include winebot with id = 1\n        if (user.room === this.props.room && user.id !== 1) {\n          users.push(this.getLabel(user));\n        }\n      }\n    }\n    return users;\n  }\n\n  getUsersInRoomTrunc = () => {\n    var users = this.initialUsers;\n    if (this.props.users) {\n      for (let i = 0; i < this.props.users.length; i++) {\n        const user = {...this.props.users[i]};\n        if (user.room === this.props.room && user.id !== 1) {\n          users.push({avatar: user.avatar, userName: user.userName});\n        }\n      }\n    }\n    return users;\n  }\n\n  getUsersInRoom = () => {\n    // console.log(\"USERS\", users)\n    var users = this.initialUsers;\n    if (this.props.users) users = [...users, ...this.props.users];\n    let usersInRoom = users.filter((user, i) => {\n      return (i < 10) || (user.room === this.props.room && user.id);\n    })\n    // console.log(\"ROOM USERS\", usersInRoom)\n    return usersInRoom;\n  }\n\n  getUserObjectByListID(listID) {\n    var users = this.initialUsers;\n    if (this.props.users) users = [...users, ...this.props.users];\n    let obj = users.find(user => listID === this.getLabel(user));\n    return obj;\n  }\n\n  // CHANGES WHEN HIT RETURN, CLICK,\n  // I.E. SELECTED FROM LIST\n  setValue = (newValue) => {\n    // this.setState({value: newValue});\n\n    this.props.setRecipient(newValue);\n  }\n\n  render() {\n    // const userList = this.getUserListInRoom();\n    const users = this.getUsersInRoom();\n\n    const {inputValue} = this.state;\n    const {userActiveChat} = this.props;\n\n    let sty = {};\n    if (this.props.w) {\n      sty.width = this.props.w-10;\n    }\n\n    return (\n      \n      <div className=\"AutoComplete\">\n        <Autocomplete\n          id=\"combo-box-demo\"\n          className=\"autocomplete\"\n          value={userActiveChat}\n          onChange={(event, newValue) => {\n            if (newValue) this.setValue(newValue);\n          }}\n          inputValue={inputValue}\n          onInputChange={(event, newInputValue) => {\n            \n            this.setInputValue(newInputValue);\n          }}\n          onFocus={this.props.resetMessgeNotification}\n          options={users}\n          getOptionLabel={(option) => this.getLabel(option)}\n          getOptionSelected={(option, value) => this.getLabel(option) === this.getLabel(value)}\n          fullWidth\n          renderInput={(params) => {\n            // console.log(\"PARAMS\", params);\n            return (\n              <div ref={params.InputProps.ref} >\n                <input className=\"autocomplete-input\" style={sty} type=\"text\" placeholder=\"select user\" {...params.inputProps} />\n              </div>\n            )\n          }}\n          />\n      </div>\n    );\n  }\n}\n\nconst mapStateToProps = (state) => {\n  return {\n  }\n}\n\nconst mapDispatchToProps = () => {\n  return {\n    resetMessgeNotification\n  }\n}\n\n\nexport default connect(mapStateToProps, mapDispatchToProps())(ComboBox);\n","import React from 'react';\n\nclass Messages extends React.Component {\n\n  constructor(props) {\n    super(props);\n\n    this.state = {\n    }\n  }\n\n  componentDidMount() {\n    if (this.props.isMobilie) \n      this.scrollToTop();\n    else \n      this.scrollToBottom();\n  }\n\n  componentDidUpdate() {\n    if (this.props.isMobilie) \n      this.scrollToTop();\n    else \n      this.scrollToBottom();\n  }\n\n  getUserById = (id) => {\n    const users = this.state.users;\n    if (users) return users.find(o => o.id === id);\n    return null;\n  }\n\n  getUserNameById = (id) => {\n    const users = this.state.users;\n    if (users) {\n      let obj = users.find(o => o.id === id);\n      if (obj) return obj.userName;\n    }\n    return \"\";\n  }\n\n  scrollToBottom = () => {\n    if (this.messagesEnd) this.messagesEnd.scrollIntoView({ behavior: \"smooth\", block: \"end\", inline: \"nearest\" });\n  }\n\n  scrollToTop = () => {\n    if (this.messagesStart) this.messagesStart.scrollIntoView({ behavior: \"smooth\", block: \"end\", inline: \"nearest\" });\n  }\n\n  render() {\n    if (this.props.isMobile) {\n      return this.renderMobile();\n    }\n    return this.renderDesktop();\n  }\n\n  renderDesktop() {\n    // const avatar = this.props.avatar;\n    return (\n      <div className=\"Chat-messages-box\">\n        <div className=\"Chat-messages-inner-box\">\n          {this.props.messages.map((message, i) => {\n            let classN = \"chat-from-\" + (message.from===\"me\"?\"me\":\"other\");\n            // console.log(\"MESSAGE\", message);\n            let avatarHidden = message.from===\"me\"?\"hidden\":\"\";\n            let messageToCol = message.to===\"room\"||message.to===\"all\"?\"message-to-red\":\"message-to\";\n            return (\n              <div key={i} className={\"bubbleContainer \" + classN }>\n                <div className={\"avatar\" + \" \" + avatarHidden}>{message.avatar}</div>\n                <div className={\"bubble\"} key={i}>\n                  <div className=\"message-deets\"><span className=\"message-from\">{message.from}</span> <span className={messageToCol}>(to {message.to})</span>:</div>\n                  <div className=\"message-txt\">{message.message}</div>\n                </div>\n\n              </div>\n            )\n          })}\n          <div className=\"dummyText\" style={{ float:\"left\", clear: \"both\" }}\n            ref={(el) => { this.messagesEnd = el; }}>\n          </div>\n        </div>\n      </div>\n    );\n  }\n\n  renderMobile() {\n    // const avatar = this.props.avatar;\n    return (\n      <div className=\"Chat-messages-box\">\n        <div className=\"Chat-messages-inner-box\">\n          <div className=\"dummyText\" style={{ float:\"left\", clear: \"both\" }}\n            ref={(el) => { this.messagesStart = el; }}>\n          </div>\n          {this.props.messages.slice(0).reverse().map((message, i) => {\n            let classN = \"chat-from-\" + (message.from===\"me\"?\"me\":\"other\");\n            // console.log(\"MESSAGE\", message);\n            let avatarHidden = message.from===\"me\"?\"hidden\":\"\";\n            let messageToCol = message.to===\"room\"||message.to===\"all\"?\"message-to-red\":\"message-to\";\n            return (\n              <div key={i} className={\"bubbleContainer \" + classN }>\n                <div className={\"avatar\" + \" \" + avatarHidden}>{message.avatar}</div>\n                <div className={\"bubble\"} key={i}>\n                  <div className=\"message-deets\"><span className=\"message-from\">{message.from}</span> <span className={messageToCol}>(to {message.to})</span>:</div>\n                  <div className=\"message-txt\">{message.message}</div>\n                </div>\n\n              </div>\n            )\n          })}\n          \n        </div>\n      </div>\n    );\n  }\n\n}\n\nexport default Messages;\n","import React from 'react';\n\nfunction Toolbar(props) {\n  return(\n    <div className=\"titlebar menuTheme handle\">\n      <div className=\"buttons\">\n        <div className=\"close circleButton\" onClick={props.toggleClosed}>\n          <div className=\"closebutton\"><div className=\"innerC\"></div></div>\n\n        </div>\n        <div className=\"minimize circleButton\" onClick={props.toggleMinimzed}>\n          <div className=\"minimizebutton\"><div className=\"innerC\"></div></div>\n\n        </div>\n        <div className=\"zoom circleButton\" onClick={props.toggleMaximized}>\n          <div className=\"zoombutton\"><div className=\"innerC\"></div></div>\n\n        </div>\n      </div>\n      <div className=\"titleTxtContainer\">{props.title}</div>\n\n\n    </div>\n  );\n}\n\nexport default Toolbar\n","import React from 'react';\nimport './Frame.css';\nimport Draggable from 'react-draggable';\nimport Toolbar from './Toolbar';\n\nimport PropTypes from 'prop-types';\n\n\nclass Frame extends React.Component {\n  // https://codepen.io/JohJakob/pen/YPxgwo\n  constructor(props) {\n    super(props);\n\n    this.toolBarH = 26;\n\n\n    const { x, y } = this.props;\n    this.origCoords = {\n      x: x,\n      y: y\n    };\n\n    // this.start = this.props.x;\n    this.state = {\n      isVisible: true,\n      isMinimized: false,\n      deltaPosition: {\n        x: 0, y: 0\n      },\n      controlledPosition: {\n        x: x, y: y\n      }\n    }\n\n    this.wrapper = React.createRef();\n  }\n\n  componentDidUpdate(prevProps) {\n    if (this.props.x !== prevProps.x || this.props.y !== prevProps.y) {\n      const dx = this.props.x - prevProps.x;\n      const dy = this.props.y - prevProps.y;\n      const controlledPosition = { ...this.state.controlledPosition }\n      this.setState({ controlledPosition: { x: controlledPosition.x + dx, y: controlledPosition.y + dy } });\n    }\n  }\n\n  onControlledDrag = (e, position) => {\n    const { x, y } = position;\n    this.setState({ controlledPosition: { x, y } });\n    if (this.props.onDrag) this.props.onDrag(position);\n\n  };\n\n  onControlledDragStop = (e, position) => {\n    this.onControlledDrag(e, position);\n    this.onStop();\n  };\n\n  toggleClosed = (e) => {\n    // console.log(\"CLOSE\")\n    this.setState({\n      isVisible: false\n    })\n\n    if (this.props.onHide) this.props.onHide();\n    e.stopPropagation();\n  }\n\n  toggleMinimzed = (e) => {\n    this.setState(prevState => ({\n      isMinimized: !prevState.isMinimized\n    }), () => {\n      if (this.props.onMinimized) this.props.onMinimized();\n    });\n\n    e.stopPropagation();\n  }\n\n  toggleMaximized = (e) => {\n    const controlledPosition = { ...this.state.controlledPosition };\n    controlledPosition.x = this.origCoords.x;\n    controlledPosition.y = this.origCoords.y;\n    console.log(this.origCoords);\n    this.setState({ controlledPosition }, () => {\n      if (this.props.onMaximized) this.props.onMaximized();\n    });\n    e.stopPropagation()\n  }\n\n\n\n  onStart = () => {\n    this.setState({ activeDrags: this.state.activeDrags + 1 });\n    if (this.props.onStart) this.props.onStart();\n  };\n\n  onStop = () => {\n    this.setState({ activeDrags: this.state.activeDrags - 1 });\n    if (this.props.onStop) this.props.onStop();\n  };\n\n  handleStart = () => {\n    if (this.props.newFrameToTop) this.props.newFrameToTop();\n  }\n\n  handleClick = (e) => {\n    if (this.props.newFrameToTop) this.props.newFrameToTop();\n    e.stopPropagation();\n  }\n\n\n  // returnOriginalCoords() {\n  //   // e.preventDefault();\n  //   // e.stopPropagation();\n  //   const {controlledPosition} = this.state;\n  //   const {x, y} = controlledPosition;\n  //   console.log(controlledPosition);\n  //   this.setState({controlledPosition: {x: this.origCoords.x, y: this.origCoords.y}});\n  // }\n\n  render() {\n    const parser = new DOMParser();\n    var title = this.props.title;\n    // const dragHandlers = {onStart: this.onStart, onStop: this.onStop};\n    const { controlledPosition } = this.state;\n    // const cP = {x: controlledPosition.x, y: controlledPosition.y};\n    // cP.x += (this.props.x - this.origCoords.x);\n    // cP.y += (this.props.y - this.origCoords.y);\n\n    if (title === \"\") {\n      const parsedString = parser.parseFromString(this.props.icon, 'text/html');\n      title = parsedString.body.innerHTML;\n    }\n\n    var classn = \"Frame\";\n    if (this.props.isHidden == null && !this.state.isVisible) {\n      classn += \" hidden\";\n    }\n    else if (this.props.isHidden) {\n      classn += \" hidden\";\n    }\n    else if (this.props.isMinimized | this.state.isMinimized) {\n      classn += \" minimized\";\n    }\n\n    if (this.state.isMaximized) {\n      classn += \" maximized\";\n    }\n\n    if (this.props.className) classn += \" \" + this.props.className;\n\n\n    var contentVisibility = {\n      display: this.state.isMinimized ? \"none\" : \"block\",\n      height: this.props.height,\n      width: this.props.width\n    }\n\n    //https://github.com/STRML/react-draggable\n\n    // position = {...} makes it have a specific location. when you want direct control.\n    // let pos = this.state.controlledPosition;\n    // let off = this.props.dx ? {x: this.props.dx, y: this.props.dy}: null;\n    let frameH = this.toolBarH + (this.state.isMinimized ? 0 : this.props.height);\n    // so if we make pos null, it stays where it is dragged to\n    // however, it doesn't update when the page width / height changes\n    // if we let pos be equal to props.px/ props.py, it changes location\n\n    const bounds = this.props.bounded ? \".App-Content\" : null;\n    const frameStyle = { width: Math.floor(this.props.width) + 2, zIndex: this.props.z ? this.props.z : 0 };\n    if (frameH)\n      frameStyle.height = Math.floor(frameH);\n    return (\n\n      <Draggable\n        axis=\"both\"\n        handle={this.props.handle ? \".handle, \" + this.props.handle : \".handle\"}\n        defaultPosition={{ x: this.props.x, y: this.props.y }}\n        position={controlledPosition}\n        positionOffset={null}\n        grid={[1, 1]}\n        scale={1}\n        bounds={bounds}\n        cancel=\".close, .minimize, .zoom\"\n        onStart={this.handleStart}\n        onDrag={this.onControlledDrag}\n        onStop={this.handleStop}\n        nodeRef={this.wrapper}\n      >\n        <div ref={this.wrapper} onClick={this.handleClick} className={classn} style={frameStyle} >\n          <div className={this.props.window ? \"window \" + this.props.window : \"window\"} style={this.props.windowStyle}>\n            <Toolbar title={this.props.title} toggleClosed={this.toggleClosed} toggleMinimzed={this.toggleMinimzed} toggleMaximized={this.toggleMaximized} />\n            <div className=\"content\" style={contentVisibility}>\n              {this.props.content}\n            </div>\n          </div>\n        </div>\n      </Draggable>\n\n    );\n  }\n\n  closeFrame() {\n\n  }\n}\n\nFrame.propTypes = {\n  name: PropTypes.string,\n  title: PropTypes.string,\n  icon: PropTypes.string,\n  className: PropTypes.string,\n  handle: PropTypes.string,\n  window: PropTypes.string,\n  bounded: PropTypes.bool,\n\n  windowStyle: PropTypes.object,\n\n  x: PropTypes.number.isRequired,\n  y: PropTypes.number.isRequired,\n  z: PropTypes.number,\n  height: PropTypes.number,\n  width: PropTypes.number.isRequired,\n  content: PropTypes.node.isRequired,\n\n\n  isHidden: PropTypes.bool,\n  isMinimized: PropTypes.bool,\n\n  onDrag: PropTypes.func,\n  onHide: PropTypes.func,\n  onMinimized: PropTypes.func,\n  onMaximized: PropTypes.func,\n  onStart: PropTypes.func,\n  onStop: PropTypes.func,\n  newFrameToTop: PropTypes.func,\n};\n\nexport default Frame\n","const padding = 15;\n// const heading = 60; // top header\n// const barBot = 60; // mobile footer / landscape menu\nconst minW = 540;\nconst minH = 400;\nconst borderW = 2;\nconst buffer = 40;\n\nexport function getCenterModalDim(ui, isRelative) {\n    \n\n    if (getWidthTooSmall(ui) || getHeightTooSmall(ui)) {\n        if (ui.orientation === \"portrait\")\n            return getPortraitSmall(ui, isRelative);\n        return getLandscapeSmall(ui, isRelative);\n    }\n\n    else {\n        const { contentW, contentH, toolbarH, headerH} = ui;\n\n        let w = minW;\n        let h = minH;\n        let y = (contentH - h - toolbarH) / 2;\n        if (!isRelative)\n            y += headerH;\n\n        // if (width < 600) {\n        //     w = width - padding * 2;\n        //     h = height - padding * 2 - headerH - barBot - heading;\n        //     let y = padding; // + heading;\n        //     if (!isRelative)\n        //         y += heading;\n        // }\n        // else if (height < 400) {\n        //     w = 540;\n        //     h = height - padding * 2 - headerH - barBot;\n        //     let y = padding; // + heading;\n        //     if (!isRelative)\n        //         y += heading;\n        // }\n\n        let x = (contentW - w) / 2 - borderW;\n        return { w, h, x, y };\n        // console.log(w, h, x, y);\n    }\n    \n\n// return {w: 100, h: 100, x: 100, y: 100}\n}\n\n\nfunction getWidthTooSmall(ui) {\n    const {contentW} = ui;\n    return contentW < minW + padding * 2+buffer;\n}\n\nfunction getHeightTooSmall(ui) {\n    const {toolbarH, contentH} = ui;\n    return contentH < minH + padding * 2 + toolbarH + buffer;\n}\n\n\nfunction getLandscapeSmall(ui, isRelative) {\n    const {toolbarH, contentW, contentH, headerH} = ui;\n    const w = contentW - padding * 2; // 60 = width of menu on left\n    const h = contentH - padding - toolbarH;\n    // const x = barBot + padding;\n    const x = padding;\n    let y = padding/2;\n    if (!isRelative)\n        y += headerH;\n    return { w, h, x, y };\n    // console.log(x, y, x, h);\n    // return {w: 200, h: 100, x: 300, y: 300};\n}\n\nfunction getPortraitSmall(ui, isRelative) {\n    const {toolbarH, contentW, contentH, headerH} = ui;\n    const w = contentW - padding * 2 ; // 60 = width of menu on left\n    const h = contentH - padding * 2 - toolbarH;\n    const x = padding - borderW;\n    let y = padding; // + heading;\n    if (!isRelative)\n        y += headerH;\n    return { w, h, x, y };\n    // return {w: 200, h: 100, x: 300, y: 300};\n}","import React, { MouseEvent } from 'react';\nimport Frame from '../Frame/Frame';\nimport './CenterModal.css';\nimport { getCenterModalDim } from './Helper';\n\ninterface CenterModalProps {\n  title: string,\n  classN: string,\n  content: JSX.Element,\n  buttons: JSX.Element,\n  width: number,\n  height: number,\n  isHidden: boolean,\n  z: number,\n  ui: any,\n  isRelative: boolean,\n  onHide(): any\n}\n\n\nexport default function CenterModal({ title, classN, ui, z, height, width, isHidden, content, buttons, isRelative, onHide }: CenterModalProps) {\n\n\n  let { w, h, x, y } = getCenterModalDim(ui, isRelative);\n\n  if (height && width) {\n    h = Math.min(h, height);\n    w = Math.min(w, width);\n    y = (ui.contentH - h - ui.toolbarH) / 2;\n    if (!isRelative)\n      y += ui.headerH;\n    x = (ui.contentW - w) / 2;\n  }\n  const classT = (!isHidden ? \" GrayedOut\" : \"\");\n\n\n  // const handleMouse = (e: MouseEvent) => {\n  //   e.stopPropagation();\n  // }\n\n  const handleDoubleClick = (e: MouseEvent) => {\n    e.stopPropagation();\n  }\n\n  return (\n    <React.Fragment>\n      <div className={classT} onDoubleClick={handleDoubleClick} style={{ visibility: (isHidden ? \"hidden\" : \"visible\"), zIndex: z }} />\n      <Frame title={title} isHidden={isHidden} bounded={true} onHide={onHide} windowStyle={{ background: \"white\" }} content={\n        <div className={classN + \" CenterModal SignInForm\"} style={{ width: w, height: h }}>\n          <div className=\"CenterModal-Container\" style={{ padding: 20, width: w - 40, height: h - 40 }}>\n            {content}\n            {buttons}\n          </div>\n        </div>\n      }\n        width={w} height={h} x={x} y={y} z={z + 1}\n      />\n    </React.Fragment>\n  );\n\n\n}\n","// import p5 from \"p5\";\n\nconst sc = 70;\nexport const globalConfig = {\n    scaler: sc,\n    minX: 0,\n    maxX: 27,\n    minY: 5,\n    maxY: 27,\n    x: -15,\n    y: -35,\n    stepS: sc\n}\n\nexport const roomConfig = {\n    w: 5,\n    h: 5,\n    start: .1,\n    end: .8\n}\nexport const p5ToWorldCoords = (x, y) => {\n    let xx = (x) * globalConfig.scaler;\n    let yy = (y) * globalConfig.scaler;\n    return { x: xx, y: yy }\n}\n\nexport const p5ToDomCoords = (x, y) => {\n    let xx = (x + globalConfig.x) * globalConfig.scaler;\n    let yy = (y + globalConfig.y) * globalConfig.scaler;\n\n    \n    return { x: xx, y: yy }\n}\n\nexport const mouseToWorld = (userEase, p5) => {\n    let x = p5.mouseX - p5.windowWidth/2;\n    let y = p5.mouseY - p5.windowHeight/2;\n\n    const worldUser = domCoordsToP5World(userEase.x, userEase.y);\n    x += worldUser.x;\n    y += worldUser.y;\n    return {x, y};\n}\n\nexport const domCoordsToP5 = (x, y) => {\n    let xx = x / globalConfig.scaler - globalConfig.x;\n    let yy = y / globalConfig.scaler - globalConfig.y;\n    return { x: xx, y: yy }\n}\n\nexport const domCoordsToP5World = (x, y) => {\n    let p = domCoordsToP5(x, y);\n    let xx = p.x* globalConfig.scaler;\n    let yy = p.y * globalConfig.scaler;\n    return { x: xx, y: yy }\n}\n\n\n\n\nlet xMin = -10;\nlet xMax = 35;\nlet yMin = -3;\nlet yMax = 42;\nexport const limits = [\n    { x: xMin, y: yMin }, // outer limit\n    { x: xMax, y: yMin },\n    { x: xMax, y: yMax },\n    { x: xMin, y: yMax },\n    { x: xMin, y: yMin }\n];\n\nlet startX = limits[0].x;\nlet startY = 22;\nexport const pools = [\n    { x: startX, y: startY },\n    { x: startX + 5, y: startY + 5 },\n    { x: startX + 10, y: startY + 10 },\n];\nexport const poolSpace = 1;//.5;\n\nexport const limitsDiv = [\n    p5ToDomCoords(limits[0].x, limits[0].y),\n    p5ToDomCoords(limits[1].x, limits[1].y),\n    p5ToDomCoords(limits[2].x, limits[2].y)\n];\n\n\n///// doors\nexport const outsideDoors = [\n    { x0: 22.5, y0: 5, x1: 24, y1: 5, to: \"outside\" }, // top\n    { x0: 0, y0: 8.5, x1: 0, y1: 10, to: \"outside\" }, // left\n    { x0: 14, y0: 27, x1: 16, y1: 27, to: \"outside\" }, // bottom\n    { x0: 22.5, y0: 15, x1: 24, y1: 15, to: \"outside\" }, // right\n];\nconst outsideDoorFramesInit = [];\nfor (const door of outsideDoors) {\n    outsideDoorFramesInit.push(p5ToDomCoords((door.x0 + door.x1) / 2, (door.y0 + door.y1) / 2));\n}\nexport const outsideDoorFrames = outsideDoorFramesInit;\n\n\n///// lights\nexport const lightsOG = [\n    {x: 22.5, y: 7},\n    {x: 8, y: 15},\n    {x: 13, y: 20}\n]\nexport const lights = [\n    p5ToDomCoords(lightsOG[0].x, lightsOG[0].y),\n    p5ToDomCoords(lightsOG[1].x, lightsOG[1].y),\n    p5ToDomCoords(lightsOG[2].x, lightsOG[2].y),\n    p5ToDomCoords(13, 20),\n    p5ToDomCoords(7, 13)\n];\n\n\n//// wine\nconst cheeseBot = p5ToDomCoords(-8, 5); // cheese\nconst wineBot1 = p5ToDomCoords(30, 19);\nconst cocktailBot = p5ToDomCoords(32, 0);\nexport const wineLocation = [{ x: cheeseBot.x, y: cheeseBot.y, w: 80, h: 250, flipped:true }, { x: wineBot1.x, y: wineBot1.y, w: 80, h: 150, flipped: false }, { x: cocktailBot.x, y: cocktailBot.y, w: 80, h: 150, flipped:false }];\n\n\n//// dance dance dance\nconst danceFloorP5 = { x: 24-3, y: -1, w: 10, h: 5 };\nexport const danceFloor = { x: globalConfig.scaler * danceFloorP5.x, y: globalConfig.scaler * danceFloorP5.y, w: globalConfig.scaler * danceFloorP5.w, h: globalConfig.scaler * danceFloorP5.h };\nexport const djLocation = p5ToDomCoords(danceFloorP5.x + 3.5, danceFloorP5.y-1);\nexport const hostBotLocation = p5ToDomCoords(15, 20);\n\nexport const ok = {};","export const SETUSERROOM = 'SETUSERROOM';\nexport const SETUSER = 'SETUSER';\nexport const MOVEUSER = 'MOVEUSER';\nexport const MOVEUSERROOM = 'MOVEUSERROOM';\nexport const REGISTERUSER = 'REGISTERUSER';\n\nexport const SETUSERCOMP = 'SETUSERCOMP';\nexport const REMOVEUSERCOMP = 'REMOVEUSERCOMP';\n\nexport const ADDWINE = 'ADDWINE';\nexport const SETWINE = 'SETWINE';\nexport const RESETWINE = 'RESETWINE';\nexport const ADDCHEESE = 'ADDCHEESE';\nexport const SETCHEESE = 'SETCHEESE';\nexport const RESETCHEESE = 'RESETCHEESE';\nexport const ADDCOCKTAIL = 'ADDCOCKTAIL';\nexport const SETCOCKTAIL = 'SETCOCKTAIL';\nexport const RESETCOCKTAIL = 'RESETCOCKTAIL';\n\nexport const TOGGLEOUTSIDE = 'TOGGLEOUTSIDE';\n\n\n\nexport const setUser = (userName, avatar) => {\n  return {\n    type: SETUSER,\n    payload: {avatar, userName}\n  }\n}\n\nexport const setUserRoom = (room) => {\n  return {\n    type: SETUSERROOM,\n    payload: {room}\n  }\n}\n\nexport const setUserComp = (comp) => {\n  return {\n    type: SETUSERCOMP,\n    payload: {comp}\n  }\n}\n\nexport const removeUserComp = () => {\n  return {\n    type: REMOVEUSERCOMP\n  }\n}\n\nexport const moveUser = (x, y, wineLocation) => {\n  return {\n    type: MOVEUSER,\n    payload: {x, y, wineLocation}\n  }\n}\n\nexport const moveUserRoom = (x, y) => {\n  return {\n    type: MOVEUSERROOM,\n    payload: {x, y}\n  }\n}\n\nexport const registerUser = (userName, avatar) => {\n  return {\n    type: REGISTERUSER,\n    payload: {userName, avatar}\n  }\n}\n\n\nexport const addWine = (location) => {\n  return {\n    type: ADDWINE,\n    payload: {location}\n  }\n}\n\nexport const setWine = (needsWine, hasWine) => {\n  return {\n    type: SETWINE,\n    payload: {needsWine, hasWine}\n  }\n}\n\nexport const resetWine = () => {\n  return {\n    type: RESETWINE\n  }\n}\n\nexport const addCheese = (location) => {\n  return {\n    type: ADDCHEESE,\n    payload: {location}\n  }\n}\n\nexport const setCheese = (needsCheese, hasCheese) => {\n  return {\n    type: SETCHEESE,\n    payload: {needsCheese, hasCheese}\n  }\n}\n\nexport const resetCheese = () => {\n  return {\n    type: RESETCHEESE\n  }\n}\n\nexport const addCocktail = (location) => {\n  return {\n    type: ADDCOCKTAIL,\n    payload: {location}\n  }\n}\n\nexport const setCocktail = (needsCocktail, hasCocktail) => {\n  return {\n    type: SETCOCKTAIL,\n    payload: {needsCocktail, hasCocktail}\n  }\n}\n\nexport const resetCocktail = () => {\n  return {\n    type: RESETCOCKTAIL\n  }\n}\n\nexport const toggleOutside = () => {\n  return {\n    type: TOGGLEOUTSIDE\n  }\n}","export const SETUSERACTIVECHAT = 'SETUSERACTIVECHAT';\nexport const SETUSERHOVERCHAT = 'SETUSERHOVERCHAT';\nexport const USERHOVERCHATLEAVE = 'USERHOVERCHATLEAVE';\n\nexport const userHoverChatLeave = () => {\n  return {\n    type: USERHOVERCHATLEAVE\n  }\n}\n\nexport const setUserActiveChat = (user) => {\n  return {\n    type: SETUSERACTIVECHAT,\n    payload: {user}\n  }\n}\n\nexport const setUserHoverChat = (user) => {\n  return {\n    type: SETUSERACTIVECHAT,\n    payload: {user}\n  }\n}\n","import React from 'react';\nimport ComboBox from './ComboBox';\nimport Messages from './Messages';\n// import Icon from '@material-ui/core/Icon';\n// import IconButton from '@material-ui/core/IconButton';\nimport SendIcon from '@material-ui/icons/Send';\nimport Frame from '../Frame/Frame';\nimport CenterModal from '../CenterModal/CenterModal';\nimport { getCenterModalDim } from '../CenterModal/Helper';\n\nimport './Chat.css';\nimport './ChatMobile.css';\n\nimport socket from \"../Socket/Socket\";\n\nimport { connect } from 'react-redux';\nimport { setOneMenu, hideChat, toggleChat } from '../../../store/actions/menuItems';\nimport { addMessage, resetMessgeNotification } from '../../../store/actions/messages';\nimport { addWine, addCocktail, addCheese } from '../../../store/actions/user';\nimport { setUserActiveChat } from '../../../store/actions/userActiveChat';\nimport { setRandomSong, setSong } from '../../../store/actions/music';\n\nimport { wineLocation } from '../../sketches/Gallery/constants';\n\nclass Chat extends React.Component {\n\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      textBox: \"\",\n      // currentRecipient: null,\n      userHover: null,\n      buttonDisabled: true,\n      wineBotJustAsked: false,\n      cheeseBotJustAsked: false,\n      cocktailBotJustAsked: false,\n      hostBotJustAsked: false,\n      djJustAsked: 0\n    }\n    this.textInput = React.createRef();\n  }\n\n\n\n  handleTextBoxChange = (event) => {\n    const textBox = event.target.value;\n    // const recip = this.state.currentRecipient;\n    const { userActiveChat } = this.props;\n    if (userActiveChat && textBox !== \"\") {\n      this.setState({ textBox, buttonDisabled: false });\n    }\n    else {\n      this.setState({ textBox, buttonDisabled: true });\n    }\n  };\n\n  setRecipient = (user) => {\n    const textBox = this.state.textBox;\n    if (user && textBox !== \"\") {\n      // this.setState({currentRecipient: user, buttonDisabled: false});\n      this.setState({ buttonDisabled: false });\n      this.props.setUserActiveChat(user);\n    }\n    else {\n      this.setState({ buttonDisabled: true });\n      this.props.setUserActiveChat(user);\n    }\n  }\n\n  sendToOne = (txt, socketId) => {\n    // console.log(\"send to one\", socketId, \"msg:\", txt);\n    const { userActiveChat } = this.props;\n    const message = { socketId: socketId, message: txt, time: new Date(), avatar: this.props.user.avatar };\n    if (socket.connected) socket.emit('messageUser', message); //sending to individual socketid\n    this.props.addMessage({ from: \"me\", to: userActiveChat.userName, message: txt, time: new Date() });\n  }\n\n  sendToRoom = (txt) => {\n    // console.log(\"send to room \", this.props.room)\n    const message = { room: this.props.room, message: txt, time: new Date(), avatar: this.props.user.avatar };\n    if (socket.connected) socket.emit('messageRoom', message);\n    this.props.addMessage({ to: \"room\", from: \"me\", message: txt, time: new Date() });\n  }\n\n  sendToAll = (txt) => {\n    // console.log(\"send to all\");\n    const message = { message: txt, room: this.props.room, time: new Date(), avatar: this.props.user.avatar };\n    if (socket.connected) socket.emit('messageAll', message);\n    this.props.addMessage({ to: \"all\", from: \"me\", message: txt, time: new Date() });\n  }\n\n  // u: \"hello?\"\n  // wb: \"hi, would you like some wine? Y/N.\"\n  // u: \"yes\"\n  // wb: \"enjoy!\"\n  // u: \"what are you?\"\n  // wb: \"hi, would you like some wine? I only understand yes and no.\"\n\n  sendToHostBot = (txt) => {\n    const message = { to: \"hostBot\", from: \"me\", message: txt, time: new Date() };\n    // console.log(\"MESSAGE\", message);\n    this.props.addMessage(message);\n    setTimeout(() => this.hostBotRespond(txt), 1000);\n  }\n\n  sendToCocktailBot = (txt) => {\n    const message = { to: \"cocktailBot\", from: \"me\", message: txt, time: new Date() };\n    // console.log(\"MESSAGE\", message);\n    this.props.addMessage(message);\n    setTimeout(() => this.cocktailBotRespond(txt), 1000);\n  }\n\n  sendToCheeseBot = (txt) => {\n    const message = { to: \"cheeseBot\", from: \"me\", message: txt, time: new Date() };\n    // console.log(\"MESSAGE\", message);\n    this.props.addMessage(message);\n    setTimeout(() => this.cheeseBotRespond(txt), 1000);\n  }\n\n  sendToWineBot = (txt) => {\n    const message = { to: \"wineBot\", from: \"me\", message: txt, time: new Date() };\n    // console.log(\"MESSAGE\", message);\n    this.props.addMessage(message);\n    setTimeout(() => this.wineBotRespond(txt), 1000);\n  }\n\n  sendToDJ = (txt) => {\n    const message = { to: \"DJ\", from: \"me\", message: txt, time: new Date() };\n    this.props.addMessage(message);\n    setTimeout(() => this.djRespond(txt), 1000);\n  }\n\n  wineBotRespond = (txt) => {\n    // console.log(\"winebot responding!\");\n    const wineBotJustAsked = this.state.wineBotJustAsked;\n    const { userActiveChat } = this.props;\n    if (!wineBotJustAsked) {\n      const phrase = \"hi, would you like some wine? Y/N.\";\n      this.props.addMessage({ to: \"me\", from: \"wineBot\", message: phrase, time: new Date(), avatar: userActiveChat.avatar });\n      this.setState({ wineBotJustAsked: true });\n    }\n    else {\n      const lc = txt.toLowerCase();\n      let phrase = \"\";\n      if (lc === \"y\" || lc.indexOf(\"yes\") > -1) {\n        phrase = \"Stop by the bar to pick up your glass.\";\n        this.props.addWine(wineLocation[1]);\n      }\n      else {\n        phrase = \"Cool, I don't drink either.\";\n      }\n      this.props.addMessage({ to: \"me\", from: \"wineBot\", message: phrase, time: new Date(), avatar: userActiveChat.avatar });\n      this.setState({ wineBotJustAsked: false });\n    }\n  }\n\n  hostBotRespond = (txt) => {\n    // console.log(\"winebot responding!\");\n    const hostBotJustAsked = this.state.hostBotJustAsked;\n    const { userActiveChat } = this.props;\n    if (!hostBotJustAsked) {\n      const phrase = \"hi, welcome to Jenna's MFA thesis show, Losing My Dimension!\";\n      this.props.addMessage({ to: \"me\", from: \"hostBot\", message: phrase, time: new Date(), avatar: userActiveChat.avatar });\n      this.setState({ hostBotJustAsked: true });\n    }\n    else {\n      let phrase = \"Have you found the live stream or Zoom? If not, check the top menu bar to toggle the live stream!\";\n      this.props.addMessage({ to: \"me\", from: \"hostBot\", message: phrase, time: new Date(), avatar: userActiveChat.avatar });\n      this.setState({ hostBotJustAsked: false });\n    }\n  }\n\n  cocktailBotRespond = (txt) => {\n    // console.log(\"winebot responding!\");\n    const cocktailBotJustAsked = this.state.cocktailBotJustAsked;\n    const { userActiveChat } = this.props;\n    if (!cocktailBotJustAsked) {\n      const phrase = \"hi, would you like a martini? Y/N.\";\n      this.props.addMessage({ to: \"me\", from: \"cocktailBot\", message: phrase, time: new Date(), avatar: userActiveChat.avatar });\n      this.setState({ cocktailBotJustAsked: true });\n    }\n    else {\n      const lc = txt.toLowerCase();\n      let phrase = \"\";\n      if (lc === \"y\" || lc.indexOf(\"yes\") > -1) {\n        phrase = \"Stop by the bar to pick up your glass.\";\n        this.props.addCocktail(wineLocation[2]);\n      }\n      else {\n        phrase = \"Cool, I don't drink either.\";\n      }\n      this.props.addMessage({ to: \"me\", from: \"cocktailBot\", message: phrase, time: new Date(), avatar: userActiveChat.avatar });\n      this.setState({ cocktailBotJustAsked: false });\n    }\n  }\n\n  cheeseBotRespond = (txt) => {\n    const cheeseBotJustAsked = this.state.cheeseBotJustAsked;\n    const { userActiveChat } = this.props;\n    if (!cheeseBotJustAsked) {\n      const phrase = \"hi, would you like some cheese and bread? Y/N.\";\n      this.props.addMessage({ to: \"me\", from: \"cheeseBot\", message: phrase, time: new Date(), avatar: userActiveChat.avatar });\n      this.setState({ cheeseBotJustAsked: true });\n    }\n    else {\n      const lc = txt.toLowerCase();\n      let phrase = \"\";\n      if (lc === \"y\" || lc.indexOf(\"yes\") > -1) {\n        phrase = \"Come by the cheese bar to pick up your snack! And please don't feed the ducks!\";\n        this.props.addCheese(wineLocation[0]);\n      }\n      else {\n        phrase = \"ok\";\n      }\n      this.props.addMessage({ to: \"me\", from: \"cheeseBot\", message: phrase, time: new Date(), avatar: userActiveChat.avatar });\n      this.setState({ cheeseBotJustAsked: false });\n    }\n  }\n\n  djRespond = (txt) => {\n    const djJustAsked = this.state.djJustAsked;\n    const { userActiveChat, user } = this.props;\n    let phrase = \"\";\n    if (djJustAsked === 0) {\n      const phrase = \"hi! would you like pick a song? Y/N.\";\n      this.props.addMessage({ to: \"me\", from: \"DJ\", message: phrase, time: new Date(), avatar: userActiveChat.avatar });\n      this.setState({ djJustAsked: 1 });\n    }\n    else if (djJustAsked === 1) {\n      const lc = txt.toLowerCase();\n      phrase = \"\";\n\n      if (user.comp !== null) {\n        phrase = \"Sorry, Jenna has disabled audio at The Front!\";\n        this.setState({ djJustAsked: 0 });\n      }\n      else if (lc === \"y\" || lc.indexOf(\"yes\") > -1) {\n        phrase = \"Type 1 to get funky, 2 for something jazzy, or 3 for a surprise\";\n        this.setState({ djJustAsked: 2 });\n      }\n      else {\n        phrase = \"Ok, I'll keep spinning.\";\n        this.setState({ djJustAsked: 0 });\n      }\n      this.props.addMessage({ to: \"me\", from: \"DJ\", message: phrase, time: new Date(), avatar: userActiveChat.avatar });\n    }\n    else {\n      if (txt == 1 || txt == 2) {\n        phrase = \"good pick.\";\n        this.props.setSong(txt);\n\n      }\n      else if (txt == 3) {\n        phrase = \"good pick.\";\n        this.props.setRandomSong();\n      }\n      else {\n        phrase = \"sorry, I'm a man of simple integers.\";\n      }\n      this.props.addMessage({ to: \"me\", from: \"DJ\", message: phrase, time: new Date(), avatar: userActiveChat.avatar });\n      this.setState({ djJustAsked: 0 });\n    }\n  }\n\n  onSubmit = () => {\n    if (this.state.textBox === \"\") return;\n\n    const { userActiveChat } = this.props;\n    if (userActiveChat) {\n      this.sendMessage(this.state.textBox);\n      this.setState({ textBox: \"\", buttonDisabled: true });\n    }\n    else {\n      alert(\"please select recipient\");\n    }\n  }\n\n\n  handleKeyDown = (e) => {\n\n    if (e.key === 'Enter') {\n      this.onSubmit();\n    }\n  }\n\n\n  sendMessage = (message) => {\n    // const {currentRecipient} = this.state;\n    const { userActiveChat } = this.props;\n    if (message && userActiveChat) {\n      if (userActiveChat.userName === \"Everyone\") {\n        this.sendToAll(message);\n      }\n      else if (userActiveChat.userName === \"Room\") {\n        this.sendToRoom(message);\n      }\n      else if (userActiveChat.userName === \"wineBot\") {\n        this.sendToWineBot(message);\n      }\n      else if (userActiveChat.userName === \"cocktailBot\") {\n        this.sendToCocktailBot(message);\n      }\n      else if (userActiveChat.userName === \"cheeseBot\") {\n        this.sendToCheeseBot(message);\n      }\n      else if (userActiveChat.userName === \"DJ\") {\n        this.sendToDJ(message);\n      }\n      else if (userActiveChat.userName === \"hostBot\") {\n        this.sendToHostBot(message);\n      }\n      else {\n        this.sendToOne(message, userActiveChat.id);\n      }\n    }\n  }\n\n  setUserHover = (user) => {\n    this.setState({ userHover: user })\n  }\n\n  setUserHoverLeave = () => {\n    this.setState({ userHover: null })\n  }\n\n  render() {\n    const { ui } = this.props;\n    // console.log(menu)\n    if (ui.isMobile || ui.hasFooter) {\n      return this.getMobileFrame();\n    }\n    return this.getFrame();\n    // return (\n    //   <React.Fragment>\n    //   {this.getMobileFrame()}\n    //   {this.getFrame()}\n    //   </React.Fragment>\n    // )\n  }\n\n  onHide = () => {\n    this.props.hideChat();\n    this.props.setOneMenu();\n  }\n\n  getMobileFrame = () => {\n    const { w, h } = getCenterModalDim(this.props.ui, false);\n    return (\n      <CenterModal\n        title=\"chat\"\n        z={1000}\n        isHidden={this.props.menu.mobile !== \"chat\"}\n        onHide={this.onHide}\n        ui={this.props.ui}\n        isRelative={false}\n        classN=\"ChatMobile\"\n        content={this.getMobileContent(w, h)}\n        buttons={this.getMobileButtons()}\n      />\n    );\n  }\n\n  getIsHidden = (props) => {\n    const { ui, menu } = props;\n\n    if (ui.isMobile || ui.hasFooter) {\n      return menu.mobile !== \"chat\";\n    }\n    return menu.isChatHidden;\n  }\n\n  getMobileContent = (w, h) => {\n    const inputW = w - 60 - 40 - 20;\n    return (\n      <div className=\"Chat-messages\" style={{ display: \"flex\", flexDirection: \"column\", height: h }}>\n        <div className=\"Chat-form\">\n          <div className=\"to-form\">\n            <div className=\"to-div\">To: </div>\n            <ComboBox {...this.props} setRecipient={this.setRecipient} w={w - 40 - 40} />\n          </div>\n          <div className=\"Chat-send\">\n            <div className=\"Chat-send-item margR\">\n              <input\n                label=\"\"\n                id=\"margin-dense\"\n                className={\"standardInput form-item\"}\n                placeholder=\"enter message\"\n                value={this.state.textBox}\n                onChange={this.handleTextBoxChange}\n                onFocus={this.props.resetMessgeNotification}\n                onKeyDown={this.handleKeyDown}\n                style={{ width: inputW }}\n              />\n            </div>\n            <div className=\"Chat-send-item\"><button className=\"sendButton\" disabled={this.state.buttonDisabled} onClick={this.onSubmit}><SendIcon disabled={this.state.buttonDisabled} /></button></div>\n          </div>\n\n        </div>\n        {/* <button className=\"sendButton standardButton primary\">send</button> */}\n        <Messages isMobile={true} messages={this.props.messages} addUserMessage={this.props.addMessage} />\n\n      </div>\n    );\n  }\n\n  getMobileButtons = () => {\n    return (\n      // null\n      <div className=\"center-buttons chat-buttons\">\n        <button className=\"standardButton primary\" onClick={this.onHide}>close</button>\n        {/* <button className=\"standardButton primary\" disabled={this.state.buttonDisabled} onClick={this.onSubmit}>send</button> */}\n      </div>\n    )\n  }\n\n  getFrame = () => {\n    const { ui, menu } = this.props;\n    var users = [];\n    if (this.props.users) {\n      users = this.props.users;\n    }\n    const { userHover } = this.state;\n\n    // headerH+bufferH*2+cbarH + usersH\n\n    const frW = 300;\n\n    let minY = ui.edgeSpacing * 2 + ui.toolbarH + 120;\n    const h = Math.min(ui.contentH - minY - ui.toolbarH, 800);\n    const y = ui.height - h - ui.edgeSpacing - ui.toolbarH;\n\n    return (\n      <Frame title=\"chat\" bounded={true} isHidden={menu.isChatHidden} onHide={this.props.hideChat} windowStyle={{ background: \"rgba(0, 0, 0, .9)\" }} content={\n\n        <div className=\"Chat\">\n\n          <div className=\"Chat-messages\" style={{ display: \"flex\", flexDirection: \"column\", height: h }}>\n            <Messages isMobile={false} messages={this.props.messages} addUserMessage={this.props.addMessage} />\n            <div className=\"Chat-form\">\n              <div className=\"to-form\">\n                <div className=\"to-div\">To: </div>\n                <ComboBox {...this.props} setRecipient={this.setRecipient} />\n              </div>\n              <div className=\"Chat-send\">\n                <div className=\"Chat-send-item\">\n                  <input\n                    label=\"\"\n                    id=\"margin-dense\"\n                    className={\"standardInputWhite form-item\"}\n                    placeholder=\"type message here\"\n                    value={this.state.textBox}\n                    onChange={this.handleTextBoxChange}\n                    onFocus={this.props.resetMessgeNotification}\n                    onKeyDown={this.handleKeyDown}\n                    ref={(input) => { this.textInput = input; }}\n                  />\n                </div>\n                {/* <button className=\"standardButton form-item blueOutline\" disabled={this.state.buttonDisabled} onClick={this.onSubmit}><SendIcon disabled={this.state.buttonDisabled} /></button>*/}\n              </div>\n            </div>\n\n          </div>\n        </div>\n      }\n        width={frW} height={h} x={ui.width - frW - ui.edgeSpacing} y={y} z={1000}\n      />\n    );\n  }\n\n  //   componentDidUpdate(prevProps, prevState) {\n  //     if (this.getIsHidden(prevProps) && !this.getIsHidden(this.props)) {\n  //       // console.log(\"FOCUS\", this.textInput)\n  //       // if (this.textInput) \n  //         // this.textInput.focus();\n  //       // else\n  //       //   console.log(\"nope\")\n  //     }\n  //   }\n\n}\n\n\nconst mapStateToProps = (state) => {\n  return {\n    user: state.user,\n    room: state.user.room,\n    messages: state.messages,\n    userActiveChat: state.userActiveChat,\n    userHoverChat: state.userHoverChat,\n    ui: state.ui,\n    menu: state.menu\n  }\n}\n\nconst mapDispatchToProps = () => {\n  return {\n    hideChat,\n    toggleChat,\n    addWine,\n    addCocktail,\n    addCheese,\n    addMessage,\n    setUserActiveChat,\n    resetMessgeNotification,\n    setSong,\n    setRandomSong,\n    setOneMenu\n  }\n}\n\n\nexport default connect(mapStateToProps, mapDispatchToProps())(Chat);\n","\nimport React from 'react';\nimport './LiveStream.css';\nimport Frame from '../Frame/Frame';\n\nimport { connect } from 'react-redux';\nimport { hideLiveStream } from '../../../store/actions/menuItems';\n\nclass YouTube extends React.Component {\n\n    // constructor(props) {\n    //     super(props);\n    // }\n\n    // componentDidUpdate(prevProps) {\n    // }\n\n    onHide = () => {\n\n    }\n\n    render() {\n        const fraction = 200 / 315;\n        const w = Math.floor(560 * fraction);\n        const h = Math.floor(315 * fraction);\n        const spaceBottom = 60;\n        const { music, ui, setVolume } = this.props;\n        const style = { height: 20, width: w - ui.edgeSpacing };\n\n        return (\n            <Frame title=\"live stream\"\n                bounded={true}\n                isHidden={this.props.menu.isLiveStreamHidden}\n                onHide={this.props.hideLiveStream}\n                className=\"Live-Stream\"\n                windowStyle={{ background: \"rgba(0, 0, 0, .9)\" }}\n                content={\n                    <React.Fragment>\n                        <iframe width={w}\n                            height={h}\n                            src=\"https://www.youtube.com/embed/jogQMOumsWs\"\n                            title=\"YouTube video player\"\n                            frameBorder=\"0\"\n                            allow=\"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture\"\n                            allowFullScreen>\n\n                        </iframe>\n                        <div className=\"join-zoom\">\n                            <a href=\"https://tulane.zoom.us/j/96008889892\" target=\"_blank\" rel=\"noopener noreferrer\"><button className=\"standardButton secondary\">join zoom!</button></a>\n                        </div>\n                    </React.Fragment>\n\n                }\n                width={w} height={h + spaceBottom} x={ui.edgeSpacing} y={ui.contentH - h - spaceBottom - ui.edgeSpacing} z={1000}\n            />\n        );\n    }\n\n\n}\n\n\nconst mapStateToProps = (state) => {\n    return {\n        ui: state.ui,\n        menu: state.menu\n    }\n}\n\nconst mapDispatchToProps = () => {\n    return {\n        hideLiveStream\n    }\n}\n\n\nexport default connect(mapStateToProps, mapDispatchToProps())(YouTube);\n\n","\nexport const RESETAPP = 'RESETAPP';\nexport const LOADINGAPP = 'LOADINGAPP';\nexport const DONELOADINGAPP = 'DONELOADINGAPP';\nexport const STARTCOMPOSITION = 'STARTCOMPOSITION';\nexport const RESETCOMPOSITION = 'RESETCOMPOSITION';\nexport const RESIZEAPP = 'RESIZEAPP';\n\nexport const loadingApp = () => {\n  return {\n    type: LOADINGAPP\n  }\n}\n\nexport const doneLoadingApp = () => {\n  return {\n    type: DONELOADINGAPP\n  }\n}\n\nexport const startComposition = () => {\n  return {\n    type: STARTCOMPOSITION\n  }\n}\n\n// export const resetComposition = () => {\n//   return {\n//     type: RESETCOMPOSITION\n//   }\n// }\n\nexport const resetApp = () => {\n  return {\n    type: RESETAPP\n  }\n}\n\nexport const resizeApp = (width, height) => {\n  return {\n    type: RESIZEAPP,\n    payload : {width, height}\n  }\n}\n","\nexport function getEmojis() {\n  const emojis =\n    [\n      \"\", \"\", \"\", \"\", \"\", \"\",\n      \"\", \"\", \"\", \"\", \"\", \"\",\n      \"\", \"\", \"\", \"\", \"\", \"\",\n      \"\", \"\", \"\", \"\", \"\", \"\",\n      \"\", \"\", \"\", \"\", \"\", \"\",\n      \"\", \"\", \"\", \"\", \"\", \"\",\n      \"\", \"\", \"\", \"\", \"\", \"\",\n      \"\", \"\", \"\", \"\", \"\", \"\",\n      \"\", \"\", \"\", \"\", \"\", \"\",\n      \"\", \"\", \"\", \"\", \"\", \"\",\n      \"\", \"\", \"\", \"\", \"\", \"\",\n      \"\", \"\", \"\", \"\", \"\", \"\",\n      \"\", \"\", \"\", \"\", \"\", \"\",\n      \"\", \"\", \"\", \"\", \"\", \"\", \"\",\n      \"\", \"\", \"\",\n      \"\", \"\", \"\", \"\", \"\", \"\",\n      \"\", \"\", \"\", \"\", \"\", \"\",\n      \"\", \"\", \"\", \"\", \"\", \"\",\n      \"\", \"\", \"\", \"\", \"\", \"\",\n      \"\", \"\", \"\", \"\", \"\", \"\",\n      \"\", \"\", \"\", \"\", \"\", \"\",\n      \"\", \"\", \"\", \"\", \"\", \"\",\n      \"\", \"\", \"\", \"\", \"\", \"\",\n      \"\", \"\", \"\", \"\", \"\", \"\",\n      \"\", \"\", \"\", \"\", \"\", \"\",\n      \"\", \"\", \"\", \"\", \"\", \"\",\n      \"\", \"\", \"\", \"\", \"\", \"\",\n      \"\", \"\", \"\", \"\", \"\", \"\",\n\n      \"\", \"\", \"\", \"\", \"\", \"\",\n      \"\", \"\", \"\", \"\", \"\", \"\",\n      \"\", \"\", \"\", \"\", \"\", \"\",\n      \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\",\n      \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\",\n      \"\", \"\", \"\", \"\", \"\", \"\",\n      \"\", \"\", \"\", \"\", \"\", \"\",\n      \"\", \"\", \"\", \"\", \"\", \"\",\n      \"\", \"\", \"\", \"\", \"\", \"\",\n      \"\", \"\", \"\", \"\", \"\", \"\",\n      \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\",\n      \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\",\n\n\n      \"\", \"\", \"\", \"\", \"\", \"\",\n      \"\", \"\", \"\", \"\", \"\", \"\",\n      \"\", \"\", \"\", \"\", \"\", \"\",\n      \"\", \"\", \"\", \"\", \"\", \"\",\n      \"\", \"\", \"\", \"\", \"\", \"\", \"\",\n      \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\",\n      \"\", \"\", \"\", \"\",\n      \"\", \"\", \"\", \"\", \"\", \"\",\n      \"\", \"\", \"\", \"\", \"\", \"\",\n      \"\", \"\", \"\", \"\", \"\", \"\",\n      \"\", \"\", \"\", \"\", \"\", \"\",\n      \"\", \"\", \"\", \"\", \"\", \"\",\n      \"\", \"\", \"\", \"\", \"\", \"\",\n      \"\", \"\", \"\", \"\", \"\", \"\",\n      \"\", \"\", \"\", \"\", \"\", \"\",\n      \"\", \"\", \"\", \"\", \"\", \"\",\n      \"\", \"\", \"\", \"\", \"\", \"\",\n      \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\",\n      \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\",\n      \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\",\n      \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\",\n      \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\",\n      \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\",\n      \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\",\n      \"\", \"\", \"\", \"\", \"\", \"\",\n      \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\",\n      \"\", \"\", \"\", \"\", \"\", \"\",\n      \"\", \"\", \"\", \"\", \"\", \"\",\n      \"\", \"\", \"\", \"\", \"\", \"\",\n      \"\", \"\", \"\", \"\", \"\", \"\", \"\",\n    ];\n  return emojis.reverse();\n\n}\n\nexport function getRandomEmoji() {\n  const emojis = getEmojis();\n  return emojis[Math.floor(Math.random() * emojis.length)];\n}\n","import React from 'react';\nimport { withRouter } from \"react-router-dom\";\nimport { getEmojis } from '../Welcome/components/Helpers';\nimport CenterModal from '../CenterModal/CenterModal';\nimport { setOneMenu, hideSignIn } from '../../../store/actions/menuItems';\n\nimport './SignIn.css';\n\n// store\nimport { connect } from 'react-redux';\nimport { setUser } from '../../../store/actions/user';\nimport { resetApp } from '../../../store/actions';\n\nimport socket from \"../Socket/Socket\";\n\n\n\nclass SignIn extends React.Component {\n\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      localAvatar: props.user.avatar,\n      localUserName: props.user.userName,\n      shouldClose: false\n      // user: { avatar: props.user.avatar, userName: props.user.userName },\n    }\n  }\n\n  componentDidMount() {\n    if (this.props.setClick)\n      this.props.setClick(this.handleSubmit);\n  }\n\n  // basically, don't re-render this component unless that signin window\n  // has opened?\n  // have to check both nextProps && this props. not exactly sure of\n  // explanation at the moment\n\n  shouldComponentUpdate(nextProps, nextState) {\n    const update = (\n      (nextProps.showSignIn !== this.props.showSignIn)\n      || (nextProps.menu.mobile !== this.props.menu.mobile)\n      || (nextProps.ui.orientation !== this.props.ui.orientation)\n      || (nextState.localUserName !== this.state.localUserName)\n      || (nextState.localAvatar !== this.state.localAvatar)\n      || (nextProps.hasAvatar !== this.props.hasAvatar)\n      // nextProps.showSignIn || this.props.showSignIn || (nextProps.hasAvatar !== this.props.hasAvatar)\n    );\n\n    // console.log(\"update signing?\", update, nextState.user.userName, this.state.user.userName);\n    return update;\n  }\n\n\n  componentDidUpdate(prevProps) {\n\n    // THIS COMES IN IF THE PAGE LOADS AND THERE AREN'T ANY COOKIES,\n    // AND THEN COOKIES LOAD\n    if (prevProps.hasAvatar !== this.props.hasAvatar) {\n      this.setState({ localAvatar: this.props.user.avatar, localUserName: this.props.user.userName });\n    }\n  }\n\n  setAvatarBar = (emoji) => {\n    this.setState({ localAvatar: emoji })\n  }\n\n  setUserName = (evt) => {\n    if (evt.target.value.length < 17) {\n      this.setState({ localUserName: evt.target.value });\n    }\n    else {\n      alert(\"user name is too many letters\");\n    }\n  }\n\n\n  onHide = () => {\n    this.setState({ shouldClose: true }, this.handleSubmit);\n    // if (this.props.hasAvatar && this.state.localUserName !== \"\")\n    //   this.props.closeSignIn();\n  }\n\n\n  userRegister = ({ isUser, user }) => {\n    if (isUser) {\n      this.setState({ shouldClose: false });\n      alert(\"username already exists. Please enter a new username.\");\n    }\n    else {\n      // socket.emit(\"newUser\", user);\n      this.submitSuccess(user.userName, user.avatar);\n    }\n  }\n\n  submitSuccess = (userName, avatar) => {\n    this.props.setUser(userName, avatar);\n\n    // set the local state to this registered state\n    this.setState({\n      localAvatar: avatar,\n      localUserName: userName\n    });\n\n    if (this.state.shouldClose) {\n      this.props.hideSignIn(); // frame\n    }\n    else if (this.props.nextStep)\n      this.props.nextStep(); // welcome page\n\n    this.setState({ shouldClose: false });\n  }\n\n  userRegisterCheck = (userName, avatar) => {\n    const userCheck = { userName: userName, avatar: avatar };\n    socket.emit(\"registerUser\", userCheck, this.userRegister);\n  }\n\n  handleUserUpdate = () => {\n    this.setState({ shouldClose: true }, this.handleSubmit);\n  }\n\n  handleSubmit = () => {\n    const avatar = this.state.localAvatar;\n    const userName = this.state.localUserName;\n    if (avatar === \"\") {\n      this.setState({ shouldClose: false });\n      alert(\"Please select an emoji avatar\");\n    }\n    else if (userName === \"\") {\n      this.setState({ shouldClose: false });\n      alert(\"Please set a user name\");\n    }\n    else if (userName.length < 3) {\n      this.setState({ shouldClose: false });\n      alert(\"Usernames must be at least 3 letters\");\n    }\n    // if we haven't changed names\n    else if (userName === this.props.user.userName) {\n      this.submitSuccess(userName, avatar)\n    }\n    // if we have, check username\n    else {\n      this.userRegisterCheck(userName, avatar);\n    }\n  }\n\n  render() {\n    const { w, h, isFrame } = this.props;\n    let s;\n    if (isFrame)\n      s = this.getFrame(w, h);\n    else\n      s = this.getForm(w, h);\n    return (s);\n  }\n\n  getFrame = () => {\n    const { ui, menu } = this.props;\n    const isHidden = (ui.isMobile || ui.hasFooter) ? menu.mobile !== \"signIn\" : menu.isSignInHidden;\n    return (\n      <CenterModal\n        title=\"avatar\"\n        z={2501}\n        isHidden={isHidden}\n        onHide={this.onHide}\n        isRelative={false}\n        ui={ui}\n        classN=\"SignIn\"\n        content={this.getForm()}\n        buttons={this.getButtons()}\n      />\n    )\n  }\n\n  getForm = () => {\n    let { localAvatar, localUserName } = this.state;\n    const { ui } = this.props;\n    const emojis = getEmojis();\n    let inputW = ui.width < 350 ? 190 : 225;\n    return (\n      <React.Fragment>\n        <div className=\"userBar flexItem flexPad flexRow\">\n          <div className=\"avatar\">{localAvatar}</div>\n          <input style={{ width: inputW }} onChange={this.setUserName} value={localUserName} placeholder=\"username\" inputprops={{ 'aria-label': 'user name field' }} />\n        </div>\n        <div className=\"emoji-list flexItem flexPad flex1\">\n          {\n            emojis.map((emoji, i) => {\n              return <button key={i} onClick={() => this.setAvatarBar(emoji)}>{emoji}</button>\n            })\n          }\n        </div>\n      </React.Fragment>\n    )\n  }\n\n  resetApp = () => {\n    // reset cookies?\n    // console.log(\"resetting\");\n    // this.props.closeSignIn();\n    this.props.resetApp();\n    // this.props.history.push(\"/\");\n    window.location.href = \"/\";\n  }\n\n  getButtons = () => {\n    let buttons;\n    if (this.props.isFrame) {\n      buttons =\n        <div className=\"center-buttons flexItem\">\n          <button className=\"standardButton secondary\" onClick={this.resetApp}>logout</button>\n          <button className=\"standardButton primary\" onClick={this.handleUserUpdate}>update</button>\n\n        </div>\n    }\n    else {\n      buttons = null;\n    }\n    return buttons;\n  }\n}\n\nconst mapStateToProps = (state) => {\n  return {\n    user: state.user,\n    ui: state.ui,\n    menu: state.menu\n  }\n}\n\nconst mapDispatchToProps = () => {\n  return {\n    resetApp,\n    setUser,\n    hideSignIn,\n    setOneMenu\n  }\n}\n\nexport default withRouter(connect(mapStateToProps, mapDispatchToProps())(SignIn));\n","import React from 'react';\n\nexport default function MFADeets(props) {\n  let fontsBig = [40, 20, 14, 12];\n  let fontsSmall = [30, 18, 14, 12];\n  let fontsXSmall = [28, 16, 12, 12];\n  let fonts = fontsBig;\n  if (props.width < 350) {\n    fonts = fontsXSmall;\n  }\n  else if (props.width < 500) {\n\n    fonts = fontsSmall;\n  }\n  \n  \n  return (\n    <div className=\"Welcome-Deets\">\n      <div className=\"MFA-deets\" >\n        <div className=\"MFA-txt\">\n          <div style={{fontSize: fonts[0], paddingBottom: \"0px\"}}>Losing</div>\n          <div style={{fontSize: fonts[0], paddingBottom: \"0px\"}}>My</div>\n          <div style={{fontSize: fonts[0], paddingBottom: \"40px\"}}>Dimension</div>\n\n          <div style={{fontSize: fonts[1], paddingBottom: \"40px\"}}><a href=\"https://www.instagram.com/jdeboi/\">Jenna deBoisblanc</a></div>\n\n          <div style={{fontSize: fonts[3], paddingBottom: \"10px\"}}>Tulane University</div>\n          <div style={{fontSize: fonts[2], paddingBottom: \"10px\"}}>MFA Thesis Exhibition</div>\n          <div style={{fontSize: fonts[3], paddingBottom: \"10px\"}}>April 2021</div>\n        </div>\n      </div>\n\n    </div>\n  )\n}\n","import React from 'react';\nimport './FAQ.css';\nimport chatGif from './assets/chat_md.gif';\nimport moveGif from './assets/move_md.gif';\n\nexport default function FAQ(props) {\n\n  return (\n    <div className=\"Instructions-list flexPad flex1\">\n\n      {/* MOVING */}\n      <div className=\"instruction\">\n        <div className=\"faqImg\"><img alt=\"moving instructions\" src={moveGif} /></div>\n        <div className=\"instruction-txt\">\n          <h3>Move</h3>\n          <p>Click/tap on tiles or press arrow keys.</p>\n        </div>\n      </div>\n\n      {/* CHATTING */}\n      <div className=\"instruction\">\n        <div className=\"faqImg\"><img alt=\"chatting instructions\" src={chatGif} /></div>\n        <div className=\"instruction-txt\">\n          <h3>Chat</h3>\n          <p>Click a user to begin a chat or select the chat icon \n            from the menu.</p>\n        </div>\n      </div>\n\n      {/* ENTERING ROOM */}\n      {/* <div className=\"instruction\">\n        <div className=\"faqImg\"><img src=\"https://lmd-bucket.s3.us-east-2.amazonaws.com/sketches/shared/placeholder_200.jpg\" /></div>\n        <div className=\"instruction-txt\">\n          <h3>Enter Room</h3>\n          <p>Walk on the stairs to view individual works</p>\n        </div>\n      </div> */}\n\n      {/* BACK TO GALLERY */}\n      {/* <div className=\"instruction\">\n        <div className=\"faqImg\"><img src=\"https://lmd-bucket.s3.us-east-2.amazonaws.com/sketches/shared/placeholder_200.jpg\" /></div>\n        <div className=\"instruction-txt\">\n          <h3>Back to Gallery</h3>\n          <p>Click the browser back button or click the show title, \"Losing My Dimension\"</p>\n        </div>\n      </div> */}\n    </div>\n  )\n}\n","import React from 'react';\nimport glasses from './glasses.png';\n\nexport default function Glasses(props) {\n  return (\n    <div className=\"Glasses flex1 flexPad\">\n      <div className=\"instruction\">\n        {/* <h2>Get 3D glasses!</h2>\n        <hr></hr> */}\n        <p>This work is meant to be viewed in both 2D and 3D using red / cyan anaglyph glasses.</p>\n        <br />\n\n        <img alt=\"3d glasses\" src={glasses} className=\"center\" />\n        {/* <ul>\n          <li><a href=\"https://forms.gle/xCUeomKay4Jo2H5r8\" target=\"_blank\" rel=\"noopener noreferrer\">Request a free pair</a> (limited)</li>\n          <li><a href=\"https://www.amazon.com/Blue-White-Cardboard-Glasses-Pairs/dp/B001P6C7ZY/ref=sr_1_35?dchild=1&keywords=anaglyph+glasses&qid=1609440890&sr=8-35\" target=\"_blank\" rel=\"noopener noreferrer\">Purchase</a> a pair online</li>\n        </ul> */}\n        <h2>Make sure the red lens is over your LEFT eye.</h2>\n      </div>\n    </div>\n  )\n}\n","import React from 'react';\n\nexport default function Closed(props) {\n  let fontsBig = [40, 20, 14, 12, 10];\n  let fontsSmall = [30, 18, 14, 12, 10];\n  let fontsXSmall = [28, 16, 12, 12, 10];\n  let fonts = fontsBig;\n  if (props.width < 350) {\n    fonts = fontsXSmall;\n  }\n  else if (props.width < 500) {\n\n    fonts = fontsSmall;\n  }\n  \n  \n  return (\n    <div className=\"Welcome-Deets\">\n      <div className=\"MFA-deets closed\" >\n        <div className=\"MFA-txt\">\n          <div style={{fontSize: fonts[3], paddingBottom: \"30px\"}}>While you're free to roam the grounds, we're sorry to inform you that the gallery is currently</div>\n          <div style={{fontSize: fonts[0], paddingBottom: \"30px\"}}>CLOSED</div>\n          <div style={{fontSize: fonts[3], paddingBottom: \"10px\"}}>Please join us for the opening on:</div>\n          <div style={{fontSize: fonts[1], paddingBottom: \"5px\"}}>Saturday, April 10th</div>\n          <div style={{fontSize: fonts[1], paddingBottom: \"10px\"}}>5PM - 9PM CST</div>\n          {/* <div style={{fontSize: fonts[4], paddingBottom: \"0px\"}}>Occurring virtually and offline at Antenna / The Front</div> */}\n        </div>\n      </div>\n\n    </div>\n  )\n}\n","import React from 'react';\nimport './Welcome.css';\nimport '../SignIn/SignIn.css';\n// import '../CenterModal/CenterModal.css';\n\n// store\nimport { connect } from 'react-redux';\n\n// components\nimport CenterModal from '../CenterModal/CenterModal';\nimport MFADeets from './components/MFADeets';\nimport SignIn from '../SignIn/SignIn';\nimport FAQ from '../FAQ/FAQ';\nimport Glasses from './components/Glasses';\nimport Closed from './components/Closed';\n\n\nclass Welcome extends React.Component {\n  // https://codepen.io/JohJakob/pen/YPxgwo\n  constructor(props) {\n    super(props);\n\n    // const {avatar, userName} = this.props.user;\n\n    this.state = {\n      step: 0,\n      title: \"Welcome\"\n    }\n\n  }\n\n  // basically, don't re-render this component unless that signin window\n  // has opened?\n  // have to check both nextProps && this props. not exactly sure of\n  // explanation at the moment\n  // shouldComponentUpdate(nextProps, nextState) {\n  //   return (\n  //     nextProps.showWelcome || this.props.showWelcome || (nextProps.hasAvatar !== this.props.hasAvatar) || (nextState.step !== this.state.step)\n  //   );\n  // }\n\n\n\n\n  onHide = () => {\n    alert(\"Sorry, please click through to the end of this dialog box.\");\n    // this.handleSubmit();\n    // if (this.props.hasAvatar && this.state.user.userName != \"\") this.props.closeSignIn();\n  }\n\n  render() {\n    const { ui, showWelcome, isClosed } = this.props;\n    const {step, title} = this.state;\n    if (isClosed) {\n      var content = this.getWelcomeStepClosed(step);\n      var buttons = this.getButtonsClosed(step);\n    }\n    else {\n      var content = this.getWelcomeStep(step);\n      var buttons = this.getButtons(step);\n    }\n   \n    return (\n      <CenterModal\n        title={title}\n        isHidden={!showWelcome}\n        onHide={this.onHide}\n        ui={ui}\n        z={2500}\n        isRelative={false}\n        classN=\"Welcome\"\n        content={content}\n        buttons={buttons}\n      />\n    );\n\n\n  }\n\n  getWelcomeStepClosed = (step) => {\n    if (step === 0)\n      return <MFADeets width={this.props.ui.width} />\n    else if (step === 1)\n      return <Closed  />\n    else if (step === 2)\n      return <SignIn {...this.props} setClick={click => this.clickSubmit = click} nextStep={this.nextStep} prevStep={this.prevStep} isFrame={false} />;\n    else if (step === 3)\n      return <Glasses />\n    return null;\n  }\n\n  getButtonsClosed = (step) => {\n    if (step === 0)\n      return (\n        <div className=\"center-buttons\">\n          <button className=\"standardButton primary\" onClick={this.nextStep}>next</button>\n        </div>\n      );\n    else if (step === 2)\n      // https://stackoverflow.com/questions/37949981/call-child-method-from-parent\n      return (\n        <div className=\"center-buttons\">\n          <button className=\"standardButton secondary\" onClick={this.prevStep}>back</button>\n          <button className=\"standardButton primary\" onClick={() => this.clickSubmit()}>next</button>\n        </div>\n      );\n    else if (step === 1)\n      return (\n        <div className=\"center-buttons\">\n          <button className=\"standardButton secondary\" onClick={this.prevStep}>back</button>\n          <button className=\"standardButton primary\" onClick={this.nextStep}>next</button>\n        </div>\n      );\n    else if (step === 3)\n      return (\n        <div className=\"center-buttons\">\n          <button className=\"standardButton secondary\" onClick={this.prevStep}>back</button>\n          <button className=\"standardButton primary\" onClick={this.props.closeWelcome}>finish</button>\n        </div>\n      );\n    return null;\n  }\n\n  getWelcomeStep = (step) => {\n    if (step === 0)\n      return <MFADeets width={this.props.ui.width} />\n    else if (step === 1)\n      return <SignIn {...this.props} setClick={click => this.clickSubmit = click} nextStep={this.nextStep} prevStep={this.prevStep} isFrame={false} />;\n    else if (step === 2)\n      return <FAQ />\n    else if (step === 3)\n      return <Glasses />\n    return null;\n  }\n\n  getButtons = (step) => {\n    if (step === 0)\n      return (\n        <div className=\"center-buttons\">\n          <button className=\"standardButton primary\" onClick={this.nextStep}>next</button>\n        </div>\n      );\n    else if (step === 1)\n      // https://stackoverflow.com/questions/37949981/call-child-method-from-parent\n      return (\n        <div className=\"center-buttons\">\n          <button className=\"standardButton secondary\" onClick={this.prevStep}>back</button>\n          <button className=\"standardButton primary\" onClick={() => this.clickSubmit()}>next</button>\n        </div>\n      );\n    else if (step === 2)\n      return (\n        <div className=\"center-buttons\">\n          <button className=\"standardButton secondary\" onClick={this.prevStep}>back</button>\n          <button className=\"standardButton primary\" onClick={this.nextStep}>next</button>\n        </div>\n      );\n    else if (step == 3)\n      return (\n        <div className=\"center-buttons\">\n          <button className=\"standardButton secondary\" onClick={this.prevStep}>back</button>\n          <button className=\"standardButton primary\" onClick={this.props.closeWelcome}>finish</button>\n        </div>\n      );\n    return null;\n  }\n\n\n  prevStep = () => {\n    const step = this.state.step;\n    // var step = this.state.step;\n    // step += 1;\n    var title = \"\";\n    if (step - 1 === 1) title = \"avatar\";\n    else if (step - 1 === 2) title = \"instructions\";\n    this.setState({ step: step - 1, title });\n  }\n\n  nextStep = () => {\n    const step = this.state.step;\n    // var step = this.state.step;\n    // step += 1;\n    var title = \"\";\n    if (step + 1 === 1) title = \"avatar\";\n    else if (step + 1 === 2) title = \"instructions\";\n    else if (step + 1 === 3) title = \"3D glasses\";\n    this.setState({ step: step + 1, title });\n  }\n\n}\n\n\nconst mapStateToProps = (state) => {\n  return {\n    ui: state.ui\n  }\n}\n\nconst mapDispatchToProps = () => {\n  return {\n  }\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps())(Welcome);\n","import React from 'react';\nimport FAQ from './FAQ';\nimport CenterModal from '../CenterModal/CenterModal';\n\nimport { connect } from 'react-redux';\nimport { setOneMenu, hideFaq, toggleFaq } from '../../../store/actions/menuItems';\n\n\nclass FAQFrame extends React.Component {\n\n  onHide = () => {\n    this.props.hideFaq();\n    this.props.setOneMenu(null);\n    console.log(\"testing\")\n  }\n\n  render() {\n    const {ui, menu} = this.props;\n    let isHidden = (ui.isMobile || ui.hasFooter) ? menu.mobile !== \"faq\" : menu.isFaqHidden;\n    return (\n      <CenterModal\n        title=\"FAQ\"\n        z={2501}\n        isHidden={isHidden}\n        onHide={this.onHide}\n        isRelative={false}\n        ui={this.props.ui}\n        classN=\"FAQ\"\n        content={<FAQ />}\n        buttons={this.getButtons()}\n      />\n    );\n  }\n\n  getButtons = () => {\n    return (\n      <div className=\"center-buttons\">\n        <button className=\"standardButton primary\" onClick={this.onHide}>close</button>\n      </div>\n    )\n  }\n\n}\n\nconst mapStateToProps = (state) => {\n  return {\n    ui: state.ui,\n    menu: state.menu\n  }\n}\n\nconst mapDispatchToProps = () => {\n  return {\n    hideFaq,\n    toggleFaq,\n    setOneMenu\n  }\n}\n\n\nexport default connect(mapStateToProps, mapDispatchToProps())(FAQFrame);\n","import React from 'react';\nimport './RoomDecal.css';\n// store\nimport { connect } from 'react-redux';\nimport { startComposition } from '../../../store/actions/';\n\nimport { getSketch, getRoomCount } from '../../sketches/Sketches';\nimport ReactTooltip from 'react-tooltip';\n// components\nimport CenterModal from '../CenterModal/CenterModal';\n\n\nclass RoomDecal extends React.Component {\n    constructor(props) {\n        super(props);\n\n        this.state = {\n        }\n\n        // this.enterButton = React.createRef();\n    }\n\n    // componentDidMount() {\n    //     this.enterButton.current.focus();\n    // }\n\n    render() {\n        const { ui, user, users, hasLoadedRoom } = this.props;\n        const sketch = getSketch(user.room);\n        if (sketch) {\n            const buttons = this.getButtons(this.state.step);\n            const { title, about, year } = sketch;\n            return (\n                <CenterModal\n                    title={\"\"}\n                    isHidden={hasLoadedRoom}\n                    onHide={this.props.onHide}\n                    ui={ui}\n                    z={2500}\n                    height={300}\n                    width={400}\n                    isRelative={false}\n                    classN=\"RoomDecal\"\n                    content={\n                        <div className=\"decal-content\">\n                            <div className=\"identify\">\n                                {/* <p className=\"\" style={{ fontSize: 12, paddingBottom: 0 }}>Jenna deBoisblanc</p>\n                                <p style={{ paddingBottom: 20 }}>\n                                    <span style={{ fontSize: 24 }}></span>\n                                    <span style={{ fontSize: 12 }}>, born 1989</span>\n                                </p> */}\n                                <p style={{ fontSize: 20, paddingBottom: 0, fontWeight: 900 }}>\n                                    <span className=\"\">{title}</span>\n                                </p>\n                                <p style={{ fontSize: 12 }}>{year}</p>\n                                <p style={{ fontSize: 12 }}>Custom Software</p>\n                                <p style={{ fontSize: 12 }}>Variable Dimensions</p>\n\n                                {/* <p style={{ fontSize: 12 }}>{about}</p> */}\n\n                                {/* <hr></hr> */}\n                            </div>\n                            {/* <div></div> */}\n\n                            {/* {this.getParticipantsBox()} */}\n\n                        </div>\n                    }\n                    buttons={buttons}\n                />\n            );\n        }\n\n\n        return null;\n\n    }\n\n    setUserHover = (user) => {\n\n    }\n\n    userHoverLeave = () => {\n\n    }\n\n    getParticipantsBox = () => {\n        const { ui, user, users } = this.props;\n        if (ui.hasFooter && ui.orientation === \"landscape\")\n            return null;\n        return (\n            <div className=\"participants-box\">\n                <br />\n                <br />\n                <div className=\"usersEye\"><i className=\"fas fa-eye\"></i> {getRoomCount(user.room, users)}</div>\n                <br />\n                <br />\n                <div className=\"participants\">\n                    <span\n                        data-tip={\"me\"}\n                    >\n                        {user.avatar}\n\n                    </span>\n                    {/* {this.getFakeUsers()} */}\n                    {this.getUsers()}\n\n                </div>\n                <ReactTooltip />\n            </div>\n        )\n\n    }\n\n    getFakeUsers = () => {\n        const { user } = this.props;\n        const users = [\n            { avatar: \"\", userName: \"bob\" },\n            { avatar: \"\", userName: \"george\" },\n            { avatar: \"\", userName: \"hannah\" },\n            { avatar: \"\", userName: \"jdeboisblanc\" },\n            { avatar: \"\", userName: \"ok\" },\n            { avatar: \"\", userName: \"ashley123\" },\n            { avatar: \"\", userName: \"bob\" },\n            // { avatar: \"\", userName: \"george\" },\n            // { avatar: \"\", userName: \"hannah\" },\n            // { avatar: \"\", userName: \"jdeboisblanc\" },\n            // { avatar: \"\", userName: \"ok\" },\n            // { avatar: \"\", userName: \"ashley123\" },\n            // { avatar: \"\", userName: \"bob\" },\n            // { avatar: \"\", userName: \"george\" },\n            // { avatar: \"\", userName: \"hannah\" },\n            // { avatar: \"\", userName: \"jdeboisblanc\" },\n            // { avatar: \"\", userName: \"ok\" },\n            // { avatar: \"\", userName: \"ashley123\" },\n            // { avatar: \"\", userName: \"bob\" },\n            // { avatar: \"\", userName: \"george\" },\n            // { avatar: \"\", userName: \"hannah\" },\n            // { avatar: \"\", userName: \"jdeboisblanc\" },\n            // { avatar: \"\", userName: \"ok\" },\n            // { avatar: \"\", userName: \"ashley123\" },\n            // { avatar: \"\", userName: \"bob\" },\n            // { avatar: \"\", userName: \"george\" },\n            // { avatar: \"\", userName: \"hannah\" },\n            // { avatar: \"\", userName: \"jdeboisblanc\" },\n            // { avatar: \"\", userName: \"ok\" },\n            // { avatar: \"\", userName: \"ashley123\" },\n            // { avatar: \"\", userName: \"bob\" },\n            // { avatar: \"\", userName: \"george\" },\n            // { avatar: \"\", userName: \"hannah\" },\n            // { avatar: \"\", userName: \"jdeboisblanc\" },\n            // { avatar: \"\", userName: \"ok\" },\n            // { avatar: \"\", userName: \"ashley123\" },\n            // { avatar: \"\", userName: \"bob\" },\n            // { avatar: \"\", userName: \"george\" },\n            // { avatar: \"\", userName: \"hannah\" },\n            // { avatar: \"\", userName: \"jdeboisblanc\" },\n            // { avatar: \"\", userName: \"ok\" },\n            // { avatar: \"\", userName: \"ashley123\" },\n            // { avatar: \"\", userName: \"bob\" },\n            // { avatar: \"\", userName: \"george\" },\n            // { avatar: \"\", userName: \"hannah\" },\n            // { avatar: \"\", userName: \"jdeboisblanc\" },\n            // { avatar: \"\", userName: \"ok\" },\n            // { avatar: \"\", userName: \"ashley123\" },\n            // { avatar: \"\", userName: \"bob\" },\n            // { avatar: \"\", userName: \"george\" },\n            // { avatar: \"\", userName: \"hannah\" },\n            // { avatar: \"\", userName: \"jdeboisblanc\" },\n            // { avatar: \"\", userName: \"ok\" },\n            // { avatar: \"\", userName: \"ashley123\" },\n            // { avatar: \"\", userName: \"bob\" },\n            // { avatar: \"\", userName: \"george\" },\n            // { avatar: \"\", userName: \"hannah\" },\n            // { avatar: \"\", userName: \"jdeboisblanc\" },\n            // { avatar: \"\", userName: \"ok\" },\n            // { avatar: \"\", userName: \"ashley123\" },\n\n            // { avatar: \"\", userName: \"bob\" },\n            // { avatar: \"\", userName: \"george\" },\n            // { avatar: \"\", userName: \"hannah\" },\n            // { avatar: \"\", userName: \"jdeboisblanc\" },\n            // { avatar: \"\", userName: \"ok\" },\n            // { avatar: \"\", userName: \"ashley123\" },\n            // { avatar: \"\", userName: \"bob\" },\n            // { avatar: \"\", userName: \"george\" },\n            // { avatar: \"\", userName: \"hannah\" },\n            // { avatar: \"\", userName: \"jdeboisblanc\" },\n            // { avatar: \"\", userName: \"ok\" },\n            // { avatar: \"\", userName: \"ashley123\" },\n            // { avatar: \"\", userName: \"bob\" },\n            // { avatar: \"\", userName: \"george\" },\n            // { avatar: \"\", userName: \"hannah\" },\n            // { avatar: \"\", userName: \"jdeboisblanc\" },\n            // { avatar: \"\", userName: \"ok\" },\n            // { avatar: \"\", userName: \"ashley123\" },\n            // { avatar: \"\", userName: \"bob\" },\n            // { avatar: \"\", userName: \"george\" },\n            // { avatar: \"\", userName: \"hannah\" },\n            // { avatar: \"\", userName: \"jdeboisblanc\" },\n            // { avatar: \"\", userName: \"ok\" },\n            // { avatar: \"\", userName: \"ashley123\" },\n            // { avatar: \"\", userName: \"bob\" },\n            // { avatar: \"\", userName: \"george\" },\n            // { avatar: \"\", userName: \"hannah\" },\n            // { avatar: \"\", userName: \"jdeboisblanc\" },\n            // { avatar: \"\", userName: \"ok\" },\n            // { avatar: \"\", userName: \"ashley123\" },\n            // { avatar: \"\", userName: \"bob\" },\n            // { avatar: \"\", userName: \"george\" },\n            // { avatar: \"\", userName: \"hannah\" },\n            // { avatar: \"\", userName: \"jdeboisblanc\" },\n            // { avatar: \"\", userName: \"ok\" },\n            // { avatar: \"\", userName: \"ashley123\" },\n        ]\n        return users.map((usr, i) => {\n            return (\n                <span\n                    key={i}\n                    // onMouseEnter={() => this.setUserHover(user)}\n                    // onMouseLeave={() => this.userHoverLeave()}\n                    // onClick={() => this.userClick(user)}\n                    data-tip={usr.userName}\n                >\n                    {usr.avatar}\n\n                </span>\n            )\n        });\n\n    }\n\n    getUsers = () => {\n        const { users, user } = this.props;\n\n        return users.map((usr, i) => {\n            if (usr.room !== user.room)\n                return null;\n            return (\n                <span\n                    key={i}\n                    // onMouseEnter={() => this.setUserHover(user)}\n                    // onMouseLeave={() => this.userHoverLeave()}\n                    // onClick={() => this.userClick(user)}\n                    data-tip={usr.userName}\n                >\n                    {usr.avatar}\n\n                </span>\n            )\n        })\n\n        return <div></div>;\n\n    }\n\n    buttonClicked = () => {\n        this.props.startMedia();\n        this.props.startComposition();\n        // this.props.onHide();\n        // this.props.startMedia();\n    }\n\n    getButtons = (step) => {\n        return (\n            <div className=\"center-buttons\">\n                <button className=\"standardButton primary\" onClick={this.buttonClicked}>ok</button>\n            </div>\n        );\n\n    }\n\n\n\n}\n\n\nconst mapStateToProps = (state) => {\n    return {\n        ui: state.ui,\n        user: state.user\n    }\n}\n\nconst mapDispatchToProps = () => {\n    return {\n        startComposition\n    }\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps())(RoomDecal);\n","export const roundToMult = (num, mult) => {\n    let newNum = num + mult / 2; // to round up if necessary\n    let diff = newNum % mult;\n    return newNum - diff;\n  }\n\n export const roundToMult2 = (num, mult) => {\n    let newNum = num; // to round up if necessary\n    let diff = newNum % mult;\n    return newNum - diff;\n  }\n","import { globalConfig, danceFloor, limits, pools } from \"../../constants\";\nimport { roundToMult } from './round';\n\nexport const drawAllFloors = (floorTex, p5) => {\n\n    // big floor\n    p5.strokeWeight(2);\n    p5.stroke(255, 200);\n    drawFloor(limits[0].x, limits[0].y, limits[2].x - limits[0].x, limits[2].y - limits[0].y, false, false, globalConfig.scaler * 5, p5); // big floor\n    drawDanceFloor(p5);\n\n    ////// not these\n    // drawSpaceFloor(20, 12, 12, 10, p5); // left\n    // drawSpaceFloor(5, 27, 20, 8, p5); // bottom\n    // drawSpaceFloor(24, 22, 4, 8, p5); // bottom to left\n    ////////\n\n    // top row\n    p5.strokeWeight(2);\n    p5.stroke(255, 200);\n    drawFloor(limits[0].x + 10, limits[0].y, 20, 3, false, false, globalConfig.scaler, p5);\n    // right alley\n    drawFloor(32, 5, 3, 14, false, false, globalConfig.scaler, p5);\n\n\n    // stairsOG\n    drawFloor(-10, 12, 5, 10, false, false, globalConfig.scaler, p5);\n    drawFloor(-5, 17, 5, 10, false, false, globalConfig.scaler, p5); // left column\n    drawFloor(0, 22, 5, 10, false, false, globalConfig.scaler, p5);\n    drawFloor(5, 27, 5, 10, false, false, globalConfig.scaler, p5);\n\n\n\n    // stairsBig\n    // drawFloor(pools[0].x, pools[0].y, 5, 5, false, false, globalConfig.scaler * 5, p5);\n    // drawFloor(pools[1].x, pools[1].y, 5, 5, false, false, globalConfig.scaler * 5, p5);\n    // drawFloor(pools[2].x, pools[2].y, 5, 5, false, false, globalConfig.scaler * 5, p5);\n    // drawFloor(pools[2].x+5, pools[2].y+5, 5, 5, false, false, globalConfig.scaler * 5, p5);\n    p5.noStroke();\n    \n\n    // top left\n    p5.noStroke();\n    drawSpaceFloor(limits[0].x, -3, 10, 15, p5);\n    // behind dance\n    drawSpaceFloor(20, limits[0].y, 15, 8, p5);\n\n\n    // drawFloor(0, 22, 28, 18, false, false, globalConfig.scaler, p5);\n\n    // drawFloor(0, 0, 30, 30, false, false, p5);\n    // drawSpaceFloorTriangle(5 - 15, 27 - 15, 5 + 9, 27 + 9, p5);\n    // drawSpaceFloorTriangle(15, 27 + 9, 15 + 9, 27, p5);\n    let startX = 10;\n    let startY = 39;\n    let dx = 21;\n    let h = 14;\n    let w = 15;\n    drawSpaceFloorLine(startX, startY, startX + dx, startY - dx, h, p5);\n    // drawSpaceFloor(20, 15, 1, 1, p5);\n\n    // drawPlants(p5);\n\n\n\n\n    drawGalleryGround(floorTex, p5);\n    // drawGalleryGrid(p5);\n    drawGalleryRects(p5);\n    // drawBorderPlants(p5);\n\n}\n\n\nconst drawGrid = (p5) => {\n    let spacing = globalConfig.stepS;\n    p5.stroke(255, 100);\n    p5.strokeWeight(2);\n    let sc = globalConfig.scaler;\n    for (let x = limits[0].x * sc; x <= limits[1].x * sc; x += spacing) {\n        p5.line(x, limits[0].y * sc, x, limits[2].y * sc);\n    }\n\n    for (let y = limits[0].y * sc; y <= limits[2].y * sc; y += spacing) {\n        p5.line(limits[0].x * sc, y, limits[1].x * sc, y);\n    }\n}\n\nconst drawSpaceFloorTriangle = (x0, y0, x1, y1, p5) => {\n    let sc = globalConfig.scaler;\n    let spacing = globalConfig.stepS;\n    x0 = roundToMult(x0 * sc, spacing);\n    y0 = roundToMult(y0 * sc, spacing);\n    x1 = roundToMult(x1 * sc, spacing);\n    y1 = roundToMult(y1 * sc, spacing);\n\n    let yOffset = new Date() / 2000;\n\n    let slope = (y1 - y0) / (x1 - x0);\n    let b = y0 - slope * x0;\n\n    p5.stroke(255, 150);\n    p5.noStroke();\n    p5.strokeWeight(2);\n    if (slope >= 0) {\n        for (let x = x0; x <= x1; x += spacing) {\n            let yVal = slope * x + b;\n            let yValRounded = roundToMult(yVal, spacing);\n            for (let y = y0; y <= yValRounded; y += spacing) {\n                let n = p5.noise(x * .005, y * .005 + yOffset);\n                let alpha = p5.map(n, 0, 1, 0, 150);\n                p5.fill(255, alpha);\n                p5.rect(x, y, spacing, spacing);\n            }\n\n        }\n    }\n    else {\n        let index = 0;\n        // let yVal = y0;\n        // let yValRounded = roundToMult(yVal, spacing);\n        for (let x = x0; x <= x1; x += spacing) {\n            let yVal = slope * x + b;\n            let yValRounded = roundToMult(yVal, spacing);\n            for (let y = y1; y <= yValRounded; y += spacing) {\n                let n = p5.noise(x * .005, y * .005 + yOffset);\n                let alpha = p5.map(n, 0, 1, 0, 150);\n                p5.fill(255, alpha);\n                p5.rect(x, y, spacing, spacing);\n            }\n            // console.log(index++, yVal/spacing, yValRounded/spacing);\n\n        }\n    }\n}\n\nconst drawSpaceFloorLine = (x0, y0, x1, y1, w, p5) => {\n    let sc = globalConfig.scaler;\n    let spacing = globalConfig.stepS;\n    x0 = roundToMult(x0 * sc, spacing);\n    y0 = roundToMult(y0 * sc, spacing);\n    x1 = roundToMult(x1 * sc, spacing);\n    y1 = roundToMult(y1 * sc, spacing);\n    w = roundToMult(w * sc, spacing);\n    let yOffset = new Date() / 2000;\n\n    let slope = (y1 - y0) / (x1 - x0);\n    let b = y0 - slope * x0;\n\n    p5.stroke(0, 150);\n    p5.noStroke();\n    p5.strokeWeight(2);\n    if (slope >= 0) {\n        for (let x = x0; x <= x1; x += spacing) {\n            let yVal = slope * x + b;\n            let yValRounded = roundToMult(yVal, spacing);\n            let yValStart = yValRounded - w;\n            for (let y = yValStart; y <= yValRounded; y += spacing) {\n                let n = p5.noise(x * .005, y * .005 + yOffset);\n                let alpha = p5.map(n, 0, 1, 0, 150);\n                p5.fill(255, alpha);\n                p5.rect(x, y, spacing, spacing);\n            }\n\n        }\n    }\n    else {\n        let index = 0;\n        // let yVal = y0;\n        // let yValRounded = roundToMult(yVal, spacing);\n        for (let x = x0; x <= x1; x += spacing) {\n            let yVal = slope * x + b;\n            let yValRounded = roundToMult(yVal, spacing);\n            let yValStart = yValRounded - w;\n            for (let y = yValStart; y <= yValRounded; y += spacing) {\n                let n = p5.noise(x * .005, y * .005 + yOffset);\n                let alpha = p5.map(n, 0, 1, 0, 150);\n                p5.fill(255, alpha);\n                p5.rect(x, y, spacing, spacing);\n            }\n            // console.log(index++, yVal/spacing, yValRounded/spacing);\n\n        }\n    }\n}\n\n// p5.fill(255, 50);\n// p5.rect(-12*sc, -10*sc, (38+12)*sc, (40+10)*sc);\n\n\nconst drawSpaceFloor = (x0, y0, w, h, p5) => {\n    let spacing = globalConfig.stepS;\n    let yOffset = new Date() / 2000;\n    // let bound = 5000;\n\n    let sc = globalConfig.scaler;\n    for (let x = x0 * sc; x < (x0 + w) * sc; x += spacing) {\n        for (let y = y0 * sc; y < (y0 + h) * sc; y += spacing) {\n            let n = p5.noise(x * .005, y * .005 + yOffset);\n            let alpha = p5.map(n, 0, 1, 0, 150);\n            p5.fill(255, alpha);\n            p5.rect(x, y, spacing, spacing);\n        }\n    }\n\n    // p5.fill(255, 50);\n    // p5.rect(-12*sc, -10*sc, (38+12)*sc, (40+10)*sc);\n\n}\n\nconst drawFloor = (x0, y0, w, h, isDark, isFilled, spacing, p5) => {\n    // let spacing = globalConfig.stepS;\n    let yOffset = new Date() / 2000;\n    // let bound = 5000;\n    if (isFilled) p5.fill(255, 150);\n    else p5.fill(0, 100);\n    // p5.stroke(255, 200);\n    // if (isDark) p5.stroke(0, 255);\n    if (isDark) p5.fill(255, 30);\n    let sc = globalConfig.scaler;\n    let xInd = 0;\n    let yInd = 0;\n    for (let x = x0 * sc; x < (x0 + w) * sc; x += spacing) {\n        for (let y = y0 * sc; y < (y0 + h) * sc; y += spacing) {\n            let alpha = 255;\n            if (isFilled) {\n                // if (isCheckered) alpha = ((xInd + yInd) % 2 == 0) ? 200 : 50;\n                alpha = p5.map(Math.sin(new Date() / 1000 + x / 100 + y / 200), -1, 1, 0, 110);\n                p5.fill(255, alpha);\n            } else {\n                // alpha = p5.map(Math.sin(new Date()/1000 + x/100 + y/200), -1, 1, 0, 180);\n                // p5.stroke(255, alpha);\n            }\n            // if (isDark) {\n            //   p5.fill(0, 150);\n            // }\n            p5.rect(x, y, spacing, spacing);\n            yInd++;\n        }\n        xInd++;\n    }\n\n    // p5.fill(255, 50);\n    // p5.rect(-12*sc, -10*sc, (38+12)*sc, (40+10)*sc);\n\n}\n\n\nconst drawDanceFloor = (p5) => {\n    let sc = globalConfig.scaler;\n    let spacing = 60;\n    let w = 10 * 70;\n    let h = 5 * 70;\n\n    p5.noStroke();\n    let alpha = p5.map(Math.sin(new Date() / 500), -1, 1, 150, 255);\n    p5.fill(255, alpha);\n    for (let x = danceFloor.x; x < (danceFloor.x + w); x += spacing) {\n        for (let y = danceFloor.y; y < (danceFloor.y + h); y += spacing) {\n\n            // p5.line(, y, bound, y);\n            p5.rect(x, y, 50, 50);\n        }\n    }\n}\n\nconst drawGalleryGround = (floorTex, p5) => {\n    if (floorTex) {\n        // 1st\n        for (let x = 0; x < 20; x += 5) {\n            const w = 5 * globalConfig.scaler;\n            const h = 5 * globalConfig.scaler;\n            const ix = x * globalConfig.scaler;\n            const iy = 2 * globalConfig.scaler;\n            p5.image(floorTex, ix, iy, w, h);\n        }\n        // 2nd\n        for (let x = 0; x < 30; x += 5) {\n            const w = 5 * globalConfig.scaler;\n            const h = 5 * globalConfig.scaler;\n            const ix = x * globalConfig.scaler;\n            const iy = 5 * globalConfig.scaler;\n            p5.image(floorTex, ix, iy, w, h);\n        }\n\n        // 3rd\n        for (let x = 0; x < 30; x += 5) {\n            const w = 5 * globalConfig.scaler;\n            const h = 5 * globalConfig.scaler;\n            const ix = x * globalConfig.scaler;\n            const iy = 10 * globalConfig.scaler;\n            p5.image(floorTex, ix, iy, w, h);\n        }\n        // 4th row\n        for (let x = 0; x < 15; x += 5) {\n            const w = 5 * globalConfig.scaler;\n            const h = 5 * globalConfig.scaler;\n            const ix = x * globalConfig.scaler;\n            const iy = 12 * globalConfig.scaler;\n            p5.image(floorTex, ix, iy, w, h);\n        }\n        const w = 5 * globalConfig.scaler;\n        const h = 5 * globalConfig.scaler;\n        const ix = 15 * globalConfig.scaler;\n        const iy = 12 * globalConfig.scaler;\n        p5.image(floorTex, ix, iy, w, h);\n\n        // 4th row\n        for (let x = 5; x < 20; x += 5) {\n            const w = 5 * globalConfig.scaler;\n            const h = 5 * globalConfig.scaler;\n            const ix = x * globalConfig.scaler;\n            const iy = 17 * globalConfig.scaler;\n            p5.image(floorTex, ix, iy, w, h);\n        }\n        for (let x = 10; x < 20; x += 5) {\n            const w = 5 * globalConfig.scaler;\n            const h = 5 * globalConfig.scaler;\n            const ix = x * globalConfig.scaler;\n            const iy = 22 * globalConfig.scaler;\n            p5.image(floorTex, ix, iy, w, h);\n        }\n\n    }\n}\n\nconst drawGalleryGrid = (p5) => {\n    // 1st\n    p5.stroke(255, 100);\n    p5.strokeWeight(2);\n    let sc = globalConfig.scaler;\n    let step = 1;\n    for (let x = 0; x < 27; x += step) {\n        const y0 = 5;\n        const y1 = 15;\n        p5.line(x * sc, y0 * sc, x * sc, y1 * sc);\n    }\n    for (let y = 5; y < 15; y += step) {\n        const x0 = 0;\n        const x1 = 27;\n        p5.line(x0 * sc, y * sc, x1 * sc, y * sc);\n    }\n    // 2nd\n    for (let x = 0; x < 20; x += step) {\n        const y0 = 15;\n        const y1 = 22;\n        p5.line(x * sc, y0 * sc, x * sc, y1 * sc);\n    }\n    for (let y = 15; y < 22; y += step) {\n        const x0 = 0;\n        const x1 = 20;\n        p5.line(x0 * sc, y * sc, x1 * sc, y * sc);\n    }\n\n    // 3rd\n    for (let x = 10; x < 20; x += step) {\n        const y0 = 22;\n        const y1 = 27;\n        p5.line(x * sc, y0 * sc, x * sc, y1 * sc);\n    }\n    for (let y = 22; y < 27; y += step) {\n        const x0 = 10;\n        const x1 = 20;\n        p5.line(x0 * sc, y * sc, x1 * sc, y * sc);\n    }\n\n}\n\nconst drawGalleryRects = (p5) => {\n    let yind = 0;\n    let xind = 0;\n    let cFilled = p5.color(255, 200);\n    let cDark = p5.color(255, 50);\n\n    p5.strokeWeight(2);\n    p5.stroke(255, 150);\n    let sc = globalConfig.scaler;\n    let step = 1;\n    for (let x = 0; x < 27; x += step) {\n        for (let y = 5; y < 15; y += step) {\n            if ((yind + xind) % 2 == 0) p5.fill(cDark);\n            else p5.fill(cFilled);\n            p5.rect(x * sc, y * sc, sc, sc);\n            yind++;\n        }\n        xind++;\n    }\n\n    // 2nd\n    for (let x = 0; x < 20; x += step) {\n        for (let y = 15; y < 22; y += step) {\n            if ((x + y + 1) % 2 == 0) p5.fill(cDark);\n            else p5.fill(cFilled);\n            p5.rect(x * sc, y * sc, sc, sc);\n        }\n    }\n\n\n\n    // 3rd\n    yind = 0;\n    xind = 0;\n    for (let x = 10; x < 20; x += step) {\n        for (let y = 22; y < 27; y += step) {\n            if ((x + y + 1) % 2 == 0) p5.fill(cDark);\n            else p5.fill(cFilled);\n            p5.rect(x * sc, y * sc, sc, sc);\n        }\n    }\n\n\n}\n\n\n// const rightPatio = (p5, sc = globalConfig.scaler) => {\n//     const x = 21.5 * sc;\n//     const y = 15.5 * sc;\n//     const w = 5 * sc;\n//     if (grasses[1]) p5.image(grasses[1], x, y, w, w);\n// }\n\n\n// const drawBorderPlants = (p5, sc = globalConfig.scaler) => {\n//     if (horizPlant) {\n//       var startY = -horizPlant.height;\n//       for (let i = 0; i < 4; i++) {\n//         p5.image(horizPlant, i * horizPlant.width, startY, horizPlant.width, horizPlant.height);\n//       }\n//       startY += 5 * sc;\n//       p5.image(horizPlant, 27 * sc, startY);\n//     }\n\n//   }\n\n//   const drawGrass = (p5, sc = globalConfig.scaler) => {\n//     if (grasses[1]) {\n//       // for (let x = -15*sc; x < -12*sc; x+= shrub.width) {\n//       const w = 5;\n//       const startX = -10;\n//       const endX = 35;\n//       const startY = -5;\n//       const endY = 40;\n//       for (let x = startX; x < endX; x += w) {\n//         for (let y = startY; y < endY; y += w) {\n//           if (y > 10) {\n//             if (x == y);\n//             else p5.image(grasses[1], (x - 1) * sc, y * sc, w * sc, w * sc);\n//           }\n//           else p5.image(grasses[1], x * sc, y * sc, w * sc, w * sc);\n//         }\n//       }\n//     }\n//   }\n\n//   const drawOuterBoundary = (p5, sc = globalConfig.scaler) => {\n//     const startX = limits[0].x * sc;\n//     const endX = limits[1].x * sc;\n\n\n//     const startY = limits[0].y * sc;\n//     const endY = limits[2].y * sc;\n\n//     const barW = (endX - startX);\n//     const barH = (endY - startY);\n\n//     // p5.fill(0, 180);\n//     // p5.noStroke();\n//     p5.noFill();\n//     p5.stroke(0);\n//     p5.strokeWeight(2);\n//     p5.rect(startX - barW, startY, barW, barH);\n//     p5.rect(endX, startY, barW, barH);\n\n//     p5.rect(startX - barW, startY - 2000, endX - startX + 2 * barW, 2000);\n//     p5.rect(startX - barW, endY, endX - startX + 2 * barW, 2000);\n\n\n//     // if (shrub) {\n//     //   // vert\n//     //   for (let y = startY; y < endY; y += shrub.height) {\n//     //     p5.image(shrub, startX-shrub.width*2, y);\n//     //     p5.image(shrub, startX-shrub.width, y);\n//     //     p5.image(shrub, endX, y);\n//     //     p5.image(shrub, endX + shrub.width, y);\n//     //   }\n//     //   for (let x = startX - shrub.width; x < endX+ shrub.width; x += shrub.width) {\n//     //     p5.image(shrub, x, startY-2*shrub.height);\n//     //     p5.image(shrub, x, startY - shrub.height);\n//     //     p5.image(shrub, x, endY);\n//     //     p5.image(shrub, x, endY + shrub.height);\n//     //   }\n//     // }\n\n//   }\n\n\n// const drawPlants = (p5) => {\n//     let sc = globalConfig.scaler;\n//     if (palm) p5.image(palm, 0, 30 * sc, 50 * 4, 50 * 4);\n//     // const w = 2 * ;\n\n//     // for (let x = 2; x < 14; x++) {\n//     //   const dx = x * globalConfig.scaler;\n//     //   const dy = 27 * globalConfig.scaler;\n//     //   // if (x === 10 || x === 15) p5.image(palm, dx, dy, w, w);\n//     //   // else if (x == 10)\n//     //   // else if (x == 14|| x==16 || x);\n//     //   // else\n//     //   if (grasses[2]) p5.image(grasses[2], dx, dy, w / 2, w / 2);\n//     // }\n\n//   }\n\n//   const drawPathFrontDoor = (p5) => {\n//     let { scaler } = globalConfig;\n\n//     // right\n//     // let x0 = 15*scaler;\n//     // let y0 = 25*scaler;\n//     // let h = 400;\n//     // let w = 120;\n//     // for (let x = x0; x < x0+w; x+= 50) {\n//     //   for (let y = y0; y < y0+h; y+= 50) {\n//     //     p5.fill(255);\n//     //     p5.rect(x, y, 50, 50);\n//     //   }\n//     // }\n\n//     // // left\n//     // x0 = 12.5*scaler;\n//     // for (let x = x0; x < x0+w; x+= 50) {\n//     //   for (let y = y0; y < y0+h; y+= 50) {\n//     //     p5.fill(255, 0, 255);\n//     //     p5.rect(x, y, 50, 50);\n//     //   }\n//     // }\n\n//     const points = [\n\n//       // left\n//       { x: 15 * scaler, y: 28 * scaler },\n//       { x: 15 * scaler, y: 32 * scaler },\n//       { x: 6.5 * scaler, y: 32 * scaler },\n//       { x: -7 * scaler, y: 17 * scaler },\n//       // right\n//       // 12.5 = left\n//       // { x: 17.5 * scaler, y: 28 * scaler },\n//       // { x: 17.5 * scaler, y: 32 * scaler },\n\n//     ]\n\n//     p5.stroke(255, 150);\n//     p5.strokeWeight(300);\n//     for (let i = 0; i < points.length - 1; i++) {\n//       let p0 = points[i];\n//       let p1 = points[i + 1];\n//       p5.line(p0.x, p0.y, p1.x, p1.y);\n\n//     }\n//   }\n\n//   const drawStairs = (p5) => {\n//     const w = 8 * globalConfig.scaler;\n//     const h = 3 * globalConfig.scaler;\n//     if (stairs) p5.image(stairs, 21.5 * globalConfig.scaler, 15 * globalConfig.scaler, w * 2, w * 2);\n//     if (stairsBig) p5.image(stairsBig, 11 * globalConfig.scaler, 27 * globalConfig.scaler, w, h);\n//   }\n","\n\n\n\nimport { globalConfig } from \"../../constants\";\n\n\n// const outlineRooms = (p5, rooms, scaler=wallConfig.scaler) => {\n//     for (let i = 0; i < rooms.length; i++) {\n//       var w = 5*scaler;\n//       var h = 5*scaler;\n//       // if (rooms[i].id === \"B\") h = 7*scaler;\n//       p5.push();\n//       p5.translate(rooms[i].x*scaler, rooms[i].y*scaler);\n//       p5.rect(0, 0, w, h);\n  \n//       // label\n//       // p5.strokeWeight(1);\n//       // p5.fill(255, 0, 255);\n//       // p5.text(rooms[i].id, 10, 0)\n//       p5.pop();\n//     }\n//   }\n  \n  \n//   const drawRoomDoors = (p5, rooms, scaler=wallConfig.scaler) => {\n//     for (let i = 0; i < rooms.length; i++) {\n//       var w = 5*scaler;\n//       var h = 5*scaler;\n//       // if (rooms[i].id === \"B\") h = 7*scaler;\n//       p5.push();\n//       p5.translate(rooms[i].x*scaler, rooms[i].y*scaler);\n//       p5.translate(w/2, h/2);\n//       p5.rotate(rooms[i].rot/180*Math.PI);\n//       // p5.translate(-w/2, -h/2);\n//       // if (rooms[i].id ===\"B\") p5.line(-h*.25, w/2, h*.25, w/2);\n//       // else\n//       p5.line(-w*.25, h/2, w*.25, h/2);\n//       p5.pop();\n//     }\n//   }\n  \nexport const drawWalls = (walls, p5) => {\n    p5.stroke(255);\n    p5.strokeWeight(2);\n    if (walls) {\n        let i = 0;\n        for (const wall of walls) {\n            if (i == 0) {\n                // p5.fill(200);\n                // p5.noStroke();\n                // p5.strokeWeight(10);\n                // p5.stroke(0);\n                // wall.displayShape(p5, floorTex, globalConfig.scaler);\n\n                wall.displayBorder(p5, globalConfig.scaler);\n                i++;\n            }\n            // p5.noFill();\n            // p5.strokeWeight(10);\n            // p5.stroke(0);\n            // wall.displayOutline();\n        }\n    }\n}\n\n\nexport const drawDoors = (doors, p5) => {\n    p5.strokeWeight(4);\n    p5.fill(0);\n    p5.stroke(80);\n    if (doors) {\n        for (const door of doors) {\n            door.display(p5);\n        }\n    }\n}\n\nexport const drawRooms = (rooms, roomTextures, eyeIcon, roomCount, p5) => {\n    if (rooms) {\n        for (const room of rooms) {\n            room.display(roomTextures, eyeIcon, roomCount);\n            // var w = roomConfig.w*wallConfig.scaler;\n            // var h = w;\n            // // if (room.id === \"B\") w = 7*wallConfig.scaler;\n            // drawRoom(p5, room.x*wallConfig.scaler, room.y*wallConfig.scaler, w, h, room.rot, room.title);\n        }\n    }\n\n}\n\n","\n \n export function displayDancers(dancers) {\n    for (const dancer of dancers) {\n      dancer.display();\n    }\n  }\n\n  export function updateDucks(hasCheese, userX, userY, ducks) {\n    for (const duck of ducks) {\n      // Path following and separation are worked on in this function\n      duck.applyBehaviors(hasCheese, userX, userY, ducks);\n      // Call the generic run method (update, borders, display, etc.)\n      duck.update();\n      duck.display();\n    }\n  }","import { globalConfig } from \"../../constants\";\nimport { roundToMult2 } from './round';\n\n\nexport const reachedDestination = (stepTo, destination) => {\n    // if (user.x === destination.x && user.y === destination.y)\n    // console.log(destination, stepTo)\n    return (stepTo.x === destination.x && stepTo.y === destination.y);\n}\n\n// TODO - probably a smarter way to determine best step...\nexport const getNextStep = (stepTo, destination) => {\n    let steps = [[1, 0], [-1, 0], [0, 1], [0, -1]];\n    let min = 1000000;\n    let index = 0;\n    let i = 0;\n    for (const step of steps) {\n        let stepDis = getStepDist(stepTo, destination, step);\n        if (stepDis < min) {\n            min = stepDis;\n            index = i;\n        }\n        i++;\n    }\n    return steps[index];\n}\n\nconst getStepDist = (stepTo, destination, step) => {\n    const space = globalConfig.stepS;\n    // const dx = destination.x - (user.x + step[0] * space);\n    // const dy = destination.y - (user.y + step[1] * space);\n    const dx = destination.x - (stepTo.x + step[0] * space);\n    const dy = destination.y - (stepTo.y + step[1] * space);\n    return Math.sqrt(dx * dx + dy * dy);\n}\n\n\nexport const drawTextLoc = (p5) => {\n    p5.noStroke();\n    p5.fill(255, 0, 255);\n    p5.textSize(50);\n    const dx2 = p5.mouseX > window.innerWidth / 2 ? 50 : -50;\n    const dy2 = p5.mouseY > window.innerHeight / 2 ? 50 : -50;\n    const mx = roundToMult2((p5.mouseX - window.innerWidth / 2) + dx2, globalConfig.stepS);\n    const my = roundToMult2((p5.mouseY - window.innerHeight / 2) + dy2, globalConfig.stepS);\n    p5.text(mx + \" \" + my, p5.mouseX, p5.mouseY);\n}\n\n\nvar lastMouseMove = 0;\n\nexport const mouseDidMove = (p5) => {\n    return p5.pmouseX !== p5.mouseX || p5.pmouseY !== p5.mouseY;\n}\n\n\n\nexport const showMouseLoc = (isMobile, lastMouseMove, p5) => {\n    if (!isMobile && new Date() - lastMouseMove < 800) {\n        if (!p5.mouseIsPressed) { //!isWalking&& \n            let sc = globalConfig.stepS;\n            let sw = 10;\n            const dx2 = p5.mouseX > p5.windowWidth / 2 ? 50 : -50;\n            const dy2 = p5.mouseY > p5.windowHeight / 2 ? 50 : -50;\n            const mx = roundToMult2((p5.mouseX - p5.windowWidth / 2) + dx2, sc);\n            const my = roundToMult2((p5.mouseY - p5.windowHeight / 2) + dy2, sc);\n            p5.noStroke();\n            p5.noFill();\n            p5.strokeWeight(sw / 2);\n            p5.stroke(20, 0, 50, 25);\n            // p5.rect(mx+window.innerWidth/2-50+sw, my+window.innerHeight/2-50+sw, sc-sw*2, sc-sw*2, 10);\n            p5.ellipse(mx + p5.windowWidth / 2, my + p5.windowHeight / 2, sc - sw * 4);\n            p5.ellipse(mx + p5.windowWidth / 2, my + p5.windowHeight / 2, sc - sw * 6);\n            p5.ellipse(mx + p5.windowWidth / 2, my + p5.windowHeight / 2, sc - sw * 8);\n        }\n    }\n}\n\nexport const showUserEllipses = (userEase, destination, isWalking, p5) => {\n    // let sc = globalConfig.stepS;\n    let sw = 10;\n    p5.noStroke();\n    p5.noFill();\n    p5.strokeWeight(sw / 2);\n    p5.stroke(20, 0, 50, 55);\n    // p5.rect(mx+window.innerWidth/2-50+sw, my+window.innerHeight/2-50+sw, sc-sw*2, sc-sw*2, 10);\n    // p5.ellipse(window.innerWidth/2, window.innerHeight/2, sc-sw*2);\n    // p5.ellipse(window.innerWidth/2, window.innerHeight/2, sc-sw*4);\n    // p5.ellipse(window.innerWidth/2, window.innerHeight/2, sc-sw*6);\n\n    // const x = destination.x + p5.windowWidth / 2 - user.x;\n    // const y = destination.y + p5.windowHeight / 2 - user.y;\n    const x = destination.x + p5.windowWidth / 2 - userEase.x;\n    const y = destination.y + p5.windowHeight / 2 - userEase.y;\n    const lineL = 20;\n\n\n    if (isWalking) {\n        p5.line(x - lineL / 2, y - lineL / 2, x + lineL / 2, y + lineL / 2);\n        p5.line(x + lineL / 2, y - lineL / 2, x - lineL / 2, y + lineL / 2);\n    }\n}\n\nexport const showDestination = (userEase, destination, isWalking, p5) => {\n    if (isWalking) {\n        // lastMouseMove = new Date();\n        const sc = globalConfig.stepS;\n        p5.noStroke();\n        p5.noFill();\n        let sw = 10;\n        p5.noStroke();\n        p5.noFill();\n        p5.strokeWeight(5);\n        p5.stroke(20, 0, 50, 55);\n        // const x = destination.x + p5.windowWidth / 2 - user.x;\n        // const y = destination.y + p5.windowHeight / 2 - user.y;\n        const x = destination.x + p5.windowWidth / 2 - userEase.x;\n        const y = destination.y + p5.windowHeight / 2 - userEase.y;\n        const lineL = 20;\n        if (destination.x) {\n            p5.line(x - lineL / 2, y - lineL / 2, x + lineL / 2, y + lineL / 2);\n            p5.line(x + lineL / 2, y - lineL / 2, x - lineL / 2, y + lineL / 2);\n\n        }\n        // p5.rect(destination.x+window.innerWidth/2-user.x-50+sw, destination.y+window.innerHeight/2-user.y-50+sw,  sc-sw*2, sc-sw*2, 10);\n        // p5.ellipse(destination.x+window.innerWidth/2-user.x, destination.y+window.innerHeight/2-user.y,  sc-sw*2);\n        // p5.ellipse(destination.x+window.innerWidth/2-user.x, destination.y+window.innerHeight/2-user.y,  sc-sw*4);\n        // p5.ellipse(destination.x+window.innerWidth/2-user.x, destination.y+window.innerHeight/2-user.y,  sc-sw*6);\n    }\n}\n\n","\n\nimport { mouseToWorld, domCoordsToP5World } from \"../../constants\";\n\nexport function checkUserClicked(userEase, users, p5) {\n\n    for (const otherUser of users) {\n        if (otherUser.room === \"gallery\") {\n\n            let mouse = mouseToWorld(userEase, p5)\n            let userWorld = domCoordsToP5World(otherUser.x + 17, otherUser.y - 14)\n            let userChat = {};\n            userChat.x = userWorld.x + 23;\n            userChat.y = userWorld.y - 16;\n            let d = p5.dist(mouse.x, mouse.y, userWorld.x, userWorld.y);\n            let dChat = p5.dist(mouse.x, mouse.y, userChat.x, userChat.y);\n\n            if (d < 20 || dChat < 20) {\n                return otherUser;\n            }\n        }\n    }\n    return null;\n}\n\nexport function seeUserClicked(userEase, users, p5) {\n\n\n    for (const otherUser of users) {\n        if (otherUser.room === \"gallery\") {\n\n            let mouse = mouseToWorld(userEase, p5)\n            let userWorld = domCoordsToP5World(otherUser.x + 17, otherUser.y - 14)\n            let userChat = {};\n            userChat.x = userWorld.x + 23;\n            userChat.y = userWorld.y - 16;\n            let d = p5.dist(mouse.x, mouse.y, userWorld.x, userWorld.y);\n            let dChat = p5.dist(mouse.x, mouse.y, userChat.x, userChat.y);\n\n            p5.fill(0, 255, 0);\n\n            // if (otherUser.userName === \"cocktailBot\") console.log(d, mx, my, otherUser.x, otherUser.y)\n            if (d < 20 || dChat < 20) {\n                p5.fill(255, 0, 0);\n            }\n\n            p5.ellipse(userChat.x, userChat.y, 24, 24);\n        }\n    }\n    return null;\n}\n\n\nexport function drawUser(user, p5, imgs) {\n    const foodTime = 75*1000;\n\n    p5.fill(255);\n    p5.noStroke();\n    p5.push();\n    p5.textFont('times', 34);\n    p5.translate(p5.windowWidth / 2, p5.windowHeight / 2);\n    p5.text(user.avatar, -17, 17);\n\n    p5.translate(0, 16);\n    if (user.hasCheese && new Date() - user.hasCheese < foodTime) {\n        drawCheese(p5, imgs[0], imgs[1]);\n    }\n\n    if (user.hasWine && new Date() - user.hasWine < foodTime) {\n        drawWine(p5, imgs[2]);\n    }\n\n    if (user.hasCocktail && new Date() - user.hasCocktail < foodTime) {\n        drawCocktail(p5, imgs[3]);\n    }\n\n    p5.pop();\n}\n\nexport function drawUsers(userEase, users, dogica, p5, imgs) {\n    p5.fill(255);\n    p5.noStroke();\n    p5.textFont('times', 34);\n\n    for (const otherUser of users) {\n        if (otherUser.room === \"gallery\") {\n            let coord = domCoordsToP5World(otherUser.x, otherUser.y);\n            let ava = otherUser.avatar;\n\n\n            p5.push();\n            p5.translate(coord.x, coord.y);\n            p5.text(ava, 0, 0);\n\n            if (otherUser.hasCheese || otherUser.hasWine || otherUser.hasCocktail) {\n                p5.push();\n                p5.translate(0, 24);\n                drawLabel(p5, otherUser.userName, dogica);\n                p5.pop();\n            }\n            else drawLabel(p5, otherUser.userName, dogica);\n\n            p5.textFont('times');\n            p5.textSize(34);\n\n            if (p5.dist(otherUser.x, otherUser.y, userEase.x, userEase.y) < 150) {\n                drawChat(p5, imgs[4]);\n            }\n\n\n            if (otherUser.hasCheese) {\n                drawCheese(p5, imgs[0], imgs[1]);\n            }\n\n            if (otherUser.hasWine) {\n                drawWine(p5, imgs[2]);\n            }\n\n            if (otherUser.hasCocktail) {\n                drawCocktail(p5, imgs[3]);\n            }\n\n            p5.pop()\n        }\n\n    }\n}\n\nfunction drawLabel(p5, name, dogica) {\n    p5.textFont(dogica);\n    p5.textSize(10);\n    p5.noStroke();\n    p5.fill(255);\n    p5.rect(0, 0, p5.textWidth(name) + 6, 12, 3, 3);\n    p5.fill(0);\n    p5.text(name, 3, 10);\n}\n\nfunction drawChat(p5, chat) {\n    // p5.text(\"\", 22, -14);\n    p5.image(chat, 22, -54, 34, 34);\n}\n\nfunction drawCocktail(p5, wine) {\n    // p5.text(\"\", 20, 20);\n    p5.image(wine, 20, 0, 34, 34);\n}\n\nfunction drawCheese(p5, cheese, bread) {\n    // p5.text(\"\", -10, 24);\n    // p5.text(\"\", 10, 24);\n    p5.image(cheese, -10, 0, 34, 34);\n    p5.image(bread, 10, 0, 34, 34);\n}\n\nfunction drawWine(p5, wine) {\n    // p5.text(\"\", -20, 20);\n    p5.image(wine, -20, 0, 34, 34);\n}","\nimport { globalConfig } from \"../../constants\";\nimport { pools, limits, p5ToWorldCoords } from '../../constants';\n\nexport function drawPlantRow(x, y, w, h, img, p5) {\n    let sc = globalConfig.scaler;\n    let pt = p5ToWorldCoords(x, y);\n    \n    for (let i = 0; i < w; i++) {\n        p5.image(img, pt.x+sc*5*i, pt.y, 5 * sc, sc);\n    }\n    p5.noFill();\n    p5.stroke(255);\n    p5.strokeWeight(2);\n    for (let r = 0; r < h; r++) {\n        for (let c = 0; c < w*5; c++) {\n            p5.rect(pt.x + c*sc, pt.y + r*sc, sc, sc);\n        }\n    }\n}\n\nexport function drawPools(poolImg, p5) {\n    let sc = globalConfig.scaler;\n    const w = 5 * sc;\n    const h = 5 * sc;\n    for (let i = 0; i < 3; i++) {\n        const x = pools[i].x * sc;\n        const y = pools[i].y * sc;\n        p5.image(poolImg, x, y, w, h)\n    }\n}\n\n\nexport function drawGrassPatch(grass0, grass1, p5) {\n    let sc = globalConfig.scaler;\n    const w = 5 * sc;\n    const h = 5 * sc;\n    for (let i = 0; i < 3; i++) {\n        const x = pools[i].x * sc;\n        const y1 = (pools[i].y + 5) * sc;\n        const y = pools[i].y * sc;\n        p5.image(grass1, x, y, w, h)\n        p5.image(grass0, x, y1, w, h)\n        p5.noFill();\n        p5.stroke(255);\n        p5.strokeWeight(2);\n        p5.rect(x, y, w, h);\n        p5.rect(x, y1, w, h);\n    }\n\n    const xx = pools[2].x * sc + sc * 5;\n    const yy = (pools[2].y + 5) * sc;\n    p5.image(grass1, xx, yy, w, h)\n    p5.rect(xx, yy, w, h);\n\n    drawShrubPatch(grass0, p5);\n}\n\n// export function drawShrubPatch(ivies, p5) {\n\n// }\n\nexport function drawShrubPatch(shrub, p5) {\n    let sc = globalConfig.scaler;\n    const w = 5 * sc;\n    const h = 5 * sc;\n\n    p5.noFill();\n    p5.stroke(255);\n    p5.strokeWeight(2);\n\n\n    var xx = (limits[0].x) * sc;\n    var yy = (limits[2].y - 5) * sc;\n    p5.image(shrub, xx, yy, w, h)\n    p5.rect(xx, yy, w, h);\n\n    xx = (limits[0].x) * sc;\n    yy = (limits[2].y - 10) * sc;\n    p5.image(shrub, xx, yy, w, h)\n    p5.rect(xx, yy, w, h);\n\n    xx = (limits[0].x + 5) * sc;\n    yy = (limits[2].y - 5) * sc;\n    p5.image(shrub, xx, yy, w, h)\n    p5.rect(xx, yy, w, h);\n\n\n}\n\nexport function poolBoundaryCrossing(userX, userY) {\n    // let sc = globalConfig.scaler;\n\n    // const w = 5*sc;\n    // const h = 5*sc;\n    // for (let i = 0; i < pools.length; i++) {\n    //     const x = pools[i].x * sc + sc;\n    //     const y = pools[i].y * sc + sc;\n    //     if (userX > x && userX < x + w && userY > y && userY < y+ h)\n    //         return true;\n    // }\n    return false;\n}","export default class Button {\n\n    constructor(x, y, p5) {\n        this.r = 10;\n        this.x = x;\n        this.y = y;\n        this.p5 = p5;\n    }\n\n    display(mx, my) {\n        this.p5.stroke(255);\n        this.p5.strokeWeight(2);\n        this.p5.noFill();\n\n        if (this.mouseOver(mx, my)) {\n            this.p5.fill(255);\n        }\n        this.p5.ellipse(this.x, this.y, this.r);\n    }\n\n    mouseOver(mx, my) {\n        let d = this.p5.dist(mx, my, this.x, this.y);\n        return d < this.r/2;\n    }\n\n\n}\n\n","import Button from './Button';\nimport { globalConfig, mouseToWorld } from \"../../../constants\";\n\nexport default class Draggable {\n  constructor(id, x, y, w, h, p5, content) {\n    this.p5 = p5;\n    this.x = x;\n    this.y = y;\n    this.w = w;\n    this.h = h;\n    this.id = id;\n    this.origX = this.x;\n    this.origY = this.y;\n    this.offsetX = 0;\n    this.offsetY = 0;\n    this.toolbarH = 25;\n    // this.opacity = p5.map(this.id, 0, 20, 0, 1);\n    this.startDrag = { x: 0, y: 0 };\n    this.startDragCoords = { x: 0, y: 0 };\n\n    this.dragging = false;\n    this.locked = false;\n\n    this.closed = false;\n    this.minimized = false;\n\n    this.barH = 26;\n    this.bRad = 10;\n\n    let xp = 15;\n    let yp = 12;\n    let sp = 20;\n    this.closeButton = new Button(xp, yp, p5);\n    this.minButton = new Button(xp + sp, yp, p5);\n    this.maxButton = new Button(xp + sp * 2, yp, p5);\n\n    this.content = content;\n    // this.mask;\n    // this.initMask();\n  }\n\n  initMask() {\n    this.mask = this.p5.createGraphics(this.w, this.h+this.barH);\n    this.mask.background(0);\n    this.mask.fill(255);\n    this.mask.noStroke();\n    // this.mask.rect(0, 0, this.w, this.h, this.bRad, this.bRad);\n    this.mask.ellipse(this.w/2, this.h/2, 50, 50);\n    if (this.content && this.content.width > 0) {\n   \n      this.content.mask(this.mask);\n    }\n  }\n\n  display(userX, userY) {\n    this.p5.push();\n    this.p5.translate(this.x, this.y);\n    if (!this.closed) {\n      if (!this.minimized) this.displayContent(userX, userY);\n    }\n    this.p5.pop();\n  }\n\n  displayToolBar(userX, userY) {\n    this.p5.push();\n    this.p5.translate(this.x, this.y);\n    if (!this.closed) {\n      this.p5.fill(0);\n      this.p5.noStroke();\n      if (!this.minimized) this.p5.rect(0, 10, this.w, (this.barH - 10));\n      this.p5.rect(0, 0, this.w, this.barH, this.bRad);\n\n      let gx = globalConfig.x * globalConfig.scaler;\n      let gy = globalConfig.y * globalConfig.scaler;\n      let mx = this.p5.mouseX + userX - gx - this.p5.windowWidth / 2 - this.x;\n      let my = this.p5.mouseY + userY - gy - this.p5.windowHeight / 2 - this.y;\n\n      this.closeButton.display(mx, my);\n      this.minButton.display(mx, my);\n      this.maxButton.display(mx, my);\n    }\n    this.p5.pop();\n  }\n\n  displayContent(userX, userY) {\n    // this.p5.fill(255);\n    this.p5.push();\n   \n    this.p5.translate(0, this.barH);\n    this.p5.image(this.content, 0, 0, this.w, this.h);\n    this.p5.pop();\n    this.displayFrame();\n    \n  }\n\n  displaySolidBack(col) {\n    this.p5.fill(col);\n    this.p5.stroke(0);\n    this.p5.strokeWeight(2);\n    this.p5.rect(0, 0, this.w, this.h + this.barH, this.bRad);\n  }\n\n  displayFrame() {\n    this.p5.noFill();\n    this.p5.stroke(0);\n    this.p5.strokeWeight(2);\n    this.p5.rect(0, 0, this.w, this.h + this.barH, this.bRad);\n  }\n\n  checkButtons(userX, userY) {\n    if (this.closed) \n      return false;\n    let mouse = mouseToWorld({x: userX, y: userY}, this.p5);\n    mouse.x -= this.x;\n    mouse.y -= this.y;\n    if (this.closeButton.mouseOver(mouse.x, mouse.y)) {\n      this.closeWindow();\n      return true;\n    }\n    else if (this.minButton.mouseOver(mouse.x, mouse.y)) {\n      this.toggleMinimze();\n      return true;\n    }\n    else if (this.maxButton.mouseOver(mouse.x, mouse.y)) {\n      this.maximizeWindow();\n      return true;\n    }\n    return false;\n  }\n\n  checkDragging(userX, userY) {\n    if (this.closed) \n      return false;\n    let mouse = mouseToWorld({x: userX, y: userY}, this.p5);\n    // console.log(mx, my, userX, userY, this.x, this.y);\n    if (this.overToolBar(mouse.x, mouse.y)) {\n      // console.log(\"over toolbar\");\n      // this.draggingOn(mx, my);\n      this.dragging = true;\n      this.startDrag.x = this.p5.mouseX;\n      this.startDrag.y = this.p5.mouseY;\n      this.startDragCoords.x = this.x;\n      this.startDragCoords.y = this.y;\n      return true;\n    }\n    return false;\n  }\n\n  overToolBar(mx, my) {\n    return mx > this.x && mx < this.x + this.w && my > this.y && my < this.y + this.barH;\n  }\n\n  // draggingOn(mx, my) {\n  //   // dragging.dragging = true;\n  //   this.offsetX = this.p5.mouseX - this.startDrag.x;\n  //   this.offsetY = this.p5.mouseY - this.startDrag.y;\n  // }\n\n  endDrag() {\n    this.dragging = false;\n  }\n\n  update() {\n    if (this.dragging) {\n      this.offsetX = this.p5.mouseX - this.startDrag.x;\n      this.offsetY = this.p5.mouseY - this.startDrag.y;\n\n      this.x = this.startDragCoords.x + this.offsetX;\n      this.y = this.startDragCoords.y + this.offsetY;\n    }\n  }\n\n  toggleCloseWindow(div) {\n    this.locked = !this.locked;\n    this.closeWindow(div);\n  }\n\n  openWindow() {\n    this.closed = false;\n    this.minimized = false;\n    this.locked = false; // ? what does this do\n  }\n\n  closeWindow() {\n    // div.style(\"display\", \"none\");\n    this.closed = true;\n  }\n\n  maximizeWindow() {\n    this.x = this.origX;\n    this.y = this.origY;\n    this.offsetX = 0;\n    this.offsetY = 0;\n  }\n\n  resetWindow(div = this.div) {\n    this.x = this.origX;\n    this.y = this.origY;\n    this.locked = false;\n    this.closeWindow(div);\n    div.position(this.x, this.y);\n    div.style(\"display\", \"block\");\n    this.minimized = false;\n    this.minimizeWindow(this.content);\n    this.setSize(400);\n  }\n\n  toggleMinimze() {\n    this.minimized = !this.minimized;\n  }\n}\n","import Draggable from './Draggable/Draggable';\nimport { domCoordsToP5World, mouseToWorld } from '../../constants';\n\n\nexport default class Folder extends Draggable {\n\n    constructor(p5, id, x, y, label, link, img) {\n        super(id, x, y, 80, 80, p5, img);\n        let point = domCoordsToP5World(x, y);\n        this.x = point.x;\n        this.y = point.y;\n        this.label = label;\n        this.link = link;\n        this.img = img;\n        this.tw = 40;\n    }\n\n\n\n    display() {\n        this.p5.push();\n        this.p5.translate(this.x, this.y);\n        this.p5.image(this.img, 0, 0, this.w, this.h);\n        this.drawLabel();\n        this.p5.pop();\n    }\n\n    drawLabel() {\n\n        this.p5.push()\n\n        this.tw = this.p5.textWidth(this.label);\n        this.p5.translate(this.w / 2 - this.tw / 2, this.h + 16);\n\n        // back text\n        this.p5.stroke(0);\n        this.p5.strokeWeight(1);\n        this.p5.fill(0);\n        this.p5.text(this.label, 0, 0);\n\n        // white text\n        this.p5.noStroke();\n        this.p5.fill(255);\n        this.p5.text(this.label, 0, 0);\n\n        this.p5.pop();\n    }\n\n    checkDragging(userX, userY) {\n        let mouse = mouseToWorld({ x: userX, y: userY }, this.p5);\n        // console.log(mx, my, userX, userY, this.x, this.y);\n        if (this.checkOver(mouse.x, mouse.y)) {\n            // console.log(\"over toolbar\");\n            // this.draggingOn(mx, my);\n            this.dragging = true;\n            this.startDrag.x = this.p5.mouseX;\n            this.startDrag.y = this.p5.mouseY;\n            this.startDragCoords.x = this.x;\n            this.startDragCoords.y = this.y;\n            return true;\n        }\n        return false;\n    }\n\n    checkOver = (mx, my) => {\n        if (mx > this.x && mx < this.x + this.w && my > this.y && my < this.y + this.h)\n            return true;\n        // check label\n\n        let xLab = this.x + this.w / 2 - this.tw / 2;\n        if (mx > xLab && mx < xLab + this.tw && my > this.y + this.h + 14 && my < this.y + this.h + 14 * 2)\n            return true;\n        return false;\n    }\n\n    checkDoubleClicked = (userX, userY) => {\n        let mouse = mouseToWorld({ x: userX, y: userY }, this.p5);\n        // console.log(mx, my, userX, userY, this.x, this.y);\n        if (this.checkOver(mouse.x, mouse.y)) {\n            this.openInNewTab(this.link);\n        }\n    }\n\n    openInNewTab = (url) => {\n        var win = window.open(url, '_blank');\n        win.focus();\n    }\n}\n","import Draggable from './Draggable';\n\nexport default class ShadowDraggable extends Draggable {\n\n    constructor(id, x, y, w, h, p5, content, shadow) {\n        super(id, x, y, w, h, p5, content);\n        this.shadow = shadow;\n    }\n\n\n\n    displayContent(userX, userY) {\n        this.displayShadow();\n        super.displayContent(userX, userY);\n    }\n\n    displayShadow() {\n\n        var backW = this.w * 1.25;\n        var backH = this.h * 1.2;\n\n        var backY = 0;\n\n        this.p5.push();\n        this.p5.translate(0, this.barH);\n        this.p5.image(this.shadow, 0, backY, backW, backH);\n        this.p5.pop();\n    }\n\n}\n","import { globalConfig } from '../../constants';\n\n// takes 4 points\nexport function intersectionPoint(x1, y1, x2, y2, x3, y3, x4, y4) {\n  var ua, ub, denom = (y4 - y3) * (x2 - x1) - (x4 - x3) * (y2 - y1);\n  if (denom == 0) {\n    return null;\n  }\n  ua = ((x4 - x3) * (y1 - y3) - (y4 - y3) * (x1 - x3)) / denom;\n  ub = ((x2 - x1) * (y1 - y3) - (y2 - y1) * (x1 - x3)) / denom;\n  return {\n    x: x1 + ua * (x2 - x1),\n    y: y1 + ua * (y2 - y1),\n    seg1: ua >= 0 && ua <= 1,\n    seg2: ub >= 0 && ub <= 1\n  };\n}\n\nexport function doorCrossing(nextPos, door, config = { x: 0, y: 0, scaler: 1 }) {\n  if (!nextPos || !door) return null;\n  var door = { ...door };\n  door.x0 = (door.x0 + config.x) * config.scaler;\n  door.y0 = (door.y0 + config.y) * config.scaler;\n  door.x1 = (door.x1 + config.x) * config.scaler;\n  door.y1 = (door.y1 + config.y) * config.scaler;\n  // if (intersects(pos.x,pos.y,nextPos.x,nextPos.y,points[p].x,points[p].y,points[p+1].x,points[p+1].y)) {\n  if (intersects(nextPos.x, nextPos.y, door.x0, door.y0, door.x1, door.y1, globalConfig.stepS / 2)) {\n    return door.to;\n  }\n  return null;\n}\n\nexport function doorLineCrossing(pos, nextPos, door, config = { x: 0, y: 0, scaler: 1 }) {\n  if (!pos || !nextPos || !door) return null;\n  var door = { ...door };\n  door.x0 = (door.x0 + config.x) * config.scaler;\n  door.y0 = (door.y0 + config.y) * config.scaler;\n  door.x1 = (door.x1 + config.x) * config.scaler;\n  door.y1 = (door.y1 + config.y) * config.scaler;\n  \n  if (intersectsOG(pos.x, pos.y, nextPos.x, nextPos.y, door.x0, door.y0, door.x1, door.y1)) {\n    // if (intersects(nextPos.x,nextPos.y,door.x0,door.y0,door.x1,door.y1, globalConfig.stepS/2)) {\n    return door.to;\n  }\n  return null;\n}\n\nexport function boundaryCrossing(nextPos, boundary, config = { x: 0, y: 0, scaler: 1 }) {\n  if (!nextPos || !boundary) return false;\n  for (let p = 0; p < boundary.length - 1; p++) {\n    const point0 = { ...boundary[p] };\n    const point1 = { ...boundary[p + 1] };\n    point0.x = (point0.x + config.x) * config.scaler;\n    point0.y = (point0.y + config.y) * config.scaler;\n    point1.x = (point1.x + config.x) * config.scaler;\n    point1.y = (point1.y + config.y) * config.scaler;\n\n\n    // if (intersects(pos.x,pos.y,nextPos.x,nextPos.y,points[p].x,points[p].y,points[p+1].x,points[p+1].y)) {\n    if (intersects(nextPos.x, nextPos.y, point0.x, point0.y, point1.x, point1.y, globalConfig.stepS / 2)) {\n      // console.log(\"boundc\", nextPos.x, nextPos.y, point0.x, point0.y, point1.x, point1.y)\n      return true;\n    }\n  }\n\n  return false;\n}\n\nexport function boundaryLineCrossing(pos, nextPos, boundary, config = { x: 0, y: 0, scaler: 1 }) {\n  if (!pos || !nextPos || !boundary) return false;\n  for (let p = 0; p < boundary.length - 1; p++) {\n    const point0 = { ...boundary[p] };\n    const point1 = { ...boundary[p + 1] };\n    point0.x = (point0.x + config.x) * config.scaler;\n    point0.y = (point0.y + config.y) * config.scaler;\n    point1.x = (point1.x + config.x) * config.scaler;\n    point1.y = (point1.y + config.y) * config.scaler;\n    // if (title == \"wet-streams\") console.log(\"boundlinec\", pos.x, pos.y, nextPos.x, nextPos.y, point0, point1);\n    // console.log(point0.x, point0.y, point1.x, point1.y, nextPos.x, nextPos.y)\n\n    if (intersectsOG(pos.x, pos.y, nextPos.x, nextPos.y, point0.x, point0.y, point1.x, point1.y)) {\n      // if (title == \"wet-streams\") console.log(\"woo\", id, pos.x, pos.y, nextPos.x, nextPos.y, point0, point1);\n      // if (intersects(nextPos.x,nextPos.y,point0.x,point0.y,point1.x,point1.y, globalConfig.stepS/2)) {\n\n      return true;\n    }\n  }\n\n  return false;\n}\n\n//https://stackoverflow.com/questions/9043805/test-if-two-lines-intersect-javascript-function\n// returns true if the line from (a,b)->(c,d) intersects with (p,q)->(r,s)\n// function intersectsOG(a,b,c,d,p,q,r,s) {\n//   var det, gamma, lambda;\n//   det = (c - a) * (s - q) - (r - p) * (d - b);\n//   if (det === 0) {\n//     return false;\n//   } else {\n//     lambda = ((s - q) * (r - a) + (p - r) * (s - b)) / det;\n//     gamma = ((b - d) * (r - a) + (c - a) * (s - b)) / det;\n//     return (0 < lambda && lambda < 1) && (0 < gamma && gamma < 1);\n//   }\n// };\n\n//https://gist.github.com/lengstrom/8499382\nfunction intersectsOG(x1, y1, x2, y2, x3, y3, x4, y4) {\n\n  var a1, a2, b1, b2, c1, c2;\n  var r1, r2, r3, r4;\n  var denom, offset, num;\n\n  // Compute a1, b1, c1, where line joining points 1 and 2\n  // is \"a1 x + b1 y + c1 = 0\".\n  a1 = y2 - y1;\n  b1 = x1 - x2;\n  c1 = (x2 * y1) - (x1 * y2);\n\n  // Compute r3 and r4.\n  r3 = ((a1 * x3) + (b1 * y3) + c1);\n  r4 = ((a1 * x4) + (b1 * y4) + c1);\n\n  // Check signs of r3 and r4. If both point 3 and point 4 lie on\n  // same side of line 1, the line segments do not intersect.\n  if ((r3 !== 0) && (r4 !== 0) && sameSign(r3, r4)) {\n    return 0; //return that they do not intersect\n  }\n\n  // Compute a2, b2, c2\n  a2 = y4 - y3;\n  b2 = x3 - x4;\n  c2 = (x4 * y3) - (x3 * y4);\n\n  // Compute r1 and r2\n  r1 = (a2 * x1) + (b2 * y1) + c2;\n  r2 = (a2 * x2) + (b2 * y2) + c2;\n\n  // Check signs of r1 and r2. If both point 1 and point 2 lie\n  // on same side of second line segment, the line segments do\n  // not intersect.\n  if ((r1 !== 0) && (r2 !== 0) && (sameSign(r1, r2))) {\n    return 0; //return that they do not intersect\n  }\n\n  //Line segments intersect: compute intersection point.\n  denom = (a1 * b2) - (a2 * b1);\n\n  //collinear\n  if (denom === 0) {\n    const xBet = (x1 >= x3 && x1 <= x4 || x2 >= x3 && x2 <= x4 || x3 <= x1 && x3>=x2 );\n    const yBet = (y1 >= y3 && y1 <= y4 || y2 >= y3 && y2 <= y4 || y3 <= y1 && y3>=y2 );\n    if (xBet && yBet ) {\n      return 1;\n    }\n    // console.log(\"denom0, nope\")\n    return 0; \n  }\n\n  // lines_intersect\n  return 1; //lines intersect, return true\n}\n\nfunction sameSign(a, b) {\n  return Math.sign(a) == Math.sign(b);\n}\n\n// point p intersects with a line defined between two points, l0 and l1\nfunction intersects(px, py, l0x, l0y, l1x, l1y, w) {\n  return distToSegment({ x: px, y: py }, { x: l0x, y: l0y }, { x: l1x, y: l1y }) < w;\n}\n\nfunction sqr(x) { return x * x }\nfunction dist2(v, w) { return sqr(v.x - w.x) + sqr(v.y - w.y) }\nfunction distToSegmentSquared(p, v, w) {\n  var l2 = dist2(v, w);\n  if (l2 == 0) return dist2(p, v);\n  var t = ((p.x - v.x) * (w.x - v.x) + (p.y - v.y) * (w.y - v.y)) / l2;\n  t = Math.max(0, Math.min(1, t));\n  return dist2(p, {\n    x: v.x + t * (w.x - v.x),\n    y: v.y + t * (w.y - v.y)\n  });\n}\nfunction distToSegment(p, v, w) { return Math.sqrt(distToSegmentSquared(p, v, w)); }\n","import Draggable from './Draggable/Draggable';\nimport { doorLineCrossing } from './Boundaries';\nimport { domCoordsToP5World, outsideDoors, globalConfig } from '../../constants';\n\nexport default class Door extends Draggable {\n\n  constructor(p5, id, imgs) {\n    super(id, 0, 0, 0, 0, p5, null);\n    this.isFlipped = this.id === 1;\n\n    this.scaler = globalConfig.scaler/100;\n    if (this.isFlipped) {\n      this.w = 180;\n      this.h = 500;\n    }\n    else {\n      this.w = 500;\n      this.h = 180;\n    }\n    this.w *= this.scaler;\n    this.h *= this.scaler;\n    this.point = outsideDoors[id];\n    this.x = this.point.x0 * globalConfig.scaler;\n    this.y = this.point.y0 * globalConfig.scaler;\n\n    if (this.id === 2) {\n      this.x -= 150*this.scaler;\n      this.y -= this.h + 24;\n    }\n    else if (!this.isFlipped) {\n      this.x -= 180*this.scaler;\n      this.y -= this.h + 24;\n\n    }\n    else {\n      this.x -= 2;\n      this.y -= this.w + 34;\n    }\n    this.config = globalConfig;\n\n    this.imgs = imgs;\n\n    this.isOpen = true;\n    this.openAmt = 0;\n\n\n  }\n\n  checkOpen(user, users) {\n\n    // if (!this.isFlipped) {\n    let coord = domCoordsToP5World(user.x, user.y);\n    if (this.p5.dist(coord.x, coord.y, this.x + this.w / 2, this.y + this.h / 2) < 250) {\n      return true;\n    }\n    for (const usr of users) {\n      let coord = domCoordsToP5World(usr.x, usr.y);\n      if (this.p5.dist(coord.x, coord.y, this.x + this.w / 2, this.y + this.h / 2) < 250) {\n\n        return true;\n      }\n    }\n    return false;\n    // }\n  }\n\n  openDoor(user, users, isPanGallery) {\n    let maxOpen = 124*this.scaler;\n    if (isPanGallery) {\n      this.openAmt = maxOpen;\n    }\n    else {\n      this.isOpen = this.checkOpen(user, users);\n      let speed = 10;\n      if (this.isOpen) {\n        this.openAmt += speed;\n        if (this.openAmt > maxOpen)\n          this.openAmt = maxOpen;\n      }\n      else {\n        this.openAmt -= speed;\n        if (this.openAmt < 0)\n          this.openAmt = 0;\n      }\n    }\n    \n  }\n\n  display(userX, userY, isClosed, closedSign) {\n    this.p5.push();\n    this.p5.translate(this.x, this.y);\n    if (!this.closed) {\n      if (!this.minimized) this.displayContent(userX, userY, isClosed, closedSign);\n    }\n    this.p5.pop();\n  }\n\n  displayContent(userX, userY, isClosed, closedSign) {\n\n    let dAmt = this.openAmt;\n    if (isClosed)\n      dAmt = 0;\n    let w = this.w;\n    let h = this.h;\n    if (this.isFlipped) {\n      w = this.h;\n      h = this.w;\n    }\n\n    this.p5.push();\n    if (this.isFlipped) {\n      this.p5.rotate(Math.PI / 2);\n      this.p5.translate(26, -h);\n    }\n    else this.p5.translate(0, 26);\n    this.p5.image(this.imgs[0], 0, 0, w, h);\n    this.p5.image(this.imgs[1], -dAmt, 0, w, h);\n    this.p5.push();\n    this.p5.scale(-1, 1);\n    this.p5.image(this.imgs[1], -dAmt - w, 0, w, h);\n    this.p5.pop();\n\n    if (isClosed) {\n      let sW = closedSign.width*.4;\n      let sH =closedSign.height*.4;\n      this.p5.image(closedSign, (w-sW)/2, (h-sH)/2, sW, sH)\n    }\n    this.p5.pop();\n  }\n\n  displayLine(p5 = this.p5, scaler = this.config.scaler) {\n    p5.line(this.point.x0 * scaler, this.point.y0 * scaler, this.point.x1 * scaler, this.point.y1 * scaler);\n  }\n\n  doorCrossing(prevStop, userStep) {\n    return doorLineCrossing(prevStop, userStep, this.point, this.config);\n  }\n}\n","export default class ButtonSq {\n\n    constructor(x, y, r, p5) {\n        this.r = r;\n        this.x = x;\n        this.y = y;\n        this.p5 = p5;\n    }\n\n    display(isChecked, mx, my) {\n        this.p5.push();\n        this.p5.translate(this.x, this.y);\n        this.p5.noFill();\n\n        // if (this.mouseOver(mx, my)) {\n        //     this.p5.fill(255, 0, 0);\n        // }\n        // else \n        if (isChecked) {\n            this.p5.noStroke();\n            this.p5.fill('#026ef0');\n        }\n        else {\n            this.p5.stroke(0, 100);\n            this.p5.strokeWeight(1);\n            this.p5.fill(255);\n        }\n\n        this.p5.rect(0, 0, this.r, this.r, 2, 2);\n\n        // check\n        if (isChecked) {\n            this.p5.stroke(255);\n            this.p5.strokeWeight(2.5);\n            let x0 = 4.5;\n            let y0 = this.r - 6.5;\n            let x1 = x0 + 2;\n            let y1 = y0 + 2.5;\n            let x2 = x1 + 4.5;\n            let y2 = y1 - 7;\n            this.p5.line(x0, y0, x1, y1);\n            this.p5.line(x1, y1, x2, y2);\n        }\n        this.p5.pop();\n    }\n\n    mouseOver(mx, my) {\n        return (mx > this.x && mx < this.x + this.r && my > this.y && my < this.y + this.r)\n    }\n\n\n}\n\n","import Draggable from './Draggable/Draggable';\nimport { lightsOG, globalConfig, mouseToWorld } from '../../constants';\nimport ButtonSq from './Draggable/ButtonSq';\n\nexport default class Light extends Draggable {\n\n    constructor(p5, id, imgs) {\n        super(id, 0, 0, 80, 300, p5, null);\n\n        this.scaler = globalConfig.scaler / 100;\n\n        if (this.scaler < .84)\n            this.scaler = .84;\n        this.w *= this.scaler;\n        this.h *= this.scaler;\n\n        this.isFlipped = this.id !== 0;\n\n        const point = lightsOG[id];\n        this.x = point.x * globalConfig.scaler;\n        this.y = point.y * globalConfig.scaler;\n\n        this.imgs = imgs;\n\n        this.isOn = true;\n\n        let wb = 15;\n        this.button = new ButtonSq((this.w - wb) / 2, this.h - 15 * this.scaler, wb, p5);\n    }\n\n    checkButtons(userX, userY) {\n        if (super.checkButtons(userX, userY))\n            return true;\n        else if (this.checkButton(userX, userY))\n            return true;\n        return false;\n    }\n\n    checkButton(userX, userY) {\n        let mouse = mouseToWorld({ x: userX, y: userY }, this.p5);\n        mouse.x -= this.x;\n        mouse.y -= this.y;\n        if (this.button.mouseOver(mouse.x, mouse.y)) {\n            this.toggleLights();\n            return true;\n        }\n        return false;\n    }\n\n    displayButton(userX, userY) {\n        let mouse = mouseToWorld({ x: userX, y: userY }, this.p5);\n        mouse.x -= this.x;\n        mouse.y -= this.y;\n        this.button.display(this.isOn, mouse.x, mouse.y);\n    }\n\n    toggleLights() {\n        this.isOn = !this.isOn;\n    }\n\n    displayContent(userX, userY) {\n        this.p5.push();\n\n        var img, imgBack, backW, backH, backY;\n        if (this.isOn) {\n            img = this.imgs[0];\n            imgBack = this.imgs[1];\n\n            backW = imgBack.width * .8;\n            backH = imgBack.height * 1.3;\n            backY = 0;\n        }\n\n        else {\n            img = this.imgs[2];\n            imgBack = this.imgs[3];\n\n            backW = imgBack.width * .8;\n            backH = imgBack.height * 1.5;\n            backY = -30;\n        }\n\n        backW *= this.scaler;\n        backH *= this.scaler;\n\n        let x = 10 * this.scaler;\n        let dy = 90 * this.scaler;\n        let w = 50 * this.scaler;\n        let h = 150 * this.scaler;\n\n\n\n        if (this.isFlipped) {\n            // shadow / glow\n            this.p5.push();\n            this.p5.translate(0, this.barH);\n            this.p5.image(imgBack, 0, backY, backW, backH);\n            this.p5.pop();\n\n            this.displaySolidBack(this.p5.color(255));\n            this.p5.translate(0, this.barH);\n\n            this.p5.push();\n            this.p5.translate(x, 0);\n            this.p5.scale(-1, 1);\n            this.p5.image(img, -w, 0, w, h);\n            this.p5.translate(0, dy);\n            this.p5.image(img, -w, 0, w, h);\n            this.p5.pop();\n        }\n        else {\n\n            // shadow / glow\n            this.p5.push();\n            this.p5.translate(0, this.barH);\n            this.p5.scale(-1, 1);\n            this.p5.image(imgBack, -backW + 20, backY, backW, backH);\n            this.p5.pop();\n\n            this.displaySolidBack(this.p5.color(255));\n            this.p5.translate(0, this.barH);\n\n            this.p5.push();\n            this.p5.translate(x, 0);\n            this.p5.image(img, 0, 0, w, h);\n            this.p5.translate(0, dy);\n            this.p5.image(img, 0, 0, w, h);\n            this.p5.pop();\n        }\n\n\n\n        this.p5.pop();\n        this.displayFrame();\n        this.displayButton(userX, userY);\n    }\n\n\n\n\n}\n","import Draggable from './Draggable/Draggable';\nimport { wineLocation, djLocation, domCoordsToP5World } from '../../constants';\n\nexport default class Bar extends Draggable {\n\n    constructor(id, shadow, p5) {\n        super(id, 0, 0, 0, 0, p5, null);\n\n        this.shadow = shadow;\n\n        // cheese\n        if (id === 0) {\n            this.img0 = p5.loadImage(\"https://lmd-bucket.s3.us-east-2.amazonaws.com/sketches/gallery/emojis/bread.png\");\n            this.img1 = p5.loadImage(\"https://lmd-bucket.s3.us-east-2.amazonaws.com/sketches/gallery/emojis/cheese.png\");\n        }\n        // wine\n        else if (id === 1)\n            this.img0 = p5.loadImage(\"https://lmd-bucket.s3.us-east-2.amazonaws.com/sketches/gallery/emojis/wine.png\");\n        // cocktail\n        else if (id === 2)\n            this.img0 = p5.loadImage(\"https://lmd-bucket.s3.us-east-2.amazonaws.com/sketches/gallery/emojis/cocktail.png\");\n        // dj\n        else {\n            this.img0 = p5.loadImage(\"https://lmd-bucket.s3.us-east-2.amazonaws.com/sketches/gallery/emojis/knobs.png\");\n            this.img1 = p5.loadImage(\"https://lmd-bucket.s3.us-east-2.amazonaws.com/sketches/gallery/emojis/microphone.png\");\n            this.img2 = p5.loadImage(\"https://lmd-bucket.s3.us-east-2.amazonaws.com/sketches/gallery/emojis/speaker.png\");\n        }\n\n        // cheese, wine, cocktail\n        if (id < 3) {\n            var bar = wineLocation[id];\n            var point = domCoordsToP5World(bar.x, bar.y);\n            this.x = point.x;\n            this.y = point.y;\n            this.w = 86;\n            this.h = bar.h;\n            this.isFlipped = false; //bar.flipped;\n\n        }\n\n        else {\n            var bar = djLocation;\n            var point = domCoordsToP5World(bar.x, bar.y);\n\n            // var point = domCoordsToP5World(0, 0);\n            this.x = point.x;\n            this.y = point.y;\n            this.w = 210;\n            this.h = 52;\n            this.isFlipped = true;\n        }\n\n        if (id > 0 && id < 3)\n            this.h += 25;\n\n\n    }\n\n\n\n    displayContent(userX, userY) {\n        this.p5.push();\n\n\n        // shadow / glow\n        this.displayShadow();\n\n        this.displaySolidBack(this.p5.color(255));\n        this.p5.translate(0, this.barH);\n\n        this.p5.push();\n        // this.p5.scale(-1, 1);\n        this.p5.translate(5, 40);\n        this.displayBarContents();\n\n        this.p5.pop();\n\n\n        this.p5.pop();\n\n        this.displayFrame();\n    }\n\n    displayShadow() {\n\n        var backW = this.w * 1.25;\n        var backH = this.h * 1.2;\n        if (this.isFlipped) {\n            backW = this.w * 1.17;\n            backH = this.h * 1.25;\n        }\n        var backY = 0;\n\n        this.p5.push();\n        this.p5.translate(0, this.barH);\n        this.p5.image(this.shadow, 0, backY, backW, backH);\n        this.p5.pop();\n    }\n\n    displayBarContents() {\n        this.p5.textFont('times');\n        this.p5.textSize(34);\n        if (this.id === 0)\n            this.displayCheese();\n        else if (this.id === 1)\n            this.displayBev();\n        else if (this.id === 2)\n            this.displayBev();\n        else\n            this.displayDJ();\n    }\n\n    displayCheese() {\n        let sz = 34;\n        for (let i = 0; i < 6; i++) {\n            this.p5.image(this.img0, 0, i * 40 - 30, sz, sz);\n            this.p5.image(this.img1, 40, i * 40 - 30, sz, sz);\n        }\n\n    }\n\n    // displayWine() {\n    //     let sz = 34;\n    //     for (let i = 0; i < 4; i++) {\n    //         // this.p5.text(\"\", 0, i * 40);\n    //         // this.p5.text(\"\", 40, i * 40);\n    //         this.p5.image(this.img0, 0, i * 40, sz, sz);\n    //         this.p5.image(this.img0, 40, i * 40, sz, sz);\n    //     }\n\n    // }\n\n    displayBev() {\n        let sz = 34;\n        for (let i = 0; i < 4; i++) {\n            // this.p5.text(\"\", 0, i * 40);\n            // this.p5.text(\"\", 40, i * 40);\n            this.p5.image(this.img0, 0, i * 40 - 30, sz, sz);\n            this.p5.image(this.img0, 40, i * 40 - 30, sz, sz);\n        }\n\n    }\n\n\n    displayDJ() {\n        // let emojis = \"\";\n        // this.p5.text(emojis, 0, 0);\n        let y = -33;\n        let xsp = 34;\n        let sz = 34;\n        this.p5.image(this.img2, 0, y, sz, sz);\n        this.p5.image(this.img0, xsp, y, sz, sz);\n        this.p5.image(this.img0, xsp*2, y, sz, sz);\n        this.p5.image(this.img0, xsp*3, y, sz, sz);\n        this.p5.image(this.img1, xsp * 4, y, sz, sz);\n        this.p5.image(this.img2, xsp * 5, y, sz, sz);\n    }\n\n}\n","import Draggable from './Draggable/Draggable';\n\nexport default class Tree extends Draggable {\n\n    constructor(id, x, y, w, h, p5, content) {\n        super(id, x, y, w, h, p5, content);\n    }\n\n\n    display(userX, userY, sz) {\n        this.p5.push();\n        this.p5.translate(this.x, this.y);\n        if (!this.closed) {\n          if (!this.minimized) this.displayContent(userX, userY, sz);\n        }\n        this.p5.pop();\n      }\n\n    displayContent(userX, userY, sz) {\n        // this.p5.fill(255);\n        this.p5.push();\n\n        this.p5.translate(0, this.barH);\n\n        let w = this.w*sz;\n        let h = this.h*sz;\n        this.p5.image(this.content, (this.w - w)/2, this.h - h, w, h);\n        this.p5.pop();\n        this.displayFrame();\n    }\n\n\n}\n","import Draggable from './Draggable/Draggable';\n// import ShadowDraggable from './Draggable/ShadowDraggable'\nimport { p5ToWorldCoords, globalConfig } from '../../constants';\nimport { rooms }  from '../../../Sketches';\n\nexport default class RoomLabel extends Draggable {\n\n    constructor(p5, id, eyeIcon) {\n        super(id, 0, 0, 160, 80, p5, null);\n        // super(id, 0, 0, 160, 80, p5, null, shadow);\n\n        this.eyeIcon = eyeIcon;\n        // this.heartIcon = heartIcon;\n\n        const room = rooms[id];\n        const point = p5ToWorldCoords(room.x, room.y);\n        this.x = point.x - this.w/2 + 5*globalConfig.scaler/2;\n        this.y = point.y- this.h/2+ 5*globalConfig.scaler/2;\n        this.title = room.title;\n        this.link = room.link;\n    }\n\n    display(dogica, roomCount) {\n        let rc = roomCount[this.link];\n        this.p5.push();\n        this.p5.translate(this.x, this.y);\n        if (!this.closed) {\n            if (!this.minimized) this.displayContent(dogica,rc);\n        }\n        this.p5.pop();\n    }\n\n    displayContent(dogica, count) {\n        this.p5.push();\n\n\n        // shadow / glow\n        // this.displayShadow();\n\n        this.displaySolidBack(this.p5.color(255, 50));\n        this.p5.translate(0, this.barH);\n        this.p5.push();\n\n        this.p5.textFont(dogica, 11);\n\n        this.p5.translate(15, 25);\n        this.displayLabel();\n\n        \n       \n\n        // if (this.title.length > 12) this.p5.translate(0, 35);\n        // else \n        this.p5.translate(0, 20);\n\n        // hr\n        // this.p5.stroke(0, 70);\n        // this.p5.strokeWeight(1);\n        // this.p5.line(0, -5, this.w - 40, -5);\n\n        // eye\n        this.displayEye(count);\n\n        this.p5.pop();\n        this.p5.pop();\n\n        this.displayFrame();\n    }\n\n\n\n    displayEye(rc) {\n        var count = 0;\n        if (rc)\n            count = rc;\n\n        this.p5.push();\n        // this.p5.translate(-w / 2, -h / 2);\n        this.p5.fill(255, 100);\n        this.p5.stroke(255);\n        this.p5.strokeWeight(2);\n        // this.p5.rect(0, 0, w, h, 10, 10);\n       \n        this.p5.image(this.eyeIcon, 0, 5, 20, 20);\n\n        /// eye count\n        this.p5.fill(0);\n        this.p5.noStroke();\n        this.p5.textSize(11);\n        this.p5.text(count, 25, 20);\n\n\n\n        this.p5.pop();\n    }\n\n    displayLabel() {\n     \n        // draw title\n        this.p5.fill(0);\n        this.p5.noStroke();\n        if (this.title === \"hard drives on seashores\") {\n            let br = this.title.substring(9, this.title.length).indexOf(\" \") + 9;\n            let t1 = this.title.substring(0, br);\n            let t2 = this.title.substring(br+1, this.title.length);\n            this.p5.text(t1, 0, 0);\n            this.p5.text(t2, 0, 17);\n        }\n        else if (this.title.length > 12) {\n            let br = this.title.indexOf(\" \");\n            let t1 = this.title.substring(0, br);\n            let t2 = this.title.substring(br+1, this.title.length);\n            this.p5.text(t1, 0, 0);\n            this.p5.text(t2, 0, 17);\n        }\n        else\n            this.p5.text(this.title, 0, 0);\n\n    }\n}\n","import Folder from './Folder';\nimport { domCoordsToP5World, mouseToWorld } from '../../constants';\nimport ShadowDraggable from './Draggable/ShadowDraggable'\n\nexport default class Trash extends Folder {\n\n    constructor(p5, id, x, y, label, img, folder) {\n        super(p5, id, x, y, label, \"\", img);\n\n        this.x = x;\n        this.y = y;\n\n        this.folder = folder;\n        this.folder.closeWindow();\n    }\n\n    drawLabel() {\n\n        this.p5.push()\n\n        this.tw = this.p5.textWidth(this.label);\n        this.p5.translate(this.w / 2 - this.tw / 2, this.h + 16);\n\n        // back text\n        this.p5.stroke(0);\n        this.p5.strokeWeight(2);\n        this.p5.fill(0);\n        this.p5.text(this.label, 0, 0);\n\n        // white text\n        this.p5.stroke(255);\n        this.p5.strokeWeight(1);\n        this.p5.fill(255);\n        this.p5.text(this.label, 0, 0);\n\n        this.p5.pop();\n    }\n\n    checkDoubleClicked = (userX, userY) => {\n        let mouse = mouseToWorld({ x: userX, y: userY }, this.p5);\n        // console.log(mx, my, userX, userY, this.x, this.y);\n        if (this.checkOver(mouse.x, mouse.y)) {\n            // alert(\"Don't dig through the trash. You're in a gallery. Geez.\")\n            this.folder.openWindow();\n        }\n    }\n\n}\n","import ShadowDraggable from './Draggable/ShadowDraggable';\nimport { mouseToWorld } from '../../constants';\n\nexport default class TrashFolder extends ShadowDraggable {\n\n    // constructor(id, x, y, w, h, p5, content, shadow) {\n    //     super(id, x, y, w, h, p5, content, shadow);\n    // }\n\n    displayContent(userX, userY) {\n        this.displayShadow();\n        this.displaySolidBack(this.p5.color(255));\n        this.p5.push();\n\n        this.p5.translate(0, this.barH);\n        this.p5.image(this.content, 0, 0, this.w, this.h);\n        this.displayLabels();\n        this.p5.pop();\n        this.displayFrame();\n    }\n\n    displayLabels() {\n        this.p5.fill(0);\n        this.p5.noStroke();\n        this.p5.push();\n        this.p5.translate(54, 38);\n        let dy = 40;\n        let labels = [\"2020.pdf\", \"120K.banana\", \"thirsty.txt\"]\n        if (this.id == 1)\n            labels = [\"getcrunk.exe\", \"oldnews.pdf\", \"rona.dmg\"]\n        else if (this.id == 0)\n            labels = [\"rona.dmg\", \"grad_pdfs\", \"dump\"]\n\n        let index = 0;\n        for (const lab of labels) {\n            this.p5.text(lab, 0, dy * index++);\n        }\n        this.p5.pop();\n    }\n\n    checkContentsClicked = (userX, userY) => {\n        if (this.closed) \n            return false;\n        let mouse = mouseToWorld({ x: userX, y: userY }, this.p5);\n        // console.log(mx, my, userX, userY, this.x, this.y);\n        if (this.checkBox(mouse.x, mouse.y)) {\n            alert(\"Don't dig through the trash. You're in a gallery. Geez.\");\n            return true;\n        }\n        return false;\n    }\n\n    checkBox = (mx, my) => {\n        return (mx > this.x && mx < this.x + this.w && my > this.y + this.barH && my < this.y + this.barH + this.h);\n    }\n\n}\n","export default class ButtonLab {\n\n    constructor(x, y, w, h, lab, p5) {\n        this.r = 8;\n        this.x = x;\n        this.y = y;\n        this.w = w;\n        this.h = h;\n        this.p5 = p5;\n        this.lab = lab;\n    }\n\n    display(mx, my) {\n        let xLab = this.x + this.w/2 - this.p5.textWidth(this.lab)/2;\n        let yLab = this.y+14;\n        if (this.mouseOver(mx, my)) {\n            this.p5.stroke(0);\n            this.p5.strokeWeight(2);\n            this.p5.fill(255);\n            this.p5.rect(this.x, this.y, this.w, this.h, this.r, this.r);\n           \n            this.p5.noStroke();\n            this.p5.fill(0);\n            this.p5.text(this.lab, xLab, yLab);\n        }\n        \n        else {\n            this.p5.stroke(0);\n            this.p5.strokeWeight(2);\n            this.p5.fill(0);\n            this.p5.rect(this.x, this.y, this.w, this.h, this.r, this.r);\n           \n            this.p5.noStroke();\n            this.p5.fill(255);\n            this.p5.text(this.lab, xLab, yLab);\n        }\n        \n\n    }\n\n    mouseOver(mx, my) {\n        return (mx > this.x && mx < this.x + this.w && my > this.y && my < this.y + this.h)\n    }\n\n\n}\n\n","import Draggable from './Draggable/Draggable';\nimport { mouseToWorld, p5ToWorldCoords } from '../../constants';\nimport ButtonLab from './Draggable/ButtonLab';\n\nexport default class Swing extends Draggable {\n\n    constructor(id, x, y, w, h, p5, baby, chain) {\n        super(id, x, y, w, h, p5, baby);\n\n        let pt = p5ToWorldCoords(x, y);\n        this.x = pt.x;\n        this.y = pt.y;\n\n        this.origin = p5.createVector(this.x + this.w / 2, this.y);\n        this.armLength = this.h - 46;\n        this.position = p5.createVector(0, 0);\n\n        this.angle = .2;\n        this.aAcceleration = 0;\n        this.aVelocity = 0;\n\n\n        this.button = new ButtonLab(this.w/2-25, this.h-4, 50, 20, \"push\", p5);\n        this.chain = chain;\n    }\n\n    displayContent(userX, userY) {\n        this.updateSwing();\n        this.p5.push();\n        // this.p5.translate(this.origin.x, this.origin.y);\n        this.p5.translate(this.w / 2, this.barH);\n\n\n        // this.p5.image(this.content, 0, 0, this.w, this.h);\n        // this.p5.push();\n        // this.p5.image(this.chain, 0, 0, this.w, this.h);\n        // this.p5.pop();\n\n        this.displaySimple();\n\n\n        this.p5.pop();\n        this.displayFrame();\n        this.displayButton(userX, userY);\n    }\n\n    displaySimple() {\n        this.p5.stroke(0, 0, 0);\n        this.p5.fill(175, 175, 175);\n        \n        this.p5.push();\n        this.p5.rotate(-this.angle);\n        this.displayChain();\n        \n        this.p5.image(this.content, -16,  this.armLength-23, 30, 30);\n        this.displaySeat();\n\n        this.p5.pop();\n    }\n\n    displayChain() {\n        this.p5.strokeWeight(2);\n        this.p5.stroke(0);\n        this.p5.line(0, 0, 0, this.armLength-20);\n    }\n\n    displaySeat() {\n        let seatW = 30;\n        let seatH = 20;\n        let de = 3;\n\n        // connector triangle\n        this.p5.strokeWeight(2);\n        this.p5.line(0, this.armLength-seatH, -seatW/2+de, this.armLength+8);\n        this.p5.line(0, this.armLength-seatH, seatW/2-de, this.armLength+8);\n\n        // seat\n        this.p5.strokeWeight(4);\n        this.p5.line(-seatW/2, this.armLength+8, seatW/2, this.armLength+8);\n    }\n\n    updateSwing() {\n        //https://www.khanacademy.org/computing/computer-programming/programming-natural-simulations/programming-oscillations/a/trig-and-forces-the-pendulum\n\n        // Arbitrary constant\n        var gravity = 0.06;\n        let damping = .95;\n        // Calculate acceleration\n        this.aAcceleration = -1 * gravity * Math.sin(this.angle);\n        // Increment velocity\n        this.aVelocity += this.aAcceleration;\n        this.aVelocity *= damping;\n        // Increment angle\n        this.angle += this.aVelocity;\n\n        this.position.x = this.armLength * Math.sin(this.angle);\n        this.position.y = this.armLength * Math.cos(this.angle);\n\n        // this.position.add(this.origin);\n    }\n\n    swingPushed() {\n        this.aVelocity -= .1;\n    }\n\n\n\n    checkButtons(userX, userY) {\n        if (super.checkButtons(userX, userY))\n            return true;\n        else if (this.checkButton(userX, userY))\n            return true;\n        return false;\n    }\n\n    checkButton(userX, userY) {\n        let mouse = mouseToWorld({ x: userX, y: userY }, this.p5);\n        mouse.x -= this.x;\n        mouse.y -= this.y;\n        if (this.button.mouseOver(mouse.x, mouse.y)) {\n\n            this.swingPushed();\n            return true;\n        }\n        return false;\n    }\n\n    displayButton(userX, userY) {\n        let mouse = mouseToWorld({ x: userX, y: userY }, this.p5);\n        mouse.x -= this.x;\n        mouse.y -= this.y;\n        this.button.display(mouse.x, mouse.y);\n    }\n\n}\n","export default class ButtonTog {\n\n    constructor(x, y, w, h, p5) {\n        this.x = x;\n        this.y = y;\n        this.w = w;\n        this.h = h;\n        this.p5 = p5;\n        this.r = this.h/2;\n    }\n\n    display(isChecked, mx, my) {\n        this.p5.push();\n        this.p5.translate(this.x, this.y);\n        this.p5.noFill();\n\n\n        if (isChecked) {\n            this.p5.strokeWeight(2);\n            this.p5.stroke(255);\n            this.p5.fill('#026ef0');\n            this.p5.rect(0, 0, this.w, this.h, this.r, this.r);\n\n\n            this.p5.fill(255);\n            this.p5.ellipse(this.w - this.r, this.h / 2, this.r * 2);\n\n        }\n        else {\n            this.p5.strokeWeight(2);\n            this.p5.stroke(255);\n\n            // if (this.mouseOver(mx, my))\n            //     this.p5.fill(100);\n            // else\n                this.p5.fill(0); \n\n            this.p5.rect(0, 0, this.w, this.h, this.r, this.r);\n\n\n            this.p5.fill(255);\n            this.p5.ellipse(this.r, this.h / 2, this.r * 2);\n        }\n\n        this.p5.pop();\n    }\n\n    mouseOver(mx, my) {\n        if (this.mouseOverEdge(mx, my, this.x + this.r, this.y + this.r, this.r))\n            return true;\n        if (this.mouseOverEdge(mx, my, this.x + this.w - this.r, this.y + this.r, this.r))\n            return true;\n        return (mx > this.x + this.r && mx < this.x + this.w - 2 * this.r && my > this.y && my < this.y + this.h);\n    }\n\n    mouseOverEdge(mx, my, x, y, r) {\n        let d = this.p5.dist(mx, my, x, y);\n        return d < r;\n    }\n\n}\n\n","import Draggable from './Draggable/Draggable';\nimport { mouseToWorld, p5ToWorldCoords } from '../../constants';\nimport ButtonTog from './Draggable/ButtonTog';\n\nexport default class Table extends Draggable {\n\n    constructor(id, x, y, w, h, p5, open, closed) {\n        super(id, x, y, w, h, p5, open);\n\n        let pt = p5ToWorldCoords(x, y);\n        this.x = pt.x;\n        this.y = pt.y;\n\n\n        this.button = new ButtonTog(this.w - 40, this.h , 30, 15, p5);\n        this.closedImg = closed;\n\n        this.isUmbrellaOpen = false;\n    }\n\n    displayContent(userX, userY) {\n        this.p5.push();\n        // this.p5.translate(this.origin.x, this.origin.y);\n        this.p5.translate(0, this.barH);\n\n        if (this.isUmbrellaOpen)\n            this.p5.image(this.content, 0, 0, this.w, this.h);\n        else\n            this.p5.image(this.closedImg, 0, 0, this.w, this.h);\n\n\n        this.p5.pop();\n        this.displayFrame();\n        this.displayButton(userX, userY);\n    }\n\n    checkButtons(userX, userY) {\n        if (super.checkButtons(userX, userY))\n            return true;\n        else if (this.checkButton(userX, userY))\n            return true;\n        return false;\n    }\n\n    checkButton(userX, userY) {\n        let mouse = mouseToWorld({ x: userX, y: userY }, this.p5);\n        mouse.x -= this.x;\n        mouse.y -= this.y;\n        if (this.button.mouseOver(mouse.x, mouse.y)) {\n            this.toggleButton();\n            return true;\n        }\n        return false;\n    }\n\n    displayButton(userX, userY) {\n        let mouse = mouseToWorld({ x: userX, y: userY }, this.p5);\n        mouse.x -= this.x;\n        mouse.y -= this.y;\n        this.button.display(this.isUmbrellaOpen, mouse.x, mouse.y);\n    }\n\n    toggleButton() {\n        this.isUmbrellaOpen = !this.isUmbrellaOpen;\n    }\n\n}\n","import Folder from '../components/Folder';\nimport Draggable from '../components/Draggable/Draggable';\nimport ShadowDraggable from '../components/Draggable/ShadowDraggable';\nimport Door from \"../components/Door\";\nimport Light from '../components/Light';\nimport Bar from '../components/Bar';\nimport Tree from '../components/Tree';\nimport RoomLabel from '../components/RoomLabel';\nimport Trash from '../components/Trash';\nimport TrashFolder from '../components/TrashFolder';\nimport Swing from '../components/Swing';\nimport Table from '../components/Table';\n\nimport { globalConfig } from '../../constants';\n\n\nexport const addRoomLabelDivs = (divs, eyeIcon, p5) => {\n    divs.roomLabels = [];\n    for (let i = 0; i < 13; i++) {\n        let roomL = new RoomLabel(p5, i, eyeIcon);\n        divs.roomLabels.push(roomL);\n    }\n}\n\nexport const displayRoomLabelDivs = (dogica, roomCount, userX, userY, divs) => {\n    for (const rl of divs.roomLabels) {\n        rl.display(dogica, roomCount);\n        rl.displayToolBar(userX, userY);\n    }\n}\n\nexport const addDoorDivs = (divs, doors, doorImgs, p5) => {\n    divs.doors = [];\n    let numDoors = 4;\n    for (let i = 0; i < numDoors; i++) {\n        let door = new Door(p5, i, doorImgs);\n        doors.push(door);\n        divs.doors.push(door);\n    }\n}\n\nexport const addLightDivs = (divs, lightImgs, p5) => {\n    divs.lights = [];\n    let numLights = 3;\n    for (let i = 0; i < numLights; i++) {\n        let light = new Light(p5, i, lightImgs);\n        // lights.push(light);\n        divs.lights.push(light);\n    }\n}\n\nexport const addColumnDivs = (divs, columnGif, shadow, p5) => {\n    divs.columns = [];\n    let sc = globalConfig.scaler;\n    let numCols = 4;\n    const dy = 140;\n    const dx = 140;\n    let gx = 16.5 * sc\n    let gy = 34.5 * sc\n    for (let i = 0; i < numCols; i++) {\n        let column = new ShadowDraggable(i, gx + dx * i, gy - dy * i, 80, 280, p5, columnGif, shadow)\n        // columns.push(column)\n        // column.initMask();\n        divs.columns.push(column)\n    }\n\n    let x = 1.5*sc;\n    let y = 22.5*sc;\n    divs.columns.push(new ShadowDraggable(numCols, x, y, 80, 280, p5, columnGif, shadow))\n    divs.columns.push(new ShadowDraggable(numCols+1, x + sc*2, y, 80, 280, p5, columnGif, shadow))\n\n    x = -3.5*sc;\n    y = 17.5*sc;\n    divs.columns.push(new ShadowDraggable(numCols+2, x, y, 80, 280, p5, columnGif, shadow))\n    divs.columns.push(new ShadowDraggable(numCols+3, x + sc*2, y, 80, 280, p5, columnGif, shadow))\n}\n\nexport const addTrashDivs = (divs, trashFiles, shadow, p5) => {\n    divs.trashCans = [];\n    divs.trashFolders = [];\n    let sc = globalConfig.scaler;\n    // let labels = [\n    //     { x0: 9 * sc, y0: 13 * sc, x1: 10.5*sc, y1: 13*sc },\n    //     { x0: 30 * sc, y0: 20.5 * sc, x1: sc*31.5, y1: 20.5 * sc},\n    //     { x0: -8.5 * sc, y0: 1.5 * sc, x1: -8.5*sc, y1: 3*sc }\n    // ];\n    let labels = [\n        { x0: 18 * sc, y0: 27.5 * sc },\n        { x0: 30 * sc, y0: 22.5 * sc },\n        { x0: -8 * sc, y0: 3 * sc }\n    ];\n\n    for (let i = 0; i < 3; i++) {\n        const { x0, y0 } = labels[i];\n        // p5, id, x, y, label, link, img\n        const tf = new TrashFolder(i , x0, y0, 422*.5, 265*.5, p5, trashFiles[i+1], shadow)\n        const t = new Trash(p5, i * 2, x0, y0, \"recycle bin\", trashFiles[0], tf);\n\n        // const r = new Trash(p5, i * 2 + 1, x1, y1, \"recycling\", trash);\n        // trashCans.push(t);\n        // trashCans.push(r);\n        divs.trashFolders.push(tf);\n        divs.trashCans.push(t);\n        // divs.trashCans.push(r);\n    }\n}\n\n\nexport const addFolderDivs = (divs, instaImg, txtFile, p5) => {\n    divs.folders = [];\n    let labels = [\n        { x: 560, y: 0, label: \"statement\", link: \"https://www.losingmydimension.com/statement\" },\n        { x: 620, y: 130, label: \"thesis\", link: \"https://lmd-bucket.s3.us-east-2.amazonaws.com/thesis.pdf\" },\n        { x: 510, y: 230, label: \"@jdeboi\", link: \"https://www.instagram.com/jdeboi/\" }\n    ];\n\n    for (let i = 0; i < 3; i++) {\n        const { x, y, label, link } = labels[i];\n\n        const folder = new Folder(p5, i, x, y, label, link, (i === 2 ? instaImg : txtFile));\n        // folders.push(folder)\n        divs.folders.push(folder);\n    }\n}\n\nexport const addOakDivs = (divs, oakImg, p5) => {\n    let sc = globalConfig.scaler;\n    divs.oaks = [];\n    \n    for (let i = 0; i < 1; i++) {\n        let oak = new Draggable(i, sc * -7.5, sc * 34, 500, 400, p5, oakImg);\n        divs.oaks.push(oak);\n    }\n}\n\nexport const addSwingDivs = (divs, baby, chain, p5) => {\n    divs.swings = [];\n    divs.swings.push(new Swing(0, -4.1, 36.8, 100, 190, p5, baby, chain));\n}\n\nexport const addTableDivs = (divs, tableImgs, p5) => {\n    let sc = globalConfig.scaler;\n    divs.tables = [];\n    let tables = [\n        {x: -9, y: -2.25},\n        {x: -4, y: -2.25},\n        {x: -4, y: 2.75}\n    ];\n    for (let i = 0; i < 3; i++) {\n        let {x, y} = tables[i];\n        let table = new Table(i, x, y, sc*3, sc*3, p5, tableImgs[0], tableImgs[1]);\n        divs.tables.push(table);\n    }\n}\n\nexport const addBarDivs = (divs, lightImg, p5) => {\n    divs.bars = [];\n    for (let i = 0; i < 4; i++) {\n        divs.bars.push(new Bar(i, lightImg, p5));\n    }\n}\n\nexport const addTreeDivs = (divs, tree, p5) => {\n    // let inc = 10;\n    divs.trees = [];\n    let numTrees = 10;\n    let sc = globalConfig.scaler;\n    let w = sc * 5;\n    let h = w - 26;\n    for (let i = 0; i < numTrees; i++) {\n        // let x = p5.windowWidth/2+i*inc;\n        // let y = 60+i*inc;\n        let sp = 60;\n        let startX = 29 * sc;\n        let startY = 27 * sc;\n        let dir = -1;\n        let x = i * sp * dir + startX;\n        let y = i * sp + startY\n        if (i > numTrees / 2) {\n            x = sp * numTrees / 2 * dir + startX - (i - numTrees / 2) * sp * dir;\n        }\n        divs.trees.push(new Tree(i, x, y, w, h, p5, tree));\n    }\n\n    // let x = sc * -8;\n    // let y = 30 * sc;\n    // let sp = 60;\n    // divs.trees.push(new Draggable(numTrees + 1, -8.5 * sc, 32 * sc, w, h, p5, tree));\n    // divs.trees.push(new Draggable(numTrees, -9.5 * sc, 33 * sc, w, h, p5, tree));\n\n    // let x = sc * -5;\n    // divs.trees.push(new Draggable(numTrees + 2, sc * -.5, 35.5 * sc, w, h, p5, tree));\n    // divs.trees.push(new Draggable(numTrees + 3, sc * -1.5, 36.5 * sc, w, h, p5, tree));\n}\n\nexport const displayDoorDivs = (userX, userY, divs, isClosed, closedSign) => {\n\n    for (const door of divs.doors) {\n        door.display(userX, userY, isClosed, closedSign);\n        door.displayToolBar(userX, userY);\n    }\n    // for(let i = 0; i < 4; i++) {\n    //   divs[i].display(user.x, user.y);\n    //   divs[i].displayToolBar(user.x, user.y);\n    // }\n}\n\nexport const displayLightDivs = (userX, userY, divs) => {\n    for (const light of divs.lights) {\n        light.display(userX, userY);\n        light.displayToolBar(userX, userY);\n    }\n}\n\nexport const displayFolderDivs = (divs) => {\n    for (const folder of divs.folders) {\n        folder.display();\n    }\n}\n\nexport const displayTrashDivs = (userX, userY, divs) => {\n    for (const trash of divs.trashCans) {\n        trash.display();\n    }\n    for (const trashF of divs.trashFolders) {\n        trashF.display(userX, userY);\n        trashF.displayToolBar(userX, userY);\n    }\n}\n\nexport const displayColumnDivs = (userX, userY, divs) => {\n    for (const col of divs.columns) {\n        col.display(userX, userY);\n        col.displayToolBar(userX, userY);\n    }\n}\n\nexport const displayBarDivs = (userX, userY, divs) => {\n    for (const bar of divs.bars) {\n        bar.display(userX, userY);\n        bar.displayToolBar(userX, userY);\n    }\n}\n\nexport const displayOakDivs = (userX, userY, divs) => {\n    for (const oak of divs.oaks) {\n        oak.display(userX, userY);\n        oak.displayToolBar(userX, userY);\n    }\n}\n\nexport const displayTableDivs = (userX, userY, divs) => {\n    for (const table of divs.tables) {\n        table.display(userX, userY);\n        table.displayToolBar(userX, userY);\n    }\n}\n\nexport const displaySwingDivs = (userX, userY, divs) => {\n    for (const swing of divs.swings) {\n        swing.display(userX, userY);\n        swing.displayToolBar(userX, userY);\n    }\n}\n\nexport const displayTreeDivs = (userX, userY, sz, divs) => {\n    for (const tree of divs.trees) {\n        tree.display(userX, userY, sz);\n        tree.displayToolBar(userX, userY);\n    }\n}\n\n\n// export function displayDivs(userX, userY, divs) {\n//     let keys = Object.keys(divs);\n//     for (const key of keys) {\n//         if (key !== \"\") {\n//             for (const div of divs[key]) {\n//                 // div.display(userX, userY);\n//             }\n//         }\n//     }\n\n// }\n\nexport function endDivDrag(divs) {\n    let keys = Object.keys(divs);\n    for (const key of keys) {\n        for (const div of divs[key])\n            div.endDrag();\n    }\n}\n\nexport function updateDivs(userEase, users, doors, divs, isPanGallery=false) {\n\n    for (const door of divs.doors) {\n        door.openDoor(userEase, users, isPanGallery);\n    }\n\n    let keys = Object.keys(divs);\n    for (const key of keys) {\n\n        for (const div of divs[key])\n            div.update();\n\n\n    }\n\n}\n\n\nexport const checkDivPress = (userX, userY, divs) => {\n    let keys = Object.keys(divs);\n    for (const key of keys) {\n        if (key !== \"trashCans\") {\n            if (key === \"trashFolders\") {\n                for (const div of divs.trashFolders) {\n                    if (checkDiv(userX, userY, div))\n                        return true;\n                    else if (checkTrashDiv(userX, userY, div))\n                        return true;\n                }\n                for (const div of divs.trashCans) {\n                    if (checkDiv(userX, userY, div))\n                        return true;\n                }\n            }\n            else\n                for (const div of divs[key])\n                    if (checkDiv(userX, userY, div))\n                        return true;\n        }\n    }\n    return false;\n}\n\nconst checkTrashDiv = (userX, userY, div) => {\n    if (div.checkContentsClicked(userX, userY)) {\n        return true;\n    }\n    return false;\n}\n\nconst checkDiv = (userX, userY, div) => {\n    if (div.checkButtons(userX, userY)) {\n        return true;\n    }\n    else if (div.checkDragging(userX, userY)) {\n        return true;\n    }\n    return false;\n}\n\nexport const checkFolderDivsDouble = (userX, userY, divs) => {\n    for (const folder of divs.folders) {\n        folder.checkDoubleClicked(userX, userY);\n    }\n}\n\nexport const checkTrashDivsDouble = (userX, userY, divs) => {\n    for (const trash of divs.trashCans) {\n        trash.checkDoubleClicked(userX, userY);\n    }\n}","import React from \"react\";\nimport Sketch from \"react-p5\";\n\n//////////////\n// HELPERS\nimport { doorCrossing, roomDoorCrossing, roomDoorEntryCrossing, roomDoorBoundary, roomBoundary, wallBoundary } from './functions/crossing';\nimport { roundToMult2 } from './functions/round';\nimport { drawAllFloors } from './functions/floor';\nimport { drawWalls, drawRooms } from './functions/building';\nimport { displayDancers, updateDucks } from './functions/emojis';\nimport { reachedDestination, getNextStep, showMouseLoc, showUserEllipses, showDestination, mouseDidMove } from './functions/destination';\nimport { drawUser, drawUsers, checkUserClicked } from './functions/users';\nimport { drawPlantRow, drawGrassPatch } from './functions/garden';\nimport { addTableDivs, displayTableDivs, addSwingDivs, displaySwingDivs, displayOakDivs, displayTreeDivs, displayBarDivs, displayTrashDivs, checkTrashDivsDouble, addTrashDivs, displayRoomLabelDivs, addDoorDivs, addLightDivs, addColumnDivs, addTreeDivs, addBarDivs, addOakDivs, addFolderDivs, displayDoorDivs, displayLightDivs, displayColumnDivs, endDivDrag, updateDivs, checkDivPress, displayFolderDivs, checkFolderDivsDouble, addRoomLabelDivs } from './functions/divs';\nimport TreeSlider from './components/TreeSlider';\n\n//////////////\n// COMPONENTS\nimport Wall from \"./components/Wall\";\nimport Room from \"./components/Room\";\nimport Duck from './components/Duck';\nimport Dancer from './components/Dancer';\n// import MiniMap from \"./components/MiniMap\";\n\n\n//////////////\n// CONFIG\nimport { globalConfig } from \"../constants\";\nvar isClosed;\n\n//////////////\n// BUILDING \nvar walls = [];\nvar rooms = [];\nvar roomTextures = [];\nvar eyeIcon;\nvar doors = [];\nvar doorImgs = [];\nvar floorTex;\nvar lightImgs = [];\nvar tableImgs = [];\nvar trashFiles = [];\nvar columnGif;\nvar closedSign;\n\n//////////////\n// PLANTS \nvar flowerRow, ivory, tree, oakImg;\nvar treeSlider;\n\n//////////////\n// ICONS\nvar txtFile, instaImg;\n\n//////////////\n// EMOJIS\nvar ducks = [];\nvar duckImg;\nvar dancers = [];\nvar dancerImgs = [];\nvar baby;\nvar barEmojis = [];\n\n//////////////\n// FONT\nvar dogica;\n\n//////////////\n// DRAGGABLE DIVS\nvar divs = {};\n\n// var miniMap;\n\n//////////////\n// MOVEMENT\nvar isWalking = false;\nvar stepTo = { x: 0, y: 0 };\nvar userEase = { x: 0, y: 0 };\nvar destination = { x: null, y: null, time: null };\nvar lastMouseMove = 0;\n\n//////////////\n// PROPS\nvar user, roomCount, isMobile;\nvar users = []\n\n\nexport default (props) => {\n  user = props.user;\n  users = props.users;\n  isMobile = props.isMobile;\n  roomCount = props.roomCount;\n  isClosed = props.isClosed;\n\n  const preload = (p5) => {\n    const url = \"https://lmd-bucket.s3.us-east-2.amazonaws.com/sketches/gallery/\";\n\n    //////////////\n    // building textures\n    floorTex = p5.loadImage(url + \"concrete-512.jpg\");\n    doorImgs[0] = p5.loadImage(url + \"door/frame2.png\");\n    doorImgs[1] = p5.loadImage(url + \"door/leftdoor2.png\");\n    roomTextures[0] = p5.loadImage(url + \"rooms/bot.png\");\n    roomTextures[1] = p5.loadImage(url + \"rooms/right.png\");\n    roomTextures[2] = p5.loadImage(url + \"rooms/left.png\");\n    eyeIcon = p5.loadImage(url + \"eye.png\")\n    closedSign = p5.loadImage(url + \"closed.png\");\n\n    //////////////\n    // emojis\n    duckImg = p5.loadImage(url + \"duck.png\");\n    dancerImgs[0] = p5.loadImage(url + \"dancers/dancer0.png\");\n    dancerImgs[1] = p5.loadImage(url + \"dancers/dancer1.png\");\n    dancerImgs[2] = p5.loadImage(url + \"dancers/dancer2.png\");\n    baby = p5.loadImage(url + \"swing/baby.png\");\n    barEmojis[0] = p5.loadImage(url + \"emojis/bread.png\");\n    barEmojis[1] = p5.loadImage(url + \"emojis/cheese.png\");\n    barEmojis[2] = p5.loadImage(url + \"emojis/wine.png\");\n    barEmojis[3] = p5.loadImage(url + \"emojis/cocktail.png\");\n    barEmojis[4] = p5.loadImage(url + \"emojis/chat.png\");\n\n    //////////////\n    // plants\n    tree = p5.loadImage(url + \"grass/tree.png\");\n    ivory = p5.loadImage(url + \"grass/ivory.png\");\n    flowerRow = p5.loadImage(url + \"grass/cac3.png\")\n    oakImg = p5.loadImage(url + \"grass/oak.png\");\n\n    //////////////\n    // folder icons\n    txtFile = p5.loadImage(\"https://lmd-bucket.s3.us-east-2.amazonaws.com/sketches/waveforms/txt.png\");\n    instaImg = p5.loadImage(url + \"instagram.png\");\n    trashFiles[0] = p5.loadImage(url + \"trash/fullrec.png\")\n    trashFiles[3] = p5.loadImage(url + \"trash/trash0.png\")\n    trashFiles[2] = p5.loadImage(url + \"trash/trash1.png\")\n    trashFiles[1] = p5.loadImage(url + \"trash/trash2.png\")\n\n    //////////////\n    // tables\n    tableImgs[0] = p5.loadImage(url + \"table/um_open.png\")\n    tableImgs[1] = p5.loadImage(url + \"table/um_closed.png\")\n\n    //////////////\n    // lights\n    lightImgs[0] = p5.loadImage(url + \"tracklights/tracklights_vert.jpg\");\n    lightImgs[1] = p5.loadImage(url + \"tracklights/light_shadow.png\");\n    lightImgs[2] = p5.loadImage(url + \"tracklights/tracklights_dark_vert.jpg\");\n    lightImgs[3] = p5.loadImage(url + \"tracklights/black_shadow.png\");\n\n    // columnGif = p5.loadImage(url + \"column.gif\");\n    columnGif = p5.loadGif(\"/assets/column.gif\"); //not sure why this one has a cors issue\n\n    // font\n    dogica = p5.loadFont(url + \"fonts/dogica.ttf\");\n\n  }\n\n  ////////////////////////////////////////////////////////////////////////\n  // INITIALIZE\n  ////////////////////////////////////////////////////////////////////////\n  const setup = (p5, canvasParentRef) => {\n    // use parent to render the canvas in this ref\n    // (without that p5 will render the canvas outside of your component)\n\n    initBuilding(p5);\n    initEmojis(p5);\n    initDivs(p5);\n    treeSlider = new TreeSlider(31, 40, 2);\n    // miniMap = new MiniMap(p5, 50, p5.windowHeight - 200 - 80, 200, 200);\n    stepTo = { x: user.x, y: user.y };\n\n\n    const cnv = p5.createCanvas(p5.windowWidth, p5.windowHeight);\n    cnv.parent(canvasParentRef);\n    cnv.mousePressed(() => triggerMove(props.setUserActive, p5));\n\n    p5.textFont(dogica, 14);\n    p5.frameRate(20);\n\n    props.loadingDone();\n  };\n\n  const initEmojis = (p5) => {\n    for (let i = 0; i < 8; i++) {\n      ducks.push(new Duck(p5, 300, 2200, duckImg));\n    }\n    dancers[0] = new Dancer(p5, dancerImgs[0], 10, 160, false);\n    dancers[1] = new Dancer(p5, dancerImgs[1], 200, 380, false);\n    dancers[2] = new Dancer(p5, dancerImgs[2], 300, 150, true);\n  }\n\n  const initBuilding = (p5) => {\n    for (let i = 0; i < 2; i++) {\n      walls.push(new Wall(p5, i, globalConfig));\n    }\n    for (let i = 0; i < 13; i++) {\n      rooms.push(new Room(p5, i));\n    }\n  }\n\n  const initDivs = (p5) => {\n    addOakDivs(divs, oakImg, p5);\n    addDoorDivs(divs, doors, doorImgs, p5);\n    addLightDivs(divs, lightImgs, p5);\n    addColumnDivs(divs, columnGif, lightImgs[3], p5);\n    addTreeDivs(divs, tree, p5);\n    addTableDivs(divs, tableImgs, p5);\n    addBarDivs(divs, lightImgs[3], p5);\n    addTrashDivs(divs, trashFiles, lightImgs[3], p5);\n    addFolderDivs(divs, instaImg, txtFile, p5);\n    addRoomLabelDivs(divs, eyeIcon, p5);\n    addSwingDivs(divs, baby, null, p5);\n  }\n\n  ////////////////////////////////////////////////////////////////////////\n  // DRAW\n  ////////////////////////////////////////////////////////////////////////\n  const draw = (p5) => {\n    p5.clear();\n\n    // NOTE: Do not use setState in the draw function or in functions that are executed\n    // in the draw function...\n    // please use normal variables or class properties for these purposes\n    p5.push();\n    p5.translate(p5.windowWidth / 2, p5.windowHeight / 2);\n\n    p5.push();\n    p5.translate(-userEase.x, -userEase.y);\n\n\n    p5.push();\n    p5.translate(globalConfig.x * globalConfig.scaler, globalConfig.y * globalConfig.scaler)\n\n    //////////////\n    // floors\n    drawAllFloors(floorTex, p5);\n\n    //////////////\n    // plants\n    drawGrassPatch(ivory, ivory, p5);\n    drawPlantRow(-5, 17, 1, 1, flowerRow, p5);\n    drawPlantRow(0, 22, 1, 1, flowerRow, p5);\n    drawPlantRow(5, 27, 1, 1, flowerRow, p5);\n    drawPlantRow(20, 21, 1, 1, flowerRow, p5);\n    drawPlantRow(27, 15, 1, 1, flowerRow, p5);\n\n    //////////////\n    // building\n    drawWalls(walls, p5);\n    drawRooms(rooms, roomTextures, eyeIcon, roomCount, p5);\n    if (!isClosed)\n      displayRoomLabelDivs(dogica, roomCount, userEase.x, userEase.y, divs);\n\n    //////////////\n    // emojis\n    displayDancers(dancers);\n    updateDucks(user.hasCheese, userEase.x, userEase.y, ducks);\n\n    //////////////\n    // draggable\n    displayOakDivs(userEase.x, userEase.y, divs);\n    displayTableDivs(userEase.x, userEase.y, divs);\n    p5.textFont(dogica, 10);\n    displaySwingDivs(userEase.x, userEase.y, divs);\n\n    // seeUserClicked(userEase, users, p5)\n\n    p5.pop();\n    p5.pop();\n    p5.pop();\n\n    //////////////\n    // step visualization\n    mouseStep();\n    showTarget(p5);\n\n    //////////////\n    // drawing\n    drawOverTarget(p5);\n    drawUser(user, p5, barEmojis);\n    drawOverUser(p5);\n\n    //////////////\n    // updating\n    if (users)\n      updateDivs(userEase, users, doors, divs);\n    treeSlider.update(p5);\n    updateUserEase(p5);\n\n  };\n\n\n  const drawOverTarget = (p5) => {\n    p5.push();\n    p5.translate(p5.windowWidth / 2, p5.windowHeight / 2);\n    p5.translate(-userEase.x, -userEase.y);\n    p5.translate(globalConfig.x * globalConfig.scaler, globalConfig.y * globalConfig.scaler)\n\n    if (users)\n      drawUsers(userEase, users, dogica, p5, barEmojis);\n\n    p5.pop();\n  }\n\n\n\n  const drawOverUser = (p5) => {\n    p5.push();\n    p5.translate(p5.windowWidth / 2, p5.windowHeight / 2);\n    p5.translate(-userEase.x, -userEase.y);\n    p5.translate(globalConfig.x * globalConfig.scaler, globalConfig.y * globalConfig.scaler);\n    displayDoorDivs(userEase.x, userEase.y, divs, isClosed, closedSign);\n    displayBarDivs(userEase.x, userEase.y, divs);\n    displayTreeDivs(userEase.x, userEase.y, treeSlider.getValue(p5), divs);\n    displayLightDivs(userEase.x, userEase.y, divs);\n    displayColumnDivs(userEase.x, userEase.y, divs);\n\n    p5.textFont(dogica, 12);\n    displayFolderDivs(divs);\n    displayTrashDivs(userEase.x, userEase.y, divs);\n\n    treeSlider.display(p5);\n\n    p5.pop();\n\n    if (p5.windowWidth !== window.innerWidth || p5.windowHeight !== window.innerHeight)\n      manualResize(p5);\n  }\n\n  ////////////////////////////////////////////////////////////////////////\n  // MOVEMENT\n  ////////////////////////////////////////////////////////////////////////\n  const showTarget = (p5) => {\n    showDestination(userEase, destination, isWalking, p5);\n    showUserEllipses(userEase, destination, isWalking, p5);\n\n    if (mouseDidMove(p5)) {\n      lastMouseMove = new Date();\n    }\n    showMouseLoc(isMobile, lastMouseMove, p5);\n  }\n\n  const userTakeStep = (x, y) => {\n    var t = new Date();\n    let space = globalConfig.stepS;\n    const prevStep = { x: stepTo.x, y: stepTo.y }\n    const userStep = { x: stepTo.x + x * space, y: stepTo.y + y * space };\n    const outsideDoor = doorCrossing(doors, prevStep, userStep);\n    const roomDoorEntry = roomDoorEntryCrossing(rooms, prevStep, userStep);\n    const roomDoor = roomDoorCrossing(rooms, prevStep, userStep);\n    const roomDoorB = roomDoorBoundary(rooms, prevStep, userStep);\n    // const poolB = poolBoundaryCrossing(userStep);\n    // check if entering a room door\n    // check if crossing into outside\n    // check crossed an inside boundary\n    // check if crossed a room boundary\n    // console.log(\"roomdoor\", roomDoor);\n    if (!isClosed && roomDoor) {\n      if (!isMobile) {\n        if (window.confirm('Leave the main gallery?')) {\n          props.userNewRoom(roomDoor);\n        }  \n      }\n      else {\n        props.userNewRoom(roomDoor);\n      }\n      isWalking = false;\n      // console.log(\"entering room\", roomDoor);\n    }\n    // else if (poolB) {\n    //   isWalking = false;\n    // }\n    else if (!isClosed && outsideDoor) {\n      // props.userMove(userStep.x, userStep.y);\n      stepTo = { x: userStep.x, y: userStep.y };\n      // console.log(\"outside door\")\n      props.toggleOutside();\n    }\n    else if (!isClosed && roomDoorEntry) {\n      // props.userMove(userStep.x, userStep.y);\n      stepTo = { x: userStep.x, y: userStep.y };\n      // console.log(\"enter/exit room\")\n    }\n    else if (!isClosed && roomBoundary(rooms, prevStep, userStep)) {\n      isWalking = false;\n      // console.log(\"room boundary\")\n    }\n    else if (!isClosed && roomDoorB) {\n      isWalking = false;\n      // console.log(\"room door boundary\")\n    }\n    else if (wallBoundary(walls, prevStep, userStep)) {\n      isWalking = false;\n      // console.log(\"wall boundary\")\n    }\n    else {\n      // props.userMove(userStep.x, userStep.y);\n      stepTo = { x: userStep.x, y: userStep.y };\n    }\n    // console.log(new Date() - t);\n  }\n\n  const updateUserEase = (p5) => {\n    if (!reachedDestination(userEase, stepTo)) {\n      let amt = .7;\n      userEase.x = userEase.x * amt + stepTo.x * (1 - amt);\n      userEase.y = userEase.y * amt + stepTo.y * (1 - amt);\n      let d = p5.dist(userEase.x, userEase.y, stepTo.x, stepTo.y);\n      if (d < 15) {\n        userEase.x = stepTo.x;\n        userEase.y = stepTo.y;\n        // isStepping = false;\n        props.userMove(userEase.x, userEase.y);\n      }\n\n    }\n  }\n\n  const triggerMove = (setUserActive, p5) => {\n    let userClicked = false;\n    if (users)\n      userClicked = checkUserClicked(userEase, users, p5);\n    if (userClicked) {\n      setUserActive(userClicked);\n      return;\n    }\n    else if (treeSlider.checkDragging(userEase.x, userEase.y, p5))\n      return;\n    else if (checkDivPress(userEase.x, user.y, divs))\n      return;\n\n    else {\n      const dx = p5.mouseX > p5.windowWidth / 2 ? 50 : -50;\n      const dy = p5.mouseY > p5.windowHeight / 2 ? 50 : -50;\n      const mx = roundToMult2((p5.mouseX - p5.windowWidth / 2) + dx, globalConfig.stepS);\n      const my = roundToMult2((p5.mouseY - p5.windowHeight / 2) + dy, globalConfig.stepS);\n      if (!(mx === 0 && my === 0)) {\n        const x = mx + user.x;\n        const y = my + user.y;\n        const time = new Date();\n        destination = { x, y, time };\n        isWalking = true;\n      }\n    }\n\n  }\n\n  const mouseStep = () => {\n    if (isWalking) {\n      if (reachedDestination(stepTo, destination)) {\n        isWalking = false;\n        // console.log(\"reached\");\n      }\n      else if (new Date() - destination.time > 150) {\n        let step = getNextStep(stepTo, destination);\n        userTakeStep(step[0], step[1]);\n        destination.time = new Date();\n      }\n    }\n  }\n\n  const keyPressed = (p5) => {\n    if (p5.keyCode === p5.UP_ARROW) {\n      userTakeStep(0, -1);\n    }\n    else if (p5.keyCode === p5.RIGHT_ARROW) {\n      userTakeStep(1, 0);\n    }\n    else if (p5.keyCode === p5.LEFT_ARROW) {\n      userTakeStep(-1, 0);\n    }\n    else if (p5.keyCode === p5.DOWN_ARROW) {\n      userTakeStep(0, 1);\n    }\n\n    // else if (p5.key == 'w') {\n    //   userTakeStep(0, -1);\n    // }\n    // else if (p5.key == 'd') {\n    //   userTakeStep(1, 0);\n    // }\n    // else if (p5.key == 'a') {\n    //   userTakeStep(-1, 0);\n    // }\n    // else if (p5.key == 's') {\n    //   userTakeStep(0, 1);\n    // }\n  }\n\n  const mouseReleased = (p5) => {\n    endDivDrag(divs);\n    if (treeSlider) treeSlider.endDrag();\n  }\n\n  const manualResize = (p5) => {\n    p5.windowWidth = window.innerWidth;\n    p5.windowHeight = window.innerHeight;\n    windowResized(p5);\n  }\n\n  const windowResized = (p5) => {\n    p5.resizeCanvas(p5.windowWidth, p5.windowHeight);\n  }\n\n  const doubleClicked = (p5) => {\n    // console.log(\"db\");\n    checkFolderDivsDouble(userEase.x, userEase.y, divs);\n    checkTrashDivsDouble(userEase.x, userEase.y, divs);\n  }\n\n  return <Sketch preload={preload} setup={setup} draw={draw} windowResized={windowResized} keyPressed={keyPressed} mouseReleased={mouseReleased} doubleClicked={doubleClicked} />;\n};\n","import { mouseToWorld, p5ToWorldCoords, globalConfig } from '../../constants';\n\nexport default class TreeSlider {\n\n    constructor(x, y, w) {\n        let sc = globalConfig.scaler;\n        let pt = p5ToWorldCoords(x, y);\n        this.x = pt.x;\n        this.y = pt.y;\n        this.w = w*sc;\n\n        this.sliderX = this.x + this.w;\n        this.r = 20;\n\n        this.dragging = false;\n        this.startDrag = {x: this.sliderX, y: this.y};\n        this.startDragCoords = {x: this.sliderX, y: this.y};\n    }\n\n    getValue(p5) {\n        return p5.constrain(p5.map(this.sliderX, this.x, this.x+ this.w, 0, 1), .01, 1); \n    }\n\n    display(p5) {\n        let sw = 5;\n       \n        // p5.push();\n        // p5.translate(this.x, this.y);\n\n        p5.strokeWeight(sw);\n        p5.stroke(255, 100);\n        p5.line(this.x, this.y, this.x+this.w, this.y);\n\n        p5.noStroke();\n        p5.fill(255);\n\n\n        p5.ellipse(this.sliderX, this.y, this.r);\n        // p5.pop();\n    }\n\n    checkDragging(userX, userY, p5) {\n\n        let mouse = mouseToWorld({ x: userX, y: userY }, p5);\n        // console.log(mx, my, userX, userY, this.x, this.y);\n        if (this.over(mouse.x, mouse.y, p5)) {\n            // console.log(\"over toolbar\");\n            // this.draggingOn(mx, my);\n            this.dragging = true;\n            this.startDrag.x = p5.mouseX;\n            // this.startDrag.y = p5.mouseY;\n            this.startDragCoords.x = this.sliderX;\n            // this.startDragCoords.y = this.y;\n            return true;\n        }\n        return false;\n    }\n\n    endDrag() {\n        this.dragging = false;\n    }\n\n    update(p5) {\n        if (this.dragging) {\n            this.offsetX = p5.mouseX - this.startDrag.x;\n            // this.offsetY = p5.mouseY - this.startDrag.y;\n\n            this.sliderX = this.startDragCoords.x + this.offsetX;\n            this.sliderX = p5.constrain( this.sliderX, this.x, this.x + this.w);\n           \n        }\n    }\n\n    over(mx, my, p5) {\n        let d = p5.dist(this.sliderX, this.y, mx, my);\n        return d < this.r/2;\n    }\n}","\nimport {boundaryLineCrossing, intersectionPoint} from './Boundaries';\nimport { limits } from '../../constants';\n\nexport default class Wall {\n\n  constructor (p5, i, config) {\n    const wallsInit = [\n      [\n        {x: 0, y: 0, dx: -1, dy: 0}, // inner gallery\n        {x: 20, y: 0, dx: 0, dy: -1},\n        {x: 20, y: 5, dx: 1, dy: 0},\n        {x: 32, y: 5, dx: 0, dy: -1},\n        {x:32, y: 15, dx: 1, dy: 0},\n        // {x:27, y: 10, dx: 0, dy: 1},\n        // {x: 27, y: 15, dx: 1, dy: 0},\n        {x: 20, y: 15, dx: 0, dy: 1},\n        {x: 20, y: 22, dx: 1, dy: 0},\n        {x: 25, y: 22, dx: 0, dy: -1},\n        {x: 25, y: 27, dx: 1, dy: 0},\n        // {x: 20, y: 27},\n        {x: 5, y: 27, dx: 0, dy: 1},\n        {x: 5, y: 22, dx: -1, dy: 0},\n        {x: 0, y: 22, dx: 0, dy: 1},\n        {x: 0, y: 17, dx: -1, dy: 0},\n        {x: -5, y: 17, dx: 0, dy: 1},\n        {x: -5, y: 12, dx: -1, dy: 1},\n        {x: 0, y: 12, dx: 0, dy: -1},\n        {x: 0, y: 0, dx: -1, dy: 0},\n        {x: 20, y: 0, dx: 0, dy: -1},\n      ]\n    ];\n\n    wallsInit.push(limits);\n    this.p5 = p5;\n    this.points = wallsInit[i];\n\n    const sWs = [5, 2, 5];\n    this.borderPoints = [\n      {sW: sWs[0], points:this.initBorderPoints(sWs[0]/2, config.scaler)},\n      {sW: sWs[1], points:this.initBorderPoints(sWs[1]/2, config.scaler)},\n      {sw: sWs[2], points:this.initBorderPoints(sWs[0]+sWs[1]+sWs[2]/2, config.scaler)},\n    ]\n\n    this.config = config;\n  }\n\n  displayShape(p5, floorTex, scaler=this.config.scaler) {\n    p5.beginShape();\n    for (let i = 0; i < this.points.length; i++) {\n      const uv = this.getWallUV(this.points[i]);\n      p5.vertex(this.points[i].x*scaler, this.points[i].y*scaler, 0, uv.u, uv.v);\n    }\n    p5.endShape();\n  }\n\n\n  getWallUV(point) {\n    const u = this.p5.map(point.x, -5, 30, 0, 6);\n    const v = this.p5.map(point.y, 0, 30, 0, 6);\n    return {u: u, v: v };\n  }\n\n  displayWall(p5, scaler=this.config.scaler) {\n    for (let i = 0; i < this.points.length-1; i++) {\n      p5.line(this.points[i].x*scaler, this.points[i].y*scaler, this.points[i+1].x*scaler, this.points[i+1].y*scaler);\n    }\n  }\n\n  initBorderPoints(borderW, scaler=this.config.scaler) {\n    borderW /= scaler;\n    // p5.stroke(0, 255, 0);\n    var borderPoints = [{x: this.points[0].x - borderW, y: this.points[0].y-borderW}];\n    for (let i = 0; i < this.points.length-2; i++) {\n      // const p0 = {x: this.points[i].x + this.points[i+1].dx*borderW, y: this.points[i].y + this.points[i+1].dy*borderW};\n\n      const p0 = borderPoints[i];\n      const p1 = {x: this.points[i+1].x + this.points[i+1].dx*borderW, y: this.points[i+1].y + this.points[i+1].dy*borderW};\n      const pNext0 = {x: this.points[i+1].x + this.points[i+2].dx*borderW, y: this.points[i+1].y + this.points[i+2].dy*borderW};\n      const pNext1 = {x: this.points[i+2].x + this.points[i+2].dx*borderW, y: this.points[i+2].y + this.points[i+2].dy*borderW};\n      const pIntersect = intersectionPoint(p0.x, p0.y, p1.x, p1.y, pNext0.x, pNext0.y, pNext1.x, pNext1.y);\n      borderPoints.push(pIntersect);\n    }\n    return borderPoints;\n  }\n\n  displayBorder(p5, i, scaler=this.config.scaler) {\n    p5.stroke(255);\n    p5.strokeWeight(this.borderPoints[1].sW);\n    this.displayOutline(p5, this.borderPoints[1].points, scaler);\n\n    // p5.stroke(255);\n    // p5.strokeWeight(this.borderPoints[0].sW);\n    // this.displayOutline(p5, this.borderPoints[0].points, scaler);\n    // this.displayOutline(p5, this.borderPoints[2].points, scaler);\n  }\n  \n\n  displayOutline(p5=this.p5, points=this.points, scaler=this.config.scaler) {\n    for (let i = 0; i < points.length-1; i++) {\n      p5.line(points[i].x*scaler, points[i].y*scaler, points[i+1].x*scaler, points[i+1].y*scaler);\n    }\n  }\n\n\n  wallBoundaryCrossing(prevStep, userStep) {\n    return boundaryLineCrossing(prevStep, userStep, this.points, this.config);\n  }\n}\n","import { globalConfig } from '../../constants';\nimport { doorLineCrossing, boundaryLineCrossing } from './Boundaries';\n\nimport { rooms }  from '../../../Sketches';\n\nexport default class Room {\n\n\n\n\n  constructor(p5, i) {\n    const room = rooms[i];\n\n    this.p5 = p5;\n    this.x = room.x;\n    this.y = room.y;\n    this.rot = room.rot;\n    this.dir = room.dir;\n    this.link = room.link;\n    this.title = room.title;\n\n    this.w = 5;\n    this.h = 5;\n    this.start = 0;\n    this.end = .2;\n  }\n\n\n  display(roomTextures, eyeIcon, roomCount) {\n\n    this.p5.push();\n\n    var x = (this.x + this.w / 2) * globalConfig.scaler;\n    var y = (this.y + this.h / 2) * globalConfig.scaler;\n    this.p5.translate(x, y);\n\n\n\n    this.p5.push();\n\n    x = -this.w / 2 * globalConfig.scaler;\n    y = -this.h / 2 * globalConfig.scaler;\n    var w = this.w * globalConfig.scaler;\n    var h = this.h * globalConfig.scaler;\n\n    if (roomTextures[0] && this.dir === \"bottom\") this.p5.image(roomTextures[0], x, y, w, h);\n    else if (roomTextures[1] && this.dir === \"right\") this.p5.image(roomTextures[1], x, y, w, h);\n    else if (roomTextures[2]) this.p5.image(roomTextures[2], x, y, w, h);\n\n   \n    // var count = 0;\n    // if (roomCount) count = roomCount[this.title];\n    // this.drawEye(eyeIcon, count);\n\n    // this.drawTitle();\n\n\n    this.p5.pop();\n\n    // p5.textSize(50);\n    // p5.fill(0, 255, 0);\n    // if (count) p5.text(count, 0, 0)\n\n\n    this.p5.pop();\n\n    // this.drawRoomDoorEntryCrossing();\n    // this.drawRoomDoorCrossing();\n    // this.drawRoomDoorBoundary();\n\n    // if (this.closeToDoor()) {\n    //   this.p5.noFill();\n    //   for (let i = 4 ; i > 0; i--) {\n    //     this.p5.strokeWeight(i*4);\n    //     this.p5.stroke(255, this.p5.map(i, 4, 1, 10, 140));\n    //     this.displayOutline();\n    //   }\n    // }\n\n  }\n\n  drawTitle() {\n    // var w = this.w * globalConfig.scaler;\n    // var h = this.h * globalConfig.scaler;\n\n    // this.p5.push();\n    // this.p5.translate(-w / 2, -h / 2 - 30);\n   \n    // this.p5.pop();\n  }\n\n  drawEye(eyeIcon, rc) {\n    var count = 0;\n    if (rc) count = rc;\n    if (eyeIcon) {\n      // const w = (this.p5.textWidth(count) + 50);\n      // const h = 30;\n      this.p5.push();\n      // this.p5.translate(-w / 2, -h / 2);\n      this.p5.fill(255, 100);\n      this.p5.stroke(255);\n      this.p5.strokeWeight(2);\n      // this.p5.rect(0, 0, w, h, 10, 10);\n      // let rw = 200;\n      // this.p5.rect(-rw/2, 0, rw, 50, 10, 10);\n\n      this.p5.image(eyeIcon, 10, 5, 20, 20);\n\n      this.p5.fill(0);\n      this.p5.noStroke();\n      this.p5.textSize(14);\n      this.p5.text(count, 35, 20);\n\n       // draw title\n      this.p5.fill(0);\n      this.p5.noStroke();\n      \n      if (this.title === \"hard drives on seashores\") {\n        let br = this.title.substring(9, this.title.length).indexOf(\" \") + 9;\n        let t1 = this.title.substring(0, br);\n        let t2 = this.title.substring(br, this.title.length);\n        this.p5.text(t1, -this.p5.textWidth(t1) / 2, 0);\n        this.p5.text(t2, -this.p5.textWidth(t2) / 2, 17);\n      }\n      else if (this.title.length > 12) {\n        let br = this.title.indexOf(\" \");\n        let t1 = this.title.substring(0, br);\n        let t2 = this.title.substring(br, this.title.length);\n        this.p5.text(t1, -this.p5.textWidth(t1) / 2, 0);\n        this.p5.text(t2, -this.p5.textWidth(t2) / 2, 17);\n      } \n      else \n        this.p5.text(this.title, -this.p5.textWidth(this.title) / 2, 0);\n      this.p5.pop();\n     \n      \n    }\n  }\n\n  displayOutline(p5 = this.p5, scaler = globalConfig.scaler) {\n    var w = this.w * scaler;\n    var h = this.h * scaler;\n    // if (rooms[i].id === \"B\") h = 7*scaler;\n    p5.push();\n    p5.translate(this.x * scaler, this.y * scaler);\n    p5.rect(0, 0, w, h);\n\n    // label\n    // p5.strokeWeight(1);\n    // p5.fill(255, 0, 255);\n    // p5.text(rooms[i].id, 10, 0)\n    p5.pop();\n  }\n\n  /////////////////////////////////////////////////////\n  // time to go to a new room; this is 90deg from entrance\n  drawRoomDoorCrossing(p5 = this.p5) {\n    var x0, x1, y0, y1;\n    let sc = globalConfig.scaler;\n    if (this.dir === \"bottom\") {\n      x0 = this.x + 1;\n      x1 = this.x + 1;\n      y0 = this.y + this.h;\n      y1 = this.y + this.h - this.h * this.end;\n    }\n    else if (this.dir === \"left\") {\n      y0 = this.y + 1;\n      y1 = this.y + 1\n      x0 = this.x;\n      x1 = this.x + 1;\n    }\n    else if (this.dir === \"right\") {\n      y0 = this.y + this.h - 1;\n      y1 = this.y + this.h - 1;\n      x0 = this.x + this.w - 1;\n      x1 = this.x + this.w;\n    }\n    p5.stroke(255, 0, 0);\n    p5.strokeWeight(10);\n\n    p5.line(x0 * sc, y0 * sc, x1 * sc, y1 * sc);\n  }\n\n\n\n  roomDoorCrossing(prevStep, userStep, id = 0) {\n    var x0, x1, y0, y1;\n    // let sc = globalConfig.scaler;\n    if (this.dir === \"bottom\") {\n      x0 = this.x + 1;\n      x1 = this.x + 1;\n      y0 = this.y + this.h;\n      y1 = this.y + this.h - this.h * this.end;\n    }\n    else if (this.dir === \"left\") {\n      y0 = this.y + 1;\n      y1 = this.y + 1\n      x0 = this.x;\n      x1 = this.x + 1;\n    }\n    else if (this.dir === \"right\") {\n      y0 = this.y + this.h - 1;\n      y1 = this.y + this.h - 1;\n      x0 = this.x + this.w - 1;\n      x1 = this.x + this.w;\n    }\n    const doorC = { x0: x0, y0: y0, x1: x1, y1: y1, to: this.link };\n    // return doorCrossing(userStep, doorC, globalConfig);\n    return doorLineCrossing(prevStep, userStep, doorC, globalConfig);\n  }\n\n  /////////////////////////////////////////////////////\n  // stop our forward progress\n  // step from door entrance\n  roomDoorBoundary(prevStep, userStep) {\n    var x0, x1, y0, y1;\n    // let st = globalConfig.stepS;\n    // let sc = globalConfig.scaler;\n    if (this.dir === \"bottom\") {\n      x0 = this.x + this.w * this.start;\n      x1 = this.x + this.w * this.end;\n      y0 = this.y + this.h - 1;\n      y1 = this.y + this.h - 1;\n    }\n    else if (this.dir === \"left\") {\n      y0 = this.y;\n      y1 = this.y + 1\n      x0 = this.x + 1;\n      x1 = this.x + 1;\n    }\n    else if (this.dir === \"right\") {\n      y0 = this.y + this.h;\n      y1 = this.y + this.h - this.h * this.end;\n      x0 = this.x + this.w - 1;\n      x1 = this.x + this.w - 1;\n    }\n    const doorC = { x0: x0, y0: y0, x1: x1, y1: y1, to: this.title };\n    // return doorCrossing(userStep, doorC, globalConfig);\n    return doorLineCrossing(prevStep, userStep, doorC, globalConfig);\n  }\n\n  drawRoomDoorBoundary(p5 = this.p5) {\n    var x0, x1, y0, y1;\n    // let st = globalConfig.stepS;\n    let sc = globalConfig.scaler;\n    if (this.dir === \"bottom\") {\n      x0 = this.x + this.w * this.start;\n      x1 = this.x + this.w * this.end;\n      y0 = this.y + this.h - 1;\n      y1 = this.y + this.h - 1;\n    }\n    else if (this.dir === \"left\") {\n      y0 = this.y;\n      y1 = this.y + 1\n      x0 = this.x + 1;\n      x1 = this.x + 1;\n    }\n    else if (this.dir === \"right\") {\n      y0 = this.y + this.h;\n      y1 = this.y + this.h - this.h * this.end;\n      x0 = this.x + this.w - 1;\n      x1 = this.x + this.w - 1;\n    }\n    const doorC = { x0: x0, y0: y0, x1: x1, y1: y1, to: this.title };\n    p5.stroke(255, 0, 255);\n    p5.strokeWeight(10);\n    p5.line(x0 * sc, y0 * sc, x1 * sc, y1 * sc);\n  }\n\n  /////////////////////////////////////////////////////\n  // we have entered the room, but not yet loading new room\n  roomDoorEntryCrossing(prevStep, userStep) {\n    var x0, x1, y0, y1;\n    if (this.dir === \"bottom\") {\n      x0 = Math.floor(this.x + this.w * this.start);\n      x1 = Math.floor(this.x + this.w * this.end);\n      y0 = Math.floor(this.y + this.h);\n      y1 = Math.floor(this.y + this.h);\n    }\n    else if (this.dir === \"left\") {\n      y0 = this.y + this.h * this.start;\n      y1 = this.y + this.h * this.end;\n      x0 = this.x;\n      x1 = this.x;\n    }\n    else if (this.dir === \"right\") {\n      y0 = this.y + this.h;\n      y1 = this.y + this.h - this.h * this.end;\n      x0 = this.x + this.w;\n      x1 = this.x + this.w;\n    }\n    const doorC = { x0: x0, y0: y0, x1: x1, y1: y1, to: this.title };\n    // return doorCrossing(userStep, doorC, globalConfig);\n    return doorLineCrossing(prevStep, userStep, doorC, globalConfig);\n  }\n\n  drawRoomDoorEntryCrossing(p5 = this.p5) {\n    var x0, x1, y0, y1;\n    if (this.dir === \"bottom\") {\n      x0 = this.x + this.w * this.start;\n      x1 = this.x + this.w * this.end;\n      y0 = this.y + this.h;\n      y1 = this.y + this.h;\n    }\n    else if (this.dir === \"left\") {\n      y0 = this.y + this.h * this.start;\n      y1 = this.y + this.h * this.end;\n      x0 = this.x;\n      x1 = this.x;\n    }\n    else if (this.dir === \"right\") {\n      y0 = this.y + this.h;\n      y1 = this.y + this.h - this.h * this.end;\n      x0 = this.x + this.w;\n      x1 = this.x + this.w;\n    }\n    p5.stroke(0, 255, 0);\n    p5.strokeWeight(10);\n    let sc = globalConfig.scaler;\n    p5.line(x0 * sc, y0 * sc, x1 * sc, y1 * sc);\n  }\n\n  roomBoundaryCrossing(prevStep, userStep) {\n    const roomWalls = [\n      { x: (this.x), y: this.y },\n      { x: (this.x + this.w), y: this.y },\n      { x: (this.x + this.w), y: (this.y + this.h) },\n      { x: (this.x), y: (this.y + this.h) },\n      { x: (this.x), y: this.y }\n    ];\n    return boundaryLineCrossing(prevStep, userStep, roomWalls, globalConfig);\n    // return boundaryCrossing(userStep, roomWalls, globalConfig);\n  }\n}\n","\nimport { globalConfig, limits, domCoordsToP5World } from \"../../constants\";\n\n//  thanks to Daniel Shiffman for seek/separate code\n\nexport default class Duck {\n    // The Nature of Code\n    // Daniel Shiffman\n    // http://natureofcode.com\n\n    constructor(p5, x, y, duck) {\n        this.position = p5.createVector(x, y);\n        this.velocity = p5.createVector(0, 0);\n        this.acceleration = p5.createVector(0, 0);\n        this.r = 52;\n        this.maxforce = 2;\n        this.maxspeed = 10;\n        this.p5 = p5;\n        this.duck = duck;\n        this.isFlipped = false;\n    }\n\n\n    applyForce(force) {\n        // We could add mass here if we want A = F / M\n        this.acceleration.add(force);\n    }\n\n    applyBehaviors(hasBread, userX, userY, vehicles) {\n        if (hasBread) {\n            let userWorld = domCoordsToP5World(userX, userY);\n            var separateForce = this.separate(vehicles);\n            var seekForce = this.seek(this.p5.createVector(userWorld.x, userWorld.y));\n            separateForce.mult(2);\n            seekForce.mult(1);\n\n            var mx = userWorld.x;\n        }\n        else {\n            const startX = globalConfig.scaler* (limits[0].x + 10);\n            const startY = globalConfig.scaler*(limits[2].y - 10);\n            var mx = startX + 500*Math.sin(this.p5.millis()/22000) \n            var my = startY + 300*Math.sin(this.p5.millis()/24000) \n            var separateForce = this.separate(vehicles);\n            var seekForce = this.seek(this.p5.createVector(mx, my));\n            separateForce.mult(2);\n            seekForce.mult(.2);\n        }\n\n        this.applyForce(separateForce);\n        this.applyForce(seekForce);\n\n        this.setFlip(mx);\n    }\n\n    setFlip(mx) {\n        if (mx > this.position.x) {\n            this.isFlipped = true;\n        }\n        else\n            this.isFlipped = false;\n    }\n\n    // A method that calculates a steering force towards a target\n    // STEER = DESIRED MINUS VELOCITY\n    seek(target) {\n        var desired = this.subtractVec(target, this.position);  // A vector pointing from the position to the target\n\n        // Normalize desired and scale to maximum speed\n        desired.normalize();\n        desired.mult(this.maxspeed);\n        // Steering = Desired minus velocity\n        var steer = this.subtractVec(desired, this.velocity);\n        steer.limit(this.maxforce);  // Limit to maximum steering force\n\n        return steer;\n    }\n\n    subtractVec(b, a) {\n        var c = this.p5.createVector(b.x - a.x, b.y - a.y, b.z - a.z);\n        return c;\n    }\n\n    dist(a, b) {\n        let dx = b.x - a.x;\n        let dy = b.y - a.y;\n        let dz = b.z - a.z;\n        return Math.sqrt(dx * dx + dy * dy + dz * dz);\n    }\n\n    // Separation\n    // Method checks for nearby vehicles and steers away\n    separate(vehicles) {\n        var desiredseparation = this.r * 2;\n        var sum = this.p5.createVector(0)\n        var count = 0;\n        // For every boid in the system, check if it's too close\n\n        for (const other of vehicles) {\n            var d = this.dist(this.position, other.position);\n            // If the distance is greater than 0 and less than an arbitrary amount (0 when you are yourself)\n            if ((d > 0) && (d < desiredseparation)) {\n                // Calculate vector pointing away from neighbor\n                var diff = this.subtractVec(this.position, other.position);\n                diff.normalize();\n                diff.div(d);        // Weight by distance\n                sum.add(diff);\n                count++;            // Keep track of how many\n            }\n        }\n        // Average -- divide by how many\n        if (count > 0) {\n            sum.div(count);\n            // Our desired vector is the average scaled to maximum speed\n            sum.normalize();\n            sum.mult(this.maxspeed);\n            // Implement Reynolds: Steering = Desired - Velocity\n            sum.sub(this.velocity);\n            sum.limit(this.maxforce);\n        }\n        return sum;\n    }\n\n\n    // Method to update position\n    update() {\n        // Update velocity\n        this.velocity.add(this.acceleration);\n        // Limit speed\n        this.velocity.limit(this.maxspeed);\n        this.position.add(this.velocity);\n        // Reset accelertion to 0 each cycle\n        this.acceleration.mult(0);\n\n        this.checkBoundaries();\n    }\n\n    checkBoundaries() {\n        let sc = globalConfig.stepS\n        let minX = limits[0].x * sc;\n        let maxY = limits[2].y * sc;\n\n        if (this.position.x < minX + 150) {\n            this.position.x = minX + 150;\n        }\n        if (this.position.y > maxY - 150) {\n            this.position.y = maxY - 150;\n        }\n        // set x of stairs\n        if (this.position.y > maxY - 15 * sc) {\n            if (this.position.x > 20 * sc + minX) {\n                this.position.x = 20 * sc + minX;\n            }\n        }\n        else if (this.position.y > maxY - 20 * sc) {\n            if (this.position.x > 15 * sc + minX) {\n                this.position.x = 15 * sc + minX;\n            }\n        }\n        else if (this.position.y > maxY - 25 * sc) {\n            if (this.position.x > 10 * sc + minX) {\n                this.position.x = 10 * sc + minX;\n            }\n        }\n        else if (this.position.y > maxY - 30 * sc) {\n            if (this.position.x > 5 * sc + minX) {\n                this.position.x = 5 * sc + minX;\n            }\n        }\n        else {\n            if (this.position.x > 10 * sc + minX) {\n                this.position.x = 10 * sc + minX;\n            }\n        }\n    }\n\n    display() {\n        this.p5.fill(175);\n        this.p5.stroke(0);\n        this.p5.push();\n        this.p5.translate(this.position.x, this.position.y);\n        // this.p5.ellipse(0, 0, this.r, this.r);\n        if (this.isFlipped) {\n            this.p5.scale(-1, 1);\n            this.p5.image(this.duck, -this.r, 0, this.r, this.r);\n        }\n        else\n            this.p5.image(this.duck, 0, 0, this.r, this.r);\n        this.p5.pop();\n    }\n\n}","import { danceFloor } from '../../constants';\n\nclass Dancer {\n\n    constructor(p5, img, x, y, isFlipped) {\n        this.x = x;\n        this.y = y;\n        this.p5 = p5;\n        this.isFlipped = isFlipped;\n        this.img = img;\n        this.lastStep = 0;\n    }\n\n\n\n    update = () => {\n        if (this.p5.millis() - this.lastStep > 300 ) {\n            this.x += (Math.random() * 2 - 1) * 50;\n            this.y += (Math.random() * 2 - 1) * 50;\n            \n            var minX = 0;\n            var maxX = 660;\n            var minY = 0;\n            var maxY = 300;\n            if (this.x < minX) {\n                this.x = minX;\n            }\n                \n            else if (this.x > maxX)\n                this.x = maxX;\n            if (this.y < minY)\n                this.y = minY;\n            else if (this.y > maxY)\n                this.y = maxY;\n\n            this.lastStep = this.p5.millis();\n        }\n       \n    }\n\n    display() {\n        this.update();\n        this.p5.push();\n        this.p5.translate(danceFloor.x, danceFloor.y);\n        this.p5.translate(this.x, this.y);\n        this.p5.textSize(40);\n        if (this.isFlipped) {\n            this.p5.scale(-1, 1);\n            this.p5.image(this.img, -40, 0, 40, 40);\n        }\n        else\n            this.p5.image(this.img, 0, 0, 40, 40);\n        this.p5.pop();\n    }\n\n}\n\nexport default Dancer;\n","\n \n export const doorCrossing = (doors, prevStop, userStep) => {\n    for (const door of doors) {\n      const cross = door.doorCrossing(prevStop, userStep);\n      if (cross) return cross;\n    }\n    return null;\n  }\n\n\n  export const roomDoorCrossing = (rooms, prevStep, userStep) => {\n    for (const room of rooms) {\n      const cross = room.roomDoorCrossing(prevStep, userStep, 1);\n      if (cross) return cross;\n    }\n    return null;\n  }\n\n  export const roomDoorEntryCrossing = (rooms, prevStep, userStep) => {\n    for (const room of rooms) {\n      const cross = room.roomDoorEntryCrossing(prevStep, userStep);\n      if (cross) return cross;\n    }\n    return null;\n  }\n\n  export const roomDoorBoundary = (rooms, prevStep, userStep) => {\n    for (const room of rooms) {\n      const cross = room.roomDoorBoundary(prevStep, userStep);\n      if (cross) return cross;\n    }\n    return null;\n  }\n\n  export const roomBoundary = (rooms, prevStep, userStep) => {\n\n    for (const room of rooms) {\n      var cross = room.roomBoundaryCrossing(prevStep, userStep);\n      if (cross) return true;\n    }\n    return false;\n  }\n\n  export const wallBoundary = (walls, prevStep, userStep) => {\n    for (const wall of walls) {\n      var cross = wall.wallBoundaryCrossing(prevStep, userStep);\n      if (cross) return true;\n    }\n    return false;\n  }","import React from 'react';\nimport { globalConfig } from '../constants';\n\nclass AvatarMiniMap extends React.Component {\n\n  // constructor(props) {\n  //   super(props);\n\n  // }\n\n  render() {\n    const {user, isUser, dim} = this.props;\n    const scaler = dim/200;\n    const miniScaler = 4*scaler;\n    const miniX = 45*scaler;\n    const miniY = 40*scaler;\n    const bigScaler = globalConfig.scaler;\n    const bigX = globalConfig.x;\n    const bigY = globalConfig.y;\n    const loc = {};\n\n    loc.x = (user.x/bigScaler-bigX)*miniScaler+miniX;\n    loc.y = (user.y/bigScaler-bigY)*miniScaler+miniY;\n\n    const sty = {top: loc.y, left: loc.x};\n    var avatar = user.avatar;\n    if (user.userName === \"wineBot\") avatar = \"\";\n    else if (user.userName === \"DJ\") avatar = \"\";\n    else if (user.userName === \"cheeseBot\") avatar = \"\";\n    else if (user.userName === \"cocktailBot\") avatar = \"\";\n    else if (!isUser) avatar = user.avatar;\n    const hidden = (user.room !== \"gallery\");\n\n    return (\n\n        <div className={\"emojiMiniMap\"+ (hidden?\" hidden\":\"\")} style={sty}>{avatar}</div>\n\n    )\n\n  }\n\n}\n\nexport default AvatarMiniMap;\n","import React from 'react';\nimport Frame from '../../../shared/Frame/Frame';\nimport AvatarMiniMap from './AvatarMiniMap';\n\nimport { connect } from 'react-redux';\nimport { setOneMenu, hideMap, toggleMap } from '../../../../store/actions/menuItems';\n\n\nclass MiniMap extends React.Component {\n\n  // constructor(props) {\n  //   super(props);\n\n  // }\n\n  componentDidMount() {\n    const {hasFooter, isMobile} = this.props.ui;\n    \n    if (!isMobile && !hasFooter) {\n      this.props.toggleMap();\n    }\n  }\n\n  onHide = () => {\n    this.props.hideMap();\n    // this.props.setOneMenu(null);\n  }\n\n  render() {\n    const {users, user, x, y, wineLocation, ui} = this.props;\n\n    const wine0 = {...wineLocation[0]};\n    wine0.room=\"gallery\";\n    const wine1 = {...wineLocation[1]};\n    wine1.room=\"gallery\";\n\n    let isHidden = (ui.isMobile || ui.hasFooter) ? this.props.menu.mobile !== \"map\" : this.props.menu.isMapHidden;\n\n    const dim = (ui.isMobile || ui.hasFooter) ? 135 : 200;\n    // if (otherUser.userName==\"jdboi\") console.log(otherUser.x, otherUser.y);\n    return (\n      <Frame title=\"map\" isHidden={isHidden} onHide={this.onHide} bounded={true} windowStyle={{background: \"rgba(255, 255, 255, .9)\"}} content={\n          /*<video width={dimW-2} height={dimH} muted loop autoPlay><source src={videoDimURL} type=\"video/mp4\"></source></video>*/\n          <div className=\"MiniMap\">\n            <img src={window.AWS + \"/gallery/miniMap.png\"} width=\"100%\" height=\"100%\" />\n            <div className=\"otherAvatarsMiniMap\">\n              <div className=\"mini-avatars\">\n                {users?this.getUsers(dim):null}\n                <AvatarMiniMap dim={dim} user={user} isUser={true} />\n\n              </div>\n            </div>\n          </div>\n        }\n        width={dim} height={dim} x={x} y={y} z={1000}\n        />\n\n    )\n\n  }\n\n  getUsers = (dim) => {\n    return (\n      this.props.users.map((otherUser, i) => {\n        return (\n          <AvatarMiniMap key={i} dim={dim} user={otherUser} isUser={false} />\n        )\n      })\n    )\n  }\n\n}\n\nconst mapStateToProps = (state) => {\n return {\n   ui: state.ui,\n   menu: state.menu\n }\n}\n\nconst mapDispatchToProps = () => {\n return {\n   hideMap,\n   toggleMap,\n   setOneMenu\n }\n}\n\n\nexport default connect(mapStateToProps, mapDispatchToProps())(MiniMap);\n","\nimport React from 'react';\nimport './LoadingPage.css';\n\nexport default function LoadingPage(props) {\n    const sty = {fontSize: (props.ui.width < 400)?30: 50}\n    return (\n        <div className=\"backgroundCover\">\n            <div className=\"LoadingPage\">\n                <div className=\"title\" style={sty}>\n                    <div>losing</div>\n                    <div>my</div>\n                    <div>dimension</div>\n                </div>\n                {/* <div className=\"loadingSymbol\">LOADING{this.getEllipses()}</div> */}\n            </div>\n        </div>\n    )\n}","\nexport function getRandomNum(val) {\n  var x = Math.sin(val) * 10000;\n  return x - Math.floor(x);\n}\n\n// index 2 goes to top\n// 3 , 2, 1, 0\n//-> 2, 1, 3, 0\nexport function getNewZIndices(indexToTop, array) {\n  let prevVal = array[indexToTop];\n  let maxVal = 0;\n  let newArr = [];\n  for (let i = 0; i < array.length; i++) {\n    if (array[i] > maxVal) maxVal = array[i];\n    if (array[i] > prevVal) newArr[i] = array[i]-1;\n    else newArr[i] = array[i];\n  }\n  newArr[indexToTop] = maxVal;\n  return newArr;\n}\n\nexport function mapVal(val, in_min, in_max, out_min, out_max) {\n  return (val - in_min) * (out_max - out_min) / (in_max - in_min) + out_min;\n}\n\nexport function constrain(val, min, max) {\n  if (val < min)\n    return min;\n  else if (val > max)\n    return max;\n  return val;\n}\n\nexport function randomInRange(start, end) {\n  let diff = end-start;\n  return Math.random()*diff+start;\n}","import React from 'react';\nimport \"./Gallery.css\";\n\nimport Sketch from './p5/GallerySketch';\nimport MiniMap from './MiniMap/MiniMap';\nimport { wineLocation, djLocation } from './constants';\nimport LoadingPage from '../../shared/LoadingPage/LoadingPage';\n\n// store\nimport { connect } from 'react-redux';\nimport { doneLoadingApp } from '../../../store/actions';\nimport { moveUser, toggleOutside } from '../../../store/actions/user';\nimport { setUserActiveChat } from '../../../store/actions/userActiveChat';\nimport { setOneMenu, showChat, toggleLiveStream } from '../../../store/actions/menuItems';\nimport { setNoSketchMusic, setSketchMusic, setSketchVolume } from '../../../store/actions/music';\n\nimport { mapVal } from '../../shared/Helpers/Helpers';\n\n// import ReactAudioPlayer from 'react-audio-player';\n\n\nclass Gallery extends React.Component {\n\n  constructor(props) {\n    super(props);\n\n\n\n    this.state = {\n      keyDown: false,\n      numEllipses: 0,\n      // zIndex: [3, 4, 5, 6],\n      // zIndicesIcons: initZIndicesIcons(),\n      // zIndicesFrames: initZIndicesFrames(),\n      volume: .5\n    }\n\n    this.props.setSketchMusic(\"gallery\", 0, .1);\n\n    // this.props.setNoSketchMusic();\n  }\n\n  componentDidMount() {\n    this.loadingInterval = setInterval(this.cycleEllipses, 300);\n  }\n\n  componentWillUnmount() {\n    if (this.loadingInterval)\n      clearInterval(this.loadingInterval);\n  }\n\n  cycleEllipses = () => {\n    this.setState({ numEllipses: (this.state.numEllipses + 1) % 4 })\n  }\n\n  // newFrameToTop = (id) => {\n  //   const newZ = getNewZIndices(id, this.state.zIndicesFrames);\n  //   this.setState({ zIndicesFrames: newZ });\n  // }\n\n  // newIconToTop = (id) => {\n  //   // console.log(\"id\", id)\n  //   const newZ = getNewZIndices(id, this.state.zIndicesIcons);\n  //   this.setState({ zIndicesIcons: newZ });\n  //   // console.log(\"ZZZ\", this.state.zIndices);\n  // }\n\n  // onDblClick = (id) => {\n  //   // console.log(id);\n  //   this.newFrameToTop(id);\n  // }\n\n\n  enterRoom = (room) => {\n    this.props.history.push(room);\n  }\n\n  loadingDone = () => {\n    this.props.doneLoadingApp();\n    clearInterval(this.loadingInterval);\n\n    // const { hasFooter, isMobile } = this.props.ui;\n    // if (!isMobile && !hasFooter) {\n    //   this.props.toggleLiveStream();\n    // }\n  }\n\n  getHomeComponents = () => {\n    const { users, user, ui } = this.props;\n\n    // const { zIndicesIcons, zIndicesFrames } = this.state;\n    if (ui.loading)\n      return (\n        <LoadingPage ui={ui} />\n      );\n    return (\n      <React.Fragment>\n        <MiniMap users={users} user={user} x={ui.edgeSpacing} y={ui.edgeSpacing} wineLocation={wineLocation} />\n      </React.Fragment>\n    )\n  }\n\n  getEllipses = () => {\n    const str = \"...\";\n    return str.substring(0, this.state.numEllipses);\n  }\n\n  getVolume = () => {\n    const { user } = this.props;\n    let dx = djLocation.x - user.x;\n    let dy = djLocation.y - user.y;\n    let dis = Math.sqrt(dx * dx + dy * dy);\n    if (this.props.outside) {\n      let minVol = .3;\n      let v = mapVal(dis, 0, 3000, 1, 0);\n      if (v > 1)\n        v = 1;\n      else if (v < minVol)\n        v = minVol;\n      return v;\n    }\n    return .1;\n  }\n\n\n  setUserActive = (otherUser) => {\n    const { ui, setUserActiveChat, showChat, setOneMenu } = this.props;\n    setUserActiveChat(otherUser);\n    // if we use both, setOneMenu will have a toggle effect on Desktop\n    if (ui.isMobile || ui.hasFooter)\n      setOneMenu(\"chat\");\n    else\n      showChat();\n  }\n\n  moveUser = (x, y) => {\n    this.props.setSketchVolume(this.getVolume());\n    this.props.moveUser(x, y, wineLocation);\n  }\n\n  render() {\n    const { users, user, roomCount, ui, isClosed } = this.props;\n    // const { zIndex, zIndicesIcons, zIndicesFrames } = this.state;\n\n    return (\n      <div className=\"Gallery Sketch\" >\n        <div id=\"p5_loading\" className=\"loadingclass\"></div>\n        <Sketch\n          className=\"p5sketch\"\n          user={user}\n          users={users}\n          roomCount={roomCount}\n          isClosed={isClosed}\n          userMove={(x, y) => this.moveUser(x, y)}\n          userTransition={(x, y) => this.props.transitionUser(x, y, wineLocation)}\n          userNewRoom={this.props.userNewRoom}\n          loadingDone={this.loadingDone}\n          toggleOutside={this.props.toggleOutside}\n          isMobile={ui.isMobile}\n          setUserActive={this.setUserActive}\n        />\n\n        {this.getHomeComponents()}\n      </div>\n    )\n  }\n}\n\n\n\nconst mapStateToProps = (state) => {\n  return {\n    user: state.user,\n    music: state.music,\n    outside: state.outside,\n    ui: state.ui\n  }\n}\n\nconst mapDispatchToProps = () => {\n  return {\n    moveUser,\n    toggleOutside,\n    doneLoadingApp,\n    setUserActiveChat,\n    setOneMenu,\n    showChat,\n    setSketchMusic,\n    setSketchVolume,\n    setNoSketchMusic,\n    toggleLiveStream\n  }\n}\n\n\nexport default connect(mapStateToProps, mapDispatchToProps())(Gallery);\n","import React from 'react';\n\nimport './MacbookAir.css';\n\n// components\nimport Frame from '../../shared/Frame/Frame';\nimport Slider from '@material-ui/core/Slider';\n\n// store\nimport { connect } from 'react-redux';\nimport { doneLoadingApp } from '../../../store/actions/';\nimport { setSketchMusic, setNoSketchMusic, setSketchVolume } from '../../../store/actions/music';\n\n// helpers\nimport { constrain, mapVal } from '../../shared/Helpers/Helpers';\n\nclass MacbookAir extends React.Component {\n\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      videoSpeed: 1.0,\n\n    }\n\n    this.sliderOG = { x: 0, y: 0 };\n    this.mainOG = { x: 0, y: 0 };\n\n    this.cloudsRef = React.createRef();\n    this.fanRef = React.createRef();\n\n    this.setSpeed = this.setSpeed.bind(this);\n    this.getDimensions = this.getDimensions.bind(this);\n    this.getMainWindow = this.getMainWindow.bind(this);\n    this.getSliderWindow = this.getSliderWindow.bind(this);\n  }\n\n  componentDidMount() {\n    this.interval = setInterval(this.resetPlayer, 22000);\n    this.props.doneLoadingApp();\n    this.props.setSketchMusic(\"cloud\", 0, .5);\n  }\n\n  componentWillUnmount() {\n    clearInterval(this.interval);\n  }\n\n  componentDidUpdate(prevProps) {\n    const { ui } = this.props;\n    if (ui.compositionStarted && !prevProps.ui.compositionStarted) {\n      this.fanRef.current.play();\n      this.cloudsRef.current.play();\n    }\n  }\n\n  setSpeed(speed) {\n    this.cloudsRef.current.playbackRate = speed;\n    this.props.setSketchVolume(speed);\n    this.fanRef.current.playbackRate = speed;\n    // this.setState({ videoSpeed: speed });\n  }\n\n  getDimensions() {\n    var ui = { ...this.props.ui };\n    var toolbarH = ui.toolbarH;\n    var windowWidth = ui.contentW;\n    var windowHeight = ui.contentH;\n    var aspectRatio = ui.contentW / ui.contentH;\n    var minSpacing = 20;\n\n    const originalDim = { w: 840, h: 540 };\n    let maxF = 1.3;\n    let factor = mapVal(ui.contentW, 1400, 2500, 1, maxF);\n    factor = constrain(factor, 1, maxF);\n    originalDim.w = Math.floor(originalDim.w * factor);\n    originalDim.h = Math.floor(originalDim.h * factor);\n\n    if (ui.hasFooter && ui.orientation === \"landscape\")\n      return getLandscapeDimensions();\n    return getPortraitDimensions();\n\n\n    function getLandscapeDimensions() {\n      let minSpacingX = 120;\n      let minSpacingY = 40;\n      let minSpacingMiddle = 20;\n      windowHeight -= toolbarH;\n      let windowDim = { w: originalDim.w, h: originalDim.h, x: 0, y: 0 };\n      let sliderDim = { w: 80, h: windowDim.h, x: 0, y: 0, vertical: true };\n      let availableHeight = windowHeight - minSpacingY * 2;\n      let availableWidth = windowWidth - minSpacingX * 2 - minSpacingMiddle - sliderDim.w; // width of slider\n      const windowAspectRatio = availableWidth / availableHeight;\n\n      // should we max out the height or width in the available space?\n      // in this case, there's more available width than the original image; \n      // max out height\n      if (windowAspectRatio > aspectRatio) {\n        windowDim.h = availableHeight;\n        windowDim.w = originalDim.w * windowDim.h / originalDim.h;\n      } else {\n        // max device height width\n        windowDim.w = availableWidth;\n        windowDim.h = originalDim.h * windowDim.w / originalDim.w;\n      }\n      let spacingFinal = (windowHeight - windowDim.h) / 2;\n      windowDim.x = (windowWidth - windowDim.w - sliderDim.w - minSpacingMiddle) / 2;\n      windowDim.y = spacingFinal;\n\n      // slider\n      sliderDim.h = windowDim.h;\n      sliderDim.x = windowDim.w + windowDim.x + minSpacingMiddle;\n      sliderDim.y = windowDim.y;\n      return [windowDim, sliderDim];\n    }\n\n    function getPortraitDimensions() {\n      windowHeight -= 2 * toolbarH;\n      minSpacing = 20;\n      let sliderDim = { w: 250, h: 64, x: 0, y: 0, vertical: false };\n      // let availableHeight = windowHeight-60-85-minSpacing*3;\n      let availableHeight = windowHeight - sliderDim.h - minSpacing * 3 - 36;\n      if (ui.hasFooter) availableHeight -= 60;\n      let availableWidth = windowWidth - minSpacing * 2;\n      let windowAspectRatio = availableWidth / availableHeight;\n\n      let windowDim = { w: originalDim.w, h: originalDim.h, x: 0, y: 0 };\n\n      if (windowAspectRatio < aspectRatio) {\n        // max device height out\n        windowDim.h = Math.min(availableHeight, originalDim.h);\n        windowDim.w = Math.min(originalDim.w * windowDim.h / originalDim.h, originalDim.w);\n      } else {\n        // max device height width\n        windowDim.w = Math.min(availableWidth, originalDim.w);\n        windowDim.h = Math.min(originalDim.h * windowDim.w / originalDim.w, originalDim.h);\n      }\n\n      let spacingFinal = (windowHeight - sliderDim.h - windowDim.h) / 3;\n      // console.log(sliderDim.h, sliderspacingFinal)\n      windowDim.x = windowWidth / 2 - windowDim.w / 2 - 2;\n      windowDim.y = spacingFinal;//(windowHeight - windowDim.h)/4;\n\n      // slider\n      sliderDim.x = (windowWidth - sliderDim.w) / 2;\n      // let remainingSpace = windowHeight - windowDim.h - windowDim.y;\n      // let buffer = (remainingSpace - sliderDim.h - 21)/2;\n      sliderDim.y = windowDim.y + windowDim.h + toolbarH + spacingFinal;\n      return [windowDim, sliderDim];\n    }\n  }\n\n\n  getMainWindow(windowDim) {\n    const { ui } = this.props;\n    if (ui.width <= 0 || windowDim.w <= 0) {\n      return null;\n    }\n    else {\n      if (this.mainOG.x === 0) {\n        this.mainOG.x = windowDim.x;\n        this.mainOG.y = windowDim.y;\n      }\n\n      const title = \"\";//(ui.isMobile || ui.hasFooter)?\"\":\"macbook air\";\n      return (\n        <Frame title={title} content={\n          <video\n            ref={this.fanRef}\n            width={windowDim.w}\n            height={windowDim.h}\n            muted\n            loop\n            playsInline\n            autoPlay>\n            <source src={window.AWS + \"/macbookAir/noframe.mp4\"} type=\"video/mp4\"></source>\n          </video>\n        }\n          width={windowDim.w + 2} height={windowDim.h} x={windowDim.x} y={windowDim.y} px={windowDim.x} py={windowDim.y}\n        />\n      )\n    }\n  }\n\n  getSliderWindow(sliderDim) {\n\n    if (this.props.ui.width <= 0) {\n      return null;\n    }\n    else {\n      return (\n        <Frame title=\"\" icon=\"&#58160;\" content={\n          <div className=\"sliderBox\">\n            {sliderDim.w < 200 ?\n              <ContinuousSliderVert callback={this.setSpeed} h={sliderDim.h} w={sliderDim.w} /> : <ContinuousSliderHoriz callback={this.setSpeed} w={sliderDim.w} h={sliderDim.h} />}\n          </div>\n        }\n          width={sliderDim.w} height={sliderDim.h} x={sliderDim.x} y={sliderDim.y} px={sliderDim.x} py={sliderDim.y}\n        />\n      );\n    }\n\n  }\n\n  render() {\n\n    const frameDimensions = this.getDimensions();\n    const windowDim = frameDimensions[0];\n    const sliderDim = frameDimensions[1];\n\n    return (\n      <div className=\"MacbookAir Sketch\">\n        <video ref={this.cloudsRef} autoPlay muted playsInline loop className=\"backgroundCover\">\n          <source src={window.AWS + \"/macbookAir/clouds3d.mp4\"} type=\"video/mp4\" ></source>\n              Your browser does not support HTML5 video.\n            </video>\n        {this.getMainWindow(windowDim)}\n        {this.getSliderWindow(sliderDim)}\n        {/*Glasses />*/}\n      </div>\n    );\n  }\n\n}\n\n\nfunction ContinuousSliderVert(props) {\n  // const classes = useStyles();\n  const [value, setValue] = React.useState(1.0);\n\n  const handleChange = (event, newValue) => {\n    setValue(newValue);\n    props.callback(newValue);\n  };\n\n  let style = {};\n  style.height = props.h - 12 * 2;\n  style.width = \"auto\";\n  let sliderStyle = { width: style.width, height: style.height - 105 }\n  return (\n    <div className=\"emoji-slider-vert emoji-slider\" style={style}>\n      <div className=\"emoji gust-emoji top\" aria-label=\"dashing away\"></div>\n      <div className=\"slider\"><Slider value={value} onChange={handleChange} orientation={\"vertical\"} style={sliderStyle} color='primary' aria-labelledby=\"continuous-slider\" step={0.1} min={0.0} max={2.0} defaultValue={1.0} /></div>\n\n      <div className=\"emoji cloud-emoji\" aria-label=\"cloud\"></div>\n    </div>\n  );\n}\n\nfunction ContinuousSliderHoriz(props) {\n  // const classes = useStyles();\n  const [value, setValue] = React.useState(1.0);\n\n  const handleChange = (event, newValue) => {\n    setValue(newValue);\n    props.callback(newValue);\n  };\n\n  let style = {};\n  style.height = \"auto\";\n  style.width = 100;\n\n  return (\n    <div className=\"emoji-slider emoji-slider-horiz\" style={{ height: \"auto\", width: props.w }}>\n      <div className=\"cloud-emoji emoji left\" aria-label=\"cloud\"></div>\n      <Slider value={value} onChange={handleChange} orientation=\"horizontal\" style={style} color='primary' aria-labelledby=\"continuous-slider\" step={0.1} min={0.0} max={2.0} defaultValue={1.0} />\n      <div className=\"gust-emoji emoji\" aria-label=\"dashing away\"></div>\n    </div>\n  );\n}\n\n\n\nconst mapStateToProps = (state) => {\n  return {\n    ui: state.ui,\n    music: state.music\n  }\n}\n\nconst mapDispatchToProps = () => {\n  return {\n    doneLoadingApp,\n    setSketchMusic,\n    setSketchVolume,\n    setNoSketchMusic,\n  }\n}\n\n\nexport default connect(mapStateToProps, mapDispatchToProps())(MacbookAir);\n\n","import * as THREE from \"three\";\n\nexport default class Pipe {\n  constructor(nodes, scene) {\n\n    this.pipeRadius = 0.2;\n    this.ballJointRadius = this.pipeRadius * 1.5;\n    this.gridBounds = new THREE.Box3(\n      new THREE.Vector3(-10, -10, -10),\n      new THREE.Vector3(10, 10, 10)\n    );\n\n    this.scene = scene;\n    this.nodes = nodes;\n\n    this.currentPosition = randomIntegerVector3WithinBox(this.gridBounds);\n    this.positions = [this.currentPosition];\n    this.object3d = new THREE.Object3D();\n\n    this.scene.add(this.object3d);\n    this.addTexture();\n    this.setAt(nodes, this.currentPosition, this);\n    this.makeBallJoint(this.currentPosition);\n  }\n\n  makeCylinderBetweenPoints(fromPoint, toPoint, material) {\n    var deltaVector = new THREE.Vector3().subVectors(toPoint, fromPoint);\n    var arrow = new THREE.ArrowHelper(\n      deltaVector.clone().normalize(),\n      fromPoint\n    );\n    var geometry = new THREE.CylinderGeometry(\n      this.pipeRadius,\n      this.pipeRadius,\n      deltaVector.length(),\n      10,\n      4,\n      true\n    );\n    var mesh = new THREE.Mesh(geometry, material);\n\n    mesh.rotation.setFromQuaternion(arrow.quaternion);\n    mesh.position.addVectors(fromPoint, deltaVector.multiplyScalar(0.5));\n    mesh.updateMatrix();\n\n    this.object3d.add(mesh);\n  };\n\n  makeBallJoint(position) {\n    var ball = new THREE.Mesh(\n      new THREE.SphereGeometry(this.ballJointRadius, 8, 8),\n      this.material\n    );\n    ball.position.copy(position);\n    this.object3d.add(ball);\n  };\n\n  makeElbowJoint(fromPosition, toPosition, tangentVector) {\n    var elball = new THREE.Mesh(\n      new THREE.SphereGeometry(this.pipeRadius, 8, 8),\n      this.material\n    );\n    elball.position.copy(fromPosition);\n    this.object3d.add(elball);\n  };\n\n  addTexture() {\n    const texUrl = window.AWS + \"/jungleGyms/caution.jpg\";\n    var pipeTexture = new THREE.TextureLoader().load(  texUrl );//THREE.ImageUtils.loadTexture(texUrl);\n    pipeTexture.wrapS = pipeTexture.wrapT = THREE.RepeatWrapping;\n    pipeTexture.repeat.set(.2, .2);\n    if (pipeTexture) {\n      this.material = new THREE.MeshLambertMaterial({\n        map: pipeTexture,\n      });\n    } else {\n      var color = 0x00441f //randomInteger(0, 0xffffff);\n      var emissive = new THREE.Color(color).multiplyScalar(0.3);\n      this.material = new THREE.MeshPhongMaterial({\n        specular: 0xa9fcff,\n        color: color,\n        emissive: emissive,\n        shininess: 100,\n      });\n    }\n  }\n\n  update() {\n    if (this.positions.length > 1) {\n      var lastPosition = this.positions[this.positions.length - 2];\n      var lastDirectionVector = new THREE.Vector3().subVectors(\n        this.currentPosition,\n        lastPosition\n      );\n    }\n    if (Math.random>.5 && lastDirectionVector) {\n      var directionVector = lastDirectionVector;\n    } else {\n      var directionVector = new THREE.Vector3();\n      directionVector[chooseFrom(\"xyz\")] += chooseFrom([+1, -1]);\n    }\n    var newPosition = new THREE.Vector3().addVectors(\n      this.currentPosition,\n      directionVector\n    );\n\n    // TODO: try other possibilities\n    // ideally, have a pool of the 6 possible directions and try them in random order, removing them from the bag\n    // (and if there's truly nowhere to go, maybe make a ball joint)\n    if (!this.gridBounds.containsPoint(newPosition)) {\n      return;\n    }\n    if (this.getAt(newPosition)) {\n      return;\n    }\n    this.setAt(newPosition, this);\n\n    // joint\n    // (initial ball joint is handled elsewhere)\n    if (lastDirectionVector && !lastDirectionVector.equals(directionVector)) {\n      this.makeBallJoint(this.currentPosition);\n    }\n\n    // pipe\n    this.makeCylinderBetweenPoints(this.currentPosition, newPosition, this.material);\n\n    // update\n    this.currentPosition = newPosition;\n    this.positions.push(newPosition);\n  };\n\n  setAt(position, value) {\n    this.nodes[\"(\" + position.x + \", \" + position.y + \", \" + position.z + \")\"] = value;\n  }\n\n  getAt(position, value) {\n    return this.nodes[\"(\" + position.x + \", \" + position.y + \", \" + position.z + \")\"];\n  }\n\n};\n\n//////////////\n// HELPERS\nfunction chooseFrom(values) {\n  return values[Math.floor(Math.random() * values.length)];\n}\nfunction random(x1, x2) {\n  return Math.random() * (x2 - x1) + x1;\n}\nfunction randomInteger(x1, x2) {\n  return Math.round(random(x1, x2));\n}\nfunction randomIntegerVector3WithinBox(box) {\n  return new THREE.Vector3(\n    randomInteger(box.min.x, box.max.x),\n    randomInteger(box.min.y, box.max.y),\n    randomInteger(box.min.z, box.max.z)\n  );\n}\n","import React from 'react';\n// import ReactDOM from \"react-dom\";\n\nimport \"./JungleGyms.css\";\n\nimport * as THREE from \"three\";\n// import { AnaglyphEffect } from 'three/examples/jsm/effects/AnaglyphEffect.js';\nimport { OBJLoader } from 'three/examples/jsm/loaders/OBJLoader.js';\nimport { MTLLoader } from 'three/examples/jsm/loaders/MTLLoader.js';\nimport { DDSLoader } from 'three/examples/jsm/loaders/DDSLoader.js';\nimport { OrbitControls } from 'three/examples/jsm/controls/OrbitControls.js';\n\nimport Frame from '../../shared/Frame/Frame';\n\n// store\nimport { connect } from 'react-redux';\nimport { setSketchMusic } from '../../../store/actions/music';\n\nimport Pipe from './Pipe';\n\nvar AnaglyphEffect = require('../../shared/3D/AnaglyphEffect')(THREE, true);\n\n\nclass JungleGyms extends React.Component {\n\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      firstLoad: true\n    }\n\n    this.videoSwings = React.createRef();\n    this.videoGym = React.createRef();\n  }\n\n  componentDidMount() {\n    this.interval = setInterval(this.reset, 20000);\n    window.addEventListener('resize', this.handleWindowResize);\n\n    this.setupScene();\n    this.startAnimationLoop();\n\n    this.props.setSketchMusic(\"jungleGyms\", 0, .5);\n  }\n\n  componentWillUnmount() {\n    window.removeEventListener('resize', this.handleWindowResize);\n    window.cancelAnimationFrame(this.requestID);\n    this.controls.dispose();\n    clearInterval(this.interval);\n    // this.props.userLeaveRoom(\"jungle-gyms\");\n  }\n\n  componentDidUpdate(prevProps) {\n    const { ui } = this.props;\n    if (ui.compositionStarted && !prevProps.ui.compositionStarted) {\n      this.videoSwings.current.play();\n      this.videoGym.current.play();\n    }\n  }\n\n  handleWindowResize = () => {\n    const width = window.innerWidth; //this.el.clientWidth;\n    const height = window.innerHeight; //this.el.clientHeight;\n    this.renderer.setSize(width, height);\n    this.camera.aspect = width / height;\n    this.camera.updateProjectionMatrix();\n  };\n\n  setupScene = () => {\n    this.scene = new THREE.Scene();\n    this.camera = new THREE.PerspectiveCamera(45, window.innerWidth / window.innerHeight, 1, 100000);\n    this.renderer = new THREE.WebGLRenderer({ alpha: true, antialias: true, });\n    this.renderer.setSize(window.innerWidth, window.innerHeight);\n    // document.body.appendChild( renderer.domElement );\n    // use ref as a mount point of the Three.js scene instead of the document.body\n    this.mount.appendChild(this.renderer.domElement);\n\n\n    this.effect = new AnaglyphEffect(this.renderer);\n    this.effect.setSize(window.innerWidth, window.innerHeight);\n\n    this.controls = new OrbitControls(this.camera, this.renderer.domElement);\n    this.controls.minDistance = 1;\n    this.controls.maxDistance = 80;\n\n    var ambientLight = new THREE.AmbientLight(0xaaaaaa);\n    this.scene.add(ambientLight);\n    this.addLight(-10, 2, 4);\n    this.addLight(1, -10, -2);\n\n    this.addScreenCube(this.videoGym.current, 1920, 1080, .01, [0, 0, -8], [0, 0, 0], 47);\n    this.addScreenCube(this.videoSwings.current, 1080, 1920, .01, [6, 0, -20], [0, -Math.PI / 2, 0], 20);\n\n    this.pipes = [];\n    this.vines = [];\n    this.nodes = {};\n\n    this.addWallPaper();\n    this.addVines();\n    this.look();\n  }\n\n  startAnimationLoop = () => {\n    // this.renderer.render( this.scene, this.camera );\n    for (let i = 0; i < this.pipes.length; i++) {\n      this.pipes[i].update();\n    }\n    if (this.pipes.length === 0) {\n      for (let i = 0; i < 1 + (1 + chance(1 / 10)); i++) {\n        this.pipes.push(new Pipe(this.nodes, this.scene));\n      }\n    }\n    for (let i = 0; i < 3; i++) {\n      if (this.vines[i]) this.vines[i].position.y = -10 - i * 5 + Math.sin(new Date().getTime() / 1000);\n    }\n\n    if (this.controls) this.controls.update();\n    this.effect.render(this.scene, this.camera);\n    this.requestID = window.requestAnimationFrame(this.startAnimationLoop);\n\n  };\n\n\n  reset = () => {\n    // const {pipes} = this.state;\n    this.renderer.clear();\n    for (var i = 0; i < this.pipes.length; i++) {\n      this.scene.remove(this.pipes[i].object3d);\n    }\n    this.pipes = [];\n    this.nodes = {};\n    this.look();\n  }\n\n  addLight = (...pos) => {\n    const color = 0xFFFFFF;\n    const intensity = 1;\n    const light = new THREE.DirectionalLight(color, intensity);\n    light.position.set(...pos);\n    this.scene.add(light);\n  }\n\n  addScreenCube = (video, pW, pH, fac, pos, rot, boxLen) => {\n    var videoTex = new THREE.VideoTexture(video);\n    pW *= fac;\n    pH *= fac;\n\n    videoTex.minFilter = THREE.LinearFilter;\n    videoTex.magFilter = THREE.LinearFilter;\n    videoTex.format = THREE.RGBFormat;\n    var geometry = new THREE.PlaneGeometry(pW, pH, 1);\n    var material = new THREE.MeshBasicMaterial({ color: 0xffff00, side: THREE.DoubleSide, map: videoTex });\n    var plane = new THREE.Mesh(geometry, material);\n    plane.position.set(...pos);\n    plane.rotation.set(...rot);\n    this.scene.add(plane);\n\n\n    var geometry = new THREE.BoxGeometry(pW, pH, boxLen);\n    var material = new THREE.MeshPhongMaterial({ color: 0x00aa00, opacity: .3, transparent: true, side: THREE.DoubleSide }); //\n    var cube = new THREE.Mesh(geometry, material);\n    cube.position.set(...pos);\n    cube.rotation.set(...rot);\n    this.scene.add(cube);\n\n    var geometry = new THREE.BoxBufferGeometry(pW, pH, boxLen);\n    var edges = new THREE.EdgesGeometry(geometry);\n    var line = new THREE.LineSegments(edges, new THREE.LineBasicMaterial({ color: 0x00ff00, linewidth: 24 }));\n    line.position.set(...pos);\n    line.rotation.set(...rot);\n    this.scene.add(line);\n  }\n\n  addWallPaper = () => {\n    const url = window.AWS + \"/jungleGyms/wallpaper3.jpg\";\n    var wall = new THREE.TextureLoader().load(url);\n    wall.wrapS = THREE.RepeatWrapping;\n    wall.wrapT = THREE.RepeatWrapping;\n    wall.repeat.set(4, 4);\n    var geometry = new THREE.PlaneGeometry(200, 100, 1);\n    var material = new THREE.MeshBasicMaterial({ color: 0xffff00, side: THREE.DoubleSide, map: wall });\n    var plane = new THREE.Mesh(geometry, material);\n    plane.position.set(0, 0, -14);\n    // scene.add( plane );\n    this.scene.background = wall;\n  }\n\n  addVines = () => {\n    var self = this;\n    var modelPath = window.AWS + \"/jungleGyms/vines/\";\n    var model = \"Vines\";\n    var onProgress = function (xhr) {\n      if (xhr.lengthComputable) {\n        var percentComplete = xhr.loaded / xhr.total * 100;\n        // console.log(Math.round(percentComplete, 2) + '% downloaded');\n      }\n    }\n    var onError = function () { };\n    var manager = new THREE.LoadingManager();\n    manager.addHandler(/\\.dds$/i, new DDSLoader());\n    new MTLLoader(manager)\n      .setPath(modelPath)\n      .load(model + '.mtl', function (materials) {\n\n        materials.preload();\n\n        new OBJLoader(manager)\n          .setMaterials(materials)\n          .setPath(modelPath)\n          .load(model + '.obj', function (vine) {\n            vine.rotation.set(0, Math.PI, 0);\n            vine.position.set(-10, -10, -10);\n            vine.scale.set(5, 5, 5);\n            self.vines.push(vine);\n\n            var newVine = vine.clone();\n            newVine.position.set(0, -15, 0);\n            vine.rotation.set(0, 0, 0);\n            self.vines.push(newVine);\n\n            var newVine2 = vine.clone();\n            newVine2.rotation.set(0, -Math.PI / 2, 0);\n            self.vines.push(newVine2);\n            self.scene.add(vine);\n            self.scene.add(newVine);\n            self.scene.add(newVine2);\n\n          }, onProgress, onError);\n\n      });\n\n    //\n  }\n\n  look = () => {\n    // TODO: never don't change the view (except maybe while clearing)\n    if (this.state.firstLoad || chance(1 / 2)) {\n      // head-on view\n\n      this.camera.position.set(0, 0, 14);\n      this.setState({ firstLoad: false });\n    } else {\n      // random view\n\n      var vector = new THREE.Vector3(30, 0, 0);\n\n      var axis = new THREE.Vector3(random(-1, 1), random(-1, 1), random(-1, 1));\n      var angle = Math.PI / 2;\n      var matrix = new THREE.Matrix4().makeRotationAxis(axis, angle);\n\n      vector.applyMatrix4(matrix);\n      this.camera.position.copy(vector);\n    }\n    // camera.position.set(0, 0, 14);\n    var center = new THREE.Vector3(0, 0, 0);\n    this.camera.lookAt(center);\n    // camera.updateProjectionMatrix(); // maybe?\n    this.controls.update();\n  }\n\n  getControlsFrame = () => {\n    const w = 230;\n    return (\n      <Frame title=\"jungle gyms\" content={\n        <div className=\"jungleControls\">\n          <button>left</button>\n          <button>right</button>\n          <button>+</button>\n          <button>-</button>\n        </div>\n      }\n        width={w} height={50} x={window.innerWidth - w - 50} y={window.innerHeight - 124}\n      />\n    )\n  }\n\n  render() {\n    const gymUrl = window.AWS + \"/jungleGyms/gym.mp4\"\n    return (\n      <div className=\"JungleGyms Sketch\">\n        <div className=\"threeCanvas\" ref={ref => (this.mount = ref)} />\n        <video\n          playsInline\n          crossOrigin=\"anonymous\"\n          ref={this.videoGym}\n          autoPlay\n          muted\n          loop\n          className=\"gym\" >\n          <source src={gymUrl} type=\"video/mp4\" ></source>\n          Your browser does not support HTML5 video.\n        </video>\n        <video\n          playsInline\n          crossOrigin=\"anonymous\"\n          ref={this.videoSwings}\n          autoPlay\n          muted\n          loop\n          className=\"gym\" >\n          <source src={window.AWS + \"/jungleGyms/swings.mp4\"} type=\"video/mp4\" ></source>\n          Your browser does not support HTML5 video.\n        </video>\n\n        {/* { this.getControlsFrame()} */}\n        {/*Glasses />*/}\n      </div>\n    )\n  }\n}\n\nfunction random(x1, x2) {\n  return Math.random() * (x2 - x1) + x1;\n}\nfunction chance(value) {\n  return Math.random() < value;\n}\n\nfunction shuffleArrayInPlace(array) {\n  for (var i = array.length - 1; i > 0; i--) {\n    var j = Math.floor(Math.random() * (i + 1));\n    var temp = array[i];\n    array[i] = array[j];\n    array[j] = temp;\n  }\n}\n\nfunction showElementsIf(selector, condition) {\n  Array.from(document.querySelectorAll(selector)).forEach(function (el) {\n    if (condition) {\n      el.removeAttribute(\"hidden\");\n    } else {\n      el.setAttribute(\"hidden\", \"hidden\");\n    }\n  });\n}\n\nconst mapStateToProps = (state) => {\n  return {\n    ui: state.ui\n  }\n}\n\nconst mapDispatchToProps = () => {\n  return {\n    // doneLoadingApp\n    setSketchMusic\n  }\n}\n\n\nexport default connect(mapStateToProps, mapDispatchToProps())(JungleGyms);\n","import { Engine, Scene } from 'babylonjs'\nimport React, { useEffect, useRef, useState } from 'react'\n\nexport default (props) => {\n  const reactCanvas = useRef(null);\n  const { antialias, engineOptions, adaptToDeviceRatio, sceneOptions, onRender, onSceneReady, ...rest } = props;\n\n  useEffect(() => {\n    if(reactCanvas.current) {\n      const engine = new Engine(reactCanvas.current, antialias, engineOptions, adaptToDeviceRatio);\n      const scene = new Scene(engine, sceneOptions);\n      if (scene.isReady()) {\n        props.onSceneReady(scene)\n      } else {\n        scene.onReadyObservable.addOnce((scene) => props.onSceneReady(scene));\n      }\n\n      engine.runRenderLoop(() => {\n        if (typeof onRender === 'function') {\n          onRender(scene);\n        }\n        scene.render();\n      })\n\n      const resize = () => {\n        scene.getEngine().resize();\n      }\n\n      if (window) {\n        window.addEventListener('resize', resize);\n      }\n\n      return () => {\n        scene.getEngine().dispose();\n\n        if (window) {\n          window.removeEventListener('resize', resize);\n        }\n      }\n    }\n  }, [reactCanvas])\n\n  return (\n    <canvas touch-action=\"none\" id=\"renderCanvas\" tabIndex=\"1\" ref={reactCanvas} {...rest} />\n  );\n}\n","import React from 'react';\nimport './Frame.css';\nimport Toolbar from './Toolbar';\n// import Draggable from 'react-draggable';\n\nclass FrameSimple extends React.Component {\n  // https://codepen.io/JohJakob/pen/YPxgwo\n\n  // constructor(props) {\n  //   super(props);\n  //   this.state = {\n  //     isMinimized: false,\n  //     isClosed: false\n  //   }\n  //\n  //   this.toggleClosed = this.toggleClosed.bind(this);\n  //\n  // }\n\n  render() {\n    let toolBarH = 30;\n\n    // var title = this.props.title;\n\n    let x = Math.floor(this.props.px);\n    let y = Math.floor(this.props.py);\n    var sty = {\n      width: this.props.width,\n      height: this.props.height + toolBarH,\n      left: x,\n      top: y,\n      // display: this.state.isClosed?\"none\":\"block\"\n    }\n\n    let classN = \"Frame FrameSimple\";\n    if (this.props.notAbsolute) classN += \" static\"\n\n    // so i guess x/y in <FrameSimple x={..} ...} doesn't do anything?\n    // but px={} py={} does?\n    // how does this differ from <Frame ..> ?\n    // oh frame simple isn't draggable.. doi\n\n     return (\n      <div className={classN} style={sty}>\n        <div className=\"window\" style={this.props.windowStyle}>\n          <Toolbar title={this.props.title} toggleClosed={this.toggleClosed} toggleMinimzed={this.toggleMinimzed} toggleMaximized={this.toggleMaximized} />\n\n          <div className=\"content\">\n            {this.props.content}\n          </div>\n\n        </div>\n      </div>\n\n    );\n  }\n\n  toggleMinimzed() {\n    //ok...\n  }\n\n  toggleClosed() {\n    // this.setState({isClosed: true});\n  }\n}\n\n\n\nexport default FrameSimple\n","import React from 'react';\nimport FrameSimple from '../../shared/Frame/FrameSimple';\n\nclass Birds extends React.Component {\n\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      birdInitialsX: [],\n      birdInitialsY: [],\n      numVisibleBirds : 4,\n      flyIndex: 0,\n      flyDirection: true\n    }\n  }\n\n  componentDidMount() {\n    this.initBirds();\n    this.interval = setInterval(this.updateBirds, 50);\n  }\n\n  componentWillUnmount() {\n    clearInterval(this.interval);\n  }\n\n  render() {\n    return (\n      <div className=\"birds\">\n        {this.state.birdInitialsX.map((pos, index) => {\n          return (this.getBird(index))\n        })}\n      </div>\n    )\n  }\n\n  initBirds = () => {\n    let birds = [];\n    let xSpace = 100;\n    let ySpace = 80;\n    // let num = Math.floor(4*Math.random()+2);\n    // let d =  Math.random();\n    const dir = true;\n    const birdInitialsX = [];\n    const birdInitialsY = [];\n    const num = 5;\n    for (var i = 0; i < num; i++) {\n      let mid = num/2;\n\n      let dx = i * xSpace + Math.random()*30;\n      if (i >= mid) dx = (num - i) * xSpace + Math.random()*30;\n      if (num%2 == 0 && i>= mid) dx += xSpace/2;\n\n      let dy = i * ySpace + Math.random()*10;\n\n      let x0 = dx-300;\n      let y0 = dy;\n      birdInitialsX[i] = x0;\n      birdInitialsY[i] = y0;\n    }\n    this.setState({birdInitialsX, birdInitialsY, flyDirection: dir});\n  }\n\n  updateBirds = () => {\n    const maxW = this.state.windowWidth+600;\n    const {flyIndex, flyDirection} = this.state;\n    if (flyIndex > maxW) {\n      this.setState(prevState => ({\n        flyDirection: Math.random()>.5?true:false,\n        flyIndex: 0,\n        numVisibleBirds: Math.floor(4*Math.random()+2)\n      }));\n    }\n    else {\n      const inc = 5;\n      this.setState({flyIndex: this.state.flyIndex+inc});\n    }\n  }\n\n  getBird = (index) => {\n    const bird = this.getBirdLocation(index);\n    return (\n      <FrameSimple title=\"\" content={\n          <div className={\"bird \" + (this.state.flyDirection?\"flippedX\":\"\")}></div>\n        }\n        width={78+2} key={index} windowStyle={{background: \"transparent\"}} height={60} px={bird.x} py={bird.y}\n        />\n    )\n  }\n\n  getBirdLocation = (index) => {\n    const {numVisibleBirds, flyIndex, flyDirection, birdInitialsX, birdInitialsY, windowWidth} = this.state;\n    const bird = {};\n    if (index < numVisibleBirds) {\n      if (flyDirection) {\n        bird.x = flyIndex + birdInitialsX[index];\n        bird.y = birdInitialsY[index]+50*Math.sin(bird.x/100);\n        bird.y = Math.floor(bird.y);\n      } else {\n        bird.x = (windowWidth+100) - (flyIndex + birdInitialsX[index]);\n        bird.y = birdInitialsY[index]+50*Math.sin(bird.x/100);\n        bird.y = Math.floor(bird.y);\n      }\n    }\n    else {\n      bird.x = -1000;\n      bird.y = -1000;\n    }\n    return bird;\n  }\n\n\n}\n\nexport default Birds;\n","import React from 'react';\nimport \"./HardDrives.css\";\n\nimport { AnaglyphUniversalCamera, HemisphericLight, Vector3, Vector2, AssetContainer, SceneLoader, StandardMaterial, CubeTexture, Color3, Mesh, Texture } from 'babylonjs';\nimport BabylonScene from '../../shared/Babylon.jsx'; // import the component above linking to file we just created.\nimport { WaterMaterial } from 'babylonjs-materials';\nimport 'babylonjs-loaders';\n\n// components\nimport Frame from '../../shared/Frame/Frame';\nimport Birds from './Birds';\n\n\n// store\nimport { connect } from 'react-redux';\nimport { setSketchMusic } from '../../../store/actions/music';\n\n\n\n\n\n\n// var start;\n// var changed = false;\n\n\n\nclass HardDrives extends React.Component {\n\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      island: \"https://www.google.com/maps/embed?pb=!4v1591730465198!6m8!1m7!1sCAoSLEFGMVFpcFBTYW9SYVFBMmR0QjhoeTVaSUs5R3lQaGJBNVB5dVhFQ2o0UVdW!2m2!1d-17.3611139!2d177.1339841!3f99.14217177224654!4f16.212409154729073!5f0.5970117501821992\",\n      urlIndex: 0,\n\n    }\n    // this.onRender = this.onRender.bind(this);\n\n    this.trees = [];\n    this.bottles = [];\n    this.scaler = 4;\n    this.seed = 13;\n\n  }\n\n\n  componentDidMount() {\n    this.props.setSketchMusic(\"hardDrives\", 0, .4);\n\n  }\n\n  componentWillUnmount() {\n    // console.log(\"whats going on?\");\n  }\n\n  onSceneReady = (scene) => {\n    // start = new Date();\n    // const camera = new UniversalCamera(\"UniversalCamera\", new Vector3(0, 1, -25), scene);\n    const camera = new AnaglyphUniversalCamera(\"af_cam\", new Vector3(0, 8 * this.scaler, -5 * this.scaler), 0.033, scene);\n    scene.clearColor = Color3.Black();\n    camera.setTarget(new Vector3(0, 8 * this.scaler, 0));\n\n    const canvas = scene.getEngine().getRenderingCanvas();\n    camera.attachControl(canvas, true);\n    // camera.inputs.clear();\n    // camera.inputs.removeMouse();\n    camera.inputs.removeByType(\"FreeCameraKeyboardMoveInput\");\n\n    const light = new HemisphericLight(\"light1\", new Vector3(0, 1, 0), scene);\n    light.intensity = 1.7;\n\n\n    ///////////////////////////////////////////////////////////////////////////////\n    \n    this.addWater(scene);\n    \n    this.addPalms(scene);\n    this.addGround(scene);\n\n    this.addSkybox(scene);\n    this.addBottles(scene, this.water);\n\n  }\n\n\n\n  onRender = (scene) => {\n\n    for (let i = 0; i < this.trees.length; i++) {\n      var sign = i % 2 === 0 ? 1 : -1;\n      this.trees[i].rotation.y += .005 * sign;\n    }\n\n    for (let i = 0; i < this.bottles.length; i++) {\n      this.bottles[i].position.y = .7 * Math.sin(new Date() / 600 + this.bottles[i].position.x / 60);\n    }\n\n    // let t = new Date();\n    // if (!changed && t - start > 5000) {\n    //   // onInsta();\n    //   changed = true;\n    // }\n\n  }\n\n\n  nextIsland = () => {\n    let islandIndex = this.state.urlIndex;\n    islandIndex++;\n    islandIndex %= this.beaches.length;\n    console.log(\"beaches\", this.beaches[islandIndex], islandIndex)\n    this.setState({ urlIndex: islandIndex, island: this.beaches[islandIndex] });\n  }\n\n  addWater = (scene) => {\n    // Water\n    var waterMesh = Mesh.CreateGround(\"waterMesh\", 512 * this.scaler, 512 * this.scaler, 32, scene, false);\n    this.water = new WaterMaterial(\"water\", scene, new Vector2(1024, 1024));\n    this.water.backFaceCulling = true;\n    this.water.bumpTexture = new Texture(window.AWS + \"/shared/waterbump.png\", scene);\n    this.water.windForce = -5;\n    this.water.waveHeight = 0.8;\n    this.water.bumpHeight = 0.3;\n    this.water.waveLength = 0.3;\n    // water.colorBlendFactor = 0;\n    this.water.waterColor = new Color3(0, 0, .1);\n    this.water.colorBlendFactor = 0;\n    // water.addToRenderList();\n\n    waterMesh.material = this.water;\n  }\n\n  addGround = (scene) => {\n    var groundTexture = new Texture(window.AWS + \"/shared/black_sand.jpg\", scene);\n    groundTexture.vScale = groundTexture.uScale = 20.0;\n\n    var groundMaterial = new StandardMaterial(\"groundMaterial\", scene);\n    groundMaterial.diffuseTexture = groundTexture;\n\n    var ground = Mesh.CreateGround(\"ground\", 512, 512, 32, scene, false);\n    ground.position.y = -1;\n    ground.rotation.y = Math.PI / 2;\n    ground.material = groundMaterial;\n    this.water.addToRenderList(ground);\n  }\n\n  addSkybox = (scene) => {\n    // Skybox\n    var skybox;\n    skybox = Mesh.CreateBox(\"skyBox\", 1000.0, scene);\n    var skyboxMaterial = new StandardMaterial(\"skyBox\", scene);\n    skyboxMaterial.backFaceCulling = false;\n    skyboxMaterial.reflectionTexture = new CubeTexture(window.AWS + \"/hardDrives/skybox/skybox\", scene);\n    skyboxMaterial.reflectionTexture.coordinatesMode = Texture.SKYBOX_MODE;\n    skyboxMaterial.diffuseColor = new Color3(0, 0, 0);\n    skyboxMaterial.specularColor = new Color3(0, 0, 0);\n    skyboxMaterial.disableLighting = true;\n    skybox.material = skyboxMaterial;\n    if (skybox)\n      this.water.addToRenderList(skybox);\n    // var dome = new PhotoDome(\"textureName\", process.env.PUBLIC_URL+\"/textures/skybox/sky-10.png\", {resolution: 32, size: 1000}, scene);\n\n  }\n\n\n  getRandom = () => {\n    var x = Math.sin(this.seed++) * 10000;\n    return x - Math.floor(x);\n  }\n\n\n  addBottles = (scene) => {\n    const gThis = this;\n    // var container = new AssetContainer(scene);\n    var url = window.AWS + \"/hardDrives/Corona/\"\n    SceneLoader.LoadAssetContainer(url, \"Corona2.obj\", scene, function (container) {\n      var meshes = container.meshes;\n      // var materials = container.materials;\n\n      // console.log(\"meshes\", meshes);\n\n      var bottle = meshes[1];\n      // var diam = 280;\n      container.addAllToScene();  // Adds all elements to the scene\n      gThis.water.addToRenderList(bottle);\n\n      let bottleVectors = [\n        {},\n        { \"id\": 0, \"pos\": { \"x\": 88, \"y\": 0, \"z\": 128 }, \"rot\": { \"x\": 0, \"y\": 0, \"z\": 0 } },\n        { \"id\": 1, \"pos\": { \"x\": 38, \"y\": 0, \"z\": 78 }, \"rot\": { \"x\": 0, \"y\": 0, \"z\": 0 } },\n        { \"id\": 2, \"pos\": { \"x\": 68, \"y\": 0, \"z\": 108 }, \"rot\": { \"x\": 0, \"y\": 0, \"z\": 0 } },\n        { \"id\": 3, \"pos\": { \"x\": 0, \"y\": 0, \"z\": 108 }, \"rot\": { \"x\": 0, \"y\": 0, \"z\": 0 } },\n        { \"id\": 4, \"pos\": { \"x\": -88, \"y\": 0, \"z\": 98 }, \"rot\": { \"x\": 0, \"y\": 0, \"z\": 0 } },\n        { \"id\": 5, \"pos\": { \"x\": -78, \"y\": 0, \"z\": 68 }, \"rot\": { \"x\": 0, \"y\": 0, \"z\": 0 } },\n        { \"id\": 6, \"pos\": { \"x\": 3, \"y\": 0, \"z\": 148 }, \"rot\": { \"x\": 0, \"y\": 0, \"z\": 0 } },\n        { \"id\": 7, \"pos\": { \"x\": 4, \"y\": 0, \"z\": 28 }, \"rot\": { \"x\": 0, \"y\": 0, \"z\": 0 } },\n        { \"id\": 8, \"pos\": { \"x\": -40, \"y\": 0, \"z\": -98 }, \"rot\": { \"x\": 0, \"y\": 0, \"z\": 0 } }, // back\n        { \"id\": 8, \"pos\": { \"x\": -70, \"y\": 0, \"z\": 98 }, \"rot\": { \"x\": 0, \"y\": 0, \"z\": 0 } },\n\n        // back (repeat)\n        { \"id\": 0, \"pos\": { \"x\": 88, \"y\": 0, \"z\": -128 }, \"rot\": { \"x\": 0, \"y\": 0, \"z\": 0 } },\n        { \"id\": 1, \"pos\": { \"x\": 38, \"y\": 0, \"z\": -78 }, \"rot\": { \"x\": 0, \"y\": 0, \"z\": 0 } },\n        { \"id\": 2, \"pos\": { \"x\": 68, \"y\": 0, \"z\": -108 }, \"rot\": { \"x\": 0, \"y\": 0, \"z\": 0 } },\n        { \"id\": 3, \"pos\": { \"x\": 0, \"y\": 0, \"z\": -108 }, \"rot\": { \"x\": 0, \"y\": 0, \"z\": 0 } },\n        { \"id\": 4, \"pos\": { \"x\": -88, \"y\": 0, \"z\": -98 }, \"rot\": { \"x\": 0, \"y\": 0, \"z\": 0 } },\n        { \"id\": 5, \"pos\": { \"x\": -78, \"y\": 0, \"z\": -68 }, \"rot\": { \"x\": 0, \"y\": 0, \"z\": 0 } },\n        { \"id\": 6, \"pos\": { \"x\": 3, \"y\": 0, \"z\": -148 }, \"rot\": { \"x\": 0, \"y\": 0, \"z\": 0 } },\n\n\n        // left\n        { \"id\": 0, \"pos\": { \"x\": 188, \"y\": 0, \"z\": 48 }, \"rot\": { \"x\": 0, \"y\": 0, \"z\": 0 } },\n        { \"id\": 1, \"pos\": { \"x\": 138, \"y\": 0, \"z\": 28 }, \"rot\": { \"x\": 0, \"y\": 0, \"z\": 0 } },\n        { \"id\": 2, \"pos\": { \"x\": 168, \"y\": 0, \"z\": 0 }, \"rot\": { \"x\": 0, \"y\": 0, \"z\": 0 } },\n        { \"id\": 3, \"pos\": { \"x\": 100, \"y\": 0, \"z\": -20 }, \"rot\": { \"x\": 0, \"y\": 0, \"z\": 0 } },\n\n\n        // right\n        { \"id\": 0, \"pos\": { \"x\": -188, \"y\": 0, \"z\": 30 }, \"rot\": { \"x\": 0, \"y\": 0, \"z\": 0 } },\n        { \"id\": 1, \"pos\": { \"x\": -138, \"y\": 0, \"z\": 20 }, \"rot\": { \"x\": 0, \"y\": 0, \"z\": 0 } },\n        { \"id\": 2, \"pos\": { \"x\": -168, \"y\": 0, \"z\": 0 }, \"rot\": { \"x\": 0, \"y\": 0, \"z\": 0 } },\n        { \"id\": 3, \"pos\": { \"x\": -100, \"y\": 0, \"z\": -18 }, \"rot\": { \"x\": 0, \"y\": 0, \"z\": 0 } },\n      ]\n\n\n\n\n\n      for (let i = 1; i < bottleVectors.length; i++) {\n        let copy = container.instantiateModelsToScene().rootNodes[0];\n        copy.rotation.y = gThis.getRandom() * Math.PI * 2;\n        copy.rotation.x = Math.PI;\n        copy.rotation.z = (-.3 + gThis.getRandom() * .6);\n        copy.position.y = 2; //Math.abs((Math.sin(((x / 0.05) + time * water.waveSpeed)) * water.waveHeight * water.windDirection.x * 5.0) + (Math.cos(((z / 0.05) +  time * water.waveSpeed)) * water.waveHeight * water.windDirection.y * 5.0));\n      \n        copy.position.x = bottleVectors[i].pos.x;\n        // copy.position.y = bottleVectors[i].pos.y;\n        copy.position.z = bottleVectors[i].pos.z;\n\n        gThis.bottles.push(copy);\n        gThis.water.addToRenderList(copy);\n      }\n\n      // printBottles(bottles);\n    });\n\n  }\n\n  addPalms = (scene) => {\n    var container = new AssetContainer(scene);\n    var url = window.AWS + \"/hardDrives/palm/\";\n    const gThis = this;\n    SceneLoader.LoadAssetContainer(url, \"QueenPalmTree.obj\", scene, function (container) {\n      var meshes = container.meshes;\n\n      let positions = [{ x: -5, y: 0, z: -2 }, { x: 5, y: 0, z: -2 }, { x: 4, y: 0, z: -10 }, { x: -4, y: 0, z: -10 }]\n\n      meshes[1].rotation.y = 0;\n      meshes[1].scaling = new Vector3(gThis.scaler, gThis.scaler, gThis.scaler);\n      meshes[1].position.x = positions[0].x * gThis.scaler;\n      meshes[1].position.y = positions[0].y * gThis.scaler;\n      meshes[1].position.z = positions[0].z * gThis.scaler;\n\n      gThis.trees.push(meshes[1]);\n\n      container.addAllToScene();  // Adds all elements to the scene\n      gThis.water.addToRenderList(gThis.trees[0]);\n\n      for (let i = 1; i < positions.length; i++) {\n        let copy = container.instantiateModelsToScene().rootNodes[1];\n        copy.rotation.y = Math.PI * 1.5;\n        copy.position.x = positions[i].x * gThis.scaler;\n        copy.position.z = positions[i].z * gThis.scaler;\n        gThis.trees.push(copy);\n        gThis.water.addToRenderList(copy);\n      }\n\n    });\n\n  }\n\n\n\n  render() {\n    const { ui } = this.props;\n    const svFrame = {};\n    let f = .8;\n    if (ui.contentW >= 1920)\n      f = 1.3;\n    const ogW = 600 * f;\n    const ogH = 450 * .8 * f;\n    svFrame.w = ogW;\n    svFrame.h = ogH;\n    svFrame.x = (ui.contentW - svFrame.w) * .27;\n    svFrame.y = (ui.contentH - svFrame.h - 30) * .5;\n\n    if (ui.hasFooter || ui.isMobile) {\n      if (ui.orientation === \"portrait\") {\n        let wTemp = ui.width - 40;\n        if (wTemp < ogW) {\n          svFrame.w = wTemp; // Math.min(ui.width-40, ogW);\n          svFrame.h = svFrame.h * (svFrame.w / ogW);\n          svFrame.y = 20; //ui.headerH + 50;\n          svFrame.x = 18;\n        }\n        else {\n          svFrame.x = (ui.width - svFrame.w - 4) / 2;\n\n        }\n        svFrame.y = ui.height / 2 - svFrame.h * .8;\n      }\n      else {\n        const factor = ui.height / 500;\n\n        if (factor < 1) {\n          svFrame.h *= ui.height / 500;\n          svFrame.w *= ui.height / 500;\n          svFrame.y = 10; //ui.headerH + 20;\n          svFrame.x = 50;\n        }\n\n      }\n    }\n\n    const title = \"\";// (ui.isMobile || ui.hasFooter) ? \"\": \"hard drives on seashores\";\n\n    return (\n      <div className=\"HardDrives Sketch\">\n        <BabylonScene antialias onSceneReady={this.onSceneReady} onRender={this.onRender} id='babylon-canvas' />\n\n        <Frame title={title} content={\n          <iframe title=\"island view\" src={this.state.island} width={svFrame.w} height={svFrame.h} frameBorder=\"0\" allowFullScreen=\"\" aria-hidden=\"false\" tabIndex=\"0\"></iframe>\n        }\n          width={svFrame.w} height={svFrame.h} x={svFrame.x} y={svFrame.y}\n        />\n        <Birds />\n      </div>\n    )\n  }\n\n\n}\n\n\nconst mapStateToProps = (state) => {\n  return {\n    ui: state.ui\n  }\n}\n\nconst mapDispatchToProps = () => {\n  return {\n    // doneLoadingApp\n    setSketchMusic\n  }\n}\n\n\nexport default connect(mapStateToProps, mapDispatchToProps())(HardDrives);\n","import React from 'react';\nimport Frame from '../../shared/Frame/Frame';\n// import FrameSimple from '../../shared/Frame/FrameSimple';\nimport './Wasted.css';\n\n// store\nimport { connect } from 'react-redux';\nimport { setSketchMusic } from '../../../store/actions/music';\n// import { doneLoadingApp } from '../../../store/actions/';\n\nclass Wasted extends React.Component {\n  // https://codepen.io/JohJakob/pen/YPxgwo\n  constructor(props) {\n    super(props);\n\n    this.startTime = 0;\n\n    this.state = {\n      currentFrame: 14,\n      increasing: true,\n      currentText: \"wasted\"\n    }\n\n    this.gridNum = 8;\n    this.setFrame = this.setFrame.bind(this);\n    this.setText = this.setText.bind(this);\n    this.heightBuffer = 70;\n\n\n    this.words = [\"wasted\", \"days\", \"are\", \"days\", \"wasted\"];\n\n  }\n\n\n  componentDidMount() {\n    this.props.setSketchMusic(\"wasted\", 0, .5);\n    this.startTime = new Date();\n    this.intervalFrames = setInterval(this.setFrame, 200);\n  }\n\n  componentWillUnmount() {\n    clearInterval(this.intervalFrames);\n  }\n\n  setText() {\n    var wordIndex = Math.floor((this.state.currentFrame + 1) / 2);\n    if (wordIndex >= this.words.length) wordIndex = this.words.length - 1;\n    else if (wordIndex < 0) wordIndex = 0;\n    var word = this.words[wordIndex];\n    if (word) word = word.toUpperCase();\n    this.setState({ currentText: word });\n  }\n\n  setFrame() {\n    var fr = this.state.currentFrame;\n    if (this.state.increasing) {\n      fr++;\n      if (fr > this.gridNum) {\n        fr = this.gridNum;\n        this.setState({ increasing: false });\n      }\n    } else {\n      fr--;\n      if (fr < -2) {\n        fr = -1;\n        this.setState({ increasing: true });\n      }\n    }\n    this.setState({ currentFrame: fr });\n    this.setText();\n  }\n\n  render() {\n    const { ui } = this.props;\n    var fs = ui.width / 10;\n    if (fs > 180) fs = 180;\n\n    var grids = [];\n    for (var i = 0; i < this.gridNum; i++) {\n      grids.push(i);\n    }\n\n    // const bkImg = window.AWS + \"/three/3D/alps.jpg\";\n    const bkStyle = {};\n    // bkStyle.backgroundImage = 'url(' + bkImg + ')';\n    let marginTop = 0;\n    if (ui.hasFooter && ui.orientation === \"portrait\")\n      marginTop -= 30;\n    const palindromeStyle = { visibility: \"visible\", fontSize: fs, marginTop: marginTop };\n\n    return (\n      <div className=\"Wasted Sketch\" style={bkStyle}>\n        { <div className=\"palindrome\" style={palindromeStyle}>\n          {this.state.currentText}\n        </div>}\n\n\n        {grids.map((i) => {\n          let factor = ui.contentH / 800;\n          if (ui.orientation === \"portrait\") {\n            factor = ui.contentW / 1400;\n          }\n          // if (factor > 1.5)\n          //   factor = 1.5;\n          if (factor < .5)\n            factor = .5;\n          const val = (980 - 100 * i) * factor;\n          const x = (ui.contentW - val) / 2;\n          const y = (ui.contentH - val - ui.toolbarH) / 2;\n          let title = this.words[(7 - i) % (this.words.length - 1)];\n\n          // console.log(windowHeight, y, val);\n          if (val < 150) title = \"...\";\n\n          return (<GridFrame\n            title={title}\n            isMinimized={false}\n            isHidden={this.state.currentFrame < i ? true : false}\n            dimW={val}\n            dimH={val}\n            key={i}\n            // src={bkImg}\n            src={window.AWS + \"/spacetimes/parrot.png\"}\n            dimX={x}\n            dimY={y}\n          />);\n\n        }\n\n        )}\n      </div>\n    );\n  }\n\n}\n\nfunction GridFrame(props) {\n  return (\n    <Frame title={props.title}\n      isMinimized={props.isMinimized}\n      isHidden={props.isHidden}\n      content={\n        <img\n          className={\"grid-img\"}\n          width={props.dimW + \"px\"}\n          height={props.dimW + \"px\"}\n          src={props.src}\n          alt=\"3d grid background\"\n        />\n      }\n      width={props.dimW} height={props.dimW} x={props.dimX} y={props.dimY}\n    />\n  )\n\n}\n\n\nconst mapStateToProps = (state) => {\n  return {\n    ui: state.ui\n  }\n}\n\nconst mapDispatchToProps = () => {\n  return {\n    // doneLoadingApp\n    // setNoSketchMusic\n    setSketchMusic\n  }\n}\n\n\nexport default connect(mapStateToProps, mapDispatchToProps())(Wasted);\n","import React from 'react';\n\n// Babylon\nimport { Scene, AnaglyphUniversalCamera, UniversalCamera,PBRMaterial, HemisphericLight, Vector3, Vector2, SceneLoader,AssetContainer, MeshBuilder, StandardMaterial,  VideoTexture, CubeTexture, Color3,Color4, Mesh, Texture } from 'babylonjs';\nimport BabylonScene from '../../../shared/Babylon.jsx';\nimport { WaterMaterial } from 'babylonjs-materials';\n\nimport Frame from '../../../shared/Frame/Frame';\n\nimport {getRandomNum} from '../../../shared/Helpers/Helpers';\n\nvar camera, water, waterMesh;\nvar tubes = [];\nvar seed = 1;\n\nexport default function(props) {\n  return (\n    <Frame title=\"\" content={\n      <BabylonScene className=\"noSelect fullContent\" antialias onSceneReady={onSceneReady} onRender={onRender} id='babylon-canvas' />\n    }\n    width={props.w} height={props.h} x={props.x} y={props.y} />\n  )\n}\n\nfunction onRender(scene) {\n  // nada\n}\n\nfunction onSceneReady(scene) {\n  // const camera = new UniversalCamera(\"UniversalCamera\", new Vector3(0, 1, -25), scene);\n  camera = new AnaglyphUniversalCamera(\"af_cam\", new Vector3(0, 8, -5), 0.033, scene);\n  scene.clearColor = new Color4(0, 0, 0, 0);\n  camera.setTarget(new Vector3(4, -8, -2));\n\n  const canvas = scene.getEngine().getRenderingCanvas();\n  camera.attachControl(canvas, true);\n\n  const light = new HemisphericLight(\"light1\", new Vector3(0, 1, 0), scene);\n  light.intensity = 0.7;\n\n  // Skybox\n  var skyW = 1000;\n  var skybox = Mesh.CreateBox(\"skyBox\", skyW, scene);\n  var skyboxMaterial = new StandardMaterial(\"skyBox\", scene);\n  skyboxMaterial.backFaceCulling = false;\n  skyboxMaterial.reflectionTexture = new CubeTexture(window.AWS+\"/mars/skybox/grid\", scene);\n  skyboxMaterial.reflectionTexture.coordinatesMode = Texture.SKYBOX_MODE;\n  skyboxMaterial.diffuseColor = new Color3(0, 0, 0);\n  skyboxMaterial.specularColor = new Color3(0, 0, 0);\n  skyboxMaterial.disableLighting = true;\n  skybox.material = skyboxMaterial;\n\n  // Water\n  waterMesh = Mesh.CreateGround(\"waterMesh\", 512, 512, 32, scene, false);\n  waterMesh.position.y = -9;\n  water = new WaterMaterial(\"water\", scene, new Vector2(1024, 1024));\n  water.backFaceCulling = true;\n  water.bumpTexture = new Texture(window.AWS+\"/shared/waterbump.png\", scene);\n  waterGo();\n  water.colorBlendFactor = 0;\n  water.addToRenderList(skybox);\n  waterMesh.material = water;\n\n  // drain\n  // var drainTex = new BABYLON.Texture(window.AWS+\"/mars/drain1.png\", scene);\n  // addDrain(scene);\n  // loadWhale(scene);\n  // addInnerTubes(4, scene, water);\n  // addSwimmer(scene);\n}\n\nfunction waterGo() {\n  water.windForce = -5;\n  water.waveHeight = 0.8;\n  water.bumpHeight = 0.3;\n  water.waveLength = 0.3;\n}\n\nfunction waterStop() {\n  // water.windForce*=2;\n  water.waveHeight=0;\n  water.bumpHeight*=2;\n  // water.waveLength *=2;\n}\n\nfunction addSwimmer(scene) {\n  for (let i = 0; i < 2; i++) {\n    var scaler = 3;\n    var swimmer = MeshBuilder.CreatePlane(\"plane\", {}, scene);\n    // var disc = MeshBuilder.CreateSphere(\"sphere\", {}, scene);\n    swimmer.scaling = new Vector3(scaler, scaler, scaler);\n    swimmer.position.x = 11-i*6;\n    swimmer.position.y = -14;\n    swimmer.position.z = -4+i*4;\n    swimmer.rotation.x = Math.PI/2;\n    var tex = new Texture(window.AWS+\"/mars/swimmers/swimmer\" + (i+1) + \".png\", scene);\n    swimmer.material  = new StandardMaterial(\"myMaterial\", scene);\n    // swimmer.material.diffuseColor = new Color3(1,1,1);\n    swimmer.material.diffuseTexture = tex;\n    swimmer.material.diffuseTexture.hasAlpha = true;\n    // disc.material.ambientColor = new Color3(1,1,1);\n    water.addToRenderList(swimmer);\n  }\n\n}\n\nfunction addDrainBottom(scene) {\n\n  var disc = MeshBuilder.CreateDisc(\"disc\", scene);\n  var scaler = 8.5;\n  // var disc = MeshBuilder.CreateSphere(\"sphere\", {}, scene);\n  disc.scaling = new Vector3(scaler, scaler, scaler);\n  disc.position.x = 11;\n  disc.position.y = -14;\n  disc.position.z = -4;\n  disc.rotation.x = Math.PI/2;\n  disc.material  = new StandardMaterial(\"myMaterial\", scene);\n  disc.material.diffuseColor = new Color3(1,1,1);\n  // disc.material.ambientColor = new Color3(1,1,1);\n  water.addToRenderList(disc);\n}\n\nfunction loadWhale(scene) {\n  var container = new AssetContainer(scene);\n\n  var url = process.env.PUBLIC_URL + \"/assets/mars/Whale/\";\n  SceneLoader.LoadAssetContainer(url, \"Whale.glb\", scene, function (container) {\n    var meshes = container.meshes;\n    console.log(meshes);\n    var scaler = .5;\n    for (const mesh of meshes) {\n      mesh.scaling = new Vector3(scaler, scaler, scaler);\n      // mesh.position.x = positions[0].x*scaler;\n      mesh.position.y = -5;\n      var material = new StandardMaterial(\"whale\", scene);\n      material.diffuseColor = new Color3(0, 0, 1);\n      mesh.material = material;\n      //   mesh.position.z = positions[0].z*scaler;\n      water.addToRenderList(mesh);\n    }\n    // var mesh = meshes[1];\n\n    // water.addToRenderList(meshes[1]);\n\n    // }\n    container.addAllToScene();  // Adds all elements to the scene\n\n\n\n  });\n}\n\nfunction addDrain(scene) {\n  var container = new AssetContainer(scene);\n\n  var url = process.env.PUBLIC_URL + \"/assets/mars/Drain/\";\n  SceneLoader.LoadAssetContainer(url, \"FloorDrain.obj\", scene, function (container) {\n    var meshes = container.meshes;\n    var scaler = 4;\n    let positions = [{x: 2.5, y: -3, z: -1}];\n    // 9\n    for (var mesh of meshes) {\n      // var mesh = meshes[9];\n      mesh.rotation.y = 0;\n      mesh.scaling = new Vector3(scaler, scaler, scaler);\n      mesh.position.x = positions[0].x*scaler;\n      mesh.position.y = positions[0].y*scaler;\n      mesh.position.z = positions[0].z*scaler;\n      water.addToRenderList(mesh);\n    }\n\n    addDrainBottom(scene);\n    container.addAllToScene();  // Adds all elements to the scene\n\n\n\n  });\n\n\n}\n\nfunction addInnerTubes(num, scene, water) {\n  for (let i = 0; i < num; i++) {\n\n    var tubeMat = new StandardMaterial(\"groundMaterial\", scene);\n    tubeMat.diffuseColor = new Color3(getRandomNum(i+2), getRandomNum(i+3), getRandomNum(i+4));\n    tubeMat.specularColor = new Color3(0.5, 0.6, 0.87);\n    tubeMat.emissiveColor = new Color3(.1, .1, .1);\n    tubeMat.ambientColor = new Color3(0.23, 0.98, 0.53);\n    tubeMat.alpha = 0.8;\n\n    // texture\n    // var tubeTex = new Texture(window.AWS+\"/shared/black_sand.jpg\", scene);\n    // tubeTex.vScale = groundTexture.uScale = 20.0;\n    // tubeMat.diffuseTexture = groundTexture;\n\n    var tube = MeshBuilder.CreateTorus(\"torus\", {diameter: 6/3, thickness: 2/3}, scene);\n    tube.position.y = 2;\n    tube.rotation.y = Math.PI/2;\n    tube.position.x = getRandomNum(50+i)*20-10;\n    tube.position.z = getRandomNum(10+i)*20-10;\n    tube.material = tubeMat;\n    water.addToRenderList(tube);\n\n    tubes.push(tube);\n  }\n\n}\n","var emoji;\nvar emojisTransparent = [];\n\nexport default function sketch(p) {\n  ;\n\n  let ps = [];\n  let percent = 0;\n  let emojiS = 34;\n  let scaler = 1;\n\n  let velocities = [\n    { velX: { min: -.8, max: 5 }, velY: { min: -.5, max: 0 } },\n    { velX: { min: -5, max: 2 }, velY: { min: -.5, max: 0 } },\n    { velX: { min: -5, max: .8 }, velY: { min: -.5, max: 0 } },\n    { velX: { min: -5, max: .8 }, velY: { min: -.5, max: 0 } },\n    { velX: { min: -5, max: 5 }, velY: { min: -.5, max: 0 } },\n    { velX: { min: -.5, max: 5 }, velY: { min: -.5, max: 0 } }\n  ];\n  // let offsets =     [{x:215,y:328}, {x:215,y:215}, {x:50,y:195}, {x:134,y:244}, {x:260,y:335}, {x:285,y:320}];\n  // let offsetsMin =  [{x:215,y:348}, {x:215,y:245}, {x:70,y:215}, {x:154,y:274}, {x:270,y:365}, {x:285,y:340}];\n  // let offsetsMax =  [{x:215,y:328}, {x:215,y:215}, {x:50,y:195}, {x:134,y:244}, {x:260,y:335}, {x:285,y:320}];\n\n  // if (p.windowWidth < 500)\n  //   offsets = [{x:215,y:348}, {x:215,y:245}, {x:70,y:215}, {x:154,y:274}, {x:270,y:365}, {x:285,y:340}];\n  // else if (p.windowWidth > 2000)\n  //   offsets = [{x:215,y:328}, {x:215,y:215}, {x:50,y:195}, {x:134,y:244}, {x:260,y:335}, {x:285,y:320}];\n\n  // for (let i = 0; i < offsets.length; i++) {\n  //   offsets[i].x *= scaler; //mapVal(p.windowWidth, 375, 2560, offsetsMin[i].x, offsetsMax[i].x);\n  //   offsets[i].y *= scaler; //mapVal(p.windowWidth, 375, 2560, offsetsMin[i].x, offsetsMax[i].x);\n  // }\n  let offsets = [{ x: 215, y: 295 }, { x: 230, y: 204 }, { x: 80, y: 195 }, { x: 164, y: 244 }, { x: 280, y: 315 }, { x: 295, y: 290 }];\n\n  let degrees = [0, 60, 90, 80, 40, 0];\n\n\n\n  p.setup = function () {\n    p.createCanvas(p.windowWidth, p.windowHeight); //, p.WEBGL\n\n    emoji = p.loadImage(\"https://lmd-bucket.s3.us-east-2.amazonaws.com/sketches/wetStreams/wateremoji.png\", (img) => p.createEmojisTransparent());\n  };\n\n  p.myCustomRedrawAccordingToNewPropsHandler = function (props) {\n    if (props.origins) {\n      scaler = props.scaler; //p.constrain(props.scaler, .5, 1.0);\n      const tb = 24;\n      if (ps.length === 0) {\n        for (let i = 0; i < props.origins.length; i++) {\n          // let sc = constrain(props.scaler, .4, 1);\n          let offsetX = offsets[i].x * scaler;\n          let offsetY = (offsets[i].y - tb) * scaler + tb;\n          let x = props.origins[i].x + offsetX;\n          let y = props.origins[i].y + offsetY;\n          ps[i] = new ParticleSystem(p, p.createVector(x, y), velocities[i].velX, velocities[i].velY, degrees[i], props.isPlaying[i]);\n          ps[i].initParticles(40);\n        }\n      }\n      else {\n        scaler = props.scaler;\n        for (let i = 0; i < ps.length; i++) {\n          let offsetX = offsets[i].x * scaler;\n          let offsetY = (offsets[i].y - tb) * scaler + tb;\n          let x = props.origins[i].x + offsetX + props.deltas[i].x;\n          let y = props.origins[i].y + offsetY + props.deltas[i].y;\n          let isPlaying = props.isPlaying[i];\n          ps[i].origin.set(x, y, 0);\n          ps[i].isPlaying = isPlaying;\n        }\n\n      }\n    }\n  };\n\n  p.createEmojisTransparent = function () {\n    for (let i = 0; i < 5; i++) {\n      emojisTransparent[i] = p.createGraphics(emojiS, emojiS);\n      emojisTransparent[i].clear();\n      emojisTransparent[i].tint(255, p.map(i, -1, 4, 0, 255));\n      // let imgSc = p.constrain(scaler, .4, 1);\n      let imgSc = 1;\n      // emojisTransparent[i].rect(0, 0, emojiS*imgSc, emojiS*imgSc);\n      emojisTransparent[i].image(emoji, 0, 0, emojiS * imgSc, emojiS * imgSc);\n    }\n  }\n\n  p.draw = function () {\n    percent += .1;\n\n    p.clear();\n    if (ps.length > 0) {\n      ps.forEach((sys) => {\n        sys.run(percent, scaler);\n      })\n    }\n\n\n    // p.fill(255);\n    // p.noStroke();\n    // p.rect(50, 50, 50, 50);\n    // p.fill(0);\n    // p.textSize(30);\n    // p.text(p.round(p.frameRate()), 50, 80);\n\n  };\n\n  p.windowResized = () => {\n    p.resizeCanvas(p.windowWidth, p.windowHeight);\n  }\n\n};\n\n// The Nature of Code\n// Daniel Shiffman\n// http://natureofcode.com\n\n// Simple Particle System\n\nfunction Particle(p, origin, id, velX, velY, deg) {\n  this.p5 = p;\n  this.acceleration = this.p5.createVector(0, 0);\n  this.gravity = this.p5.createVector(0, 0.1);\n  // this.isLeft = isLeft;\n  this.velX = velX;\n  this.velY = velY;\n  this.deg = deg;\n  this.velocity = this.p5.createVector(this.p5.random(velX.min, velX.max), this.p5.random(velY.min, velY.max));\n  // if (isLeft) this.velocity = this.p5.createVector(this.p5.random(-.8,5),this.p5.random(0,.5));\n  // else this.velocity = this.p5.createVector(this.p5.random(-5,.8),this.p5.random(0,.5));\n  this.positionOG = this.p5.createVector(origin.x, origin.y);\n  this.position = this.p5.createVector(origin.x, origin.y);\n  this.lifespan = 0;\n  this.r = Math.random() * 15 + 8;\n  this.id = id;\n  this.launched = false;\n\n  this.run = function (percent, origin, scaler) {\n    this.update(percent, origin);\n    this.display(percent, scaler);\n  }\n\n  // Method to update position\n\n\n  this.update = function (percent, origin) {\n    if (this.launched) {\n      this.acceleration.add(this.gravity);\n      this.velocity.add(this.acceleration);\n\n      this.position.add(this.velocity);\n\n      // let bufferX = 50;\n      // if (this.position.y > window.innerHeight-100) {\n      //   this.velocity.y *= -1*Math.random()*.3-.1;\n      //   this.position.y = window.innerHeight-100;\n      // }\n      // if (this.position.x < bufferX) {\n      //   this.position.x = bufferX;\n      //   this.velocity.x *= -1;\n      // }\n      // if (this.position.x > window.innerWidth-bufferX) {\n      //   this.position.x = window.innerWidth-bufferX;\n      //   this.velocity.x *= -1;\n      // }\n\n      this.acceleration.mult(0);\n      this.lifespan += 1;\n\n      this.isDead(origin);\n    }\n    // let c = 0.02;\n    // let friction = this.p5.createVector(this.velocity.x,this.velocity.y,this.velocity.z);\n    // friction.mult(-1);\n    // friction.normalize();\n    // friction.mult(c);\n    // this.acceleration.add(friction);\n\n  }\n\n\n  // Method to display\n  this.display = function (percent, scaler) {\n    if (this.launched) {\n      this.p5.noStroke();\n      let alpha = this.p5.map(this.lifespan, 0, 60, 255, 0);\n      this.p5.fill(0, alpha);\n      this.p5.textSize(30);\n      this.p5.push();\n      // this.p5.imageMode(this.p5.CENTER);\n      this.p5.translate(this.position.x, this.position.y);\n      this.p5.rotate(this.p5.radians(this.deg))\n      // this.p5.tint(alpha);\n\n      let index = this.p5.map(this.lifespan, 40, 0, 0, emojisTransparent.length - 1);\n      index = this.p5.floor(index);\n      if (emoji && emojisTransparent[index]) {\n        // this.p5.image(emoji, 0, -24, 30, 30);\n        this.p5.image(emojisTransparent[index], 0, 0);\n      }\n      // this.p5.noTint();\n      this.p5.pop();\n      // this.p5.ellipse(this.position.x,this.position.y,this.r,this.r);\n    }\n\n  }\n\n  // Is the particle still useful?\n  this.isDead = function (origin) {\n    if (this.lifespan > 40) {\n      this.launched = false;\n    }\n  }\n\n  this.launch = function (origin) {\n    if (!this.launched) {\n      this.lifespan = 0;\n      this.launched = true;\n      this.positionOG = this.p5.createVector(origin.x, origin.y);\n      this.position = this.p5.createVector(origin.x, origin.y);\n      // if (this.isLeft) this.velocity = this.p5.createVector(this.p5.random(-.8,5),this.p5.random(0,.5));\n      // else this.velocity = this.p5.createVector(this.p5.random(-5,.8),this.p5.random(0,.5));\n      this.velocity = this.p5.createVector(this.p5.random(velX.min, velX.max), this.p5.random(velY.min, velY.max));\n      return true;\n    }\n    return false;\n  }\n}\n\n// function percentBar(p5, x, y, w) {\n//   this.x = x;\n//   this.y = y;\n//   this.w = w;\n//   this.p5 = p5;\n//\n//   this.display = function(percent) {\n//     let swimmer = \"\";\n//     let posX = this.p5.map(percent, 0, 100, this.x, this.x + this.w);\n//     let posY = this.y + 10*this.p5.sin(this.p5.frameCount/10);\n//\n//     this.p5.textSize(40);\n//     this.p5.push();\n//     this.p5.scale(-1, 0);\n//     this.p5.translate(this.p5.textWidth(swimmer) + this.x, this.y);\n//     this.p5.text(swimmer, 0, 0);\n//     this.p5.pop();\n//   }\n// }\n\nfunction ParticleSystem(p, position, velX, velY, deg, isPlaying) {\n  this.p5 = p;\n  this.particles = [];\n  this.numParticle = 0;\n  this.origin = this.p5.createVector(position.x, position.y);\n  this.percent = 0;\n  // this.isLeft = true; //isLeft;\n  this.launchIndex = 0;\n  this.velX = velX;\n  this.velY = velY;\n  this.deg = deg;\n  this.isPlaying = isPlaying;\n\n  this.initParticles = function (num) {\n    for (let i = 0; i < num; i++) {\n      this.addParticle(i);\n    }\n  }\n\n  this.launchParticle = function () {\n    let p = this.particles[this.launchIndex % this.particles.length];\n    if (p.launch(this.origin)) this.launchIndex++;\n  }\n\n  this.setPercent = function (percent) {\n    this.percent = percent;\n  }\n\n  this.addParticle = function (id) {\n    this.particles.push(new Particle(this.p5, this.origin, id, this.velX, this.velY, this.deg));\n  }\n\n  this.run = function (percent, scaler) {\n    // if (this.percent > 100) this.percent = 100;\n    // this.percent = this.p5.mouseX/10; //this.p5.map(this.p5.mouseX, 0, window.innerWidth, 0, 100);\n    this.particles.forEach((particle) => {\n      particle.run(percent, this.origin, scaler);\n    });\n    if (this.isPlaying) {\n      this.launchParticle();\n    }\n  }\n}\n","import React from 'react';\nimport Frame from '../../../shared/Frame/Frame';\n\n\nclass SwimLane extends React.Component {\n\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      swimmerPos: [{ y: 3, dir: 1 }, { y: 2, dir: -1 }]\n    }\n\n    this.numSwimmers = Math.ceil(this.props.h / 36.9);\n\n\n    this.getSwimmerLanes = this.getSwimmerLanes.bind(this);\n    this.changeSwimLane = this.changeSwimLane.bind(this);\n\n  }\n\n\n  componentDidMount() {\n    this.swimInterval = setInterval(this.changeSwimLane, 400);\n  }\n\n  componentWillUnmount() {\n    clearInterval(this.swimInterval);\n  }\n\n  render() {\n    const { w, h, x, y } = this.props;\n\n    return (\n      <Frame title=\"\" content={\n        <div className=\"umbrellas\" style={{width: w, height: h}}>\n          {this.getSwimmerLanes()}\n          <div className=\"waterCover\" style={{width: w, height: h}}></div>\n        </div>\n      }\n        width={w} height={h} windowStyle={{ background: \"black\" }} x={x} y={y}\n      />\n    )\n  }\n\n  changeSwimLane = () => {\n\n    const swimmerPos = [...this.state.swimmerPos];\n    for (let i = 0; i < swimmerPos.length; i++) {\n      const swimmer = { ...swimmerPos[i] };\n      if (swimmer.dir === 1) {\n        swimmer.y++;\n        if (swimmer.y >= this.numSwimmers) {\n          swimmer.y = this.numSwimmers - 1;\n          swimmer.dir = -1;\n        }\n      }\n      else {\n        swimmer.y--;\n        if (swimmer.y < 0) {\n          swimmer.y = 0;\n          swimmer.dir = 1;\n        }\n\n      }\n      swimmerPos[i] = swimmer;\n    }\n\n    this.setState({ swimmerPos });\n  }\n\n  getSwimmerLanes = () => {\n    const swimmerPos = [...this.state.swimmerPos];\n    const y0 = swimmerPos[0].y;\n    // const dir0 = swimmerPos[0].dir;\n    const y1 = swimmerPos[1].y;\n    // const dir1 = swimmerPos[1].dir;\n    const lanes = [];\n    for (let i = 0; i < this.numSwimmers; i++) {\n      lanes[i] = i;\n    }\n    return (\n      <div className=\"lanes\">\n        {lanes.map((i) => {\n          let lane0 = \"\";\n          let lane1 = \"\";\n          let lane0Class = \"water\";\n          let lane1Class = \"water\";\n          if (i === y0) {\n            lane0 = <img alt=\"woman swimming emoji\" height={40} width={40} src={window.AWS + \"/mars/womanswim.png\"} />;\n            // if (dir0 === 1) lane0Class=\"rot\";\n            // else lane0Class=\"rotNeg90\";\n          }\n          if (i === y1) {\n            lane1 = <img alt=\"man swimming emoji\" height={40} width={40} src={window.AWS + \"/mars/manswim.png\"} />;\n            // if (dir1 === 1) lane1Class=\"rot90\";\n            // else lane1Class=\"rotNeg90\";\n          }\n          return (\n            <div key={i} className=\"swimRow\"><span className={lane0Class} >{lane0}</span><span className={lane1Class} >{lane1}</span></div>\n          )\n        })}\n      </div>\n    )\n  }\n}\n\n\nexport default SwimLane;\n","import React from 'react';\nimport Frame from '../../../shared/Frame/Frame';\n\nexport default function(props) {\n\n  const {w, h, x, y, factor, buttonClick} = props;\n\n  const buttonStyle = {\n    paddingTop: Math.floor(factor * 16),\n    width: Math.floor(factor * 74), \n    fontSize: Math.floor(factor * 55)\n  };\n\n  const ftStyle = {\n    fontSize: Math.floor(factor * 18)\n  } \n  \n  return (\n    <Frame title=\"\" content={\n      <div className=\"tank\" style={{backgroundSize: `${Math.floor(39*factor)}px ${Math.floor(40*factor)}px`}}>\n      <button style={buttonStyle} onClick={() => {buttonClick(3)}}><span className=\"swimSign\">0</span><span style={ftStyle}>ft</span></button>\n      <button style={buttonStyle} onClick={() => {buttonClick(2)}}><span className=\"swimSign\">3</span><span style={ftStyle}>ft</span></button>\n      <button style={buttonStyle} onClick={() => {buttonClick(1)}}><span className=\"swimSign\">5</span><span style={ftStyle}>ft</span></button>\n      <button style={buttonStyle} onClick={() => {buttonClick(0)}}><span className=\"swimSign\">8</span><span style={ftStyle}>ft</span></button>\n      </div>\n    }\n    width={w} height={h} x={x} y={y}\n    />\n  )\n}\n","import React from 'react';\nimport Frame from '../../../shared/Frame/Frame';\n\n\nclass Chairs extends React.Component {\n\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      chairY: 0\n    }\n  }\n\n\n  componentDidMount() {\n    this.chairInterval = setInterval(this.chairUpdate, 50);\n  }\n\n  componentWillUnmount() {\n    clearInterval(this.chairInterval);\n  }\n\n  chairUpdate = () => {\n    this.setState({chairY: this.state.chairY+2});\n  }\n\n  render() {\n    const {w, h, x, y, factor} = this.props;\n    let sz = Math.floor(200*factor);\n    const chairStyle = {color: \"red\", backgroundPosition: `${this.state.chairY}px 0`, backgroundSize: `${sz}px ${sz}px`};\n\n    return (\n      <Frame title=\"\" content={<div className=\"blueChair\" style={chairStyle}></div>} width={w} height={h} x={x} y={y} />\n    )\n  }\n\n\n}\n\n\nexport default Chairs;\n","\n\nimport React from 'react';\nimport Frame from '../../../shared/Frame/Frame';\nimport { connect } from 'react-redux';\n\nclass BigCrater extends React.Component {\n\n  constructor(props) {\n    super(props);\n\n    this.poolRef = React.createRef();\n  }\n\n\n  componentDidUpdate(prevProps) {\n    const { ui } = this.props;\n    if (ui.compositionStarted && !prevProps.ui.compositionStarted) {\n      this.poolRef.current.play();\n    }\n  }\n\n  render() {\n    const { w, h, x, y, isFlipped, poolVid } = this.props;\n    const vidC = isFlipped ? \" rot90\" : \"\";\n\n    return (\n      <Frame title=\"\" content={\n        <div className={\"bigCrater\" + vidC} style={{ height: `${h}px`, backgroundSize: `${w}px ${h}px` }}>\n          <video\n            playsInline\n            className={\"poolVid\"}\n            ref={this.poolRef}\n            style={{ height: `${h}px`, width: `${w}px` }}\n            autoPlay\n            muted\n            loop>\n            <source src={poolVid} type=\"video/mp4\" ></source>\n      Your browser does not support HTML5 video.\n      </video>\n        </div>\n      }\n        width={w} height={h} x={x} y={y}\n      />\n    )\n  }\n}\n\nconst mapStateToProps = (state) => {\n  return {\n    ui: state.ui\n  }\n}\n\nconst mapDispatchToProps = () => {\n  return {\n  }\n}\n\n\nexport default connect(mapStateToProps, mapDispatchToProps())(BigCrater);\n\n","\n\n\n\nimport React from 'react';\nimport Frame from '../../../shared/Frame/Frame';\n\nexport default function(props) {\n\n  const {w, h, x, y, factor} = props;\n\n  return (\n    <Frame title=\"\" content={\n        <div className=\"smallCrater\" style={{backgroundSize: `${Math.floor(w)}px ${Math.floor(w)}px`}}>\n          <div className=\"bubbles\" style={{top: Math.floor(75*factor), left: Math.floor(74*factor)}}>\n            <img alt=\"bubbles for small Mars crater\" src={window.AWS + \"/mars/bubbles3.gif\"} width={w} height={h} />\n          </div>\n        </div>\n      }\n        width={w} height={h} x={x} y={y}\n      />\n  )\n}\n","\n\n\n\nimport React from 'react';\nimport Frame from '../../../shared/Frame/Frame';\n\nexport default function(props) {\n\n  const {w, h, x, y, factor} = props;\n\n  return (\n    <Frame title=\"\" \n    content={<div className=\"diving\" style={{height: Math.floor(152*factor), width: Math.floor(500*factor)}}></div>} \n    width={w} \n    height={h} \n    x={x} \n    y={y} \n    />\n\n  )\n}\n","\n\n\n\nimport React from 'react';\nimport { connect } from 'react-redux';\n\nimport BabylonWaterScene from './BabylonWater';\nimport SwimLane from './SwimLane';\nimport PoolButtons from './PoolButtons';\nimport Chairs from './Chairs';\nimport BigCrater from './BigCrater';\nimport SmallCrater from './SmallCrater';\nimport Board from './Board';\n\nimport { mapVal, constrain } from '../../../shared/Helpers/Helpers';\n\nclass MarsDesktop extends React.Component {\n\n\n    constructor(props) {\n        super(props);\n\n\n        this.poolVid0 = window.AWS + \"/mars/pool/mars_0.mp4\"\n        this.poolVid1 = window.AWS + \"/mars/pool/mars_1.mp4\"\n        this.poolVid2 = window.AWS + \"/mars/pool/mars_2.mp4\"\n        this.poolVid3 = window.AWS + \"/mars/pool/mars_3.mp4\"\n\n        this.state = {\n            poolVid: this.poolVid1\n        }\n    }\n\n\n    componentDidMount() {\n        this.props.addClass(\"overflow-all\");\n    }\n\n    componentWillUnmount() {\n        this.props.removeClass(\"overflow-all\");\n    }\n\n\n    buttonClick = (num) => {\n        let vids = [this.poolVid0, this.poolVid1, this.poolVid2, this.poolVid3];\n        this.setState({ poolVid: vids[num] });\n    }\n\n\n    render() {\n\n        const spacing = 25;\n\n        const { ui } = this.props;\n        let width = window.innerWidth;\n        // let height = window.innerHeight;\n        let maxW = 1.4\n        this.factor = mapVal(width, 1440, 2560, 1, maxW);\n        this.factor = constrain(this.factor, .6, maxW);\n\n        // have to make sure the height isn't maxed out for really wide screens\n        // this.factor = 1;\n\n\n        const sketchW = 1225 * this.factor + 2 * spacing;\n        const sketchH = 640 * this.factor;\n\n        const startX = Math.max((width - sketchW) / 2, spacing);\n\n        // isn't from start of header bar b/c overflow all\n        const startY = ui.headerH + (ui.contentH - (sketchH + ui.toolbarH)) / 2;\n        //(height-sketchH-ui.toolbarH)/2;//Math.max((height - sketchH + 34) / 2, spacing);\n\n\n        const pool = {\n            x: startX,\n            h: 640 * this.factor,\n            y: startY,\n            w: 0\n        };\n        pool.w = 548 / 1080 * pool.h;\n\n        const chairs = {\n            w: 600 * this.factor,\n            h: 200 * this.factor,\n            x: pool.x + pool.w + spacing,\n            y: pool.y\n        };\n        const smallCrater = {\n            w: 300 * this.factor,\n            h: 300 * this.factor,\n            x: chairs.x + chairs.w + spacing,\n            y: pool.y\n        };\n        const bab = {\n            w: chairs.w,//500,\n            h: pool.h - chairs.h - spacing - ui.toolbarH,\n            y: chairs.y + chairs.h + ui.toolbarH + spacing,\n            x: pool.x + pool.w + spacing//chairs.x + chairs.w - 500\n        };\n        const board = {\n            w: 500 * this.factor,\n            h: 152 * this.factor,\n            x: smallCrater.x + smallCrater.w - 500 * this.factor,\n            y: pool.y + pool.h - 152 * this.factor\n        };\n        const swimLaneFrame = {\n            w: 80 * this.factor,\n            h: 36 * 8.8 * this.factor,//bab.h,\n            x: bab.x + 30,//pool.x + pool.w + spacing,\n            y: bab.y + 50//chairs.y + chairs.h + toolbarH + spacing\n        };\n\n        const tank = {\n            w: smallCrater.w,\n            h: pool.h - smallCrater.h - board.h - 2 * ui.toolbarH - 2 * spacing,\n            x: smallCrater.x,\n            y: smallCrater.h + smallCrater.y + ui.toolbarH + spacing\n        }\n\n        const { poolVid } = this.state;\n\n        return (\n            <React.Fragment>\n                <div className=\"Mars-Desktop\">\n                    <BigCrater w={pool.w} h={pool.h} x={pool.x} y={pool.y} poolVid={poolVid} />\n                    <SmallCrater w={smallCrater.w} h={smallCrater.h} x={smallCrater.x} y={smallCrater.y} factor={this.factor} />\n                    <PoolButtons w={tank.w} h={tank.h} x={tank.x} y={tank.y} factor={this.factor} buttonClick={this.buttonClick} />\n                    <Chairs w={chairs.w} h={chairs.h} x={chairs.x} y={chairs.y} factor={this.factor} />\n                    <BabylonWaterScene w={bab.w} h={bab.h} x={bab.x} y={bab.y} />\n                    <Board w={board.w} h={board.h} x={board.x} y={board.y} factor={this.factor} />\n                    <SwimLane w={swimLaneFrame.w} h={swimLaneFrame.h} x={swimLaneFrame.x} y={swimLaneFrame.y} />\n                </div>\n            </React.Fragment>\n        )\n    }\n\n}\n\n\n\nconst mapStateToProps = (state) => {\n    return {\n        ui: state.ui\n    }\n}\n\nconst mapDispatchToProps = () => {\n    return {\n\n    }\n}\n\n\nexport default connect(mapStateToProps, mapDispatchToProps())(MarsDesktop);\n\n","\n\n\n\nimport React from 'react';\nimport { connect } from 'react-redux';\n// import { getCenterModalDim } from '../../../shared/CenterModal/Helper';\n// import CenterModal from '../../../shared/CenterModal/CenterModal';\n// import BabylonWaterScene from './BabylonWater';\n// import SwimLane from './SwimLane';\n// import PoolButtons from './PoolButtons';\nimport Chairs from './Chairs';\nimport BigCrater from './BigCrater';\n// import SmallCrater from './SmallCrater';\n// import Board from './Board';\n\n\n// import { mapVal, constrain } from '../../../shared/Helpers/Helpers';\n\nclass MarsMobile extends React.Component {\n\n\n    constructor(props) {\n        super(props);\n\n\n        this.poolVid0 = window.AWS + \"/mars/pool/mars_0.mp4\"\n        this.poolVid1 = window.AWS + \"/mars/pool/mars_1.mp4\"\n        this.poolVid2 = window.AWS + \"/mars/pool/mars_2.mp4\"\n        this.poolVid3 = window.AWS + \"/mars/pool/mars_3.mp4\"\n\n        this.state = {\n            poolVid: this.poolVid1,\n            isHidden: false\n        }\n    }\n\n\n    componentDidMount() {\n    }\n\n    componentWillUnmount() {\n    }\n\n    onHide = () => {\n        this.setState({ isHidden: true })\n    }\n\n    buttonClick = (num) => {\n        let vids = [this.poolVid0, this.poolVid1, this.poolVid2, this.poolVid3];\n        this.setState({ poolVid: vids[num] });\n    }\n\n    render() {\n        const {poolVid, isHidden} = this.state;\n        const {ui} = this.props;\n\n        let spacing = 20;\n        let availW = ui.contentW - spacing*2;\n        let availH = ui.contentH - spacing*2 - ui.toolbarH;\n\n        const pool = {\n            h: 640,\n            w: 325,\n            x: 0,\n            y: 0,\n            isFlipped: false\n        };\n        \n        if (ui.orientation === \"portrait\") {\n            // max h, setW\n            pool.w = pool.w * availH/pool.h;\n            pool.h = availH;\n            pool.x = (ui.contentW - pool.w)/2;\n            pool.y = ((ui.contentH - ui.toolbarH) - pool.h)/2; /// + ui.toolbarH;\n\n            return (\n                <BigCrater w={pool.w} h={pool.h} x={pool.x} y={pool.y} isFlipped={pool.isFlipped} poolVid={poolVid} />\n            )\n        }\n        else {\n            pool.h = 212;//pool.h * availW/pool.w;\n            pool.w = availW;\n            pool.x = (ui.contentW - pool.w)/2;\n            pool.y = ((ui.contentH - ui.toolbarH) - pool.h)/2 //+ ui.toolbarH;\n            pool.isFlipped = true;\n            return (\n                <Chairs w={pool.w} h={pool.h} x={pool.x} y={pool.y} factor={1} />\n            )\n        }\n\n        \n    }\n\n}\n\n\n\nconst mapStateToProps = (state) => {\n    return {\n        ui: state.ui\n    }\n}\n\nconst mapDispatchToProps = () => {\n    return {\n\n    }\n}\n\n\nexport default connect(mapStateToProps, mapDispatchToProps())(MarsMobile);\n\n","import React from 'react';\nimport \"./Mars.css\";\nimport MarsDesktop from './components/MarsDesktop';\nimport MarsMobile from './components/MarsMobile';\n\n// store\nimport { connect } from 'react-redux';\nimport { setSketchMusic } from '../../../store/actions/music';\n\nclass Mars extends React.Component {\n\n  // constructor(props) {\n  //   super(props);\n  // }\n\n\n  componentDidMount() {\n\n    this.props.setSketchMusic(\"mars\", 0, .1);\n  }\n\n  componentWillUnmount() {\n  }\n\n\n  justPool = () => {\n    const { ui } = this.props;\n    if (ui.orientation === \"portrait\" && ui.contentW < 750)\n      return true;\n    else if (ui.orientation === \"landscape\" && ui.contentH < 500)\n      return true;\n    return false;\n  }\n\n  render() {\n\n    return (\n      <div className=\"Mars Sketch\">\n        {this.justPool() ? <MarsMobile /> : <MarsDesktop addClass={this.props.addClass} removeClass={this.props.removeClass} />}\n      </div>\n    )\n  }\n\n\n}\n\n\nconst mapStateToProps = (state) => {\n  return {\n    ui: state.ui\n  }\n}\n\nconst mapDispatchToProps = () => {\n  return {\n    setSketchMusic\n  }\n}\n\n\nexport default connect(mapStateToProps, mapDispatchToProps())(Mars);\n\n","import React from 'react';\nimport Frame from '../../../shared/Frame/Frame';\n\nclass Shower extends React.Component {\n\n  render() {\n    const {x, y, w, h, id, handleDrag, onMaximized, onMinimized, onClosed} = this.props;\n\n    let imgs = [7, 1, 3, 4, 8, 10];\n    let img = imgs[id];\n    let imgSrc = window.AWS+\"/wetStreams/showerHeads/\" + img + \".png\";\n    // let title = \"\";\n    // if (id === 1 && dim > 300) \n    //   title = \"wet streams\";\n    let classn = id===5?\"showerhead flippedX\":\"showerhead\";\n\n    return (\n      <Frame id={id} onDrag={(position) => handleDrag(id, position)} title={\"\"} content={\n        <div className={classn}>\n        <img src={imgSrc} style={{width:w +\"px\", height:h+\"px\"}} alt=\"shower head\" />\n        </div>\n      }\n      width={w} height={h} x={x} y={y} onMaximized={() => onMaximized(id)} onMinimized={() => onMinimized(id)} onHide={() => onClosed(id)}  />\n    )\n  }\n}\n// z={z}\n//newFrameToTop={() => {newFrameToTop(id)}}\n\nexport default Shower;\n","import React from 'react';\nimport \"./WetStreams.css\";\n\n///////////////////// p5.js\nimport P5Wrapper from 'react-p5-wrapper';\nimport sketch from './wetSketch';\n\nimport Shower from './components/Shower';\nimport { connect } from 'react-redux';\nimport {setSketchMusic} from '../../../store/actions/music';\n\n// import {getNewZIndices} from '../../shared/Helpers/Helpers';\n// import Stair from './Stair';\n\n// import Glasses from '../../shared/Glasses/Glasses';\n\nclass WetStreams extends React.Component {\n\n  constructor(props) {\n    super(props);\n\n    // this.spacing = 15;\n    // const availH = window.innerHeight -34 -2*26-3*this.spacing;\n    // const dim = 300; //Math.max(availH/2, 300);\n    this.spacing = 15; //(window.innerHeight -30 -2*26-dim*2)/3;\n    // if (this.props.ui.contentW > 1500)\n    //   this.spacing = 60;\n    this.state = {\n      deltaPositions: [\n        { x: 0, y: 0 },\n        { x: 0, y: 0 },\n        { x: 0, y: 0 },\n        { x: 0, y: 0 },\n        { x: 0, y: 0 },\n        { x: 0, y: 0 }\n      ],\n      playingStreams: [true, true, true, true, true, true],\n      isMinimized: [false, false, false, false, false, false],\n      isClosed: [false, false, false, false, false, false],\n      // zIndices: [0, 1, 2, 3, 4, 5]\n    }\n  }\n\n\n  componentDidMount() {\n    // this.updateDimensions();\n    // window.addEventListener(\"resize\", this.updateDimensions.bind(this));\n    this.interval = setInterval(this.playStreamReset, 4000);\n    // this.props.userSetRoom(\"wet-streams\");\n    this.props.setSketchMusic(\"wetStreams\", 0, .6);\n  }\n\n  componentWillUnmount() {\n    // window.removeEventListener(\"resize\", this.updateDimensions.bind(this));\n    clearInterval(this.interval);\n    // this.props.userLeaveRoom(\"wet-streams\");\n  }\n\n  // updateDimensions() {\n  //   let showerFrame = {...this.state.showerFrame};\n  //   showerFrame.x = (window.innerWidth-showerFrame.w*3 - this.spacing*2)/2\n  //   showerFrame.y = Math.max((window.innerHeight -34 -2*26-showerFrame.h*2-this.spacing)/2, this.spacing)\n\n  //   this.setState({ showerFrame, windowWidth: window.innerWidth, windowHeight: window.innerHeight });\n  // }\n\n  playStreamReset = () => {\n    const playingStreams = [...this.state.playingStreams];\n    for (let i = 0; i < playingStreams.length; i++) {\n      playingStreams[i] = Math.random() > .4;\n    }\n    this.setState({ playingStreams })\n  }\n\n  // newFrameToTop = (id) => {\n  //   const newZ = getNewZIndices(id, this.state.zIndices);\n  //   this.setState({zIndices: newZ});\n  //   // console.log(\"ZZZ\", this.state.zIndices);\n  // }\n\n  onMinimized = (id) => {\n    let dps = [...this.state.isMinimized];\n    dps[id] = !dps[id];\n    this.setState({ isMinimized: dps });\n  }\n\n  onClosed = (id) => {\n    let dps = [...this.state.isClosed];\n    dps[id] = true;\n    this.setState({ isClosed: dps });\n  }\n\n  onMaximized = (id) => {\n    let dps = [...this.state.deltaPositions];\n    let dp = { ...dps[id] };\n    dp.x = 0;\n    dp.y = 0;\n    dps[id] = dp;\n    this.setState({ deltaPositions: dps });\n  }\n\n\n  handleDrag = (index, ui) => {\n    let dx = ui.deltaX;\n    let dy = ui.deltaY;\n    // 1. Make a shallow copy of the items\n    let dps = [...this.state.deltaPositions];\n    // 2. Make a shallow copy of the item you want to mutate\n    let dp = { ...dps[index] };\n    // 3. Replace the property you're intested in\n    dp.x += dx;\n    dp.y += dy;\n    // 4. Put it back into our array. N.B. we *are* mutating the array here, but that's why we made a copy first\n    dps[index] = dp;\n    // 5. Set the state to our new copy\n    // this.newFrameToTop(index);\n    this.setState({ deltaPositions: dps });\n  };\n\n\n  render() {\n    let { playingStreams, deltaPositions, isMinimized, isClosed } = this.state;\n    const { ui } = this.props;\n    let dim = 300;\n    if (ui.hasFooter || ui.isMobile) {\n      if (ui.orientation === \"portrait\") {\n        let dimW = (ui.width - this.spacing * 3)/2;\n        let dimH = (ui.height - 3* (this.spacing + ui.toolbarH) - this.spacing - 2*ui.headerH)/3;\n        dim  = Math.min(dimW, dimH);\n      }\n      else {\n        let dimW = (ui.width - this.spacing * 4 - 60)/3;\n        let dimH = (ui.height - 2* (this.spacing + ui.toolbarH) - this.spacing - ui.headerH)/2;\n        dim  = Math.min(dimW, dimH);\n      }\n     \n    }\n    else if (ui.contentW > 2000) {\n      dim = 370;\n    }\n    const showerFrame = {\n      w: dim,\n      h: dim\n    };\n    let origins = [];\n\n    if ((ui.isMobile || ui.hasFooter) && ui.orientation === \"portrait\") {\n      showerFrame.x = (ui.width - this.spacing - 2*dim) / 2; // space = dim = space = dim = space\n      // console.log(dim, 165*2+this.spacing*3, ui.width)\n      // header = space = dim+tool = space = dim+tool = space = dim+tool = space = footer\n      showerFrame.y = (ui.height - ui.headerH*2 - 3*(dim + this.spacing+ui.toolbarH) - this.spacing)/2 + 15;\n      for (let i = 0; i < 2; i++) {\n        origins[i] = { x: showerFrame.x + i * (showerFrame.w + this.spacing), y: showerFrame.y };\n        origins[2+i] = { x: showerFrame.x + i * (showerFrame.w + this.spacing), y: showerFrame.y + showerFrame.h + this.spacing + ui.toolbarH };\n        origins[4+i] = { x: showerFrame.x + i * (showerFrame.w + this.spacing), y: showerFrame.y + (showerFrame.h + this.spacing + ui.toolbarH)*2 };\n      }\n    }\n    else {\n      showerFrame.x = (ui.width - 3 * (dim + this.spacing) - this.spacing) / 2;\n      showerFrame.y = Math.max((ui.height - ui.headerH - 2 * ui.toolbarH - dim * 2 - this.spacing) / 2, this.spacing);\n      \n      if ((ui.isMobile || ui.hasFooter) && ui.orientation === \"landscape\" ) {\n        // showerFrame.x = this.spacing;\n        showerFrame.y = (ui.height - ui.headerH - 2*(dim +ui.toolbarH) - this.spacing)/2;\n      }\n      for (let i = 0; i < 3; i++) {\n        origins[i] = { x: showerFrame.x + i * (showerFrame.w + this.spacing), y: showerFrame.y };\n        origins[i + 3] = { x: showerFrame.x + i * (showerFrame.w + this.spacing), y: showerFrame.y + showerFrame.h + this.spacing + ui.toolbarH };\n      }\n    }\n\n   \n    \n\n    const showWater = [];\n    for (let i = 0; i < playingStreams.length; i++) {\n      showWater[i] = playingStreams[i] && !isMinimized[i] && !isClosed[i];\n    }\n\n    let bgimg = \"https://lmd-bucket.s3.us-east-2.amazonaws.com/sketches/wetStreams/blk2000.png\";\n    if (ui.contentW > 2000)\n      bgimg = \"https://lmd-bucket.s3.us-east-2.amazonaws.com/sketches/wetStreams/bigGrid2.png\";\n\n    return (\n      <div className=\"WetStreams Sketch\" style={{backgroundImage: `url(${bgimg})`}}>\n\n        {origins.map((origin, i) => {\n          const props = {\n            isPlaying: playingStreams[i] && !isMinimized[i],\n            x: origin.x,\n            y: origin.y,\n            // z: zIndices[i],\n            w: showerFrame.w,\n            h: showerFrame.h,\n            id: i,\n            dim: dim,\n            handleDrag: this.handleDrag,\n            onMaximized: this.onMaximized,\n            onMinimized: this.onMinimized,\n            onClosed: this.onClosed\n          }\n          return <Shower key={i} {...props} />\n        })};\n\n\n        <P5Wrapper className=\"p5sketch\" sketch={sketch}\n          origins={origins}\n          scaler={showerFrame.w / 400}\n          deltas={deltaPositions}\n          isPlaying={showWater}\n        />\n\n      </div>\n    )\n  }\n}\n\n\n\n\n\nconst mapStateToProps = (state) => {\n  return {\n    ui: state.ui\n  }\n}\n\nconst mapDispatchToProps = () => {\n  return {\n    // doneLoadingApp\n    setSketchMusic\n  }\n}\n\n\nexport default connect(mapStateToProps, mapDispatchToProps())(WetStreams);\n\n\n","import React from 'react';\nimport './LiveStream.css';\nimport { faEye } from \"@fortawesome/free-solid-svg-icons\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\n\nclass LiveBar extends React.Component {\n  // https://codepen.io/JohJakob/pen/YPxgwo\n  constructor(props) {\n    super(props);\n\n    const timeInc = Math.floor(Math.random() * 300);\n\n    this.state = {\n      timeInc: timeInc,\n      time: this.getTime(timeInc),\n      watchers: Math.floor(Math.random() * 200),\n    }\n  }\n\n  componentDidMount() {\n    this.intervalTimer = setInterval(this.updateTime, 1000);\n    this.intervalWatcher = setInterval(this.updateWatchers, 2200);\n  }\n\n  componentWillUnmount() {\n    clearInterval(this.intervalTimer);\n    clearInterval(this.intervalWatcher);\n  }\n\n  render() {\n    const { time, watchers } = this.state;\n    const {x, y} = this.props;\n    const style = {\n      top: y,\n      left: x,\n      width: 190\n    }\n    return (\n      <div className=\"liveStream\" style={style}><span className=\"live\">LIVE</span><span className=\"time\">{time}</span><span className=\"eye\"><FontAwesomeIcon icon={faEye} /> {watchers}</span></div>\n    );\n  }\n\n\n  getTime = (timeInc) => {\n    let sec = timeInc % 60;\n    let min = Math.floor(timeInc / 60);\n    let hr = Math.floor(min / 60);\n    hr %= 12;\n    // if (min < 10) min = \"0\" + min;\n    if (hr < 10) hr = \"0\" + hr;\n    if (sec < 10) sec = \"0\" + sec;\n\n    let time = min + \":\" + sec;\n    return time;\n  }\n\n  updateTime = () => {\n    // let {time, timeInc} = this.state;\n    // timeInc++;\n    const timeInc = this.state.timeInc + 1;\n    const time = this.getTime(timeInc);\n    this.setState({ time, timeInc });\n  }\n\n  updateWatchers = () => {\n    const watchers = this.state.watchers;\n    if (Math.random() < .3) {\n      this.setState({ watchers: watchers + 1 })\n    }\n    else if (Math.random() < .6) {\n      if (watchers - 1 < 1) this.setState({ watchers: 1 });\n      else this.setState({ watchers: watchers - 1 })\n    }\n  }\n}\n\n\n\nexport default LiveBar;\n","\nimport React from 'react';\nimport LiveBar from './LiveBar';\nimport Frame from '../../../../shared/Frame/Frame';\n\nimport { connect } from 'react-redux';\n\n\nclass PearlyGates extends React.Component {\n\n    constructor(props) {\n        super(props);\n        this.pearlyVid = React.createRef();\n    }\n\n    componentDidUpdate(prevProps) {\n        const { ui } = this.props;\n        if (ui.compositionStarted && !prevProps.ui.compositionStarted) {\n            this.pearlyVid.current.play();\n        }\n    }\n\n    render() {\n        const { w, h, x, y } = this.props;\n        const doveX = x + w / 2 - 45;\n        const doveY = y + h / 2 - 45;\n        let yLive = h - 55;\n        if (h < 400)\n            yLive = h - 35;\n\n        // this.pearlyVid = React.createRef();\n\n        return (\n            <React.Fragment>\n                <Frame className=\"stairway\" title=\"\" content={\n                    /*<video width={dimW-2} height={dimH} muted loop autoPlay><source src={videoDimURL} type=\"video/mp4\"></source></video>*/\n                    <div>\n                        <video\n                            ref={this.pearlyVid}\n                            autoPlay\n                            muted\n                            loop\n                            playsInline\n                            className={\"react-player mainContent\"}\n                            width={w}\n                            height={h}\n                        >\n                            <source src={window.AWS + \"/waveforms/waves2_lines.mp4\"} type=\"video/mp4\" ></source>\n                        </video>\n                        <LiveBar x={20} y={yLive} />\n                    </div>\n                }\n                    width={w} height={h} x={x} y={y}\n                />\n\n                <Frame className=\"doveFrame\" title=\"\" windowStyle={{ background: \"transparent\" }} content={\n                    <img src={window.AWS + \"/waveforms/dove_t.gif\"} width={90} height={90} />\n                }\n                    width={90} height={90} x={doveX} y={doveY}\n                />\n            </React.Fragment>\n        )\n    }\n\n}\n\n\nconst mapStateToProps = (state) => {\n    return {\n        ui: state.ui\n    }\n}\n\nconst mapDispatchToProps = () => {\n    return {\n    }\n}\n\n\nexport default connect(mapStateToProps, mapDispatchToProps())(PearlyGates);\n\n","\n\nimport React from 'react';\nimport Frame from '../../../shared/Frame/Frame';\nimport Webcam from \"react-webcam\";\n\n\nexport default function WebZoom(props) {\n    const { x, y, w, h, videoOn } = props;\n\n    const videoConstraints = {\n        width: w,\n        height: h,\n        facingMode: \"user\"\n    };\n    // why was the frame className=static?\n    return (\n\n        <Frame content={\n            /* <img height={130} width={230} src=\"https://media4.giphy.com/media/UiwxIx9BElaVi/giphy.gif?cid=ecf05e47a8bbe3d9385a466e6febc98bd9d83fe2e23ed054&rid=giphy.gif\" />*/\n            <div>\n                {videoOn ? <Webcam videoConstraints={videoConstraints} /> : null}\n                <img alt=\"Holy Spirt gif\" src={window.AWS + \"/waveforms/divine.gif\"} width={\"100%\"} height={\"100%\"} style={{ opacity: .3, position: \"absolute\", top: 0, left: 0 }} />\n            </div>\n        }\n            x={x} y={y} width={videoConstraints.width} height={videoConstraints.height}\n        />\n    )\n}","import React from 'react';\n\n\nclass Emojis extends React.Component {\n \n\n  render() {\n    const {emojis} = this.props;\n    return (\n      <div className=\"confession-emojis\">\n      {emojis?this.getEmojis():<div></div>}\n      </div>\n    );\n  }\n\n  getEmojis = () => {\n\n    const {emojis} = this.props;\n\n\n    return (\n      emojis.map((emoji, i) => {\n        const id = emoji.id;\n        const imgs = [\"prayer\", \"communion\", \"praise\", \"open\", \"raised\",\"halo\", \"heart_face\",\"hand_face\"];\n        const url = window.AWS + \"/waveforms/emojis/\" + imgs[id] + \".png\" ;\n        return (\n          <img key={i} src={url} style={{top:`${emoji.y}px`, left:`${emoji.x}px`, opacity: emoji.opacity}} />\n        )\n      })\n    )\n  }\n}\n\n\n\nexport default Emojis;\n","import React from 'react';\nimport Button from '@material-ui/core/Button';\nimport './BottomBar.css';\nimport { faEye, faRetweet, faVideo, faVideoSlash, faMicrophoneAlt, faMicrophoneAltSlash } from \"@fortawesome/free-solid-svg-icons\";\n// import { faComment, faHeart } from \"@fortawesome/free-regular-svg-icons\";\n// import { faTwitter } from \"@fortawesome/free-brands-svg-icons\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport Emojis from './Emojis';\n\nclass BottomBar extends React.Component {\n  // https://codepen.io/JohJakob/pen/YPxgwo\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      emojis: [],\n    }\n  }\n\n  componentDidMount() {\n    this.intervalEmoji = setInterval(this.updateEmojis, 50);\n  }\n\n  componentWillUnmount() {\n    clearInterval(this.intervalEmoji);\n  }\n\n  updateEmojis = () => {\n    const t = new Date();\n    const emojis = [...this.state.emojis];\n    if (emojis.length > 0) {\n      for (let i = 0; i < emojis.length; i++) {\n        const emoji = { ...emojis[i] };\n        emojis[i] = emoji; // is this proper immutability? I think so...?\n        if (emoji) {\n          emoji.y -= 12;\n          if (emoji.y < 0) {\n            emojis.splice(i, 1);\n            i--;\n          }\n          else {\n            emoji.x = emoji.startX + 30 * Math.sin(emoji.y / 70);\n            emoji.opacity = (emoji.y - 80) / window.innerHeight;\n            if (emoji.opacity < 0) emoji.opacity = 0;\n            else if (emoji.opacity > 1) emoji.opacity = 1;\n          }\n        }\n      }\n      this.setState({ emojis });\n      // console.log(new Date() - t, \"ms\");\n    }\n  }\n\n  addEmoji = (id) => {\n    // console.log(\"ADD EMOJI\", id);\n    const emoji = { startX: Math.random() * window.innerWidth, x: 0, y: window.innerHeight - 50, opacity: 1, id: id };\n    this.setState(prevState => ({\n      emojis: [...prevState.emojis, emoji]\n    }))\n  }\n\n\n  render() {\n    const emojis = this.state.emojis;\n    const { toggleAudio, toggleVideo, videoOn, audioOn, addCandle } = this.props;\n    const vidIcon = videoOn ? faVideo : faVideoSlash;\n    const audioIcon = audioOn ? faMicrophoneAlt : faMicrophoneAltSlash;\n\n    return (\n      <div>\n        <div className=\"confession-bottomBar\">\n          <div className=\"bar-emojis\">\n            {/* <div className=\"bar-vid\"> */}\n            <Button variant=\"contained\" className=\"vidButton\" onClick={toggleVideo}><FontAwesomeIcon icon={vidIcon} /></Button>\n            <Button variant=\"contained\" className=\"vidButton\" onClick={toggleAudio}><FontAwesomeIcon icon={audioIcon} /></Button>\n            {/* </div> */}\n            <span style={{ paddingRight: 70 }} />\n            <Button variant=\"contained\" onClick={() => this.addEmoji(0)}><img src={window.AWS + \"/waveforms/emojis/prayer.png\"} /></Button>\n            <Button variant=\"contained\" onClick={() => this.addEmoji(1)}><img src={window.AWS + \"/waveforms/emojis/communion.png\"} /></Button>\n            <Button variant=\"contained\" onClick={() => this.addEmoji(2)}><img src={window.AWS + \"/waveforms/emojis/praise.png\"} /></Button>\n            <Button variant=\"contained\" onClick={() => this.addEmoji(3)}><img src={window.AWS + \"/waveforms/emojis/open.png\"} /></Button>\n            <Button variant=\"contained\" onClick={() => this.addEmoji(4)}><img src={window.AWS + \"/waveforms/emojis/raised.png\"} /></Button>\n            <span style={{ paddingRight: 30 }} />\n            <Button variant=\"contained\" onClick={() => this.addEmoji(5)}><img src={window.AWS + \"/waveforms/emojis/halo.png\"} /></Button>\n            <Button variant=\"contained\" onClick={() => this.addEmoji(6)}><img src={window.AWS + \"/waveforms/emojis/heart_face.png\"} /></Button>\n            <Button variant=\"contained\" onClick={() => this.addEmoji(7)}><img src={window.AWS + \"/waveforms/emojis/hand_face.png\"} /></Button>\n            <span style={{ paddingRight: 70 }} />\n            {/* <div className=\"bar-good-bad\"> */}\n            {/* <Button variant=\"contained\" ><img src={window.AWS + \"/waveforms/emojis/halo.png\"} /></Button>\n            <Button variant=\"contained\" ><img src={window.AWS + \"/waveforms/emojis/devil.png\"} /></Button> */}\n            <Button variant=\"contained\" onClick={addCandle}><img src={window.AWS + \"/waveforms/emojis/candle.png\"} /></Button>\n            {/* </div> */}\n          </div>\n        </div>\n        <Emojis emojis={emojis} />\n      </div>\n    );\n  }\n\n}\n\n\n\nexport default BottomBar;\n","\nimport React from 'react';\nimport Frame from '../../../../shared/Frame/Frame';\nimport './ConfessForm.css';\n\nexport default class ConfessionFormContent extends React.Component {\n\n    constructor(props) {\n        super(props);\n        this.state = {\n            timePeriod: \"days\",\n            prayTo: \"Kanye\"\n        }\n    }\n\n    handleTimeChange = (event) => {\n        this.setState({ timePeriod: event.target.value });\n    };\n\n    handlePrayChange = (event) => {\n        this.setState({ prayTo: event.target.value });\n    };\n\n    render() {\n        const { w, h, x, y, onSubmit } = this.props;\n        // if (true) {\n            var line0 = (\n                <div className=\"line0 lineSp\">\n                    <div className=\"text-line0\">Bless me</div>\n                    <select className=\"confessional-box\" value={this.state.prayTo} onChange={this.handlePrayChange}>\n                        <option value=\"RBG\">RBG</option>\n                        <option value=\"Father\">Father</option>\n                        <option value=\"Mitch McConnel\">Mitch McConnel</option>\n                        <option value=\"Kanye\">Kanye</option>\n                    </select>\n                </div>\n            )\n        // }\n        // else {\n        //     var line0 = (\n        //         <React.Fragment>\n        //             <div className=\"lineSp\">Bless me</div>\n        //             <select className=\"lineSp confessional-box\" value={this.state.prayTo} onChange={this.handlePrayChange}>\n        //                 <option value=\"RBG\">RBG</option>\n        //                 <option value=\"Father\">Father</option>\n        //                 <option value=\"Mitch McConnel\">Mitch McConnel</option>\n        //                 <option value=\"Kanye\">Kanye</option>\n        //             </select>\n        //         </React.Fragment>\n        //     )\n        // }\n\n        return (\n\n            <div className=\"confessional\">\n                {line0}\n                <div className=\"lineSp\">for I have sinned. It has been:</div>\n\n                <div className=\"confessional-time lineSp\">\n                    <div className=\"confessional-box\">\n                        <input type=\"number\" placeholder=\"number\" />\n                    </div>\n\n                    <select className=\"confessional-box\" value={this.state.timePeriod} onChange={this.handleTimeChange}>\n                        <option value=\"days\">days</option>\n                        <option value=\"months\">months</option>\n                        <option value=\"years\">years</option>\n                        <option value=\"never\">never</option>\n                    </select>\n                </div>\n                <div className=\"lineSp\">since I last went to confession.</div>\n                <div className=\"txt-box\">\n                    <div className=\"multitext confessional-box\">\n                        <textarea\n                            id=\"outlined-multiline-static\"\n                            label=\"\"\n                            multiline=\"true\"\n                            placeholder=\"confession\"\n                            className=\"box text-line2\"\n                        />\n                    </div>\n                </div>\n                {onSubmit ? <button className=\"confessional-box\" onClick={onSubmit}>submit</button> : null}\n            </div>\n\n        )\n    }\n}","\n\n\nimport React from 'react';\nimport Frame from '../../../../shared/Frame/Frame';\nimport ConfessFormContent from './ConfessFormContent';\n\nexport default function ConfessionFormFrame(props) {\n\n    return (\n        <Frame title=\"\"\n            windowStyle={{ background: \"transparent\" }}\n            className={\"confessional-frame\"}\n            content={\n                <ConfessFormContent {...props} />\n            }\n            width={props.w}\n            height={props.h}\n            x={props.x}\n            y={props.y}\n        />\n\n    )\n}","\nimport React from 'react';\nimport CenterModal from '../../../../shared/CenterModal/CenterModal';\nimport ConfessFormContent from './ConfessFormContent';\n\n\nexport default class ConfessMobileForm extends React.Component {\n    \n    // constructor(props) {\n    //     super(props);\n    // }\n\n\n    render() {\n        const { isHidden, onHide, ui } = this.props;\n        return (\n            <CenterModal\n                title=\"\"\n                z={1000}\n                isHidden={isHidden}\n                onHide={onHide}\n                ui={ui}\n                classN=\"confessional-modal\"\n                isRelative={true}\n                content={<ConfessFormContent onSubmit={null} />}\n                buttons={this.getButtons()}\n            />\n        );\n    }\n\n\n    getButtons = () => {\n        return (\n          <div className=\"center-buttons\">\n            <button className=\"standardButton confess-button-secondary\" onClick={this.props.onHide}>cancel</button>\n            <button className=\"standardButton confess-button-primary\" onClick={this.props.onSubmit}>submit</button>\n          </div>\n        )\n        // return null;\n    }\n}","\n\n\nimport React from 'react';\nimport Frame from '../../../../shared/Frame/Frame';\n\nexport default function Candle(props) {\n\n    return (\n        <Frame title=\"\"\n            windowStyle={{ background: \"transparent\" }}\n            className={\"confessional-frame\"}\n            content={\n                <img alt=\"candle gif\" src=\"https://lmd-bucket.s3.us-east-2.amazonaws.com/sketches/waveforms/candle.gif\" width=\"100%\" height=\"100%\" />\n            }\n            width={80}\n            height={90}\n            x={props.x}\n            y={props.y}\n        />\n\n    )\n}","import React from 'react';\nimport Candle from './Candle';\n\nclass Candles extends React.Component {\n\n  // constructor(props) {\n  //   super(props);\n\n  // }\n\n  componentDidMount() {\n  }\n\n  componentWillUnmount() {\n  }\n\n\n\n\n  render() {\n    return (\n      this.props.candles.map((candle, i) => {\n        return <Candle key={i} x={candle.x} y={candle.y} />\n      })\n    );\n  }\n\n}\n\n\n\nexport default Candles;\n","import React from 'react';\nimport { connect } from 'react-redux';\nimport { withRouter } from 'react-router-dom';\n\nimport './Confessional.css';\n// store\n// import { doneLoadingApp } from '../../../store/actions/';\nimport { setSketchMusic } from '../../../store/actions/music';\n\nimport PearlyGates from './components/PearlyGates/PearlyGates';\nimport WebZoom from './components/WebZoom';\nimport BottomBar from './components/Emojis/BottomBar';\n\nimport ConfessFormFrame from './components/ConfessForm/ConfessFormFrame';\nimport ConfessMobileForm from './components/ConfessForm/ConfessMobileForm';\nimport Candles from './components/Candles/Candles';\n\nimport { mapVal, constrain } from '../../shared/Helpers/Helpers';\n\n\n\nconst processString = require('react-process-string');\n\n\nclass Confessional extends React.Component {\n\n  constructor(props) {\n    super(props);\n\n    const { ui } = this.props;\n\n    // this.factor = mapVal(window.innerWidth, 1440, 2560, 1, 1.5);\n    // this.factor = constrain(this.factor, 1, 1.5);\n\n\n    this.state = {\n      confessFormHidden: true,\n      audioOn: true,\n      videoOn: true,\n      candles: []\n    };\n\n\n    // this.memberRef0 = React.createRef();\n\n  }\n\n\n  componentDidMount() {\n    // this.interval = setInterval(this.resetPlayer, 22000);\n    this.props.setSketchMusic(\"cloud\", 0, 1);\n  }\n\n  componentWillUnmount() {\n    // clearInterval(this.interval);\n  }\n\n\n\n  addCandle = () => {\n    // console.log(\"ADD EMOJI\", id);\n    const { ui } = this.props;\n    const candle = { x: Math.random() * (ui.contentW - 150), y: Math.random() * (ui.contentH - 350) };\n    this.setState(prevState => ({\n      candles: [...prevState.candles, candle]\n    }))\n  }\n\n\n  onSubmit = () => {\n    alert(\"Thanks for your submission. Uploading to the cloud...\");\n    this.props.history.push(\"/confessions\");\n  }\n\n  toggleAudio = () => {\n    this.setState(prevState => ({\n      audioOn: !prevState.audioOn\n    }));\n  }\n\n  toggleVideo = () => {\n    this.setState(prevState => ({\n      videoOn: !prevState.videoOn\n    }));\n  }\n\n  render() {\n    const { tweetX, tweetY } = this.state;\n    const { ui } = this.props;\n    if (ui.isMobile || ui.hasFooter) {\n      return this.getMobile();\n    }\n    return this.getDesktop();\n  }\n\n  getButtonSty = (gates, ui) => {\n    let buttonW = 140;\n    let sp = 10;\n    const buttonSty = { top: 0, left: 0, position: \"absolute\" };\n    // if (ui.orientation === \"portrait\") {\n    buttonSty.top = gates.y + gates.dim + sp * 2 + ui.toolbarH;\n    buttonSty.left = ui.contentW / 2 - buttonW / 2;\n    // }\n    // else {\n\n    // }\n    return buttonSty;\n  }\n\n  getAllDim = (ui) => {\n\n    let factor = mapVal(ui.contentW, 1440, 2560, 1, 1.5);\n    factor = constrain(factor, 1, 1.5);\n\n    const bottomBarH = 60;\n    // const spacing = 120;\n    const sideFrameSpaceY = 50;\n    const sideFrameSpaceX = 100;\n\n    const confessDim = {\n      w: 400,\n      h: 310\n    }\n    const zoomDim = {\n      w: Math.floor(230 * 1.4),\n      h: Math.floor(130 * 1.4)\n    }\n    const pearlyDim = {\n      w: 1584 * factor * .3,\n      h: 1588 * factor * .3\n    }\n    const totalFramesW = pearlyDim.w + confessDim.w + sideFrameSpaceX;\n    const totalFramesH = pearlyDim.h + ui.toolbarH;\n    pearlyDim.x = Math.max((ui.contentW - totalFramesW) / 2, 50);\n    pearlyDim.y = (ui.contentH - totalFramesH - bottomBarH) / 2;\n\n  \n    const totalSideFrameH = zoomDim.h + confessDim.h + 2 * ui.toolbarH + sideFrameSpaceY;\n\n    zoomDim.y = (ui.contentH - totalSideFrameH - bottomBarH/2) / 2;\n    zoomDim.x = pearlyDim.x + pearlyDim.w + sideFrameSpaceX;\n\n\n    confessDim.x = zoomDim.x;\n    confessDim.y = zoomDim.y + zoomDim.h + sideFrameSpaceY;\n\n    return { confessDim, pearlyDim, zoomDim, factor };\n  }\n\n  getPearlyGatesDimMobile = (ui) => {\n    const pearly = { x: this.winX, y: this.winY, dim: 475 };\n    let sp = 10;\n    let buttonH = 36;\n    // if (ui.orientation === \"portrait\") {\n    let availW = ui.contentW - sp * 2 - 4;\n    let availH = ui.contentH - ui.toolbarH - sp * 3 - buttonH;\n    let d = Math.min(availW, availH);\n    pearly.dim = Math.min(d, pearly.dim);\n    pearly.x = (ui.contentW - pearly.dim) / 2 - 2;\n    pearly.y = (ui.contentH - pearly.dim - sp - ui.toolbarH - buttonH) / 2;\n    // }\n    // else {\n\n    // }\n    return pearly;\n\n  }\n\n\n  getMobile = () => {\n    const { confessFormHidden } = this.state;\n    const { ui } = this.props;\n\n    const gates = this.getPearlyGatesDimMobile(ui);\n    const buttonSty = this.getButtonSty(gates, ui);\n\n    return (\n      <div className=\"Confessional Sketch\">\n        <div className=\"confessions-form\">\n          <PearlyGates w={gates.dim} h={gates.dim} x={gates.x} y={gates.y} />\n          <button className=\"standardButton confess-button-primary\" style={buttonSty} onClick={this.showConfess}>confess</button>\n          <ConfessMobileForm\n            isHidden={confessFormHidden}\n            onHide={this.hideConfess}\n            onSubmit={this.onSubmit}\n            ui={ui}\n          />\n\n        </div>\n      </div>\n    )\n  }\n\n  showConfess = () => {\n    this.setState({ confessFormHidden: false });\n  }\n\n  hideConfess = () => {\n    this.setState({ confessFormHidden: true });\n  }\n\n  getDesktop = () => {\n    const { audioOn, videoOn, candles } = this.state;\n\n    const { ui } = this.props;\n    const dimensions = this.getAllDim(ui);\n    const { pearlyDim, confessDim, zoomDim } = dimensions;\n\n    return (\n      <div className=\"Confessional Sketch\">\n        <div className=\"confessions-form\">\n          <PearlyGates\n            w={pearlyDim.w}\n            h={pearlyDim.h}\n            x={pearlyDim.x} //windowX\n            y={pearlyDim.y} // winidowY\n          />\n          {/* <div className=\"member\" ref={this.memberRef0}> */}\n          <WebZoom\n            videoOn={videoOn}\n            audioOn={audioOn}\n            x={zoomDim.x}\n            y={zoomDim.y}\n            w={zoomDim.w}\n            h={zoomDim.h}\n          />\n          {/* </div> */}\n          <ConfessFormFrame\n            w={confessDim.w}\n            h={confessDim.h}\n            x={confessDim.x}\n            y={confessDim.y}\n            onSubmit={this.onSubmit}\n          />\n          <Candles candles={candles} />\n          <BottomBar\n            audioOn={audioOn}\n            videoOn={videoOn}\n            toggleAudio={this.toggleAudio}\n            toggleVideo={this.toggleVideo}\n            addCandle={this.addCandle}\n          />\n        </div>\n      </div>\n    )\n  }\n\n}\n\n\n\n\nconst mapStateToProps = (state) => {\n  return {\n    ui: state.ui\n  }\n}\n\nconst mapDispatchToProps = () => {\n  return {\n    // doneLoadingApp\n    setSketchMusic\n  }\n}\n\n\nexport default withRouter(connect(mapStateToProps, mapDispatchToProps())(Confessional));\n","import React from 'react';\nimport './DesktopIcon.css';\n\nimport { connect } from 'react-redux';\nimport Frame from '../Frame/Frame';\nimport Draggable from 'react-draggable';\n\n\nclass DesktopIcon extends React.Component {\n  //https://github.com/STRML/react-draggable\n  // https://codepen.io/JohJakob/pen/YPxgwo\n  constructor(props) {\n    super(props);\n\n\n    this.state = {\n      isHidden: true,\n      controlledPosition: { x: props.x, y: props.y }\n    }\n\n    this.wrapper = React.createRef();\n  }\n\n  componentDidUpdate(prevProps) {\n    if (this.props.x !== prevProps.x || this.props.y !== prevProps.y) {\n      const dx = this.props.x - prevProps.x;\n      const dy = this.props.y - prevProps.y;\n      const controlledPosition = { ...this.state.controlledPosition }\n\n      this.setState({ controlledPosition: { x: controlledPosition.x + dx, y: controlledPosition.y + dy } });\n    }\n  }\n\n  onControlledDrag = (e, position) => {\n    const { x, y } = position;\n    this.setState({ controlledPosition: { x, y } });\n  };\n\n  onControlledDragStop = (e, position) => {\n    this.onControlledDrag(e, position);\n    this.onStop();\n  };\n  \n\n  onDblClick = () => {\n    // let {isHidden} = this.state;\n    // isHidden = !isHidden;\n    console.log(\"dbl\")\n    this.setState({ isHidden: false });\n    if (this.props.onDblClick) this.props.onDblClick(this.props.id);\n  }\n\n  onClick = () => {\n    if (this.props.newIconToTop) this.props.newIconToTop();\n    if (this.props.onClickMobile) {\n      this.props.onClickMobile();\n      console.log(\"mob cl\")\n      this.onDblClick();\n    } \n  }\n\n  onHide = () => {\n    this.setState({ isHidden: true });\n  }\n\n\n\n  render() {\n\n    const { ui } = this.props;\n    if (ui.isMobile)\n      return this.getMobileDesktop();\n    return this.getDesktopDesktop();\n\n  }\n\n  getDesktopDesktop = () => {\n    const { controlledPosition } = this.state;\n    // const parser = new DOMParser();\n    // var title = this.props.title;\n\n    var classn = \"DesktopIcon\";\n    if (this.props.className) classn += \" \" + this.props.className;\n\n\n\n    // position = {...} makes it have a specific location. when you want direct control.\n    // let pos = this.state.controlledPosition;\n    // let frameH = this.toolBarH + (this.state.isMinimized ? 0 : this.props.height);\n    // so if we make pos null, it stays where it is dragged to\n    // however, it doesn't update when the page width / height changes\n    // if we let pos be equal to props.px/ props.py, it changes location\n    const bounded = this.props.bounded ? \".App-Content\" : null;\n    return (\n      <div className=\"DesktopDiv\" >\n        <Draggable\n          axis=\"both\"\n          handle={\".DesktopIcon\"}\n          defaultPosition={{ x: this.props.x, y: this.props.y }}\n          position={controlledPosition}\n          grid={[1, 1]}\n          scale={1}\n          bounds={bounded}\n          cancel=\".close, .minimize, .zoom\"\n          onStart={this.handleStart}\n          onDrag={this.onControlledDrag}\n          onStop={this.handleStop}\n          nodeRef={this.wrapper}\n        >\n          <div ref={this.wrapper} onDoubleClick={this.onDblClick} onClick={this.onClick} className={classn} style={{ width: this.props.width + \"px\", height: this.props.height + \"px\", zIndex: this.props.zIcon ? this.props.zIcon : 0 }} >\n            <div className=\"content\">\n              {this.props.content}\n            </div>\n            <div className=\"desktop-text\">{this.props.title}</div>\n          </div>\n        </Draggable>\n        {this.props.disableWindow ? null : this.getFrame()}\n      </div>\n    );\n  }\n\n  getMobileDesktop = () => {\n\n    // const parser = new DOMParser();\n    // var title = this.props.title;\n\n    // var classn = \"DesktopIcon DesktopIconMobile\";\n    // if (this.props.className) classn += \" \" + this.props.className;\n\n    return (\n      <div className=\"DesktopDivMobile\"\n        onClick={this.onDblClick}\n        style={{\n          top: this.props.y,\n          left: this.props.x,\n          width: this.props.width,\n          height: this.props.height,\n          zIndex: this.props.zIcon ? this.props.zIcon : 0\n        }} >\n        <div className=\"content\">\n          {this.props.content}\n        </div>\n        <div className=\"desktop-text\">{this.props.title}</div>\n      </div>\n    );\n\n  }\n\n  getFrame() {\n    const { isHidden } = this.state;\n\n    return (\n      <Frame className=\"FolderOpenFrame\" title={this.props.title} isHidden={isHidden} onHide={this.onHide.bind(this)} x={this.props.box.x} y={this.props.box.y} z={this.props.zFrame ? this.props.zFrame : 0} width={this.props.box.w} height={this.props.box.h} content={this.props.frameContent} newFrameToTop={this.props.newFrameToTop} />\n\n    )\n  }\n\n}\n\n\n\n\nconst mapStateToProps = (state) => {\n  return {\n    ui: state.ui,\n  }\n}\n\nconst mapDispatchToProps = () => {\n  return {\n  }\n}\n\n\nexport default connect(mapStateToProps, mapDispatchToProps())(DesktopIcon);\n\n","import React from 'react';\nimport { faRetweet } from \"@fortawesome/free-solid-svg-icons\";\nimport { faComment, faHeart } from \"@fortawesome/free-regular-svg-icons\";\n// import { faTwitter } from \"@fortawesome/free-brands-svg-icons\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\n\nfunction TweetContent(props) {\n    if (!props.tweet && !props.confession) {\n        return <div></div>\n    }\n    else if (!props.tweet) {\n        return <div>{props.confession.txt}</div>\n    }\n\n\n    const {text, username, url, likes, rts, replies, time} = props.tweet;\n    // const tweetUri = `twitter.com/${username}/status/${tweetID}`;\n    const profileUrl = \"https://twitter.com/\" + username;\n    // const tweetUriA = <a href={\"https://\"+tweetUri} target=\"_blank\" rel=\"noopener noreferrer\">{tweetUri.substring(0, 15) + \"...\"}</a>;\n      var name = props.tweet.name;\n      if (name.length > 24) name = name.substring(0, 24) + \"...\";\n      return (\n        <div className=\"tweet\">\n          <div className=\"tweet-top\">\n            <div className=\"tweeter-icon\" style={{backgroundImage: `url(${url})`}}><div className=\"inner\"></div></div>\n            <div className=\"tweeter\">\n              <div className=\"person\"><a href={profileUrl} target=\"_blank\" rel=\"noopener noreferrer\">{name}</a></div>\n              <div className=\"tweet-handle\"><a href={profileUrl} target=\"_blank\" rel=\"noopener noreferrer\">@{username}</a></div>\n            </div>\n            <div className=\"tweet-time\"> {time}</div>\n          </div>\n          <div className=\"tweet-content\">{text}</div>\n          <div><hr /></div>\n          <div className=\"tweet-metrics\">\n            <div className=\"comments\"><FontAwesomeIcon icon={faComment} /><span>{likes}</span></div>\n            <div className=\"retweets\"><FontAwesomeIcon icon={faRetweet} /><span>{rts}</span></div>\n            <div className=\"likes\"><FontAwesomeIcon icon={faHeart} /><span>{replies}</span></div>\n          </div>\n        </div>\n      )\n  }\n\n  export default TweetContent;\n","import React from 'react';\nimport './Confession.css';\nimport { getRandom, getRandomNum } from '../../../../shared/Helpers/Helpers';\nimport DesktopIcon from '../../../../shared/DesktopIcon/DesktopIcon';\nimport TweetContent from './Tweet/TweetContent';\n// import txt from '../assets/Canned/txt-ligher.png';\nimport { connect } from 'react-redux';\n\nfunction Confession(props) {\n  const { i, ui, time, confession, tweet, onDblClick, zIcon, zFrame, newFrameToTop, newIconToTop, setTweetModal } = props;\n  const x = getRandomNum(i + 30) * (window.innerWidth - 100);\n  const y = 15 * Math.sin(time / 400 + x / 100) + getRandomNum(i + 3) * (window.innerHeight - 200);\n  const box = { x: 100 + i * 20, y: 100 + i * 20, w: 400,h: undefined };\n  box.y = 15 * Math.sin(time / 400 + box.x / 100) + box.y;\n\n  if (ui.isMobile) {\n    return (\n      <DesktopIcon key={i} title={\"#confession\"} isMobile={true} onDblClick={() => setTweetModal(tweet, confession)} x={x} y={y} zIcon={zIcon} zFrame={zFrame} box={box}\n        content={\n          <img src={window.AWS + \"/waveforms/txt-ligher.png\"} width={80} height={80} />\n        }\n      />\n    )\n  }\n\n  return (\n    <DesktopIcon key={i} title={\"#confession\"} onDblClick={() => onDblClick(i + 1)} newFrameToTop={() => { newFrameToTop(i) }} newIconToTop={() => { newIconToTop(i) }} x={x} y={y} zIcon={zIcon} zFrame={zFrame} box={box}\n      content={\n        <img src={window.AWS + \"/waveforms/txt-ligher.png\"} width={80} height={80} />\n      }\n      frameContent={\n        <div className=\"confession-txt\"><TweetContent confession={confession} tweet={tweet} /></div>\n      }\n    />\n  )\n}\n\n\nconst mapStateToProps = (state) => {\n  return {\n    ui: state.ui\n  }\n}\n\nconst mapDispatchToProps = () => {\n  return {\n    // doneLoadingApp\n  }\n}\n\n\nexport default connect(mapStateToProps, mapDispatchToProps())(Confession);\n\n","\nimport React from 'react';\nimport CenterModal from '../../../../../shared/CenterModal/CenterModal';\nimport TweetContent from './TweetContent';\nimport './TweetModal.css';\n\nexport default class TweetModal extends React.Component {\n    \n    // constructor(props) {\n    //     super(props);\n    // }\n\n\n    render() {\n        const { isHidden, onHide, ui, confession, tweet } = this.props;\n        \n        return (\n            <CenterModal\n                title=\"\"\n                z={1000}\n                isHidden={isHidden}\n                onHide={onHide}\n                ui={ui}\n                classN=\"tweet-modal\"\n                isRelative={true}\n                content={<TweetContent confession={confession} tweet={tweet} />}\n                buttons={this.getButtons()}\n            />\n        );\n    }\n\n\n    getButtons = () => {\n        return (\n          <div className=\"center-buttons\">\n            <button className=\"standardButton confess-button-primary\" onClick={this.props.onHide}>close</button>\n          </div>\n        )\n        // return null;\n    }\n}","import React from 'react';\nimport { constrain, mapVal } from '../../../shared/Helpers/Helpers';\n\nconst processString = require('react-process-string');\n\n\nexport function getNumConfessions() {\n  let w = 0;\n  if (window.innerWidth && window.innerWidth > 0)\n    w = window.innerWidth;\n  else\n    w = 1400;\n  let numConfessions = Math.floor(mapVal(w, 1400, 2500, 10, 18));\n  numConfessions = constrain(numConfessions, 5, 18);\n  return numConfessions;\n}\n\nexport function initConfessions(num) {\n  let confessions = [];\n  let confessionsTxt = [\n    { txt: \"I am not thinking about my partner during sex.\" },\n    { txt: \"I said I love you but I didn't mean it.\" },\n    { txt: \"I took a macbook mouse from work\" },\n    { txt: \"I cursed at God because honestly, what is going on here.\" },\n    { txt: \"I told my neighbors they were little brats\" },\n    { txt: \"I said I hoped my boss would burn in hell.\" },\n    { txt: \"When I was diagnosed I was angry. It just felt so unfair. I blamed my husband, my myself, my kids. But most of all, I blamed God.\" },\n    { txt: \"No body tells you what's right. I mean, I guess God is supposed to do that, but I've lost hope that anyone's on the receiving end. If he'd just give me a sign or something maybe I wouldn't have so many doubts.\" }\n  ];\n  for (let i = 0; i < num; i++) {\n    confessions[i] = confessionsTxt[i % confessionsTxt.length];\n  }\n  return confessions;\n}\n\nexport function initZIndicesIcons(num) {\n  const zind = [];\n  for (let i = 0; i < num; i++) {\n    zind[i] = i; // icons\n  }\n  return zind;\n}\n\nexport function initZIndicesFrames(num) {\n  const zind = [];\n  for (let i = 0; i < num; i++) {\n    zind[i] = i + 100; // icons\n  }\n  return zind;\n}\n\nexport function getTweetContent(string) {\n  let config = [\n    {\n      // / delimits start/end\n      // parentheses creates capturing group\n      // [has any of these symbols]\n\n      // match @ []\n      // \\escape\n      // second set of parens apparently stops it. added |\\: to get retweet colon\n      regex: /\\@([a-z0-9_\\-]+?)( |\\,|$|\\.|\\:)/gim, //regex to match a username\n      fn: (key, result) => {\n        let username = result[0];\n        const profileUrl = \"https://twitter.com/\" + username.substring(1, username.length);\n        return <a key={key} href={profileUrl} target=\"_blank\" rel=\"noopener noreferrer\">{username}</a>;\n      }\n    },\n    {\n      regex: /(http|https):\\/\\/(\\S+)\\.([a-z]{2,}?)(.*?)( |\\,|$|\\.)/gim,\n      fn: (key, result) => <span key={key}>\n        <a target=\"_blank\" rel=\"noopener noreferrer\" href={`${result[1]}://${result[2]}.${result[3]}${result[4]}`}>{result[2]}.{result[3]}{result[4]}</a>{result[5]}\n      </span>\n    },\n    {\n      regex: /\\#([a-z0-9_\\-]+?)( |\\,|$|\\.|\\:)/gim, //regex to match a hashtag\n      fn: (key, result) => {\n        let hashtag = result[0];\n        const hashtagUrl = `https://twitter.com/hashtag/${hashtag.substring(1, hashtag.length)}?src=hashtag_click`;\n        return <a key={key} href={hashtagUrl} target=\"_blank\" rel=\"noopener noreferrer\">{hashtag}</a>;\n      }\n    },\n    {\n      regex: /\\&amp/,\n      fn: (key, result) => {\n        let amp = result;\n        return \"&\";\n      }\n    }\n  ];\n\n  let processed = processString(config)(string);\n  return processed;\n}\n\n\nfunction getMostEngagement(mode, tweets) {\n  let max = 0;\n  let id = 0;\n  let maxId = 0;\n\n  for (const tweet of tweets) {\n    let likes = tweet.public_metrics.like_count;\n    let rts = tweet.public_metrics.retweet_count;\n    let replies = tweet.public_metrics.reply_count;\n    let metrics = [likes, rts, replies];\n\n    if (metrics[mode] > max) {\n      max = likes;\n      maxId = id;\n    }\n    id++;\n  }\n  return maxId;\n}\n\n\n\nfunction getTweetTime(tweet_created_at) {\n  // const dateToFormat = new Date('1976-04-19T12:59-0500');\n  // const created_time = isoStringToDate(tweet_created_at);\n  // var timeDiff = new Date() - created_time;\n  // timeDiff /= 1000;\n  // var seconds = Math.round(timeDiff);\n  // console.log(created_time, timeDiff, seconds);\n  // return seconds + \"s\";\n  return \"5s\";\n}\n\nfunction isoStringToDate(s) {\n  var b = s.split(/[-t:+]/ig);\n  return new Date(Date.UTC(b[0], --b[1], b[2], b[3], b[4], b[5]));\n}\n","import React from 'react';\nimport Frame from '../../shared/Frame/Frame';\nimport './Xfinity.css';\n\n// store\nimport { connect } from 'react-redux';\nimport { setSketchMusic } from '../../../store/actions/music';\n\n// helpers\nimport { mapVal, constrain } from '../../shared/Helpers/Helpers';\n\n// Babylon\nimport { AnaglyphUniversalCamera, HemisphericLight, Vector3, Vector2, StandardMaterial, Color4, Mesh, Texture } from 'babylonjs';\nimport BabylonScene from '../../shared/Babylon.jsx';\nimport { WaterMaterial } from 'babylonjs-materials';\n\nvar camera, water, waterMesh;\n\nclass Xfinity extends React.Component {\n\n  constructor(props) {\n    super(props);\n\n    this.numFrames = 15;\n    this.numImages = 51;\n\n    let maxF = 1.4;\n    let factor = mapVal(window.innerWidth, 1400, 2500, 1, maxF);\n    factor = constrain(factor, 1, maxF);\n    this.imgW = Math.floor(450 * factor);\n    this.imgH = Math.floor(254 * factor);\n\n    this.state = {\n      deltaX: 0,\n      deltaY: 0,\n      startX: (window.innerWidth - this.numFrames * 15 - this.imgW * 1 - 50) / 2 - 80,\n      startY: (window.innerHeight - this.numFrames * 15 + 50) / 2,\n      imageIndex: 0,\n      touchS: 0,\n      mapDivs: [],\n      currentMobileDiv: 0\n    }\n\n    this.divRef = React.createRef();\n    this.preventDefault = e => e.preventDefault()\n\n  }\n\n\n  componentDidMount() {\n    this.divRef.current.addEventListener('wheel', this.preventDefault);\n    this.setImages();\n\n    this.props.setSketchMusic(\"xfinity\", 0, .3);\n  }\n\n  componentWillUnmount() {\n    this.divRef.current.removeEventListener('wheel', this.preventDefault);\n  }\n\n\n  setImages = () => {\n    const { imageIndex } = this.state;\n    const mapDivs = [...this.state.mapDivs];\n    for (let i = 0; i < this.numFrames; i++) {\n      mapDivs[i] = this.mod((imageIndex + i * 2) * this.imgW, this.imgW * this.numImages);\n    }\n    this.setState({ mapDivs });\n  }\n\n  wheel = (e) => {\n    var deltaY = this.state.deltaY + e.deltaY;\n\n    var imageIndex = deltaY / 40;\n    imageIndex = Math.floor(imageIndex);\n    imageIndex = this.mod(imageIndex, this.numImages);\n\n    const mapDivs = [...this.state.mapDivs];\n    for (let i = 0; i < this.numFrames; i++) {\n      mapDivs[i] = this.mod((imageIndex + i * 2) * this.imgW, this.imgW * this.numImages);\n    }\n\n    this.setState({ deltaY, imageIndex, mapDivs });\n\n    return false;\n  }\n\n  mod(a, b) {\n    return (((a % b) + b) % b);\n  }\n\n  onSceneReady(scene) {\n    // const camera = new UniversalCamera(\"UniversalCamera\", new Vector3(0, 1, -25), scene);\n    camera = new AnaglyphUniversalCamera(\"af_cam\", new Vector3(0, 8, -5), 0.033, scene);\n    scene.clearColor = new Color4(0, 0, 0, 0);\n    camera.setTarget(new Vector3(11, 3, -2));\n\n    const canvas = scene.getEngine().getRenderingCanvas();\n    // camera.attachControl(canvas, true);\n\n    const light = new HemisphericLight(\"light1\", new Vector3(0, 1, 0), scene);\n    light.intensity = 0.7;\n\n\n\n    // Water\n    waterMesh = Mesh.CreateGround(\"waterMesh\", 512, 512, 32, scene, false);\n    waterMesh.position.y = -9;\n    water = new WaterMaterial(\"water\", scene, new Vector2(1024, 1024));\n    water.backFaceCulling = true;\n    water.bumpTexture = new Texture(window.AWS + \"/shared/waterbump.png\", scene);\n    water.windForce = -5;\n    water.waveHeight = 0.8;\n    water.bumpHeight = 0.3;\n    water.waveLength = 0.3;\n    water.colorBlendFactor = 0;\n    waterMesh.material = water;\n\n    // Ground\n    var groundTexture = new Texture(window.AWS + \"/shared/sand2.jpg\", scene);\n    groundTexture.vScale = groundTexture.uScale = 10;\n    var groundMaterial = new StandardMaterial(\"groundMaterial\", scene);\n    groundMaterial.diffuseTexture = groundTexture;\n    var ground = Mesh.CreateGround(\"ground\", 512, 512, 32, scene, false);\n    ground.position.y = -10;\n    ground.material = groundMaterial;\n    water.addToRenderList(ground);\n\n  }\n\n\n  onRender(scene) {\n    // let divFps = document.getElementById(\"fps\");\n    // if (divFps) divFps.innerHTML = scene.getEngine().getFps().toFixed() + \" fps\";\n  }\n\n  getMouseWheel = (mouseX, mouseY, mouseW = 80) => {\n    return (\n      <Frame\n        // windowStyle={{ boxShadow: \"none\" }}\n        content={\n          <div className=\"mouse\">\n            <div className=\"mouse-icon\">\n              <span className=\"mouse-wheel\"></span>\n            </div>\n          </div>\n        }\n        width={mouseW}\n        height={mouseW}\n        bounded={true}\n        x={mouseX}\n        y={mouseY}\n      // z={1}\n      />\n    )\n  }\n\n  getCascadeDivs = () => {\n    return (\n      this.state.mapDivs.map((balloonX, i) => {\n        const opac = (i + 1) * (1 / this.numFrames);\n        const val = this.state.imageIndex * this.imgW;\n        return (\n\n          <Frame\n            windowStyle={{ opacity: opac }}\n            content={\n              <div className=\"balloon\" style={{\n                backgroundPosition: `${val}px 0px`,\n                width: this.imgW,\n                height: this.imgH,\n                backgroundSize: `${this.imgW * this.numImages}px ${this.imgH}px`\n              }} />\n            }\n            key={i}\n            width={this.imgW}\n            height={this.imgH}\n            isControlled={false}\n            x={this.state.startX + i * 15}\n            y={this.state.startY - i * 15}\n            z={1}\n          />\n\n        );\n\n      })\n    )\n  }\n\n  getDesktopDivs = () => {\n    let mouseW = 80;\n    let mouseX = this.state.startX + this.imgW + (this.state.mapDivs.length * 15) + 80;\n    let mouseY = this.state.startY - (this.state.mapDivs.length * 15) + (this.imgH - mouseW) / 2 + this.props.ui.toolbarH;\n    return (\n      <React.Fragment>\n        {this.getCascadeDivs()}\n        {this.getMouseWheel(mouseX, mouseY, mouseW)}\n      </React.Fragment>\n\n    )\n  }\n\n  getMobileDivs = () => {\n    const { ui } = this.props;\n    let spacing = 15;\n    let mouseW = 80;\n\n    if (ui.orientation === \"portrait\") {\n\n      var w = Math.min(this.props.ui.contentW - spacing * 2, this.imgW);\n      var h = w / this.imgW * this.imgH;\n      var x = (ui.contentW - w) / 2 - 2;\n      var y = mapVal(ui.contentH, 568, 1300, 80, 240);\n      var mouseY = y + h + ui.toolbarH + 50;\n      var mouseX = (ui.contentW - mouseW) / 2;\n    } else {\n\n      let availW = ui.contentW - spacing * 3 - mouseW;\n      let availH = ui.contentH - spacing * 2 - ui.toolbarH;\n      let asp = availW / availH;\n      let imgAsp = this.imgW / this.imgH;\n      if (imgAsp > asp) {\n        var w = Math.min(availW, this.imgW);\n        var h = w / this.imgW * this.imgH;\n      }\n      else {\n        var h = Math.min(availH, this.imgH);\n        var w = h / this.imgH * this.imgW;\n      }\n      var x = (ui.contentW - mouseW - w) / 3;\n      var y = (ui.contentH - ui.toolbarH - h) / 2;\n      var mouseX = w + x + spacing;\n      var mouseY = (ui.contentH - ui.toolbarH - mouseW) / 2;\n    }\n\n    const val = this.state.imageIndex * this.imgW;\n    // let per = (w/this.imgW*100) + \"%\";\n    return (\n      <React.Fragment>\n\n\n        <Frame\n          windowStyle={{ opacity: 1 }}\n          content={\n            <div className=\"balloon\"\n              style={{\n                backgroundPosition: `${val}px 0px`,\n                width: w,\n                height: h\n              }}\n            ></div>\n          }\n          width={w}\n          height={h}\n          isControlled={true}\n          bounded={true}\n          x={x}\n          y={y}\n        // z={1}\n        />\n        <div className=\"backgroundCover\"\n          style={{ touchAction: \"none\" }}\n          onTouchStart={(e) => this.touchStart(e)}\n          onTouchMove={(e) => this.touchMove(e)}\n          onTouchEnd={(e) => this.touchEnd(e)}\n        />\n        {this.getMouseWheel(mouseX, mouseY, mouseW)}\n        <div className=\"backgroundCover\"\n          style={{ touchAction: \"none\" }}\n          onTouchStart={(e) => this.touchStart(e)}\n          onTouchMove={(e) => this.touchMove(e)}\n          onTouchEnd={(e) => this.touchEnd(e)}\n        />\n      </React.Fragment>\n    )\n  }\n\n  touchStart = (e) => {\n    // console.log(e.touches[0].clientY);\n    this.setState({ touchS: e.touches[0].clientY })\n  }\n\n  touchMove = (e) => {\n    var deltaY = e.touches[0].clientY + this.state.touchS;\n\n    var imageIndex = deltaY / 10;\n    imageIndex = Math.floor(imageIndex);\n    imageIndex = this.mod(imageIndex, this.numImages);\n    this.setState({ imageIndex });\n  }\n\n  touchEnd = (e) => {\n\n  }\n\n  render() {\n\n\n    return (\n      <div className=\"Xfinity Sketch\"\n        ref={this.divRef}\n        onWheel={(e) => this.wheel(e)}\n      >\n\n\n        { <BabylonScene className=\"noSelect backgroundCover\" antialias onSceneReady={this.onSceneReady} onRender={this.onRender} id='babylon-canvas' />}\n\n        {this.props.ui.isMobile ? this.getMobileDivs() : this.getDesktopDivs()}\n\n\n        {/*   <DesktopIcon x={100} y={100} width={60} height={90} title=\"dip\" content={\n      <img src={folder} width={60} height={60} />\n      }\n      />\n      <DesktopIcon x={100} y={220} width={60} height={90} title=\"dive\" content={\n      <img src={folder} width={60} height={60} />\n      }\n      />\n\n      <DesktopIcon x={100} y={340} width={60} height={90} title=\"descend\" content={\n      <img src={folder} width={60} height={60} />\n      }\n      />*/}\n      </div>\n    );\n  }\n\n}\n\nconst mapStateToProps = (state) => {\n  return {\n    ui: state.ui\n  }\n}\n\nconst mapDispatchToProps = () => {\n  return {\n    // doneLoadingApp\n    setSketchMusic\n  }\n}\n\n\nexport default connect(mapStateToProps, mapDispatchToProps())(Xfinity);\n\n","import React from 'react';\nimport { connect } from 'react-redux';\nimport './Confessional.css';\n\n// components\nimport Confession from './components/ConfessionIcon/Confession';\nimport TweetModal from './components/ConfessionIcon/Tweet/TweetModal';\n\n// helpers\nimport { getNewZIndices } from '../../shared/Helpers/Helpers';\nimport { getNumConfessions, getTweetContent, initConfessions, initZIndicesIcons, initZIndicesFrames } from './components/Helpers';\n\nclass Confessions extends React.Component {\n\n  constructor(props) {\n    super(props);\n\n    const numConfessions = getNumConfessions();\n    \n    this.state = {\n      confessions: initConfessions(numConfessions),\n      tweets: [],\n      time: 0,\n      zIndicesIcons: initZIndicesIcons(numConfessions),\n      zIndicesFrames: initZIndicesFrames(numConfessions),\n      modalTweetHidden: true,\n      modalTweet: null,\n      modalTweetConfession: null\n    };\n\n\n    this.fetchTweets = this.fetchTweets.bind(this);\n    this.addTweet = this.addTweet.bind(this);\n  }\n\n\n  componentDidMount() {\n    this.interval = setInterval(() => this.setState({ time: Date.now() }), 30);\n    this.fetchTweets();\n    // this.props.userSetRoom(\"confessions\");\n  }\n\n  componentWillUnmount() {\n    clearInterval(this.interval);\n    // this.props.userLeaveRoom(\"confessions\");\n  }\n\n\n  async fetchTweets() {\n    // const query = encodeURI(\"\\#confession\");\n    // console.log(\"WERERE\", query);\n    const url = `/api/get/tweets/%23confession`;\n    const response = await fetch(url);\n    const initialRes = await response.json();\n\n    if (initialRes.tweets.data) {\n      // const mode = Math.floor(Math.random()*3);\n      // let id = 0;//getMostEngagement(mode, initialRes.tweets.data); //Math.floor(Math.random()*10);\n      // const tweet = initialRes.tweets.data[id];\n      // const user = initialRes.tweets.includes.users[id];\n      // this.addTweet(tweet, user);\n      let i = 0;\n      const users = initialRes.tweets.includes.users;\n\n      // console.log(\"USERS\", users);\n      for (const tweet of initialRes.tweets.data) {\n        const id = tweet.author_id;\n        const findUserByID = users.filter(user => {\n          return user.id == id\n        })\n        if (findUserByID[0] && tweet) this.addTweet(i++, tweet, findUserByID[0]);\n      }\n\n    }\n    else {\n      // console.log(\"NO TWEETS\");\n    }\n\n    // console.log(\"DONE\", this.state.tweets);\n  }\n\n\n\n\n  addTweet = (i, tweetObj, user) => {\n    // console.log(\"TWEET\", tweetObj);\n    // console.log(\"USER\", user);\n\n    let tweets = [...this.state.tweets];\n    const tweet = {};\n    tweet.text = getTweetContent(tweetObj.text);\n    tweet.time = \"5s\"; //getTweetTime(tweetObj.created_at);\n    tweet.tweetID = tweetObj.id;\n    tweet.name = user.name;\n    tweet.url = user.profile_image_url;\n    tweet.username = user.username;\n    tweet.likes = tweetObj.public_metrics.like_count;\n    tweet.rts = tweetObj.public_metrics.retweet_count;\n    tweet.replies = tweetObj.public_metrics.reply_count;\n    if (i === 0) tweets[0] = tweet;\n    else tweets.push(tweet);\n    this.setState({ tweets });\n  }\n\n\n\n  newIconToTop = (id) => {\n    // console.log(\"id\", id)\n    const newZ = getNewZIndices(id, this.state.zIndicesIcons);\n    this.setState({ zIndicesIcons: newZ });\n    // console.log(\"ZZZ\", this.state.zIndices);\n  }\n\n\n  newFrameToTop = (id) => {\n    const newZ = getNewZIndices(id, this.state.zIndicesFrames);\n    this.setState({ zIndicesFrames: newZ });\n    // console.log(\"ZZZ\", this.state.zIndices);\n  }\n\n  onDblClick = (id) => {\n    console.log(id);\n    this.newFrameToTop(id);\n  }\n\n\n  setTweetModal = (tweet, confession) => {\n    this.setState({ modalTweetHidden: false, modalTweet: tweet, modalTweetConfession: confession })\n  }\n\n  hideTweetModal = () => {\n    this.setState({ modalTweetHidden: true });\n  }\n\n  render() {\n    const { confessions, tweets, time, zIndicesIcons, zIndicesFrames } = this.state;\n\n\n    return (\n      <div className=\"Confessional Sketch\">\n        {\n          confessions.map((confession, i) => {\n            const props = {\n              zIcon: zIndicesIcons[i],\n              zFrame: zIndicesFrames[i],\n              time: time,\n              tweet: tweets[i],\n              confession: confessions[i],\n              setTweetModal: this.setTweetModal,\n              onDblClick: this.onDblClick,\n              newFrameToTop: this.newFrameToTop,\n              newIconToTop: this.newIconToTop\n            }\n            // if (this.props.ui.width > 500)\n              return (<Confession key={i} i={i}  {...props} />)\n            // else if (i < 5)\n            //   return (<Confession key={i} i={i}  {...props} />)\n            return null;\n          })\n        }\n        {\n          this.props.ui.isMobile ?\n            <TweetModal\n              isHidden={this.state.modalTweetHidden}\n              onHide={this.hideTweetModal}\n              tweet={this.state.modalTweet}\n              confession={this.state.modalTweetConfession}\n              ui={this.props.ui}\n            />\n            : null\n        }\n      </div>\n    );\n  }\n}\n\nconst mapStateToProps = (state) => {\n  return {\n    ui: state.ui\n  }\n}\n\nconst mapDispatchToProps = () => {\n  return {\n    // doneLoadingApp\n  }\n}\n\n\nexport default connect(mapStateToProps, mapDispatchToProps())(Confessions);\n","import { StandardMaterial, Vector3, Mesh, Texture } from 'babylonjs';\n\nexport default class Emoji {\n\n  constructor(scene) {\n    this.r = Math.random()*8;\n    this.ang = Math.random() * 2 * Math.PI;\n\n    const imgs = [\"wave\", \"angry\", \"angry2\", \"tp\", \"flag\", \"rabbit\", \"ok\"];\n    this.index = 0;\n    let rand = Math.random();\n\n    \n    if (rand < .1) this.index = 1;\n    else if (rand < .2) this.index = 2;\n    else if (rand < .3) this.index = 3;\n    else if (rand < .4) this.index = 4;\n    else if (rand < .45) this.index = 5;\n    else if (rand < .6) this.index = 6;\n\n    var emojiTexture = new Texture(`${window.AWS}/vorTech/emojis/${imgs[this.index]}.png`, scene);\n    // emojiTexture.vScale = emojiTexture.uScale = 10;\n    var emojiMaterial = new StandardMaterial(\"emojiMaterial\", scene);\n    emojiMaterial.diffuseTexture = emojiTexture;\n    emojiMaterial.diffuseTexture.hasAlpha = true;\n    this.emoji = Mesh.CreateGround(\"wave\", 1.2, 1.2, 1, scene, false);\n    this.emoji.rotation.x = -Math.PI/2;\n    this.emoji.material = emojiMaterial;\n    this.emoji.setEnabled(false);\n    // this.emoji = MeshBuilder.CreateSphere(\"sphere\", {}, scene);\n  }\n\n  startFlush() {\n    this.r = Math.random()*8+7;\n    this.ang = Math.random() * 2 * Math.PI;\n    this.emoji.setEnabled(true);\n  }\n\n  hide() {\n    this.emoji.setEnabled(false);\n  }\n\n  update(isStopping=false) {\n    if (this.r < 2 && isStopping) {\n      this.emoji.setEnabled(false);\n    } else if (this.r < 2) {\n      this.r = 8;//Math.random()*200+window.innerWidth/2;\n    }\n    else {\n\n      this.r -= .01;\n      // let speed = (9-this.r)*.01;\n      if (this.r > 6) this.ang -= .01;\n      else if (this.r > 5) this.ang -= .02;\n      else if (this.r > 4) this.ang -= .03;\n      else if (this.r > 3) this.ang -= .04;\n      else this.ang -= .08;\n\n      let sc = (this.r)/5.5;\n      if (sc > 1) sc = 1;\n      this.emoji.scaling = new Vector3(sc, sc, sc);\n      // this.ang -= speed;\n\n      this.emoji.position.y = this.r*Math.cos(this.ang)//+window.innerHeight/2;\n      this.emoji.position.x = this.r*Math.sin(this.ang)//+window.innerWidth/2;\n\n      this.emoji.position.z = ((8-this.r)*6);\n    }\n\n  }\n}\n","import React from 'react';\nimport Frame from '../../shared/Frame/Frame';\nimport './Flush.css';\n\nimport { connect } from 'react-redux';\nimport { setSketchMusic } from '../../../store/actions/music';\n\n// Babylon\nimport { AnaglyphUniversalCamera, HemisphericLight, Vector3, StandardMaterial, VideoTexture, Color4, Mesh } from 'babylonjs';\nimport BabylonScene from '../../shared/Babylon.jsx';\nimport Emoji from './Emoji';\n\n// helpers\nimport { mapVal, constrain } from '../../shared/Helpers/Helpers';\n\nclass Flush extends React.Component {\n  // https://codepen.io/JohJakob/pen/YPxgwo\n  constructor(props) {\n    super(props);\n\n    // this.imgW = 350;\n\n    this.state = {\n      handleDown: false,\n      isFlushing: true,\n      isStopping: false\n    }\n\n  }\n\n\n  componentDidMount() {\n    this.props.setSketchMusic(\"flush\", 0, .2);\n  }\n\n  componentWillUnmount() {\n\n  }\n\n\n  mod(a, b) {\n    return (((a % b) + b) % b);\n  }\n\n\n  onSceneReady = (scene) => {\n    // const camera = new UniversalCamera(\"UniversalCamera\", new Vector3(0, 1, -25), scene);\n    this.scene = scene;\n    this.camera = new AnaglyphUniversalCamera(\"af_cam\", new Vector3(0, 0, -5), 0.033, this.scene);\n\n    this.scene.clearColor = new Color4(0, 0, 0, 0);\n    this.camera.setTarget(new Vector3(0, 0, 10));\n\n    // const canvas = this.scene.getEngine().getRenderingCanvas();\n    // this.camera.attachControl(canvas, true);\n\n    const light = new HemisphericLight(\"light1\", new Vector3(0, 0, -1), this.scene);\n    light.intensity = .5;\n\n\n\n    this.emojis = [];\n    for (let i = 0; i < 150; i++) {\n      this.emojis[i] = new Emoji(this.scene);\n    }\n\n\n    var mat = new StandardMaterial(\"groundMaterial\", this.scene);\n    this.vidTex = new VideoTexture(\"video\", window.AWS + \"/vorTech/whirl2.mp4\", this.scene, true);\n    this.vidTex.video.volume = 0;\n    // this.vidTex.video.play(); // is this needed?\n    mat.diffuseTexture = this.vidTex;\n\n    var plane = Mesh.CreateGround(\"plane\", 512, 512, 32, this.scene, false);\n    // plane.position.y = -10;\n    plane.position.z = 180;\n    plane.rotation.x = -Math.PI / 2;\n    plane.material = mat;\n\n    this.lastVolume = 0;\n  }\n\n\n  onRender = (scene) => {\n    for (const emoji of this.emojis) {\n      // if (isFlushing)\n      emoji.update(this.state.isStopping);\n      // else emoji.hide();\n    }\n    if (this.props.music.volume !== this.lastVolume) {\n      this.vidTex.video.volume = 0; //this.props.music.volume * .2;\n      this.lastVolume = 0; //this.props.music.volume;\n    }\n\n    // for mobile??\n    if (this.vidTex.video && !this.isVideoPlaying()) {\n      this.vidTex.video.play();\n    }\n  }\n\n  isVideoPlaying = () => {\n    let vid = this.vidTex.video;\n    return !!(vid.currentTime > 0 && !vid.paused && !vid.ended && vid.readyState > 2);\n  }\n\n  flushToilet = () => {\n    // this.setState({isFlushing: true});\n    if (this.vidTex.video && !this.isVideoPlaying()) {\n      this.vidTex.video.play();\n    }\n    const isFlushing = true;\n    const handleDown = true;\n    const isStopping = false;\n    this.setState({ isFlushing, handleDown, isStopping })\n    for (const emoji of this.emojis) {\n      // if (isFlushing)\n      emoji.startFlush();\n      // else emoji.hide();\n    }\n    setTimeout(this.stopFlush, 5000);\n    setTimeout(this.handleUp, 1000);\n  }\n\n  stopFlush = () => {\n    const isFlushing = false;\n    const isStopping = true;\n    this.setState({ isFlushing, isStopping })\n    // this.setState({isFlushing: false});\n  }\n\n  handleUp = () => {\n    const handleDown = false;\n    this.setState({ handleDown })\n  }\n\n  render() {\n\n    const deg = this.state.handleDown ? \"rotate(-20deg)\" : \"rotate(0deg)\";\n    let maxF = 1.3;\n    let factor = mapVal(this.props.ui.contentW, 1400, 2500, 1, maxF);\n    factor = constrain(factor, 1, maxF);\n    const w = Math.floor(150 * factor);\n    const h = Math.floor(60 * factor);\n    return (\n      <div className=\"Flush Sketch\" ref={this.divRef} >\n\n        { <BabylonScene className=\"noSelect\" antialias onSceneReady={this.onSceneReady} onRender={this.onRender} id='babylon-canvas' />}\n        <Frame title=\"\"\n          x={100}\n          y={100}\n          width={w}\n          height={h}\n          windowStyle={{ background: \"transparent\" }}\n          content={\n            <div className=\"flush\">\n              <button onClick={this.flushToilet}\n                style={{ transform: deg, width: w, height: h }}>\n                <img\n                  alt=\"toilet flush handle\"\n                  src={window.AWS + \"/vorTech/flush2.png\"}\n                />\n              </button>\n            </div>\n          }\n        />\n      </div>\n    );\n  }\n\n}\n\n\nconst mapStateToProps = (state) => {\n  return {\n    ui: state.ui,\n    music: state.music\n  }\n}\n\nconst mapDispatchToProps = () => {\n  return {\n    // doneLoadingApp\n    setSketchMusic\n  }\n}\n\n\nexport default connect(mapStateToProps, mapDispatchToProps())(Flush);\n\n","\n\nexport const labels = [\n  [\n    // foyer\n    { lev: 0, id: 0, name: \"petrified wood\", x: .5, y: 5, img: \"wood\", stars: 3.2, description: \"What goes on a mantle? Can someone please answer this question? Highly-curated photos only, please.\" },\n    { lev: 0, id: 1, name: \"floppy fish\",x: 3, y: 3.5,  img: \"floppyfish\", stars: 2.6, description: \"Facebook ads for this interactive floppy fish really got me. So many videos of happy cats! Tacocat has been a pain in the ass lately and I thought an electronic toy would tire that boy out. Well, I'd give this thing 2 stars because he's excited about the fish for all of about 20 seconds before he could care less.\" },\n    { lev: 0, id: 2, name: \"2020 xmas ornament\", x: .5, y: 1, img: \"tp\", stars: 3, description: \"Glad to know that when the apocalyse actually happens, we will be wiping our asses with leaves. If we learned anything in 2020 it's that people can't live without Charmin. Let me hear you say LATE STAGE CAPITALISM.\" },\n\n    // living\n    { lev: 0, id: 3, name: \"plastic succulent\", x: 9, y: .2, img: \"plastic\", stars: 4.1, description: \"I could blame this fake plant purchase on the fact that the living room doesn't get much light, but the truth is that I'm really terrible at keeping things alive. But honestly, I don't think anyone can tell this thing is fake. Extra stars.\" },\n    { lev: 0, id: 4, name: \"color-coded books\",x: 6.5, y: 4.5, img: \"books\", stars: 3.3, description: \"thank god I saved all those physics textbooks so that I can create a color-coded mantle filled with (mostly) meaningless items I'll never use again.\" },\n    { lev: 0, id: 5, name: \"trash TV\", x: 7.5, y: 5.5, img: \"tv\", stars: 4.9, description: \"Seriously, the things people throw away?? My netflix and chill game just stepped way up. This is like a 2010 Samsung. So maybe the resolution isn't excellent, but shit people.\" },\n\n    // bath\n    { lev: 0, id: 6, name: \"sopping wet bath mat\", x: 14.5, y: 2, img: \"bathmat\", stars: 4, description: \"I discovered in my thirties that people use a towel to dry off before exiting the shower. I have been leaving mini lakes on the bathroom floor since about 1989. I'd give this $12 Target bath mat 4 stars b/c it's soft and good bang for your buck. But still can't compete with my post-shower deluge.\" },\n    { lev: 0, id: 7, name: \"dying house plant\", x: 14.2, y: 5.5, img: \"plant\", stars: 1.1, description: \"I'm not very good at plant care. Sorry, plants? Insta ladies make it look so easy.\" },\n    \n    // kitchen\n    { lev: 0, id: 8, name: \"craft drawer\", x: .5, y: 7, img: \"craft\", stars: 4.5, description: \"Craft, craft, craft! What is better than having every tool that you need to pull off that Lundi Gras headdress? Hot glue to the max! Also, Perler beads are the best rediscovery of my 30s.\" },\n    { lev: 0, id: 9, name: \"hiding vodka\", x: 1.5, y: 10.8, img: \"vodka\", stars: 2.0, description: \"I hid this bottle to prevent my partner from drinking like a fish. I can't tell if my hiding solution has had any effect.\" },\n    { lev: 0, id: 10, name: \"old takeout\", x: 6, y: 9, img: \"takeout\", stars: 3.3, description: \"Was this takeout ever any good? No. But what is the value of pulling food directly out of the fridge? Has to be worth like a letter grade or two on the food scale. I'll give this B- fried rice an 92.5%; and this teacher rounds up.\" },\n    \n    // bedroom\n    { lev: 0, id: 11, name: \"mardi gras ephemera\", x: 14, y: 8, stars: 5.0, img: \"mardi\", description: \"Every New Orleanian has a mardi gras closet. I think most New Orleanians need a Mardi Gras room. Seriously, best day of life.\" },\n    { lev: 0, id: 12, name: \"maw maw's painting\", x: 11, y: 7, stars: 2.8, img: \"mawmaw\", description: \"My grandmother described herself as a primitive Acadian artist. I'm pretty sure we don't use the word 'primitive' anymore. Secretly, I don't particularly care for her work.\" },\n    { lev: 0, id: 13, name: \"booty shorts\", x: 11.5, y: 11, stars: 3.6, img: \"booty\", description: \"More Mardi Gras accessories for my bootaytay. These shorts verge on wedgy-dom. I really don't like wedgies, which is why I have never-ever worn a thong. Except maybe that one time in 8th grade because maybe that's what the cool girls were doing or something. I don't get the butt floss, sorry.\" },\n\n  ],\n  [\n    // foyer\n    { lev: 1, id: 0, name: \"stanky litter box\", x: 4.5, y: 5, stars: 1.4, img: \"litter\", description: \"Tacocat has started pooping outside, which iis the best thing ever. Except for the garden. Or the neighbors? Not actually sure where his excrement ends up. Regardless, stoked this litter requries less input.\" },\n    { lev: 1, id: 1, name: \"cat pee rug stain\", x: 4, y: 3, stars: 0.1, img: \"rug\", description: \"To clarify, this pee stain came from a previous roommate's cat. Cat pee is the worst.\" },\n\n    // living\n    { lev: 1, id: 2, name: \"forgotten coffee\", x: 7, y: 2, stars: 2.2, img: \"coffee\", description: \"I have this weird proclivity for making tea and subsequently forgetting all about said tea.I have this weird proclivity for making coffee and subsequently forgetting all about said coffee. Sometimes I wonder if I even like coffee, or if I just drink it because that is a normalized part of our culture? Does it actually make me feel more awake? I guess placebo is real.\" },\n    { lev: 1, id: 3, name: \"unused DSLR\", x: 9, y: 4, stars: 2.9, img: \"dslr\", description: \"A decade old DSLR that I bought like a true hipstter for way too much money and never learned how to use properly. I wouldn't be surprised if my iphone takes better pictures.\" },\n    { lev: 1, id: 4, name: \"Alexa, listening...\", x: 12, y: .5, stars: 1.8, img: \"alexa\", description: \"This one time I was home all alone, and (THIS IS TRUE), out of the blue that bitch goes, 'JESUS CHRIST' and starts reading the wikipedia page of Jesus. Don't think I've been that afraid, like ever. Why are we submitting to this shit?\"  },\n\n    // bath\n    { lev: 1, id: 5, name: \"hairballs\", x: 14.4, y: 1, stars: 0.8, img: \"hairball\", description: \"I feel like I could create a voluminous wig from the hair I lose after every shower.\" },\n    { lev: 1, id: 6, name: \"unecessary tampons\", x: 15, y: 3, stars: 4.5, img: \"tampons\", description: \"Woooo UTI. I went the hormonal route b/c who wants worse periods??? Except what are those hormones doing to my sex drive and psyche and long-term health? Whatever, no babies.\" },\n\n    // kitchen\n    { lev: 1, id: 7, name: \"gnarly sponge\", x: 1, y: 9, stars: 0.6, img: \"sponge\", description: \"Why do sponges smell that gross and very specific sponge smell? Wet towels don't smell that way? Rotting food doesn't? Please educate me, internet.\" },\n    { lev: 1, id: 8, name: \"overused swiffer pad\", x: 5, y: 10, stars: 2.1, img: \"swiffer\", description: \"Strangely, I ordered these on Amazon and they were delivered with a handwritten note that said something lke, 'please invest in our family-run business,' which has to be a scam?? Based on the Amazon review, there is no way this is a small family operation. Or maybe I just don't understand how Amazon actually works. I know, I know. Get off that shit!\" },\n\n    // bedroom\n    { lev: 1, id: 9, name: \"friendly scale\", x: 15, y: 11.5, stars: 4.4, img: \"scale\", description: \"I think the house is sinking and the floor is off-kilter which is why the scale always has nice things to say.\" },\n    { lev: 1, id: 10, name: \"8 weeks of laundry\", x: 14, y: 6.5, stars: 1.2, img: \"laundry\", description: \"I haven't done the laundry since I started dating my partner. He is amazing. But if it's left to me, I have way too many pairs of underwear to get that shit done.\" },\n    { lev: 1, id: 11, name: \"jewelry box\", x: 11, y: 9, img: \"jewelry\", stars: 2.6, description: \"My mom gave me this jewelry box. Most of the stuff in here are things I got from my grandmother that I would never wear (gaudy necklaces, mostly). Time to clear this baby out.\" },\n\n  ],\n  [\n    // foyer\n    { lev: 2, id: 0, name: \"$27,256 in student loans\", x: -.5, y: 5.5, stars: 1.1, img: \"bills\", description: \"LOAN FORGIVNESS LETS GO. College is becoming (already is? has been?) a racket.\" },\n    { lev: 2, id: 1, name: \"uncle's erotic art\", x: .5, y: 2, img: \"por\", stars: 2.0, description: \"I think my dad's family talks about sex more than certainly any other family I've ever heard about. This is not a joke. Some pervy dudes. At least it's out in the open? This '20th century erotic art masters' book was a gift from one of those horny uncles. Ew (?)\" },\n\n    // living\n    { lev: 2, id: 2, name: \"money jars\", x: 11, y: 2.5, img: \"money\", stars: 3.4, description: \"Here's da bank! Bills bills bills.\" },\n    { lev: 2, id: 3, name: \"letters from exes\", x: 11.3, y: 4.5, stars: 3.6, img: \"exes\", description: \"There is something nice about receiving a written letter. Is that a dying art? Honestly I kind of like having Google Doc love letters; easier to keep track of. Better hope Google's encrypting those saucy bits.\" },\n    { lev: 2, id: 4, name: \"passport, social\", x: 7, y: 3.5, stars: 4.4, img: \"passport\", description: \"Passport, social, birth certificate - everything you need to take over my identity.\" },\n\n    // bath\n    { lev: 2, id: 5, name: \"mania meds\", x: 15, y: 4.2, img: \"meds\", stars: 2.5, description: \"About 8 years ago I had a manic psychotic break and completely lost my mind. Thought I was the second coming of Christ and went on a meadering journey all over NY and New Jersey until my family tracked me down with Twitter...\" },\n\n    // kitchen\n    { lev: 2, id: 6, name: \"dank green\", x: .5, y: 10, img: \"green\", stars: 4.6, description: \"I honestly think I might be done with the green. No more psychosis for me.\" },\n    { lev: 2, id: 7, name: \"stolen pint glasses\", x: 8, y: 6.5, stars: 2.8, img: \"glass\", description: \"I didn't steal them, so no guilt. They're kind of tacky, though. When are we supposed to become the Pinterest versions of ourselves? Let's go with 40.\" },\n\n    // bedroom\n    { lev: 2, id: 8, name: \"large black dildo\", x: 10.1, y: 10, stars: 3.6, img: \"dildo\", description: \"Consistently 9 inches. Need I say more?\" },\n    { lev: 2, id: 9, name: \"nippy bra\", x: 10.7, y: 7.8, img: \"bra\", stars: 1.1, description: \"From Free People. I honestly don't know why this bra exists. It does literally nothing to support the boob or hide the nip. It is super flimsy and pointless. It's like Free People can just sell tissue and people will buy it. (This was given to me, not purchased)\" },\n\n  ]\n]\n\nexport const rooms = [\n  { \"id\": 0, \"name\": \"foyer\", \"icon\": \"foyer\", stars: 2.2, \"points\": [0, 0, 0, 0, 0, 6, 6, 0, 6, 6, 0, 0, 0, 0, 0], \"iconPos\": { x: 3, y: 3 }, img: \"foyer\", description: \"The foyer is really just the, 'leave your crap here' room. One time I was waiting for the subway in Brooklyn with a huge IKEA bag full of random shit and this rat ran out from the tracks, grabbed a napkin, and pulled it into its little hole. We really aren't much different from subway mammals.\" },\n  { \"id\": 1, \"name\": \"living room\", \"icon\": \"living\", stars: 4.4, \"points\": [6, 0, 0, 6, 0, 6, 14, 0, 6, 14, 0, 0, 6, 0, 0], \"iconPos\": { x: 10, y: 3 }, img: \"living\", description: \"The purchase of a Pottery Barn couch was such a game changer. When you get a good couch, you become a real adult. That is my honest metric.\" },\n  { \"id\": 2, \"name\": \"bathroom\", \"icon\": \"bathroom\", stars: 4.1, \"points\": [14, 0, 0, 14, 0, 6, 18, 0, 6, 18, 0, 0, 14, 0, 0], \"iconPos\": { x: 16, y: 3 }, img: \"bathroom\", description: \"Please let subway tile be cool for at least 5 years. Just re-did the bathroom to match the Pinterest so that shit better not change until I get my money's worth.\" },\n  { \"id\": 3, \"name\": \"kitchen\", \"icon\": \"kitchen\", stars: 2.4, \"points\": [0, 0, 6, 0, 0, 12, 10, 0, 12, 10, 0, 6, 0, 0, 6], \"iconPos\": { x: 5, y: 9 }, img: \"fridge\", description: \"This kitchen accidentally got painted this really offensive lime green (the paint swatches are hard to visualize on a wall if you aren't good at color!); color needs to go. Painting is just such a pain in the ass.\" },\n  { \"id\": 4, \"name\": \"bedroom\", \"icon\": \"bedroom\", stars: 3.9, \"points\": [10, 0, 6, 10, 0, 12, 18, 0, 12, 18, 0, 6, 10, 0, 6], \"iconPos\": { x: 12, y: 8 }, img: \"bedroom\", description: \"I inherited a Scandinavian bedroom set from my mom. Probably the bed I was conceived in. Try not to think about that too much.\" },\n  { \"id\": 5, \"name\": \"back yard\", \"icon\": \"backyard\", stars: 4.0, \"points\": [], \"iconPos\": { x: 20, y: 8 }, img: \"bbq\", description: \"We used the back porch so much before covid! Had a few great gatherings with fire pits; admittedly burned the deck and the plastic rug... oopsie.\" },\n  { \"id\": 6, \"name\": \"front porch\", \"icon\": \"frontporch\", stars: 3.7, \"points\": [], \"iconPos\": { x: -2, y: 3 }, img: \"front\", description: \"Porch game is so solid in New Orleans. I'd say this porch is pretty solid; the light can be kind of intense in the evening.\" }\n];\n\nexport const roads = [\n  [-2, 0, 3, 16, 0, 3],\n  [3, 0, 3, 3, 0, 8, 5, 0, 9],\n  [10, 0, 3, 12, 0, 8, 20, 0, 8]\n];\n\nexport const doors = [\n  [0, 0, 2, 0, 0, 4], //outsideDoor\n  [2, 0, 6, 4, 0, 6], //kitchen\n  [6, 0, 2, 6, 0, 4], // to living\n  [14, 0, 2, 14, 0, 4], // bath\n  [11, 0, 6, 13, 0, 6], // bed\n  [18, 0, 7, 18, 0, 9] // back\n]\n\nexport const roomLines = [\n  [0, 0, 12, 18, 0, 12], // tophoriz\n  [0, 0, 6, 2, 0, 6], // mid horiz\n  [4, 0, 6, 11, 0, 6],\n  [13, 0, 6, 18, 0, 6],\n  [0, 0, 0, 18, 0, 0], // bottom horiz\n  [0, 0, 0, 0, 0, 2], // vert bot left\n  [0, 0, 4, 0, 0, 12],\n  [6, 0, 0, 6, 0, 2],\n  [6, 0, 4, 6, 0, 6],\n  [10, 0, 6, 10, 0, 12],\n  [14, 0, 0, 14, 0, 2],\n  [14, 0, 4, 14, 0, 6],\n  [18, 0, 0, 18, 0, 7],\n  [18, 0, 9, 18, 0, 12],\n]\n\n\n\n// export const labelsOg2 = [\n//   [\n//     { lev: 0, id: 0, name: \"forgotten coffee cup\", x: 12, y: 11.5, img: \"coffee\", description: \"I have this weird proclivity for making tea and subsequently forgetting all about said tea.I have this weird proclivity for making tea and subsequently forgetting all about said tea.I have this weird proclivity for making tea and subsequently forgetting all about said tea.I have this weird proclivity for making tea and subsequently forgetting all about said tea.I have this weird proclivity for making tea and subsequently forgetting all about said tea.I have this weird proclivity for making tea and subsequently forgetting all about said tea.I have this weird proclivity for making tea and subsequently forgetting all about said tea.I have this weird proclivity for making tea and subsequently forgetting all about said tea.I have this weird proclivity for making tea and subsequently forgetting all about said tea.I have this weird proclivity for making tea and subsequently forgetting all about said tea.I have this weird proclivity for making tea and subsequently forgetting all about said tea.\" },\n//     { lev: 0, id: 1, name: \"Alexa, listening...\", x: 10, y: 4, img: \"bathroom\", description: \"des1\" },\n//     { lev: 0, id: 2, name: \"dying house plant\", x: 1, y: 1, img: \"plant\", description: \"des2\" },\n//     { lev: 0, id: 3, name: \"smelly sponge\", x: 1, y: 10.8, img: \"sponge\", description: \"des3\" },\n//   ],\n//   [\n//     { lev: 1, id: 0, name: \"nippy bra\", x: 6.5, y: 5, img: \"bra\", description: \"des4\" },\n//     { lev: 1, id: 1, name: \"love letters from exes\", x: 3, y: 4, img: \"bathroom\", description: \"des5\" },\n//     { lev: 1, id: 2, name: \"rat-sized drain hairball\", x: 14.4, y: 1, img: \"bathroom\", description: \"des6\" },\n//     { lev: 1, id: 3, name: \"8 weeks of laundry\", x: 14, y: 7, img: \"bathroom\", description: \"des7\" },\n//   ],\n//   [\n//     { lev: 2, id: 0, name: \"$27,256 in student loan bills\", x: 11, y: 10, img: \"bathroom\", description: \"des8\" },\n//     { lev: 2, id: 1, name: \"mania meds\", x: 14, y: 5, img: \"meds\", description: \"des9\" },\n//     { lev: 2, id: 2, name: \"box full of green\", x: 6.5, y: 3, img: \"bathroom\", description: \"des00\" },\n//     { lev: 2, id: 3, name: \"large black dildo\", x: 7, y: 2, img: \"dildo\", description: \"des0000\" },\n//   ]\n// ]\n\n// var labelsOG = [\n\n//   // foyer\n//   { txt: \"Foster Wallace books (for looks)\", x: 240, y: 250, sc: 2 },\n//   { txt: \"house plant that I overwatered\", x: 355, y: 90, sc: 2 },\n//   { txt: \"past-due Amazon return\", x: 220, y: 200, sc: 3 },\n//   { txt: \"forgotten lunch tupperware\", x: 380, y: 220, sc: 3 },\n//   { txt: \"decorative jar stolen (taken?) from bougie hotel\", x: 350, y: 280, sc: 4 },\n//   { txt: \"$27,256 in student loan bills\", x: 220, y: 50, sc: 4 },\n\n\n//   // bedroom\n//   { txt: \"lukewarm peppermint tea\", x: 210, y: 500, sc: 2 },\n//   { txt: \"favorite earring lost behind dresser\", x: 220, y: 360, sc: 2 },\n//   { txt: \"love letters from exes\", x: 300, y: 330, sc: 3 },\n//   { txt: \"(free) cherry flavored condoms\", x: 380, y: 520, sc: 3 },\n//   { txt: \"period blood-stained undies\", x: 350, y: 550, sc: 4 },\n//   { txt: \"mania meds\", x: 200, y: 400, sc: 4 },\n//   { txt: \"valuables box: birth certificate, social, passport\", x: 380, y: 470, sc: 4 },\n\n//   // bathroom\n//   { txt: \"termite dust...\", x: 580, y: 500, sc: 2 },\n//   { txt: \"rat-sized drain hairball\", x: 580, y: 530, sc: 3 },\n//   { txt: \"15-year-expired laxatives\", x: 580, y: 410, sc: 4 },\n\n//   // bathroom 2\n//   { txt: \"fungus amungus\", x: 1140, y: 470, sc: 2 },\n//   { txt: \"shower blowie\", x: 1160, y: 550, sc: 3 },\n\n//   // hall\n//   { txt: \"unplugged fire alarm\", x: 695, y: 365, sc: 2 },\n\n//   // back porch\n//   { txt: \"fat cat sightings\", x: 1270, y: 330, sc: 2 },\n//   { txt: \"spliff butts\", x: 1255, y: 400, sc: 4 },\n\n//   // front porch\n//   { txt: \"3 Amazon packages worth of glitter\", x: 50, y: 340, sc: 2 },\n//   { txt: \"not so secret key\", x: 55, y: 500, sc: 3 },\n\n//   // kitchen\n//   { txt: \"ramen for days\", x: 950, y: 260, sc: 2 },\n//   { txt: \"hot glue-able Mardi Gras bedazzlers\", x: 1080, y: 80, sc: 2 },\n//   { txt: \"multiple dead cockroaches\", x: 900, y: 150, sc: 3 },\n//   { txt: \"pantry moth infestation\", x: 1000, y: 220, sc: 3 },\n//   { txt: \"very gassy gumbo\", x: 1080, y: 260, sc: 4 },\n//   { txt: \"box full of green\", x: 1080, y: 140, sc: 4 },\n\n//   // living\n//   { txt: \"color-coordinated textbooks\", x: 700, y: 250, sc: 2 },\n//   { txt: \"side-of-the-road chair\", x: 590, y: 50, sc: 2 },\n//   { txt: \"plastic World Market succulent\", x: 700, y: 190, sc: 3 },\n//   { txt: \"Alexa, listening...\", x: 740, y: 100, sc: 3 },\n//   { txt: \"afternoon delight\", x: 740, y: 170, sc: 4 },\n//   { txt: \"unused ADT alarm\", x: 550, y: 270, sc: 4 },\n\n//   // 2nd bedroom\n//   { txt: \"$4.34 in (scattered) change\", x: 900, y: 460, sc: 2 },\n//   { txt: \"aspirational jeans\", x: 790, y: 550, sc: 2 },\n//   { txt: \"70s porn mags from creepy uncle\", x: 940, y: 340, sc: 3 },\n\n//   { txt: \"8 weeks of laundry\", x: 840, y: 500, sc: 3 },\n//   { txt: \"magic mushrooms\", x: 840, y: 420, sc: 4 },\n//   { txt: \"\", x: 920, y: 550, sc: 4 },\n\n\n// ];\n","import React from 'react';\nimport './Modal.css';\nimport { connect } from 'react-redux';\nimport Frame from '../../../shared/Frame/Frame';\nimport CenterModal from '../../../shared/CenterModal/CenterModal';\nimport ReactPlayer from 'react-player';\n// import { setOneMenu, hideFaq, toggleFaq } from '../../../../store/actions/menuItems';\n\n\nclass Modal extends React.Component {\n\n    constructor(props) {\n\n        super(props);\n\n        this.state = {\n            currentContent: 0,\n            contentHidden: true\n        }\n    }\n\n    render() {\n        const { ui } = this.props;\n        if (ui.isMobile || ui.hasFooter) {\n            return this.getMobileModal();\n        }\n        return this.getDesktopModal();\n    }\n\n    getDesktopModal = () => {\n        const { onHide, isHidden, ui } = this.props;\n        const w = ui.width - 40;\n        const h = ui.contentH - 40;\n        return (\n            <Frame title=\"\"\n                bounded={true}\n                isHidden={isHidden}\n                onHide={onHide}\n                className=\"home-page-modal\"\n                windowStyle={{ background: \"rgba(0, 0, 0, .9)\" }}\n                content={this.getModalContentPortrait()}\n                width={300}\n                height={this.getModalFrameH()}\n                x={20}\n                y={20}\n                z={1000}\n            />\n        );\n    }\n\n    getMobileModal = () => {\n        const { ui, isHidden, onHide } = this.props;\n        let h = ui.contentH;\n        let w = ui.contentW;\n        const content = ui.orientation === \"portrait\" ? this.getModalContentPortrait() : this.getModalContentLandscape();\n        return (\n            <CenterModal\n                title=\"\"\n                isHidden={isHidden}\n                onHide={onHide}\n                ui={ui}\n                classN=\"home-modal\"\n                content={content}\n                isRelative={true}\n                buttons={this.getButtons()}\n                z={1000}\n            />\n        )\n    }\n\n    getModalFrameH = () => {\n        const {ui} = this.props;\n        const fullH = ui.contentH - ui.toolbarH - 2*ui.edgeSpacing ;\n        return Math.min(fullH, 800);\n    }\n\n    getModalContentLandscape = (w, h) => {\n        return null;\n    }\n\n    getModalContentPortrait = () => {\n        const { ui, data } = this.props;\n        let fH = this.getModalFrameH();\n        let imgH = 300;\n        let imgW = 300;\n        let txtH = fH - imgH;\n\n        let classN = \"loc-content\";\n        if (ui.hasFooter || ui.isMobile) {\n            classN += \" mobile\";\n            imgH = 200;\n            if (ui.orientation === \"landscape\")\n                classN += \" landscape\"\n        }\n\n        const imgStyle = {\n            backgroundImage: `url(${window.AWS}/homePage/thumbnails/${data.img}.jpg)`,\n            height: imgH,\n            width: imgW\n        }\n\n        let stars = \"\";\n        for (let i = 0; i < Math.round(data.stars); i++) {\n            stars += \"*\";\n        }\n\n        return (\n            <div className={classN} style={{height: fH}}>\n                {/* <div className=\"loc-img\" style={imgStyle} /> */}\n                <ReactPlayer\n                    className={\"react-player loc-vid\"}\n                    playing\n                    muted\n                    loop\n                    width={imgH}\n                    height={imgW}\n                    playsInline\n                    url={`${window.AWS}/homePage/vids/${data.img}.mp4`}\n                />\n                <div className=\"loc-container\" style={{ height: txtH, width: imgW }}>\n                    <div className=\"loc-txt\">\n                        <div className=\"loc-title\">{data.name}</div>\n                        <div className=\"loc-stars\">{data.stars + \" \" + stars}</div>\n                        <div className=\"loc-description\">{data.description}</div>\n                    </div>\n                </div>\n            </div>\n        )\n    }\n\n    getButtons = () => {\n        const {onHide} = this.props;\n        return (\n            <div className=\"center-buttons\">\n                <button className=\"standardButton primary\" onClick={onHide}>close</button>\n            </div>\n        )\n    }\n}\n\nconst mapStateToProps = (state) => {\n    return {\n        ui: state.ui,\n    }\n}\n\nconst mapDispatchToProps = () => {\n    return {\n    }\n}\n\n\nexport default connect(mapStateToProps, mapDispatchToProps())(Modal);\n","import React, { Component } from \"react\";\n// import ReactDOM from \"react-dom\";\nimport * as THREE from \"three\";\nimport './Oogle.css';\nimport { AnaglyphEffect } from 'three/examples/jsm/effects/AnaglyphEffect';\nimport { Interaction } from 'three.interaction';\nimport { OBJLoader } from 'three/examples/jsm/loaders/OBJLoader.js';\n// import { VertexNormalsHelper } from 'three/examples/jsm/helpers/VertexNormalsHelper.js';\n// import { VertexTangentsHelper } from 'three/examples/jsm/helpers/VertexTangentsHelper.js';\nimport { SVGLoader } from 'three/examples/jsm/loaders/SVGLoader.js';\n// import { BufferGeometryUtils } from 'three/examples/jsm/utils/BufferGeometryUtils.js';\n\nimport { MapControls } from 'three/examples/jsm/controls/OrbitControls.js';\n\nimport { Line2 } from 'three/examples/jsm/lines/Line2.js';\nimport { LineGeometry } from 'three/examples/jsm/lines/LineGeometry.js';\nimport { LineMaterial } from 'three/examples/jsm/lines/LineMaterial.js';\nimport { Wireframe } from 'three/examples/jsm/lines/Wireframe.js';\nimport { WireframeGeometry2 } from 'three/examples/jsm/lines/WireframeGeometry2.js';\n// import { GeometryUtils } from 'three/examples/jsm/utils/GeometryUtils.js';\n\nimport { rooms, roomLines, roads, doors, labels } from './data';\n\nimport Modal from './components/Modal';\n\n// store\nimport { connect } from 'react-redux';\nimport { doneLoadingApp } from '../../../store/actions/';\nimport { setNoSketchMusic } from '../../../store/actions/music';\n\n\nvar mapR = 0;\n\nclass Oogle extends Component {\n\n  constructor(props) {\n    super(props);\n\n    this.mount = React.createRef();\n    this.canvas = React.createRef();\n\n    this.state = {\n      currentPoint: labels[0][0],\n      isModalHidden: true\n    }\n  }\n\n\n\n\n  componentDidMount() {\n\n    this.props.setNoSketchMusic();\n    this.icons = [];\n    this.labelGroups = [[], [], [], []];\n    this.roomLabels = [];\n\n    this.scaler = 100;\n    this.startX = -8 * this.scaler;\n    this.startZ = -6 * this.scaler;\n\n    this.init();\n    this.startAnimationLoop();\n\n  }\n\n  componentWillUnmount() {\n    window.removeEventListener('resize', this.handleWindowResize);\n    window.cancelAnimationFrame(this.requestID);\n    this.controls.dispose();\n  }\n\n  startAnimationLoop = () => {\n    this.scene.rotation.y = mapR;\n\n    var time = 0\n    this.light.position.x = Math.sin(time * 1.7) * 300;\n    this.light.position.y = Math.cos(time * 1.5) * 400;\n    this.light.position.z = Math.cos(time * 1.3) * 300;\n\n\n    this.setRoomIconTransforms();\n    this.setLabelTransforms();\n    this.setVisibleLabels();\n\n    if (this.controls)\n      this.controls.update();\n    this.effect.render(this.scene, this.camera);\n    this.requestID = window.requestAnimationFrame(this.startAnimationLoop);\n\n  };\n\n\n  init = () => {\n    this.scene = new THREE.Scene();\n    this.initRenderer(this.mount);\n    this.initCamera();\n\n    // new a interaction, then you can add interaction-event with your free style\n    const interaction = new Interaction(this.renderer, this.scene, this.camera);\n\n\n    this.initControls();\n    this.initAnaglyph();\n\n    this.initLights();\n\n    this.initRoomIcons();\n    this.initLabels();\n    this.initRooms();\n    this.initRoads();\n    // initDoors();\n\n    this.initModels(this.loadingDone);\n    this.initGrids();\n    // addSkybox();\n\n    window.addEventListener('resize', this.onWindowResize, false);\n\n  }\n\n  initRenderer = () => {\n    this.renderer = new THREE.WebGLRenderer();\n    this.renderer.setPixelRatio(window.devicePixelRatio);\n    this.renderer.setSize(window.innerWidth, window.innerHeight);\n    this.mount.appendChild(this.renderer.domElement);\n    this.renderer.setClearColor(0xffff00, 1);\n  }\n\n  initCamera = () => {\n    this.camera = new THREE.PerspectiveCamera(70, window.innerWidth / window.innerHeight, 1, 10000);\n    // this.camera.position.z = 1200;\n    this.camera.position.set(0, 1200, 0);\n    this.camera.lookAt(this.scene.position);\n  }\n\n  initControls = () => {\n    this.controls = new MapControls(this.camera, this.renderer.domElement);\n    // this.controls.maxPolarAngle = 0;\n    this.controls.minZoom = .1;\n    // this.controls.maxZoom = .5;\n    this.controls.maxDistance = 2000;\n    this.controls.update();\n  }\n\n  initAnaglyph = () => {\n    this.effect = new AnaglyphEffect(this.renderer);\n    this.effect.setSize(window.innerWidth, window.innerHeight);\n  }\n\n  initLights = () => {\n    this.light = new THREE.PointLight();\n    this.light.position.set(200, 100, 150);\n    this.scene.add(this.light);\n  }\n\n  initModels = (callback) => {\n    const wallH = 400;\n    var promises = [];\n    promises.push(this.loadObj(window.AWS + '/homePage/models/sofa/Sofa_01.obj', { x: 9 * this.scaler, y: -200, z: 1 * this.scaler }, 15, -Math.PI / 2));\n    promises.push(this.loadObj(window.AWS + '/homePage/models/toilet/Toilet_01.obj', { x: 17 * this.scaler, y: -200, z: 5 * this.scaler }, 18, Math.PI));\n    promises.push(this.loadObj(window.AWS + '/homePage/models/bed3/Bed_01.obj', { x: 16 * this.scaler, y: -200, z: 10 * this.scaler }, 15, -Math.PI / 2));\n    promises.push(this.loadObj(window.AWS + '/homePage/models/window/Window_02.obj', { x: 0 * this.scaler, y: -50, z: 9 * this.scaler }, 10, 0));\n\n    promises.push(this.loadObj(window.AWS + '/homePage/models/kitchen/cabinets.obj', { x: 7.6 * this.scaler, y: -80, z: 9.5 * this.scaler }, 130, Math.PI));\n\n    Promise.all(promises)\n      .then(callback);\n  }\n\n  initGrids = () => {\n    this.drawGrid(12 * this.scaler, { x: 6 * this.scaler, y: -200, z: 6 * this.scaler });\n    this.drawGrid(6 * this.scaler, { x: 9 * this.scaler + 6 * this.scaler, y: -200, z: -3 * this.scaler + 6 * this.scaler });\n    this.drawGrid(6 * this.scaler, { x: 9 * this.scaler + 6 * this.scaler, y: -200, z: 3 * this.scaler + 6 * this.scaler });\n  }\n\n  initLabels = () => {\n    let level = 0;\n    for (const labelLevel of labels) {\n      for (let i = 0; i < labelLevel.length; i++) {\n        const label = labelLevel[i];\n        let path = window.AWS + `/homePage/labels/l${level}/${i}.svg`;\n        // let path = '/assets/s3-bucket/oogle/labels/l' + level + '/0.svg';\n        let callback = (group, lev) => {\n          group.position.set(label.x * this.scaler + this.startX, -180, label.y * this.scaler + this.startZ);\n          // group.scale.set(10, 10,);\n          this.labelGroups[lev].push(group);\n\n          let h = 40\n          let w = label.name.length * 15.6;\n          const geo = new THREE.PlaneGeometry(w, h, 32);\n          const material = new THREE.MeshBasicMaterial({ color: 0xffffff, transparent: true, opacity: 0, side: THREE.DoubleSide });\n          const plane = new THREE.Mesh(geo, material);\n          plane.position.set(w / 2, 0, 0);\n          group.add(plane);\n\n          group.cursor = 'pointer';\n          group.on('click', (ev) => {\n            this.setLabel(label.lev, label.id);\n            this.onShowModal();\n          });\n\n\n          this.scene.add(group);\n        }\n        let l = level;\n        this.loadSVG(path, { x: 0, y: 0, z: 0 }, Math.PI / 2, (group) => callback(group, l));\n      }\n      level++;\n    }\n  }\n\n  initRoomIcons = () => {\n    for (const room of rooms) {\n\n\n      let labelCallback = (gl, gi) => {\n\n\n        var pivot = new THREE.Object3D();\n        // gl.scale\n        pivot.add(gl);\n        pivot.add(gi);\n        // pivot.scale.multiplyScalar(5 );\n        const x = room.iconPos.x * this.scaler + this.startX;\n        const y = room.iconPos.y * this.scaler + this.startZ;\n        pivot.position.set(x, 0, y);\n\n        let sc = 8.7;\n        let w = 150 * (room.name.length / sc);\n        let h = 30;\n        let xs = -20;\n        let sp = room.name.indexOf(\" \");\n        if (sp > -1) {\n          let word = room.name.substring(0, sp);\n          w = 150 * (word.length / sc);\n          xs = -30;\n          h = 50;\n        }\n        const geometry = new THREE.PlaneGeometry(w, h, 32);\n        const material = new THREE.MeshBasicMaterial({ color: 0xffffff, transparent: true, opacity: 0, side: THREE.DoubleSide });\n        const plane1 = new THREE.Mesh(geometry, material);\n        plane1.rotation.x = Math.PI / 2;\n        plane1.position.set(xs + w / 2, 0, h / 2);\n\n        h = 30\n        w = 22;\n        const geo = new THREE.PlaneGeometry(w, h, 32);\n        const plane2 = new THREE.Mesh(geo, material);\n        plane2.rotation.x = Math.PI / 2;\n        plane2.position.set(0, 0, -h / 2);\n\n        pivot.cursor = 'pointer';\n        pivot.on('click', (ev) => {\n          this.setRoom(room.id);\n          this.onShowModal();\n        });\n        pivot.add(plane1);\n        pivot.add(plane2);\n\n        this.scene.add(pivot);\n        this.icons.push(pivot);\n        this.roomLabels.push(gl);\n\n      }\n      let iconCallback = (group) => {\n        // group.scale.multiplyScalar(2 );\n        let path = window.AWS + \"/homePage/labels/rooms/\" + room.icon + \".svg\";\n        // let path = \"/assets/s3-bucket/homePage/labels/rooms/txt.svg\";\n        this.loadSVG(path, { x: -20, y: .1, z: 5 }, Math.PI / 2, (gl) => labelCallback(gl, group));\n      }\n      let path = window.AWS + \"/homePage/assets/icons/icon2.svg\"; // + points[i].icon + \".svg\"\n      this.loadSVG(path, { x: -10, y: .1, z: -30 }, Math.PI / 2, iconCallback);\n    }\n\n  }\n\n\n  onWindowResize = () => {\n    this.camera.aspect = window.innerWidth / window.innerHeight;\n    this.camera.updateProjectionMatrix();\n    this.renderer.setSize(window.innerWidth, window.innerHeight);\n  }\n\n\n  setRoomIconTransforms = () => {\n    for (const group of this.icons) {\n      group.rotation.y = this.camera.rotation.z - mapR;\n      // let sc = this.camera.position.y/500;\n      var scaleVector = new THREE.Vector3();\n      var scaleFactor = 500;\n      var scale = scaleVector.subVectors(this.scene.position, this.camera.position).length() / scaleFactor;\n      group.scale.set(scale, scale, scale)\n    }\n  }\n\n  setLabelTransforms = () => {\n    let lev = 1;\n    for (const level of this.labelGroups) {\n      for (const group of level) {\n        group.rotation.z = -this.camera.rotation.z + mapR;\n        let val = 1;\n        // if (level === 1) val = .7;\n        // else if (val === 2) val = .6;\n        let sc = (this.camera.position.y - group.position.y) / 800 * val;\n        var scaleVector = new THREE.Vector3();\n        // var scaleFactor = 600+(lev++)*50;\n        // var scaleFactor = 700;\n        // var scale = scaleVector.subVectors(new THREE.Vector3(this.camera.position.x, 0, this.camera.position.z), this.camera.position).length() / scaleFactor;\n        // group.scale.set(scale, scale, scale)\n        group.scale.set(sc, sc, sc)\n      }\n    }\n  }\n\n  setVisibleLabels = () => {\n    this.setRoomLabels();\n    this.resetLabelGroups();\n\n    // other labels\n    // reset\n\n    const y = this.camera.position.y;\n\n    if (y > 0) {\n      if (y < 900) {\n        for (const lg of this.labelGroups[0]) {\n          lg.visible = true;\n        }\n      }\n      if (y < 500) {\n        for (const lg of this.labelGroups[1]) {\n          lg.visible = true;\n        }\n      }\n      if (y < 300) {\n        for (const lg of this.labelGroups[2]) {\n          lg.visible = true;\n        }\n      }\n\n    }\n\n  }\n\n  resetLabelGroups = () => {\n    for (const level of this.labelGroups) {\n      for (const lg of level) {\n        lg.visible = false;\n      }\n    }\n  }\n\n\n  setRoomLabels = () => {\n    const y = this.camera.position.y;\n    // room labels\n    for (const g of this.roomLabels) {\n      if ((y < 1100) && y > 0) {\n        g.visible = true;\n      }\n      else g.visible = false;\n    }\n  }\n\n\n\n\n  initRooms = () => {\n    // console.log(\"len\", roomLines.length)\n    for (const room of roomLines) {\n      const roomPoints = room.map((x, i) => {\n        if ((i - 1) % 3 === 0)\n          return -200;\n        return x * this.scaler;\n      });\n      this.addLine(roomPoints, 0x000000, 2);\n    }\n  }\n\n  initRoads = () => {\n    // for (let i = 0; i < 4; i++) {\n    //   const l0 = [points[i].x, 0, points[i].y, points[i+1].x, 0, points[i+1].y];\n    //   addLine(l0);\n    // }\n    for (const road of roads) {\n      const roadPoints = road.map((x) => { return x * this.scaler; });\n      this.addLine(roadPoints);\n    }\n  }\n\n  initDoors = () => {\n    for (const door of doors) {\n      const doorPoints = door.map((x) => {\n        return x * this.scaler;\n      });\n      this.addLine(doorPoints, 0xffff00, 8);\n    }\n  }\n\n  // positions needs to be an array of vector3s\n  addLine = (positions, col = 0x000000, lW = 5) => {\n    // OG?\n    //create a blue LineBasicMaterial\n    // var material = new THREE.LineBasicMaterial( { color: 0x0000ff } );\n    // var geometry = new THREE.BufferGeometry().setFromPoints( pts );\n    // var line = new THREE.Line( geometry, material );\n    // this.scene.add( line );\n\n    var geometry = new LineGeometry();\n    geometry.setPositions(positions);\n    // geometry.setColors( colors );\n\n    var matLine = new LineMaterial({\n      color: col,\n      linewidth: lW, // in pixels\n      vertexColors: false,\n      //resolution:  // to be set by this.renderer, eventually\n      dashed: false\n\n    });\n    matLine.resolution.set(window.innerWidth, window.innerHeight);\n\n    var line = new Line2(geometry, matLine);\n    line.position.set(this.startX, 0, this.startZ);\n    line.computeLineDistances();\n    line.scale.set(1, 1, 1);\n    this.scene.add(line);\n  }\n\n  loadSVG = (url, { x, y, z }, rot, callback) => {\n    var loader = new SVGLoader();\n    loader.load(url, (data) => {\n      var paths = data.paths;\n\n      var group = new THREE.Group();\n\n      group.position.x = x;\n      group.position.y = y;\n      group.position.z = z;\n      // group.scale.y *= - 1;\n      group.rotation.x = rot;\n      // group.rotation.z = Math.PI;\n\n\n\n      for (var i = 0; i < paths.length; i++) {\n\n        var path = paths[i];\n\n        var fillColor = path.userData.style.fill;\n        var drawFills = true;\n        if (drawFills && fillColor !== undefined && fillColor !== 'none') {\n\n          var material = new THREE.MeshBasicMaterial({\n            color: new THREE.Color().setStyle(fillColor),\n            opacity: path.userData.style.fillOpacity,\n            transparent: path.userData.style.fillOpacity < 1,\n            side: THREE.DoubleSide,\n            depthWrite: false,\n            wireframe: false\n          });\n\n          var shapes = path.toShapes(true);\n\n          for (var j = 0; j < shapes.length; j++) {\n\n            var shape = shapes[j];\n\n            var geometry = new THREE.ShapeBufferGeometry(shape);\n            var mesh = new THREE.Mesh(geometry, material);\n            // mesh.geometry.translate(0, 0, 0 );\n            group.add(mesh);\n\n          }\n\n        }\n\n        var strokeColor = path.userData.style.stroke;\n        var drawStrokes = true;\n        if (drawStrokes && strokeColor !== undefined && strokeColor !== 'none') {\n\n          var material = new THREE.MeshBasicMaterial({\n            color: new THREE.Color().setStyle(strokeColor),\n            opacity: path.userData.style.strokeOpacity,\n            transparent: path.userData.style.strokeOpacity < 1,\n            side: THREE.DoubleSide,\n            depthWrite: false,\n            wireframe: false\n          });\n\n          for (var j = 0, jl = path.subPaths.length; j < jl; j++) {\n\n            var subPath = path.subPaths[j];\n\n            var geometry = SVGLoader.pointsToStroke(subPath.getPoints(), path.userData.style);\n\n            if (geometry) {\n\n              var mesh = new THREE.Mesh(geometry, material);\n\n              group.add(mesh);\n\n            }\n\n          }\n\n        }\n\n      }\n\n      // this.scene.add( group );\n      callback(group);\n    });\n\n  }\n\n\n  drawGrid = (w, { x, y, z }) => {\n    let div = w / 100;\n    var gridHelper = new THREE.GridHelper(w, div, 0x000000, 0x808080);\n    gridHelper.position.set(x + this.startX, y, z + this.startZ);\n    this.scene.add(gridHelper);\n\n    // var geometry = new THREE.PlaneGeometry( 400, 200, 40, 40 );\n    // var material = new THREE.MeshBasicMaterial( {color: 0xffffff, side: THREE.DoubleSide} );\n    // var plane = new THREE.Mesh( geometry, material );\n    // plane.position.set(-50, -200, 0);\n    // var helper = new THREE.PlaneHelper( plane, 1, 0xffff00 );\n    // this.scene.add( helper );\n  }\n\n  drawRoom = ({ w, h, d }, { x, y, z }, opac, color) => {\n    var geometry = new THREE.BoxGeometry(w, h, d);\n    const material = new THREE.MeshPhongMaterial({\n      color: color,\n      opacity: opac,\n      transparent: true,\n    });\n    const cube = new THREE.Mesh(geometry, material);\n\n    var geometryL = new WireframeGeometry2(geometry);\n    var matLine = new LineMaterial({\n      color: 0x4080ad,\n      linewidth: 5, // in pixels\n      //resolution:  // to be set by this.renderer, eventually\n      dashed: false\n    });\n    matLine.resolution.set(window.innerWidth, window.innerHeight);\n    var wireframe = new Wireframe(geometryL, matLine);\n    wireframe.computeLineDistances();\n    // wireframe.scale.set( sc, sc, sc );\n    // this.scene.add( wireframe );\n    this.scene.add(cube);\n    wireframe.position.set(x, y, z);\n    cube.position.set(x, y, z);\n  }\n\n  isoLines = () => {\n    var geo = new THREE.IcosahedronBufferGeometry(20, 1);\n    var geometry = new WireframeGeometry2(geo);\n    var matLine = new LineMaterial({\n      color: 0x4080ff,\n      linewidth: 5, // in pixels\n      //resolution:  // to be set by this.renderer, eventually\n      dashed: false\n    });\n    var wireframe = new Wireframe(geometry, matLine);\n    wireframe.computeLineDistances();\n    wireframe.scale.set(30, 30, 30);\n    this.scene.add(wireframe);\n  }\n\n  addSkybox = () => {\n    // skybox\n    var path = window.AWS + \"/hardDrives/skybox/skybox_\";\n    var format = '.jpg';\n    var urls = [\n      path + 'px' + format, path + 'nx' + format,\n      path + 'py' + format, path + 'ny' + format,\n      path + 'pz' + format, path + 'nz' + format\n    ];\n    var textureCube = new THREE.CubeTextureLoader().load(urls);\n    this.scene.background = textureCube;\n\n  }\n\n  loadObj = (path, { x, y, z }, sc, rot) => {\n\n\n    return new Promise((resolve, reject) => {\n      var object;\n\n      const loadModel = () => {\n        object.traverse((child) => {\n          if (child.isMesh) {\n            const materialT = new THREE.MeshPhongMaterial({\n              color: 0xffffff,\n              opacity: .2,\n              transparent: true,\n              side: THREE.DoubleSide,\n              depthWrite: false\n            });\n            child.material = materialT;\n\n          }\n        });\n\n        object.position.set(x + this.startX, y, z + this.startZ);\n        object.rotation.y = rot;\n        object.scale.set(sc, sc, sc);\n\n        this.scene.add(object);\n        // object.cursor = 'pointer';\n        // object.on('click', function(ev) {\n        //   console.log(\"???\")\n        // });\n        resolve();\n      }\n      var manager = new THREE.LoadingManager(loadModel);\n      manager.onProgress = (item, loaded, total) => {\n        // console.log(item, loaded, total);\n      };\n      // model\n      const onProgress = (xhr) => {\n        if (xhr.lengthComputable) {\n          var percentComplete = xhr.loaded / xhr.total * 100;\n          // console.log('model ' + Math.round(percentComplete, 2) + '% downloaded');\n        }\n      }\n      const onError = () => {\n        reject();\n      }\n\n      var loader = new OBJLoader(manager);\n      loader.load(path, (obj) => {\n        object = obj;\n      }, onProgress, onError);\n\n    });\n\n  }\n  rotateMap = (amt) => {\n    mapR += amt / 3;\n  }\n\n  onHideModal = () => {\n    this.setState({ isModalHidden: true })\n  }\n\n  onShowModal = () => {\n    this.setState({ isModalHidden: false })\n  }\n\n\n  loadingDone = () => {\n    this.props.doneLoadingApp();\n  }\n\n  setRoom = (id) => {\n    this.setState({ currentPoint: rooms[id] })\n  }\n\n  setLabel = (level, id) => {\n    this.setState({ currentPoint: labels[level][id] })\n  }\n\n  render() {\n    return (\n      <div className=\"Oogle Sketch\">\n        <div className=\"Three\" ref={ref => (this.mount = ref)}></div>\n        <canvas ref={ref => (this.canvas = ref)} />\n        {/* <button className=\"rotateL\" onClick={() => this.rotateMap(-Math.PI / 2)}>right</button>\n        <button className=\"rotateR\" onClick={() => this.rotateMap(Math.PI / 2)}>left</button> */}\n        <Modal data={this.state.currentPoint} isHidden={this.state.isModalHidden} onHide={this.onHideModal} />\n      </div>\n    )\n  }\n}\n\nconst mapStateToProps = (state) => {\n  return {\n    ui: state.ui\n  }\n}\n\nconst mapDispatchToProps = () => {\n  return {\n    doneLoadingApp,\n    setNoSketchMusic\n  }\n}\n\n\nexport default connect(mapStateToProps, mapDispatchToProps())(Oogle);\n\n","import React from 'react';\nimport { connect } from 'react-redux';\nimport Frame from '../../shared/Frame/Frame';\nimport DesktopIcon from '../../shared/DesktopIcon/DesktopIcon';\n// import Dock from '../../shared/Dock/Dock';\nimport { setSketchMusic, setSketchVolume, setSong } from '../../../store/actions/music';\nimport { mapVal, constrain, randomInRange } from '../../shared/Helpers/Helpers';\nimport './Yosemite.css';\n\nclass Yosemite extends React.Component {\n  // https://codepen.io/JohJakob/pen/YPxgwo\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      numPops: 0,\n      popTime: 3000,\n      hasStarted: false,\n      popups: this.getPopUps(),\n      numFrames: 0,\n      popW: 80\n    }\n\n    this.start = new Date();\n  }\n\n\n  componentDidMount() {\n\n    // this.popInterval = setTimeout(this.popUp, 4000);\n    this.popInterval = setTimeout(this.startPop, 9000);\n    this.props.setSketchMusic(\"yosemite\", 1, 0);\n  }\n\n  componentWillUnmount() {\n    if (this.popInterval)\n      clearInterval(this.popInterval)\n  }\n\n  componentDidUpdate(prevProps, prevState) {\n    if (prevProps.ui.compositionStarted !== this.props.ui.compositionStarted) {\n      this.popInterval = setTimeout(this.startPop, 4000);\n    }\n  }\n\n  startPop = () => {\n    if (!this.state.hasStarted) {\n      this.setState({ hasStarted: true }, this.popUp);\n    }\n  }\n\n  popUp = () => {\n\n    const { ui } = this.props;\n    let t = this.state.popTime - 200;\n    let minT = 300;\n    if (t < minT)\n      t = minT;\n\n    let numPop = this.state.numPops + 1;\n    numPop %= this.state.popups.length;\n    let popW = constrain(this.state.popW + 10, 0, 3000);\n\n    const popups = [...this.state.popups];\n    let pop = { ...popups[numPop] };\n    pop.isHidden = false;\n    // pop.w += 20;\n    pop.w = popW;\n    pop.x = randomInRange(0, ui.width - pop.w);\n    let bottom = ui.contentH;\n    let yMax = bottom - pop.w - 30;\n    let yMin = 60;\n    pop.y = randomInRange(yMin, yMax);\n    popups[numPop] = pop;\n    this.setState({ numPops: numPop, popTime: t, popups, popW })\n\n    // let blazeVal = 300;\n    // let vol = mapVal(popW, 0, blazeVal, 0, 1);\n    // if (popW > blazeVal) {\n    //   if (this.props.music.currentSong === 0) \n    //     this.props.setSong(1);\n    //   vol = mapVal(popW, blazeVal, 1000, .1, 1);\n    // }\n    let vol = mapVal(popW, 80, 300, 0, 1);\n    vol = constrain(vol, 0, 1);\n\n    this.props.setSketchVolume(vol);\n    this.popInterval = setTimeout(this.popUp, t);\n\n  }\n\n  onHide = (id) => {\n    const popups = [...this.state.popups];\n    let pop = { ...popups[id] };\n    pop.isHidden = true;\n    popups[id] = pop;\n    this.setState({ popups })\n  }\n\n  getPopUps = () => {\n    const { ui } = this.props;\n    let numPops = constrain(ui.width / 30, 20, 60);\n    // let maxS = mapVal(ui.width, 300, 5120, 130, 800);\n    // maxS = constrain(maxS, 130, 500);\n    // let minS = mapVal(ui.width, 300, 5120, 80, 130);\n    // minS = constrain(minS, 80, 130);\n\n    let popups = [];\n    for (let i = 0; i < numPops; i++) {\n\n      // let z = randomInRange(0, numPops);\n      // let w = mapVal(z, 0, numPops, minS, maxS);\n      // w = Math.floor(w);\n      let w = 80;//Math.floor(maxS);\n      let x = randomInRange(0, ui.width - w);\n      let bottom = ui.contentH;\n      // if (ui.hasFooter && ui.orientation === \"portrait\")\n      //   bottom = ui.contentH - 60;\n      let yMax = bottom - w - 30;\n      // let yMin = Math.min(yMax - 100, bottom * .75);\n      let yMin = 60;\n      let y = randomInRange(yMin, yMax);\n      let z = i;\n      let isHidden = true;\n      let classN = \"\";\n      popups.push({ x, y, z, w, isHidden, classN });\n    }\n    return popups;\n  }\n\n  render() {\n\n    // console.log(this.state.numPops)\n    // let i = 0;\n    var box = { x: 100, y: 100, w: 300, h: 200 };\n\n    return (\n      <React.Fragment>\n        <div className=\"Sketch Yosemite\">\n\n          {\n            this.state.popups.map((pop, i) => {\n              // console.log(i);\n              return (\n                <Frame\n                  windowStyle={{ background: \"rgba(0, 0, 0, .3)\" }}\n                  content={\n                    <div className=\"fyre\" ></div>\n                  }\n                  key={i}\n                  onHide={() => this.onHide(i)}\n                  isHidden={pop.isHidden}\n                  bounded={true}\n                  width={pop.w}\n                  height={pop.w}\n                  // title={i === this.state.numPops?\"ALERT\":\"\"}\n                  // className={i === this.state.numPops?\"fire\":\"\"}\n                  className=\"fire\"\n                  x={pop.x}\n                  y={pop.y}\n                  z={i === this.state.numPops ? this.state.popups.length : i}\n                />\n              );\n\n            })\n          }\n          <DesktopIcon\n            disableWindow={true}\n            onDblClick={() => this.onDblClick(0)}\n            x={this.props.ui.contentW - 150}\n            y={100}\n            width={83}\n            height={90}\n            box={box}\n            title={\"home\"}\n            content={\n              <img alt=\"fire window\" src={window.AWS + \"/shared/homeicon.png\"} width={80} height={80} />\n            }\n            frameContent={\n              <div className=\"test\">home</div>\n            }\n          />\n\n          {this.getFrames()}\n          {/* <DesktopIcon\n            title={\"home\"}\n            x={this.props.ui.width - 140}\n            y={100}\n            bounded={false}\n            box={box}\n            content={\n              <img src={window.AWS + \"/shared/homeicon.png\"} width={80} height={80} />\n            }\n            frameContent={<div></div>}\n          /> */}\n\n        </div>\n        {/* <Dock showDock={true} /> */}\n      </React.Fragment>\n    )\n  }\n\n  getFireH = () => {\n    let startW = 80;\n    let endW = 400;\n    if (this.props.width < 500)\n      endW = 80;\n    else if (this.props.width < 800)\n      endW = 200;\n    return constrain(mapVal(new Date() - this.start, 0, 20000, startW, endW), startW, endW);\n  }\n\n  onDblClick = (i) => {\n    console.log(i);\n    let { numFrames } = this.state;\n    numFrames++;\n    this.setState({ numFrames });\n  }\n\n\n  clicked = (id) => {\n    // console.log(\"clicked\")\n    this.setState({ numFrames: this.state.numFrames + 1 });\n  }\n\n  getFrames = () => {\n    const { numFrames } = this.state;\n    const { ui } = this.props;\n    let frames = [];\n    for (let i = 0; i < numFrames; i++) {\n      frames[i] = i;\n    }\n\n    //\"backups_failed\",\"autosaves_disabled\",\n    // let docNames = [[\"home\"], [\"timelines\",\"documents\"], [\"portfolio\",\"receipts\"],[\"moments\",\"portraits\",\"selfies\", \"landcapes\"], [\"browsing_history\",\"auto_saves\"],[\"close_ups\", \"nudes\"]]\n    // let docNames = [\"can_t\",\"remix\",\"burnt\",\"shit\"]\n    return (\n      <div className=\"openedFrames\">\n        {frames.map((frame, i) => {\n          let framesW = 20;\n          let startX = 100;\n          if (ui.contentW < 500) {\n            framesW = 5;\n            startX = 20;\n          }\n\n          let direction = Math.floor(frame / framesW);\n\n          let x = 0;\n          if (direction % 2 === 0)\n            x = startX + frame % framesW * 20;\n          else\n            x = startX + framesW * 20 - frame % framesW * 20;\n\n          // let t0 = docNames[i % docNames.length];\n          // let t1 = docNames[(i + 1) % docNames.length]\n\n          // let src = window.AWS + '/loop/folder.png';\n          // if (new Date() - this.start > i * 4000)\n          //   src = window.AWS + '/yosemite/fireemoji.png';\n\n          //docNames[(i)%docNames.length]\n          //docNames[(i+1)%docNames.length\n          return (\n            <Frame\n              handle={\".App\"}\n              key={frame}\n              // bounded={true}\n              x={x}\n              y={100 + frame * 20}\n              width={300}\n              height={150}\n              title={\"\"}\n              windowStyle={{ background: \"white\" }}\n              content={\n                <div className=\"burned-folders\">\n                  {this.getFolderList([\"backup_\" + (i + 1)], this.props.ui.isMobile, frame)}\n                </div>\n              }\n            />\n          )\n        })}\n      </div>\n    )\n\n  }\n\n  getFolderList = (titles, isMobile, frame) => {\n    return (\n\n      titles.map((title, i) => {\n        if (isMobile) {\n          return (\n            <div className=\"folder-item\" key={i} onClick={(event) => this.clicked(frame)}>\n              <div className=\"folder-img\" />\n              <div className=\"folder-title\">{title}</div>\n            </div>\n          )\n        }\n        return (\n          <div className=\"folder-item\" key={i} onDoubleClick={(event) => this.clicked(frame)}>\n            <div className=\"folder-img\" />\n\n            <div className=\"folder-title\">{title}</div>\n          </div>\n\n        )\n      })\n\n    )\n\n  }\n\n}\n\n\n\nconst mapStateToProps = (state) => {\n  return {\n    ui: state.ui,\n    music: state.music\n  }\n}\n\nconst mapDispatchToProps = () => {\n  return {\n    setSketchMusic,\n    setSketchVolume,\n    setSong\n  }\n}\n\n\nexport default connect(mapStateToProps, mapDispatchToProps())(Yosemite);\n\n","export default class Button {\n\n    constructor(x, y, p5) {\n        this.r = 10;\n        this.x = x;\n        this.y = y;\n        this.p5 = p5;\n    }\n\n    display(mx, my, col) {\n        this.p5.stroke(col);\n        this.p5.strokeWeight(2);\n        this.p5.noFill();\n\n        if (this.mouseOver(mx, my)) {\n            this.p5.fill(col);\n        }\n        this.p5.ellipse(this.x, this.y, this.r);\n    }\n\n    mouseOver(mx, my) {\n        let d = this.p5.dist(mx, my, this.x, this.y);\n        return d < this.r/2;\n    }\n\n\n}\n\n","import Draggable from './Draggable';\nimport {mapVal, constrain} from '../../../../../shared/Helpers/Helpers';\n\nexport default class BlindsDraggable extends Draggable {\n\n    constructor(id, x, y, w, h, blinds, shadow, p5) {\n        super(id, x, y, w, h, p5, null);\n        // super(id, x, y, w, h, p5, null, shadow);\n\n        this.isClosed = true;\n        this.closeAmt = 0;\n        this.blinds = blinds;\n    }\n\n    displayMask(pg, color) {\n        if (!this.closed && !this.minimized) {\n            pg.fill(color);\n            pg.noStroke();\n            pg.rect(this.x, this.y, this.w, this.h+this.barH, this.bRad);\n            \n            // pg.rect(this.x, this.y+this.barH, this.w, this.h, this.bRad);\n            // pg.rect(this.x, this.y+this.barH, this.w, this.barH);\n        }\n      \n    }\n\n\n    displayContent(col) {\n  \n        const dx = this.p5.mouseX - this.x;\n        // if (this.props.id == 0) console.log(pos, ogPos);\n        const dy = this.p5.mouseY - this.y;\n        const dis = Math.sqrt(dx* dx + dy*dy);\n        let maxDis = mapVal(window.innerWidth, 400, 2560, 240, 500);\n        maxDis = constrain(maxDis, 240, 500);\n        this.isClosed = dis < maxDis?true: false;\n    \n        let closeSpeed = .03;\n        if (this.isClosed) {\n            this.closeAmt += closeSpeed;\n            if (this.closeAmt > 1) \n                this.closeAmt = 1;\n        }\n        else {\n            this.closeAmt -= closeSpeed;\n            if (this.closeAmt < 0.0001)\n             this.closeAmt = 0.0001;\n        }\n\n        if (this.blinds) \n            this.p5.image(this.blinds, 0, 24, this.w, this.h * this.closeAmt*.97); //1.11//1.14\n        // super.displayContent(col);\n    }\n\n    // displayShadow() {\n\n    //     var backW = this.w * 1.25;\n    //     var backH = this.h * 1.2;\n\n    //     var backY = 0;\n\n    //     this.p5.push();\n    //     this.p5.translate(0, this.barH);\n    //     this.p5.image(this.shadow, 0, backY, backW, backH);\n    //     this.p5.pop();\n    // }\n\n}\n","import Button from './Button';\n\nexport default class Draggable {\n  constructor(id, x, y, w, h, p5, content) {\n    this.p5 = p5;\n    this.x = x;\n    this.y = y;\n    this.w = w;\n    this.h = h;\n    this.id = id;\n    this.origX = this.x;\n    this.origY = this.y;\n    this.offsetX = 0;\n    this.offsetY = 0;\n    this.toolbarH = 25;\n    // this.opacity = p5.map(this.id, 0, 20, 0, 1);\n    this.startDrag = { x: 0, y: 0 };\n    this.startDragCoords = { x: 0, y: 0 };\n\n    this.dragging = false;\n    this.locked = false;\n\n    this.closed = false;\n    this.minimized = false;\n\n    this.barH = 26;\n    this.bRad = 10;\n\n    let xp = 15;\n    let yp = 12;\n    let sp = 20;\n    this.closeButton = new Button(xp, yp, p5);\n    this.minButton = new Button(xp + sp, yp, p5);\n    this.maxButton = new Button(xp + sp * 2, yp, p5);\n\n    this.content = content;\n\n    this.sw = 2;\n    // this.mask;\n    // this.initMask();\n  }\n\n  initMask() {\n    this.mask = this.p5.createGraphics(this.w, this.h + this.barH);\n    this.mask.background(0);\n    this.mask.fill(255);\n    this.mask.noStroke();\n    // this.mask.rect(0, 0, this.w, this.h, this.bRad, this.bRad);\n    this.mask.ellipse(this.w / 2, this.h / 2, 50, 50);\n    if (this.content && this.content.width > 0) {\n\n      this.content.mask(this.mask);\n    }\n  }\n\n  display(col) {\n    this.p5.push();\n    this.p5.translate(this.x, this.y);\n    if (!this.closed) {\n      if (!this.minimized) this.displayContent(col);\n    }\n    this.p5.pop();\n  }\n\n  displayArcToolbar(fillC, strokeC) {\n    this.p5.strokeWeight(2);\n    this.p5.fill(fillC);\n    this.p5.stroke(strokeC);\n    // this.p5.push();\n\n    // this.p5.translate(this.x, this.y);\n    // top arcs\n    this.p5.arc(this.bRad, this.bRad, this.bRad * 2, this.bRad * 2, Math.PI, Math.PI + Math.PI / 2);\n    this.p5.arc(this.w - this.bRad, this.bRad, this.bRad * 2, this.bRad * 2, Math.PI + Math.PI / 2, 0);\n\n    this.p5.noStroke();\n    this.p5.rect(this.bRad, 0, this.w - this.bRad * 2, this.bRad);\n    this.p5.rect(0, this.bRad, this.w, this.barH - this.bRad);\n\n    this.p5.stroke(strokeC);\n    // top bottom\n    this.p5.line(this.bRad, 0, this.w - this.bRad, 0);\n    this.p5.line(0, this.barH, this.w, this.barH);\n    // left and right\n    this.p5.line(0, this.bRad, 0, this.barH - this.bRad);\n    this.p5.line(this.w, this.bRad, this.w, this.barH - this.bRad);\n    // this.p5.pop();\n  }\n\n  displayArcFrame(strokeC) {\n    this.p5.strokeWeight(2);\n    this.p5.noFill();\n    this.p5.stroke(strokeC);\n    // bottom arcs\n\n    this.p5.push();\n    this.p5.translate(0, this.h+this.barH - this.bRad);\n    this.p5.arc(this.bRad, 0, this.bRad * 2, this.bRad * 2, Math.PI / 2, Math.PI);\n    this.p5.arc(this.w - this.bRad, 0, this.bRad * 2, this.bRad * 2, 0, Math.PI/2);\n    this.p5.pop();\n\n    // bottom\n    this.p5.line(this.bRad, this.h + this.barH, this.w-this.bRad, this.h+this.barH);\n\n    // left and right\n    this.p5.line(0, this.bRad, 0, this.barH+this.h - this.bRad);\n    this.p5.line(this.w, this.bRad, this.w, this.barH+this.h - this.bRad);\n  }\n\n  displayToolBar(toolC, frameC, buttonC) {\n    this.p5.push();\n    this.p5.translate(this.x, this.y);\n    if (!this.closed) {\n      this.p5.fill(toolC);\n      this.p5.noStroke();\n      // this.p5.stroke(frameC);\n      // this.p5.strokeWeight(2);\n      if (!this.minimized)\n        // this.p5.rect(0, 10, this.w, (this.barH - 10));\n        this.displayArcToolbar(toolC, frameC)\n      else this.p5.rect(0, 0, this.w, this.barH, this.bRad);\n\n      let mx = this.p5.mouseX - this.x;\n      let my = this.p5.mouseY - this.y;\n\n      this.closeButton.display(mx, my, buttonC);\n      this.minButton.display(mx, my, buttonC);\n      this.maxButton.display(mx, my, buttonC);\n\n\n      if (!this.minimized)\n        this.displayArcFrame(frameC);\n      else this.displayFrame(frameC);\n      // this.p5.line(0, this.barH, this.w, this.barH);\n    }\n\n    this.p5.pop();\n\n  }\n\n  displayContent(col) {\n    // this.p5.fill(255);\n    this.p5.push();\n\n    this.p5.translate(0, this.barH);\n    if (this.content)\n      this.p5.image(this.content, 0, 0, this.w, this.h);\n    this.p5.pop();\n    this.displayFrame(col);\n\n  }\n\n  // displaySolidBack(col) {\n  //   this.p5.fill(col);\n  //   this.p5.stroke(0);\n  //   this.p5.strokeWeight(2);\n  //   this.p5.rect(0, 0, this.w, this.h + this.barH, this.bRad);\n  // }\n\n  displayFrame(col) {\n    this.p5.noFill();\n    this.p5.stroke(col);\n    this.p5.strokeWeight(this.sw);\n    this.p5.rect(0, 0, this.w, this.h + this.barH, this.bRad);\n  }\n\n  checkButtons() {\n    if (this.closed)\n      return false;\n    let mouse = { x: this.p5.mouseX, y: this.p5.mouseY };\n    mouse.x -= this.x;\n    mouse.y -= this.y;\n    if (this.closeButton.mouseOver(mouse.x, mouse.y)) {\n      this.closeWindow();\n      return true;\n    }\n    else if (this.minButton.mouseOver(mouse.x, mouse.y)) {\n      this.toggleMinimze();\n      return true;\n    }\n    else if (this.maxButton.mouseOver(mouse.x, mouse.y)) {\n      this.maximizeWindow();\n      return true;\n    }\n    return false;\n  }\n\n  checkDragging() {\n    if (this.closed)\n      return false;\n    // let mouse = { x: this.p5.mouseX, y: this.p5.mouseY };\n    // console.log(mx, my, userX, userY, this.x, this.y);\n    let overTool = this.overToolBar(this.p5.mouseX, this.p5.mouseY);\n    if (overTool) {\n      // console.log(\"over toolbar\");\n      // this.draggingOn(mx, my);\n      this.dragging = true;\n      this.startDrag.x = this.p5.mouseX;\n      this.startDrag.y = this.p5.mouseY;\n      this.startDragCoords.x = this.x;\n      this.startDragCoords.y = this.y;\n      return true;\n    }\n    return false;\n  }\n\n  overToolBar(mx, my) {\n    return mx > this.x && mx < this.x + this.w && my > this.y && my < this.y + this.barH;\n  }\n\n  // draggingOn(mx, my) {\n  //   // dragging.dragging = true;\n  //   this.offsetX = this.p5.mouseX - this.startDrag.x;\n  //   this.offsetY = this.p5.mouseY - this.startDrag.y;\n  // }\n\n  endDrag() {\n    this.dragging = false;\n  }\n\n  update() {\n    if (this.dragging) {\n      this.offsetX = this.p5.mouseX - this.startDrag.x;\n      this.offsetY = this.p5.mouseY - this.startDrag.y;\n\n      this.x = this.startDragCoords.x + this.offsetX;\n      this.y = this.startDragCoords.y + this.offsetY;\n    }\n  }\n\n  toggleCloseWindow(div) {\n    this.locked = !this.locked;\n    this.closeWindow(div);\n  }\n\n  openWindow() {\n    this.closed = false;\n    this.minimized = false;\n    this.locked = false; // ? what does this do\n  }\n\n  closeWindow() {\n    // div.style(\"display\", \"none\");\n    this.closed = true;\n  }\n\n  maximizeWindow() {\n    this.x = this.origX;\n    this.y = this.origY;\n    this.offsetX = 0;\n    this.offsetY = 0;\n  }\n\n  resetWindow(div = this.div) {\n    this.x = this.origX;\n    this.y = this.origY;\n    this.locked = false;\n    this.closeWindow(div);\n    // div.position(this.x, this.y);\n    // div.style(\"display\", \"block\");\n    this.minimized = false;\n    this.minimizeWindow(this.content);\n    // this.setSize(400);\n  }\n\n  toggleMinimze() {\n    this.minimized = !this.minimized;\n  }\n}\n","import BlindsDraggable from './Draggable/BlindsDraggable';\nimport { mapVal, constrain } from '../../../../shared/Helpers/Helpers';\n\nexport const addMobilePortraitDivs = (ui, divs, blinds, shadow, p5) => {\n    divs.windows = [];\n    const bufferW = 50;\n    // const bufferH = 50;\n    const spacing = 20;\n\n    const availW = ui.contentW - bufferW;\n    const availH = (ui.contentH - ui.toolbarH * 2 - spacing * 3) / 2;\n    const dim = Math.min(availW, availH);\n\n    const startX = (ui.contentW - dim) / 2;\n    const startY = (ui.contentH - 2 * dim - 2 * ui.toolbarH) / 3;\n\n    divs.windows.push(new BlindsDraggable(0, startX, startY, dim, dim, blinds, shadow, p5));\n    divs.windows.push(new BlindsDraggable(0, startX, startY * 2 + ui.toolbarH + dim, dim, dim, blinds, shadow, p5))\n}\n\nexport const addMobileLandscapeDivs = (ui, divs, blinds, shadow, p5) => {\n    divs.windows = [];\n    // const bufferW = 50;\n    const bufferH = 50;\n    const spacing = 20;\n\n    const availW = (ui.contentW - spacing * 3) / 2;\n    const availH = (ui.contentH - ui.toolbarH - bufferH);\n    const dim = Math.min(availW, availH);\n\n    const startX = (ui.contentW - dim * 2) / 3;\n    const startY = (ui.contentH - dim - ui.toolbarH) / 2;\n\n    divs.windows.push(new BlindsDraggable(0, startX, startY, dim, dim, blinds, shadow, p5));\n    divs.windows.push(new BlindsDraggable(0, startX * 2 + dim, startY, dim, dim, blinds, shadow, p5))\n}\n\nexport const addDesktopDivs = (ui, divs, blinds, shadow, p5) => {\n    divs.windows = [];\n\n    const bufferX = 30; // buffer\n    const bufferY = 30; // buffer\n    const spacing = 30; // between elements\n    const minW = 160;\n    const maxW = 230;\n    let w = mapVal(ui.contentW, 1440, 2560, minW, maxW);\n    w = constrain(w, minW, maxW);\n    const h = w;\n    // const imgW = (w+spacing)*4;\n    // const imgH = (h+24+spacing)*4;\n\n    let numFramesW = Math.floor((ui.contentW - 2 * bufferX + spacing) / (w + spacing));\n    let numFramesH = Math.floor((ui.contentH - 2 * bufferY + spacing) / (h + 24 + spacing));\n    numFramesW = Math.min(numFramesW, 6);\n    numFramesH = Math.min(numFramesH, 4);\n    const startX = (ui.contentW - numFramesW * (w + spacing) + spacing) / 2;\n    const startY = (ui.contentH - (h + ui.toolbarH + spacing) * numFramesH + spacing) / 2; //(window.innerHeight-this.numFramesH*(h+24+spacing)+spacing)/2;\n\n    let i = 0;\n    for (let x = 0; x < numFramesW; x++) {\n        for (let y = 0; y < numFramesH; y++) {\n            // const xx = i%2===0?x-spacing/2:x;\n            const xx = startX + x * (w + spacing);\n            const yy = startY + y * (h + spacing + 24);\n            // const xx = Math.random()*(window.innerWidth-w);\n            // const yy = Math.random()*(window.innerHeight-w-30)+30;\n            divs.windows.push(new BlindsDraggable(i++, xx, yy, w, h, blinds, shadow, p5))\n            // i++;\n        }\n\n    }\n}\n\n\nexport const drawDivSquares = (divs, mask, color) => {\n    for (const col of divs.windows) {\n        col.displayMask(mask, color);\n    }\n}\nexport const displayDivs = (divs, toolC, frameC, buttonC) => {\n    for (const col of divs.windows) {\n        col.display(frameC);\n        col.displayToolBar(toolC, frameC, buttonC);\n    }\n}\n\n\nexport function endDivDrag(divs) {\n    let keys = Object.keys(divs);\n    for (const key of keys) {\n        for (const div of divs[key])\n            div.endDrag();\n    }\n}\n\nexport function updateDivs(divs) {\n\n    let keys = Object.keys(divs);\n    for (const key of keys) {\n\n        for (const div of divs[key])\n            div.update();\n    }\n\n}\n\n\nexport const checkDivPress = (divs) => {\n    let keys = Object.keys(divs);\n    for (const key of keys) {\n        for (const div of divs[key])\n            if (checkDiv(div))\n                return true;\n    }\n    return false;\n}\n\nconst checkDiv = (div) => {\n    if (div.checkButtons()) {\n        return true;\n    }\n    else if (div.checkDragging()) {\n        return true;\n    }\n    return false;\n}\n","import React from \"react\";\nimport Sketch from \"react-p5\";\nimport { addDesktopDivs, addMobilePortraitDivs,addMobileLandscapeDivs, displayDivs, updateDivs, drawDivSquares, checkDivPress, endDivDrag, addMobilePortrait } from './components/divs';\n\nvar divs = { windows: [] };\nlet blinds;\nlet coverImg;\nlet isDragging = false;\nlet wallTexture;\n// let bkImg;\nlet shadow;\n\nlet ui;\n//////////////\n// PROPS\n\n\nexport default (props) => {\n    //   user = props.user;\n    ui = props.ui;\n\n    const preload = (p5) => {\n        const url = \"https://lmd-bucket.s3.us-east-2.amazonaws.com/sketches\";\n        blinds = p5.loadImage(url + \"/blinds/blinds_sm.png\");\n        wallTexture = p5.loadImage(url + \"/blinds/wallpaper/stuccoblk.jpg\");\n        shadow = p5.loadImage(url + \"/gallery/tracklights/black_shadow.png\");\n    }\n\n    ////////////////////////////////////////////////////////////////////////\n    // INITIALIZE\n    ////////////////////////////////////////////////////////////////////////\n    const setup = (p5, canvasParentRef) => {\n        // use parent to render the canvas in this ref\n        // (without that p5 will render the canvas outside of your component)\n\n        const cnv = p5.createCanvas(p5.windowWidth, p5.windowHeight);\n        cnv.parent(canvasParentRef);\n        cnv.mousePressed(() => canvasPressed(p5));\n\n        // let dim = getCenterCoverDim(p5, wallTexture.width, wallTexture.height);\n        // wallTexture.resize(dim.w, dim.h)\n        wallTexture.resize(wallTexture.width*.4, wallTexture.height*.4 )\n\n        if (ui.hasFooter && ui.orientation === \"portrait\")\n            addMobilePortraitDivs(ui, divs, blinds, shadow, p5)\n        else if (ui.hasFooter && ui.orientation === \"landscape\")\n            addMobileLandscapeDivs(ui, divs, blinds, shadow, p5)\n        else\n            addDesktopDivs(ui, divs, blinds, shadow, p5);\n        initGraphics(p5);\n\n        // p5.textFont(dogica, 14);\n        // p5.frameRate(20);\n\n        props.loadingDone();\n\n        // wallTexture.resize(p5.windowWidth, p5.windowHeight);\n\n    };\n\n    ////////////////////////////////////////////////////////////////////////\n    // DRAW\n    ////////////////////////////////////////////////////////////////////////\n    const draw = (p5) => {\n        p5.clear();\n        // let bkDim = getCenterCoverDim(p5, bkImg.width, bkImg.height);\n        // p5.image(bkImg, bkDim.x, bkDim.y, bkDim.w, bkDim.h);\n\n\n        p5.image(coverImg, 0, 0, p5.windowWidth, p5.windowHeight);\n        //    purple\n        // let col = p5.color(10, 0, 20, 250)\n        // let col2 = p5.color(255, 0, 255, 150);\n        // displayDivs(divs, col, col2, col2);\n\n        // white\n        // let col = p5.color(220, 255)\n        // let col2 = p5.color(255, 0);\n        // displayDivs(divs, col, col2, p5.color(100));\n\n        let buttoncol = p5.color(255);\n        let framecol = p5.color(255, 0)\n        // let toolcol = p5.color(150, 150, 100, 100);\n        let toolcol = p5.color(110, 119, 54, 180);\n        displayDivs(divs, toolcol, framecol, buttoncol);\n        updateDivs(divs);\n\n    }\n\n    const updateGraphics = (p5) => {\n        if (coverImg) {\n            coverImg.push();\n            coverImg.clear();\n            // coverImg.background(10, 0, 20);\n            coverImg.background(0)\n\n            // let dim = getCenterCoverDim(p5, wallTexture.width, wallTexture.height);\n            // coverImg.image(wallTexture, dim.x, dim.y, dim.w, dim.h);\n\n            for (let x = 0; x < coverImg.width + wallTexture.width; x += wallTexture.width) {\n                for (let y = 0; y < coverImg.height + wallTexture.height; y += wallTexture.height) {\n                    coverImg.image(wallTexture, x, y);\n                }\n            }\n\n\n            coverImg.blendMode(p5.REMOVE);\n            drawDivSquares(divs, coverImg, p5.color(255));\n            coverImg.pop();\n        }\n\n    }\n\n\n\n    const initGraphics = (p5) => {\n        coverImg = p5.createGraphics(p5.windowWidth, p5.windowHeight);\n        updateGraphics(p5);\n    }\n\n\n    const mouseDragged = (p5) => {\n        updateGraphics(p5);\n\n    }\n\n    const keyPressed = (p5) => {\n\n    }\n\n    const canvasPressed = (p5) => {\n        isDragging = true;\n        updateGraphics(p5);\n        checkDivPress(divs);\n    }\n\n\n    const mouseReleased = (p5) => {\n        endDivDrag(divs);\n        updateGraphics(p5);\n        isDragging = false;\n    }\n\n    const windowResized = (p5) => {\n        p5.resizeCanvas(p5.windowWidth, p5.windowHeight);\n        initGraphics(p5);\n\n    }\n\n    const doubleClicked = (p5) => {\n\n    }\n\n    // const maskGraphics = (pg, inputMask, p5) => {\n\n    //         if (inputMask === undefined) {\n    //           inputMask = this;\n    //         }\n    //         const currBlend = this.drawingContext.globalCompositeOperation;\n\n    //         let scaleFactor = 1;\n    //         if (inputMask instanceof p5.Renderer) {\n    //           scaleFactor = inputMask._pInst._pixelDensity;\n    //         }\n\n    //         const copyArgs = [\n    //           inputMask,\n    //           0,\n    //           0,\n    //           scaleFactor * inputMask.width,\n    //           scaleFactor * inputMask.height,\n    //           0,\n    //           0,\n    //           this.width,\n    //           this.height\n    //         ];\n\n    //         this.drawingContext.globalCompositeOperation = 'destination-in';\n    //         p5.Renderer2D.prototype.copy.apply(this, copyArgs);\n    //         this.drawingContext.globalCompositeOperation = currBlend;\n\n    //       }\n    // }\n\n    return <Sketch preload={preload} setup={setup} draw={draw} windowResized={windowResized} keyPressed={keyPressed} mouseReleased={mouseReleased} mouseDragged={mouseDragged} doubleClicked={doubleClicked} />;\n};\n\nfunction getCenterCoverDim(p5, imgW, imgH) {\n    let imgRatio = imgW / imgH;\n    let containerHeight = p5.windowHeight;\n    let containerWidth = p5.windowWidth;\n    let containerRatio = containerWidth / containerHeight;\n    if (containerRatio < imgRatio) {\n        var finalHeight = containerHeight\n        var finalWidth = (containerHeight * imgRatio)\n    }\n    else {\n        var finalWidth = containerWidth\n        var finalHeight = (containerWidth * imgRatio)\n    }\n    // center it\n    let dx = (containerWidth - finalWidth) / 2;\n    let dy = (containerHeight - finalHeight) / 2;\n    return { w: finalWidth, h: finalHeight, x: dx, y: dy };\n}","import React from 'react';\nimport \"./Blinds.css\";\n\nimport Sketch from './p5/BlindsSketch';\n\n// store\nimport { connect } from 'react-redux';\nimport { doneLoadingApp } from '../../../store/actions';\nimport { setSketchMusic } from '../../../store/actions/music';\n\nimport * as THREE from \"three\";\nimport { OBJLoader } from 'three/examples/jsm/loaders/OBJLoader.js';\n// import { AnaglyphEffect } from 'three/examples/jsm/effects/AnaglyphEffect';\nimport { OrbitControls } from 'three/examples/jsm/controls/OrbitControls.js';\n// import { Line2 } from 'three/examples/jsm/lines/Line2.js';\n// import { LineGeometry } from 'three/examples/jsm/lines/LineGeometry.js';\n// import { LineMaterial } from 'three/examples/jsm/lines/LineMaterial.js';\n// import { Wireframe } from 'three/examples/jsm/lines/Wireframe.js';\n// import { WireframeGeometry2 } from 'three/examples/jsm/lines/WireframeGeometry2.js';\n\nvar AnaglyphEffect = require('../../shared/3D/AnaglyphEffect')(THREE, false);\n\n\nclass Blinds extends React.Component {\n\n\n  constructor(props) {\n    super(props);\n\n    this.mount = React.createRef();\n  }\n\n\n  componentDidMount() {\n    this.props.setSketchMusic(\"cloud\", 0, .2);\n    this.scene = new THREE.Scene();\n    this.columns = [];\n    this.hercules = [];\n\n    this.framesSpacing = 200;\n    this.numFrames = 10;\n\n    this.initCamera();\n    this.initRenderer(this.mount);\n    this.initControls();\n    this.initLights();\n    this.initFloor();\n    this.initGround();\n    // this.initSkybox();\n    this.initStatues();\n    this.initEffect();\n    this.initFrames();\n\n    window.addEventListener('resize', this.onWindowResize, false);\n\n    this.startAnimationLoop();\n  }\n\n  componentWillUnmount() {\n    window.removeEventListener('resize', this.onWindowResize);\n    window.cancelAnimationFrame(this.requestID);\n    this.controls.dispose();\n  }\n\n  initCamera = () => {\n\n    // CAMERA\n    var SCREEN_WIDTH = window.innerWidth, SCREEN_HEIGHT = window.innerHeight;\n    var VIEW_ANGLE = 45, ASPECT = SCREEN_WIDTH / SCREEN_HEIGHT, NEAR = 0.1, FAR = 20000;\n    this.camera = new THREE.PerspectiveCamera(VIEW_ANGLE, ASPECT, NEAR, FAR);\n    this.scene.add(this.camera);\n    this.scene.fog = new THREE.FogExp2(0xccddbb, 0.002);//efd1b5\n    this.camera.position.set(0, 100, 400);\n    this.camera.lookAt(this.scene.position);\n\n  }\n\n\n  initRenderer = (mount) => {\n    this.renderer = new THREE.WebGLRenderer();\n    this.renderer.setPixelRatio(window.devicePixelRatio);\n    this.renderer.setSize(window.innerWidth, window.innerHeight);\n    mount.appendChild(this.renderer.domElement);\n    // renderer.setClearColor(0xffff00, 1);\n  }\n\n  initControls = () => {\n    this.controls = new OrbitControls(this.camera, this.renderer.domElement);\n  }\n\n  initLights = () => {\n    // LIGHT\n    var light = new THREE.PointLight(0xdddddd);\n    light.position.set(-100, 200, 260);\n    this.scene.add(light);\n  }\n\n  initFloor = () => {\n    // FLOOR\n    var floorTexture = new THREE.TextureLoader().load(window.AWS + \"/blinds/wallpaper/blkmar.jpg\");\n    floorTexture.wrapS = floorTexture.wrapT = THREE.RepeatWrapping;\n    floorTexture.repeat.set(4, 4);\n    this.floorMaterial = new THREE.MeshBasicMaterial({ map: floorTexture, side: THREE.BackSide });\n    var floorGeometry = new THREE.PlaneGeometry(1000, 1500, 10, 10);\n    var floor = new THREE.Mesh(floorGeometry, this.floorMaterial);\n    floor.position.y = -0.5;\n    floor.rotation.x = Math.PI / 2;\n    floor.position.z = - 200\n    this.scene.add(floor);\n  }\n\n  // initSkybox = () => {\n  //   // SKYBOX\n  //   var skyBoxGeometry = new THREE.CubeGeometry(10000, 10000, 10000);\n  //   // var skyBoxMaterial = new THREE.MeshBasicMaterial({ color: 0x000000, side: THREE.BackSide });\n  //   var skyBox = new THREE.Mesh(skyBoxGeometry, this.floorMaterial);\n  //   this.scene.add(skyBox);\n  // }\n\n\n  initStatues = () => {\n    const objLoader = new OBJLoader();\n    objLoader.load(window.AWS + \"/blinds/models/column/column_blend.obj\", (root) => {\n      var column = root;\n      var mat = new THREE.MeshLambertMaterial({ color: 0xdd0000 });\n      column.material = mat;\n      column.scale.set(60, 60, 60);\n      column.position.set(0, 80, 0);\n      this.columns.push(column)\n      // scene.add(column);\n\n      for (let i = 0; i < 10; i++) {\n        let newCL = column.clone();\n        newCL.position.set(-200, 78, i * -100 + 100);\n        newCL.material = mat;\n        this.scene.add(newCL);\n        this.columns.push(newCL);\n\n        let newCR = column.clone();\n        newCR.position.set(200, 78, i * -100 + 100);\n        this.scene.add(newCR);\n        this.columns.push(newCR);\n      }\n\n    });\n\n    objLoader.load(window.AWS + \"/blinds/models/hercules/hercules.obj\", (root) => {\n      var hercules = root;\n      var mat = new THREE.MeshLambertMaterial({ color: 0xdddddd });\n      hercules.material = mat;\n      let sc = 2;\n      hercules.scale.set(sc, sc, sc);\n      hercules.rotation.y = -3;\n      hercules.position.set(0, 40, 260);\n      // this.hercules.push(hercules);\n      this.scene.add(hercules);\n\n      // for (let i = 0; i < 4; i++) {\n      //   let newCL = hercules.clone();\n      //   // newCL.position.set(-100, 0, i * -150 + 200);\n      //   this.scene.add(newCL);\n      //   this.hercules.push(newCL);\n\n      //   // let newCR = hercules.clone();\n      //   // newCR.position.set(100, 0, i * -200 + 200);\n      //   // newCR.rotation.set(0, -Math.PI / 3, 0);\n      //   // this.scene.add(newCR);\n      //   // this.hercules.push(newCR);\n      // }\n\n    });\n\n    objLoader.load(window.AWS + \"/blinds/models/blockchain/model.obj\", (root) => {\n      var fence = root;\n      var mat = new THREE.MeshLambertMaterial({ color: 0xdddddd });\n      fence.material = mat;\n      let sc = 200;\n      fence.scale.set(sc, sc, sc);\n\n      for (let i = 0; i < 3; i++) {\n        var fenceR = fence.clone();\n        fenceR.rotation.y = 2;\n        fenceR.position.set(-50 - i * 30, 40, 260 - 200 * i);\n        // this.hercules.push(hercules);\n        this.scene.add(fenceR);\n\n        var fenceL = fence.clone();\n        fenceL.rotation.y = -2;\n        fenceL.position.set(50 + i * 30, 40, 260 - 200 * i);\n        this.scene.add(fenceL);\n      }\n\n    });\n\n\n  }\n\n  initEffect = () => {\n    var width = window.innerWidth || 2;\n    var height = window.innerHeight || 2;\n\n    this.effect = new AnaglyphEffect(this.renderer, width, height);\n    this.effect.setSize(width, height);\n  }\n\n  initGround = () => {\n\n    const size = 500;\n    const divisions = 70;\n\n    const gridHelper = new THREE.GridHelper(size, divisions);\n    this.scene.add(gridHelper);\n  }\n\n  initFrames = () => {\n    this.frames = [];\n    const texture = new THREE.TextureLoader().load(window.AWS + \"/blinds/frame.png\");\n    const material = new THREE.MeshBasicMaterial({ map: texture, transparent: true });\n    for (let i = 0; i < this.numFrames; i++) {\n      const frameH = 100;\n      const geometry = new THREE.BoxGeometry(frameH, frameH, 1);\n\n      const frame = new THREE.Mesh(geometry, material);\n      frame.position.z = -i * this.framesSpacing;\n      frame.position.y = frameH / 2 + 20;\n\n      this.frames.push(frame);\n      this.scene.add(frame);\n    }\n  }\n  updateFrames = () => {\n    for (let i = 0; i < this.frames.length; i++) {\n      const frame = this.frames[i];\n      frame.position.z += .7;\n      if (frame.position.z > 1000)\n        frame.position.z = -1000;\n    }\n  }\n\n  loadingDone = () => {\n    this.props.doneLoadingApp();\n  }\n\n  onWindowResize = () => {\n    this.camera.aspect = window.innerWidth / window.innerHeight;\n    this.camera.updateProjectionMatrix();\n    // renderer.setSize(window.innerWidth, window.innerHeight);\n    this.effect.setSize(window.innerWidth, window.innerHeight);\n  }\n\n  startAnimationLoop = () => {\n    if (this.controls)\n      this.controls.update();\n    for (const c of this.columns)\n      c.rotation.y += .02;\n    this.effect.render(this.scene, this.camera);\n    this.requestID = window.requestAnimationFrame(this.startAnimationLoop);\n\n    this.updateFrames();\n  }\n\n\n  render() {\n    const { ui } = this.props;\n    return (\n      <div className=\"Blinds Sketch\" >\n        <div className=\"Three\" ref={ref => (this.mount = ref)} />\n        {ui.loading ? <div className=\"backgroundCover\" style={{ backgroundColor: \"black\" }} /> : null}\n        <Sketch className=\"p5sketch\" ui={ui} loadingDone={this.loadingDone} />\n\n\n      </div>\n\n    )\n  }\n}\n\n\n\n\nconst mapStateToProps = (state) => {\n  return {\n    ui: state.ui\n  }\n}\n\nconst mapDispatchToProps = () => {\n  return {\n    doneLoadingApp,\n    setSketchMusic\n  }\n}\n\n\nexport default connect(mapStateToProps, mapDispatchToProps())(Blinds);\n","import React from 'react';\nimport Frame from '../../../../shared/Frame/Frame';\nimport './LikeButton.css';\n\nexport default function LikeButton(props) {\n    const { x, y, w, h, heartClicked } = props;\n    //    const w = 80;\n    //    const h = 34;\n    return (\n\n        <Frame title=\"\" content={\n            <div className=\"LikeButton\">\n                <div className=\"btn\"\n                    style={{ width: w-10, height: h-10 }}\n                    onClick={() => heartClicked(1)}\n                />\n            </div>\n        }\n            width={w} height={h} x={x} y={y}\n        />\n    )\n}","import { mapVal, constrain } from '../../../../shared/Helpers/Helpers';\n\nexport function getDim(ui) {\n    if (ui.hasFooter || ui.isMobile) {\n        if (ui.orientation === \"landscape\")\n            return getMobileDimHoriz(ui);\n        else\n            return getMobileDimVert(ui);\n    }\n    return getDimDesktop(ui);\n}\n\nconst maxFontS = 60;\n\nfunction getMobileDimHoriz(ui) {\n    let isVert = false;\n    let w;\n\n    let buttonW = 80;\n    let buttonH = 34;\n    let buffer = 20;\n    let availW = ui.contentW - 3 * buffer - buttonW;\n\n    let fontS = mapVal(availW, 0, 800, 18, 32);\n    fontS = Math.floor(constrain(fontS, 18, 32));\n    let h = fontS + 10;\n    // buttonW = h;\n    buttonH = h;\n\n    let repeats = Math.floor(availW / fontS / 5);\n    w = repeats * 5 * fontS + 10;\n\n    buttonW = Math.floor((h / buttonH) * buttonW);\n\n    let barW = buttonW + w + buffer;\n    let xB = (ui.contentW - barW) / 2;\n    let x = xB + buttonW + buffer;\n    let y = ui.contentH - h - ui.toolbarH - 20;\n    let yB = y;\n\n    return { x, y, w, h, xB, yB, bW: buttonW, bH: buttonH, fontS, repeats, isVert };\n}\n\nfunction getMobileDimVert(ui) {\n    let isVert = true;\n    let w = 80;\n\n    let buffer = 20;\n    let buttonH = 80;\n    let buttonW = 80;\n\n    let availH = ui.contentH - 3 * buffer - ui.toolbarH * 2 - buttonH;\n\n    let fontS = mapVal(availH, 0, 800, 18, 32);\n    fontS = Math.floor(constrain(fontS, 18, 32));\n\n\n    let repeats = Math.floor(availH / fontS / 5);\n    let h = repeats * 5 * fontS + 10;\n\n    let barH = ui.toolbarH * 2 + buttonH + h + buffer;\n    let yB = (ui.contentH - barH) / 2;\n    let y = yB + ui.toolbarH + buttonH + buffer;\n    let x = ui.contentW - w - buffer;\n    let xB = x;\n\n    return { x, y, xB, yB, bW: buttonW, bH: buttonH, w, h, fontS, repeats, isVert };\n}\n\nfunction getDimDesktop(ui) {\n    let isVert = false;\n    let w = 80;\n    let x, y;\n\n    let availLen = 0;\n    let buffer = 20;\n\n\n    if (isVert) {\n        availLen = ui.contentH - 2 * buffer - ui.toolbarH;\n    }\n    else {\n        availLen = ui.contentW - 2 * buffer;\n    }\n    let fontS = mapVal(ui.contentW, 1400, 2500, 30, maxFontS);\n    fontS = Math.floor(constrain(fontS, 30, maxFontS));\n\n    let maxLen = fontS * 20 + 10;\n    let h = Math.min(availLen, maxLen);\n\n    let repeats = Math.floor(h / fontS / 5);\n    h = repeats * 5 * fontS + 10;\n\n    if (!isVert) {\n        w = h;\n        h = fontS + 10;\n        y = (ui.contentH - h - ui.toolbarH) * .9;\n        x = (ui.contentW - w) / 2;\n    }\n    else {\n        y = (ui.contentH - h - ui.toolbarH) / 2;\n        x = ui.contentW * .1;\n    }\n\n    return { x, y, w, h, bW: 0, bH: 0, fontS, repeats, isVert };\n\n}\n","import React from 'react';\nimport './EmojiMonitor.css';\nimport LikeButton from '../LikeButton/LikeButton';\nimport Frame from '../../../../shared/Frame/Frame';\nimport { mapVal } from '../../../../shared/Helpers/Helpers';\nimport { getDim } from './Helper';\n\nimport { connect } from 'react-redux';\n\nclass EmojiMonitor extends React.Component {\n\n    componentDidMount() {\n\n    }\n\n    componentWillUnmount() {\n\n    }\n\n\n\n    render() {\n\n        // const w = 200;\n        // const h = 200;\n        const { heartRate, maxHeart, ui, heartClicked } = this.props;\n        const dim = getDim(ui);\n        const { x, y, w, h, xB, yB, bW, bH, fontS, repeats, isVert } = dim;\n\n        let emojis = this.getEmojis(repeats);\n\n        let hr = Math.floor(heartRate);\n        if (hr > 40)\n            hr = Math.floor(heartRate / 5) * 5;\n        // let hearts = new Array(20).fill(0);\n        const numHearts = Math.floor(mapVal(heartRate, 30, maxHeart, 0, emojis.length));\n\n\n        return (\n            <React.Fragment>\n                <Frame title=\"\" content={\n                    <div className=\"Emoji-Monitor\">\n                        <div style={{ fontSize: fontS }} className={\"pulse-emojis\" + (isVert ? \" vert\" : \"\")}>\n                            {emojis.map((emoji, i) => {\n                                let classN = \"light\";\n                                if (i < numHearts) {\n                                    classN = \"full\"\n                                }\n                                classN += \" emoji-bar\";\n                                // if (!emojis[i])\n                                //     return <div key={i} className={classN} style={{width: fontS, height: fontS}} />\n                                return <div key={i} className={classN} style={{width: fontS, height: fontS, backgroundImage: `url(https://lmd-bucket.s3.us-east-2.amazonaws.com/sketches/clickMe/emojiBar/${ emoji}.png)`}}></div>\n                            })}\n                        </div>\n                    </div>\n                }\n                    width={w} height={h} x={x} y={y}\n                />\n                {(ui.hasFooter || ui.isMobile) ?\n                    <LikeButton x={xB} y={yB} w={bW} h={bH} heartClicked={heartClicked} /> :\n                    null\n                }\n            </React.Fragment>\n        )\n    }\n\n\n    getEmojis = (repeats) => {\n        //,\"\",\n        // let emojiList = [\n        //     \"\", \"\", \"\", \"\", \"\"\n        // ];\n        let emojiList=[\"heart\", \"kiss\", \"fire\",\"explosion\",\"hot\"]\n        let ems = [];\n        for (const emoji of emojiList) {\n            for (let i = 0; i < repeats; i++) {\n                ems.push(emoji);\n            }\n        }\n        return ems;\n    }\n}\n\n\n\nconst mapStateToProps = (state) => {\n    return {\n        ui: state.ui\n    }\n}\n\nconst mapDispatchToProps = () => {\n    return {\n        // doneLoadingApp,\n    }\n}\n\n\nexport default connect(mapStateToProps, mapDispatchToProps())(EmojiMonitor);\n","import React from 'react';\nimport Frame from '../../../../shared/Frame/Frame';\nimport {mapVal} from '../../../../shared/Helpers/Helpers';\n\n// import './Rose.css';\n\nexport default function Rose(props) {\n    const { x, y, w, heartRate} = props;\n    const h = w;\n\n    const numFrames = 37;\n    let fr = Math.floor(mapVal(heartRate, 30, 400, 0, numFrames));\n    let dx = -fr*w;\n\n    const roseStyle = {\n        backgroundImage: `url(\"${window.AWS}/clickMe/rosesprite3.png\")`,\n        backgroundSize: \"cover\",\n        backgroundPosition: `${dx}px 0px`,\n        width: w,\n        height: h\n    };\n\n    \n\n    return (\n\n        <Frame title=\"\" content={\n            <div className=\"rose\" style={roseStyle} />\n\n        }\n            width={w} height={h} x={x} y={y}\n        />\n    )\n}\n","import React from 'react';\nimport { mapVal, constrain } from '../../../../shared/Helpers/Helpers';\nimport { getDim } from '../EmojiMonitor/Helper';\nimport Rose from './Rose';\n\n// import './Rose.css';\n\nexport default function Roses(props) {\n    const { ui, hR, hT } = props;\n    const dim = getDim(ui);\n    const { x, y, w, h } = dim;\n\n    let roseDim = mapVal(ui.contentW, 1400, 2500, 80, 120);\n    roseDim = constrain(roseDim, 80, 120);\n    roseDim = Math.floor(roseDim);\n    const roseBuffer = 20;\n\n    const roseBL = { x: x - roseDim - roseBuffer, y: y - (ui.toolbarH + roseDim) / 2 };\n    const roseBR = { x: x + w + roseBuffer, y: roseBL.y };\n\n    const roseTL = { x: x, y: ui.contentH - y - ui.toolbarH - h };\n    const roseTR = { x: x + w - roseDim, y: roseTL.y };\n\n    const bigRoseTL = { x: roseTL.x - roseBuffer - roseDim * 2, y: roseTL.y + roseDim };\n    const bigRoseTR = { x: roseTR.x + roseBuffer + roseDim, y: bigRoseTL.y };\n\n    return (\n\n        <React.Fragment>\n            {/* <Pulse heartRate={this.state.hR} maxHeart={maxHeart} /> */}\n            <Rose w={roseDim * 2} x={bigRoseTL.x} y={bigRoseTL.y} heartRate={hR} heartTotal={hT} />\n            <Rose w={roseDim * 2} x={bigRoseTR.x} y={bigRoseTR.y} heartRate={hR} heartTotal={hT} />\n\n            <Rose w={roseDim} x={roseBL.x} y={roseBL.y} heartRate={hR} heartTotal={hT} />\n            <Rose w={roseDim} x={roseBR.x} y={roseBR.y} heartRate={hR} heartTotal={hT} />\n            <Rose w={roseDim} x={roseTL.x} y={roseTL.y} heartRate={hR} heartTotal={hT} />\n            <Rose w={roseDim} x={roseTR.x} y={roseTR.y} heartRate={hR} heartTotal={hT} />\n            {/* <Rose w={roseDim} x={500} y={100} heartRate={hR} heartTotal={hT} /> */}\n        </React.Fragment>\n    )\n}\n","import React from 'react';\nimport \"./ClickMe.css\";\n\n// import Pulse from './components/Pulse/Pulse';\nimport EmojiMonitor from './components/EmojiMonitor/EmojiMonitor';\nimport Roses from './components/Roses/Roses';\n// import { getDim } from './components/EmojiMonitor/Helper';\n\n// import Chat from './old/Chat';\n// import Frame from '../../shared/Frame/Frame';\nimport { constrain, mapVal } from '../../shared/Helpers/Helpers';\n\n// store\nimport { connect } from 'react-redux';\nimport { doneLoadingApp } from '../../../store/actions';\nimport { setSketchMusic, setSketchVolume } from '../../../store/actions/music';\n\nimport * as THREE from \"three\";\nimport { OBJLoader } from 'three/examples/jsm/loaders/OBJLoader.js';\nimport { MTLLoader } from 'three/examples/jsm/loaders/MTLLoader.js';\nimport { OrbitControls } from 'three/examples/jsm/controls/OrbitControls.js';\n\nimport { GUI } from 'three/examples/jsm/libs/dat.gui.module.js';\nimport { LightningStrike } from 'three/examples/jsm/geometries/LightningStrike.js';\n// import { LightningStorm } from 'three/examples/jsm/objects/LightningStorm.js';\nimport { EffectComposer } from 'three/examples/jsm/postprocessing/EffectComposer.js';\nimport { RenderPass } from 'three/examples/jsm/postprocessing/RenderPass.js';\nimport { OutlinePass } from 'three/examples/jsm/postprocessing/OutlinePass.js';\n\n\nvar AnaglyphEffect = require('../../shared/3D/AnaglyphEffect')(THREE, false);\nvar mouse;\nvar heartRate = 60;\nvar heartVelocity = 0;\nvar heartAcceleration = -.01;\nvar heartTotal = 0;\nconst maxHeart = 400;\n// var lastPump = new Date();\n\nclass ClickMe extends React.Component {\n\n\n    constructor(props) {\n        super(props);\n\n        this.mount = React.createRef();\n\n        this.state = {\n            cursor: 0,\n            // heartRate: 60,\n            // lastPump: new Date(),\n            heartSz: 1,\n            hR: heartRate,\n            hT: 0,\n            pulse: 0\n        }\n    }\n\n\n    componentDidMount() {\n        this.props.setSketchMusic(\"clickMe\", 0, 0);\n\n        this.interval = setInterval(this.setHeart, 20);\n        this.props.addClass(\"clickMe\");\n\n        let width, height;\n        let scene, renderer, composer, gui;\n        let anaglyphEffect;\n        let currentSceneIndex = 0;\n        let currentTime = 0;\n        let blinds = [];\n        let heart;\n        let face;\n        let showLightning = true;\n\n        const sceneCreators = [\n            createPlasmaBallScene\n        ];\n\n        const clock = new THREE.Clock();\n\n        const raycaster = new THREE.Raycaster();\n        mouse = new THREE.Vector2();\n        mouse.x = -1;\n        mouse.y = 0;\n        mouse.z = 0;\n\n        init(this.mount);\n        animate();\n\n        function init(mount) {\n\n            renderer = new THREE.WebGLRenderer();\n            renderer.setPixelRatio(window.devicePixelRatio);\n            renderer.setSize(window.innerWidth, window.innerHeight);\n            mount.appendChild(renderer.domElement);\n\n            var width = window.innerWidth || 2;\n            var height = window.innerHeight || 2;\n            anaglyphEffect = new AnaglyphEffect(renderer, width, height);\n            anaglyphEffect.setSize(width, height);\n\n            composer = new EffectComposer(renderer);\n\n\n            createScene();\n            initFace();\n            initJar();\n            initHeart();\n            initBlinds();\n        }\n\n        function createScene() {\n\n            scene = sceneCreators[currentSceneIndex]();\n\n            createGUI();\n\n        }\n\n        function onWindowResize() {\n            scene.userData.camera.aspect = window.innerWidth / window.innerHeight;\n            scene.userData.camera.updateProjectionMatrix();\n\n            renderer.setSize(window.innerWidth, window.innerHeight);\n\n            composer.setSize(window.innerWidth, window.innerHeight);\n            anaglyphEffect.setSize(window.innerWidth, window.innerHeight);\n        }\n\n\n\n        function createGUI() {\n\n            if (gui) {\n\n                gui.destroy();\n\n            }\n\n            gui = new GUI({ width: 350 });\n            gui.hide();\n            const sceneFolder = gui.addFolder(\"Scene\");\n\n            scene.userData.sceneIndex = currentSceneIndex;\n\n            sceneFolder.add(scene.userData, 'sceneIndex', { \"Electric Cones\": 0, \"Plasma Ball\": 1, \"Storm\": 2 }).name('Scene').onChange(function (value) {\n\n                currentSceneIndex = value;\n\n                createScene();\n\n            });\n\n            scene.userData.timeRate = 1;\n            sceneFolder.add(scene.userData, 'timeRate', scene.userData.canGoBackwardsInTime ? - 1 : 0, 1).name('Time rate');\n\n            sceneFolder.open();\n\n            const graphicsFolder = gui.addFolder(\"Graphics\");\n\n            graphicsFolder.add(scene.userData, \"outlineEnabled\").name(\"Glow enabled\");\n\n            scene.userData.lightningColorRGB = [\n                scene.userData.lightningColor.r * 255,\n                scene.userData.lightningColor.g * 255,\n                scene.userData.lightningColor.b * 255\n            ];\n            graphicsFolder.addColor(scene.userData, 'lightningColorRGB').name('Color').onChange(function (value) {\n\n                scene.userData.lightningMaterial.color.setRGB(value[0], value[1], value[2]).multiplyScalar(1 / 255);\n\n            });\n            scene.userData.outlineColorRGB = [\n                scene.userData.outlineColor.r * 255,\n                scene.userData.outlineColor.g * 255,\n                scene.userData.outlineColor.b * 255\n            ];\n            graphicsFolder.addColor(scene.userData, 'outlineColorRGB').name('Glow color').onChange(function (value) {\n\n                scene.userData.outlineColor.setRGB(value[0], value[1], value[2]).multiplyScalar(1 / 255);\n\n            });\n\n            graphicsFolder.open();\n\n            const rayFolder = gui.addFolder(\"Ray parameters\");\n\n            rayFolder.add(scene.userData.rayParams, 'straightness', 0, 1).name('Straightness');\n            rayFolder.add(scene.userData.rayParams, 'roughness', 0, 1).name('Roughness');\n            rayFolder.add(scene.userData.rayParams, 'radius0', 0.1, 10).name('Initial radius');\n            rayFolder.add(scene.userData.rayParams, 'radius1', 0.1, 10).name('Final radius');\n            rayFolder.add(scene.userData.rayParams, 'radius0Factor', 0, 1).name('Subray initial radius');\n            rayFolder.add(scene.userData.rayParams, 'radius1Factor', 0, 1).name('Subray final radius');\n            rayFolder.add(scene.userData.rayParams, 'timeScale', 0, 5).name('Ray time scale');\n            rayFolder.add(scene.userData.rayParams, 'subrayPeriod', 0.1, 10).name('Subray period (s)');\n            rayFolder.add(scene.userData.rayParams, 'subrayDutyCycle', 0, 1).name('Subray duty cycle');\n\n            if (scene.userData.recreateRay) {\n\n                // Parameters which need to recreate the ray after modification\n\n                const raySlowFolder = gui.addFolder(\"Ray parameters (slow)\");\n\n                raySlowFolder.add(scene.userData.rayParams, 'ramification', 0, 15).step(1).name('Ramification').onFinishChange(function () {\n\n                    scene.userData.recreateRay();\n\n                });\n\n                raySlowFolder.add(scene.userData.rayParams, 'maxSubrayRecursion', 0, 5).step(1).name('Recursion').onFinishChange(function () {\n\n                    scene.userData.recreateRay();\n\n                });\n\n                raySlowFolder.add(scene.userData.rayParams, 'recursionProbability', 0, 1).name('Rec. probability').onFinishChange(function () {\n\n                    scene.userData.recreateRay();\n\n                });\n\n                raySlowFolder.open();\n\n            }\n\n            rayFolder.open();\n\n        }\n\n\n\n        function animate() {\n            requestAnimationFrame(animate);\n\n            render();\n            // stats.update();\n\n        }\n\n        function render() {\n            if (window.innerWidth !== width || window.innerHeight !== height) {\n                width = window.innerWidth;\n                height = window.innerHeight;\n                onWindowResize();\n            }\n\n            currentTime += scene.userData.timeRate * clock.getDelta();\n\n            if (currentTime < 0) {\n\n                currentTime = 0;\n\n            }\n\n\n            heartPump();\n\n            scene.userData.render(currentTime);\n            if (scene.userData.rayParams.ramification) {\n                let ram = Math.floor(mapVal(heartRate, 30, maxHeart, 1, 12));\n                if (ram !== scene.userData.rayParams.ramification) {\n                    scene.userData.rayParams.ramification = ram;\n                    scene.userData.recreateRay();\n                }\n\n            }\n\n\n            if (blinds[0]) {\n                const hr = mapVal(heartRate, 30, maxHeart, .2, 8);\n                for (const blind of blinds) {\n                    blind.position.y += hr;\n                    if (blind.position.y > 2000)\n                        blind.position.y = -2000;\n                }\n            }\n        }\n\n        function createOutline(scene, objectsArray, visibleColor) {\n\n            const outlinePass = new OutlinePass(new THREE.Vector2(window.innerWidth, window.innerHeight), scene, scene.userData.camera, objectsArray);\n            outlinePass.edgeStrength = 2.5;\n            outlinePass.edgeGlow = 0.7;\n            outlinePass.edgeThickness = 2.8;\n            outlinePass.visibleEdgeColor = visibleColor;\n            outlinePass.hiddenEdgeColor.set(0);\n            composer.addPass(outlinePass);\n\n            scene.userData.outlineEnabled = true;\n\n            return outlinePass;\n\n        }\n\n        function createPlasmaBallScene() {\n\n            const scene = new THREE.Scene();\n\n            scene.userData.canGoBackwardsInTime = true;\n\n            scene.userData.camera = new THREE.PerspectiveCamera(27, window.innerWidth / window.innerHeight, 10, 50000);\n\n            const ballScene = new THREE.Scene();\n            ballScene.background = new THREE.Color(0x454545);\n\n            // Lights\n\n            const ambientLight = new THREE.AmbientLight(0x444444);\n            scene.add(ambientLight);\n\n            const light1 = new THREE.DirectionalLight(0xffffff, 0.5);\n            light1.position.set(1, 1, 1);\n            scene.add(light1);\n\n            const light2 = new THREE.DirectionalLight(0xffffff, 1.5);\n            light2.position.set(- 0.5, 1, 0.2);\n            scene.add(light2);\n\n            // const light3 = new THREE.DirectionalLight(0xffffff, 1.5);\n            // light3.position.set(- 0.5, 100, -200);\n            // scene.add(light3);\n\n            // Plasma ball\n\n            scene.userData.lightningColor = new THREE.Color(0x00FF00);\n            scene.userData.outlineColor = new THREE.Color(0x00FF00);\n\n            scene.userData.lightningMaterial = new THREE.MeshBasicMaterial({ color: scene.userData.lightningColor, side: THREE.DoubleSide });\n\n\n\n            const sphereMaterial = new THREE.MeshPhongMaterial({ color: 0xdddddd, specular: 0x009900, shininess: 30 });\n\n            const sphereHeight = 300;\n            const sphereRadius = 800;\n\n            scene.userData.camera.position.set(0, 2 * sphereHeight, 8 * 200);\n\n            const sphereMesh = new THREE.Mesh(new THREE.SphereGeometry(sphereRadius, 80, 40), sphereMaterial);\n            sphereMesh.position.set(0, sphereHeight, 0);\n            // scene.add(sphereMesh);\n\n            const sphere = new THREE.Sphere(sphereMesh.position, sphereRadius);\n\n            // const spherePlasma = new THREE.Mesh(new THREE.SphereGeometry(sphereRadius * 0.05, 24, 12), scene.userData.lightningMaterial);\n            // spherePlasma.position.copy(sphereMesh.position);\n            // spherePlasma.scale.y = 0.6;\n            // scene.add(spherePlasma);\n\n            // const post = new THREE.Mesh(\n            //     new THREE.CylinderGeometry(sphereRadius * 0.06, sphereRadius * 0.06, sphereHeight, 6, 1, true),\n            //     new THREE.MeshLambertMaterial({ color: 0x020202 })\n            // );\n            // post.position.y = sphereHeight * 0.5 - sphereRadius * 0.05 * 1.2;\n            // scene.add(post);\n\n            // const box = new THREE.Mesh(new THREE.BoxGeometry(sphereHeight * 0.5, sphereHeight * 0.1, sphereHeight * 0.5), post.material);\n            // box.position.y = sphereHeight * 0.05 * 0.5;\n            // scene.add(box);\n\n            const rayDirection = new THREE.Vector3();\n            let rayLength = 0;\n            const vec1 = new THREE.Vector3();\n            const vec2 = new THREE.Vector3();\n\n            const start = { ...sphereMesh.position };\n            start.z = -200;\n            scene.userData.rayParams = {\n\n                sourceOffset: start, //sphereMesh.position,\n                destOffset: new THREE.Vector3(sphereRadius, 0, 0).add(sphereMesh.position),\n                radius0: 4,\n                radius1: 4,\n                radius0Factor: 0.82,\n                minRadius: 2.5,\n                maxIterations: 6,\n                isEternal: true,\n\n                timeScale: 0.6,\n                propagationTimeFactor: 0.15,\n                vanishingTimeFactor: 0.87,\n                subrayPeriod: 0.8,\n                ramification: 2,\n                recursionProbability: 0.8,\n\n                roughness: 0.85,\n                straightness: 0.7,\n\n                onSubrayCreation: function (segment, parentSubray, childSubray, lightningStrike) {\n\n                    lightningStrike.subrayConePosition(segment, parentSubray, childSubray, 0.6, 0.9, 0.7);\n\n                    // THREE.Sphere projection\n\n                    vec1.subVectors(childSubray.pos1, lightningStrike.rayParameters.sourceOffset);\n                    vec2.set(0, 0, 0);\n\n                    if (lightningStrike.randomGenerator.random() < 0.7) {\n\n                        vec2.copy(rayDirection).multiplyScalar(rayLength * 1.0865);\n\n                    }\n\n                    vec1.add(vec2).setLength(rayLength);\n                    childSubray.pos1.addVectors(vec1, lightningStrike.rayParameters.sourceOffset);\n\n                }\n\n            };\n\n            scene.userData.rayParams2 = { ...scene.userData.rayParams };\n            let lightningStrike;\n            let lightningStrikeMesh;\n            let lightningStrike2;\n            let lightningStrikeMesh2;\n            const outlineMeshArray = [];\n            const outlineMeshArray2 = [];\n\n            scene.userData.recreateRay = function () {\n\n                if (lightningStrikeMesh) {\n                    scene.remove(lightningStrikeMesh);\n                }\n                // if (lightningStrikeMesh2)\n                //     scene.remove(lightningStrikeMesh2);\n\n                lightningStrike = new LightningStrike(scene.userData.rayParams);\n                lightningStrikeMesh = new THREE.Mesh(lightningStrike, scene.userData.lightningMaterial);\n\n\n                ;\n                // lightningStrike2 = new LightningStrike(scene.userData.rayParams2);\n                // lightningStrikeMesh2 = new THREE.Mesh(lightningStrike2, scene.userData.lightningMaterial);\n\n                // outlineMeshArray.length = 0;\n                // outlineMeshArray.push(lightningStrikeMesh);\n\n\n                scene.add(lightningStrikeMesh);\n                // scene.add(lightningStrikeMesh2);\n\n            };\n\n\n            scene.userData.recreateRay();\n\n            // Compose rendering\n\n            composer.passes = [];\n\n            composer.addPass(new RenderPass(ballScene, scene.userData.camera));\n\n            const rayPass = new RenderPass(scene, scene.userData.camera);\n            rayPass.clear = false;\n            composer.addPass(rayPass);\n\n            const outlinePass = createOutline(scene, outlineMeshArray, scene.userData.outlineColor);\n\n            scene.userData.render = function (time) {\n\n                rayDirection.subVectors(lightningStrike.rayParameters.destOffset, lightningStrike.rayParameters.sourceOffset);\n                rayLength = rayDirection.length();\n                rayDirection.normalize();\n\n                if (showLightning)\n                    lightningStrike.update(time);\n                // lightningStrike2.update(time);\n\n\n                // controls.update();\n\n                checkIntersection(mouse);\n\n                outlinePass.enabled = false; //scene.userData.outlineEnabled;\n\n                // composer.render();\n                anaglyphEffect.render(scene, scene.userData.camera);\n            };\n\n\n            // Controls\n\n            const controls = new OrbitControls(scene.userData.camera, renderer.domElement);\n            controls.target.copy(sphereMesh.position);\n            controls.enableDamping = true;\n            controls.dampingFactor = 0.05;\n            controls.update();\n            controls.enabled = false;\n            // THREE.Sphere mouse raycasting\n\n            // container.style.touchAction = 'none';\n            // container.addEventListener('pointermove', onPointerMove);\n\n\n\n            const intersection = new THREE.Vector3();\n            // this.interval = setInterval(changeComputer, 3000);\n\n            // function changeComputer() {\n            //     let i = Math.floor(Math.random() * comps.length);\n            //     if (comps[i])\n            //         lightningStrike2.rayParameters.destOffset = comps[i].position;\n            // }\n\n            function checkIntersection(mouse) {\n                raycaster.setFromCamera(mouse, scene.userData.camera);\n                intersection.z = 1000;\n                const result = raycaster.ray.intersectSphere(sphere, intersection);\n\n                if (result !== null) {\n\n                    lightningStrike.rayParameters.destOffset.copy(intersection);\n\n                }\n\n            }\n\n            return scene;\n\n        }\n\n\n        function initBlinds() {\n            const GROUND_SIZE = 1000;\n\n            var blindsTexture = new THREE.TextureLoader().load(window.AWS + \"/clickMe/textures/blinds.jpeg\");\n            blindsTexture.wrapS = THREE.RepeatWrapping;\n            blindsTexture.wrapT = THREE.RepeatWrapping;\n            blindsTexture.repeat.set(2, 2);\n            blindsTexture.offset.set(0, 0);\n\n            const groundMat = new THREE.MeshLambertMaterial({ color: 0x6071a6, transparent: true, opacity: .7, map: blindsTexture });\n            const z = -400;\n            blinds[0] = new THREE.Mesh(new THREE.PlaneGeometry(GROUND_SIZE, GROUND_SIZE), groundMat);\n            blinds[0].position.z = z;\n            blinds[0].position.y = 1000;\n            scene.add(blinds[0]);\n\n            blinds[1] = new THREE.Mesh(new THREE.PlaneGeometry(GROUND_SIZE, GROUND_SIZE), groundMat);\n            blinds[1].position.z = z;\n            blinds[1].position.y = 0;\n            scene.add(blinds[1]);\n\n            blinds[2] = new THREE.Mesh(new THREE.PlaneGeometry(GROUND_SIZE, GROUND_SIZE), groundMat);\n            blinds[2].position.z = z;\n            blinds[2].position.y = -1000;\n            scene.add(blinds[2]);\n\n            blinds[3] = new THREE.Mesh(new THREE.PlaneGeometry(GROUND_SIZE, GROUND_SIZE), groundMat);\n            blinds[3].position.z = z;\n            blinds[3].position.y = -2000;\n            scene.add(blinds[3]);\n\n        }\n\n\n\n        function initFace() {\n            const url = window.AWS + \"/clickMe/models/face/blockydebb.obj\";\n            const objLoader = new OBJLoader();\n            objLoader.load(url, (root) => {\n                face = root;\n                var mat = new THREE.MeshLambertMaterial({ color: 0xdd0000 });\n                face.material = mat;\n                const sc = 1.4;\n                face.scale.set(sc, sc, sc);\n                face.rotation.x = -Math.PI / 2;\n                face.rotation.y = -.1;\n                face.rotation.z = 2.1;\n                face.position.set(-60, 250, -110);\n\n                scene.add(face);\n\n            });\n        }\n\n        function initJar() {\n            const MTLFile = window.AWS + \"/clickMe/models/jar/materials.mtl\";\n            const url = window.AWS + \"/clickMe/models/jar/model.obj\";\n\n            const objLoader = new OBJLoader();\n            objLoader.load(url, (root) => {\n                var jar = root;\n\n                const jarMaterial = new THREE.MeshPhysicalMaterial({\n                    transparent: true,\n                    opacity: .5,\n                    depthWrite: true,\n                    color: 'white',\n                    metalness: 1,\n                    roughness: .2,\n                });\n                jar.traverse(function (child) {\n\n                    if (child instanceof THREE.Mesh) {\n\n                        child.material = jarMaterial;\n\n                    }\n\n                });\n                const sc = 800;\n                jar.scale.set(sc, sc, sc);\n                let y = 100;\n                let x = 0;\n                let z = -100;\n                jar.rotation.y = Math.PI;\n                jar.position.set(x, y, z);\n                scene.add(jar);\n\n            });\n\n        }\n        function initHeart() {\n            const MTLFile = window.AWS + \"/clickMe/models/heart/heart.mtl\";\n            const url = window.AWS + \"/clickMe/models/heart/heart.obj\";\n\n            new MTLLoader()\n                .load(MTLFile, function (materials) {\n                    materials.preload();\n                    const objLoader = new OBJLoader();\n                    objLoader.setMaterials(materials);\n                    objLoader.load(url, (root) => {\n                        heart = root;\n                        const sc = 50;\n                        heart.scale.set(sc, sc, sc);\n                        heart.rotation.y = -.3;\n                        let y = 300;\n                        let x = -30;\n                        let z = -200;\n                        heart.position.set(x, y, z);\n                        scene.add(heart);\n                    });\n                });\n\n        }\n\n        function heartPump() {\n            heartVelocity += heartAcceleration;\n            if (heartRate < 70)\n                heartVelocity = constrain(heartVelocity, -2, 14);\n            else\n                heartVelocity = constrain(heartVelocity, -2, .5);\n            heartRate += heartVelocity;\n            heartRate = constrain(heartRate, 30, maxHeart);\n            heartTotal += (heartRate / 60) * .1;\n            let ampX = mapVal(heartRate, 30, maxHeart, 2, 5);\n            let heartSz = 50 + ampX * Math.sin(heartTotal);\n            if (heart)\n                heart.scale.set(heartSz, heartSz, heartSz);\n            if (face) {\n                let faceSz = 1.4 + .03 * Math.sin(heartTotal);\n                face.scale.set(faceSz, faceSz, faceSz);\n                face.rotation.z = 1.8 - .02 * Math.sin(heartTotal);\n\n            }\n\n        }\n    }\n\n    componentWillUnmount() {\n        clearInterval(this.interval);\n        this.props.removeClass(\"clickMe\");\n    }\n\n    onPointerMove = (event) => {\n\n        if (event.isPrimary === false) return;\n\n\n        if (!this.props.ui.isMobile) {\n            mouse.x = (event.clientX / window.innerWidth) * 2 - 1 + .1;\n            mouse.y = - (event.clientY / window.innerHeight) * 2 + 1;\n            mouse.z = 6 * 200;\n        }\n    }\n\n    setCursor = (id) => {\n        this.setState({ cursor: id });\n    }\n\n\n    heartClicked = (amt) => {\n        if (heartRate <= 32) {\n            heartVelocity += 10;\n        }\n        else {\n            if (heartVelocity < 0)\n                heartVelocity = 0;\n            heartVelocity += .2;\n        }\n    }\n\n\n\n    setHeart = () => {\n        this.setState({ hR: heartRate, hT: heartTotal });\n        let vol = mapVal(heartRate, 30, maxHeart, .02, 1);\n        this.props.setSketchVolume(vol);\n    }\n\n    render() {\n        const { ui } = this.props;\n        const { hR, hT } = this.state;\n\n       \n        return (\n            <div className={\"ClickMe Sketch \" + \"point\" + this.state.cursor} onClick={() => this.heartClicked(1)} onMouseMove={this.onPointerMove} >\n                <div className=\"Three\" ref={ref => (this.mount = ref)} />\n                {(ui.isMobile || ui.hasFooter) ?\n                    null :\n                    <Roses ui={ui} hR={hR} hT={hT} />\n                }\n                <EmojiMonitor heartTotal={hT} heartRate={hR} maxHeart={maxHeart} heartClicked={this.heartClicked} />\n            </div>\n\n        )\n    }\n}\n\n\n\n\nconst mapStateToProps = (state) => {\n    return {\n        ui: state.ui\n    }\n}\n\nconst mapDispatchToProps = () => {\n    return {\n        doneLoadingApp,\n        setSketchMusic,\n        setSketchVolume\n    }\n}\n\n\nexport default connect(mapStateToProps, mapDispatchToProps())(ClickMe);\n","import React from 'react';\n// import { Link } from 'react-router-dom';\nimport './Pages.css';\nimport { connect } from 'react-redux';\nimport { setNoSketchMusic } from '../../store/actions/music';\n\nclass About extends React.Component {\n\n  componentDidMount() {\n    this.props.setNoSketchMusic();\n  }\n\n  render() {\n    const { ui } = this.props;\n    let classN = \"Page \" + ui.size;\n    if (ui.hasFooter && ui.orientation === \"landscape\")\n      classN += \" landscape\";\n\n\n    return (\n      <div className={classN}>\n\n        <div className=\"About container\">\n          {/* <div className=\"container\"> */}\n          <h1>about</h1>\n          <h3>Tulane University</h3>\n          <h3>MFA Thesis Exhibition</h3>\n          <h3>April 2021</h3>\n\n          <br></br>\n          <p>Jenna deBoisblanc is a New Orleans native, a creative coder, and a teacher. She received her undergraduate degree in physics from Pomona College and her MFA in digital art from Tulane University in New Orleans. She has shown work locally at Good Children Gallery and at Luna Fete, as well as at light festivals in the SouthWest. Her clients include Toyota, the Aloft Hotel, the Florida Aquarium, and NASA.</p>\n          <br></br>\n          <h3>---</h3>\n          <p>\n            <a href=\"https://jdeboi.com\">jdeboi.com</a>\n            <br></br>\n            <a href=\"https://www.instagram.com/jdeboi/\">@jdeboi</a>\n            <br></br>\n          jdeboi at gmail\n          </p>\n          {/* </div> */}\n        </div>\n      </div>\n    );\n  }\n}\n\n\nconst mapStateToProps = (state) => {\n  return {\n    // ui: state.ui\n  }\n}\n\nconst mapDispatchToProps = () => {\n  return {\n    // doneLoadingApp,\n    setNoSketchMusic\n  }\n}\n\n\nexport default connect(mapStateToProps, mapDispatchToProps())(About);\n","import React from 'react';\nimport './Pages.css';\nimport { connect } from 'react-redux';\nimport { setNoSketchMusic } from '../../store/actions/music';\n\n\nclass Statement extends React.Component {\n\n    componentDidMount() {\n        this.props.setNoSketchMusic();\n    }\n\n    render() {\n        const { ui } = this.props;\n        let classN = \"Page \" + ui.size;\n        if (ui.hasFooter && ui.orientation === \"landscape\")\n            classN += \" landscape\";\n        return (\n            <div className={classN}>\n\n                <div className=\"Statement container\">\n                    {/* <div className=\"container\"> */}\n                    <h1>statement</h1>\n                    <p>Over the last year, Covid-19 has dramatically altered our spatial and temporal experiences. Physical space has collapsed as we confine ourselves to our homes. Time has warped into infinite loops of monotony. And as our worlds have gotten smaller, weve increasingly retreated into digital worlds with their own cyber-spacetime dimensions. As we increasingly work and communicate through digital portals, questions regarding the nature of reality online face new urgency. Cyberspace affords new explorations, connections, and communities that keep us sane in a time of isolation and physical confinement. At the same time, the internet houses vortexes of extremism, invades our privacy, and traps our attention in vapid, mindless scrolling.</p>\n                    <p>Losing My Dimension seeks to characterize the nature of spacetime during quarantine. I hope that this work reveals a set of paradoxes, of space as simultaneously analog and digital, confined and liberated, multi-dimensional and flat, safe and exposed. By reflecting upon quarantine and our digital transition more broadly, I hope to inspire nuanced reflections upon the ways in which our temporal and spatial experiences are changing in these uncertain times.</p>\n                    {/* </div> */}\n                </div>\n            </div>\n        );\n    }\n}\n\nconst mapStateToProps = (state) => {\n    return {\n    }\n}\n\nconst mapDispatchToProps = () => {\n    return {\n        setNoSketchMusic\n    }\n}\n\n\nexport default connect(mapStateToProps, mapDispatchToProps())(Statement);\n","import React from 'react';\nimport './Pages.css';\nimport { connect } from 'react-redux';\nimport { setNoSketchMusic } from '../../store/actions/music';\n\n// \"Parasol Open Close\" by Sungebob is licensed under Creative Commons Attribution. https://skfb.ly/6USQZ To view a copy of this license, visit http://creativecommons.org/licenses/by/4.0/. umbrella\nclass Credits extends React.Component {\n\n  componentDidMount() {\n    this.props.setNoSketchMusic();\n  }\n\n  render() {\n    const { ui } = this.props;\n    let classN = \"Page \" + ui.size;\n    if (ui.hasFooter && ui.orientation === \"landscape\")\n      classN += \" landscape\";\n    \n      return (\n      <div className={classN}>\n        <div className=\"Credits container\">\n          {/* <div className=\"container\"> */}\n          <h1>credits</h1>\n          <p>I'd like to thank my thesis committee (Kevin Jones, Anne Nelson, and Sean Fader) and my awesome cohort for helping me pull off this body of work. Additionally, I used the following assets, which were provided through an open-source license providing that I credit the creator.</p>\n          <h3>Assets:</h3>\n          <ul>\n            <li>thanks to Google for the <a href=\"https://poly.google.com/view/8Qwgncb6dJT\">Umbrella Palm Tree</a>, licensed under CC BY 2.0</li>\n            <li>thanks to bhgilad for the <a href=\"https://www.turbosquid.com/3d-models/80s-pool-chair-3d-model-1489585\">pool chair</a></li>\n            <li>thanks to Google for the <a href=\"https://poly.google.com/view/8Qwgncb6dJT\">Umbrella Palm Tree</a>, licensed under CC BY 2.0</li>\n            <li>thanks to Slanted Studios for the <a href=\"https://giphy.com/media/l3Uchq9s6Hx0aK8F2/giphy.gif\">bird gif</a></li>\n            <li>special thanks to <a href=\"https://github.com/1j01/pipes/blob/master/screensaver.js\">Isaiah Odhner for the pipes code</a></li>\n          </ul>\n          {/* </div> */}\n        </div>\n      </div>\n    );\n  }\n}\n\nconst mapStateToProps = (state) => {\n  return {\n    // ui: state.ui\n  }\n}\n\nconst mapDispatchToProps = () => {\n  return {\n    // doneLoadingApp,\n    setNoSketchMusic\n  }\n}\n\n\nexport default connect(mapStateToProps, mapDispatchToProps())(Credits);\n\n","import React from 'react';\nimport './Pages.css';\n\nfunction NotFound() {\n  return (\n    <div className=\"Sketch NotFound\">\n      <div className=\"container\">\n        <h1>Sorry, page not found</h1>\n      </div>\n    </div>\n  );\n}\n\nexport default NotFound;\n","import React from \"react\";\nimport Sketch from \"react-p5\";\n\n//////////////\n// HELPERS\n// import { doorCrossing, roomDoorCrossing, roomDoorEntryCrossing, roomDoorBoundary, roomBoundary, wallBoundary } from '../../sketches/Gallery/p5/functions/crossing';\n// import { roundToMult2 } from '../../sketches/Gallery/p5/functions/round';\nimport { drawAllFloors } from '../../sketches/Gallery/p5/functions/floor';\nimport { drawWalls, drawRooms } from '../../sketches/Gallery/p5/functions/building';\nimport { displayDancers, updateDucks } from '../../sketches/Gallery/p5/functions/emojis';\n// import { reachedDestination, getNextStep, showMouseLoc, showUserEllipses, showDestination, mouseDidMove } from '../../sketches/Gallery/p5/functions/destination';\nimport { drawUser, drawUsers, checkUserClicked } from '../../sketches/Gallery/p5/functions/users';\nimport { drawPlantRow, drawGrassPatch } from '../../sketches/Gallery/p5/functions/garden';\nimport { addTableDivs, displayTableDivs, addSwingDivs, displaySwingDivs, displayOakDivs, displayTreeDivs, displayBarDivs, displayTrashDivs, checkTrashDivsDouble, addTrashDivs, displayRoomLabelDivs, addDoorDivs, addLightDivs, addColumnDivs, addTreeDivs, addBarDivs, addOakDivs, addFolderDivs, displayDoorDivs, displayLightDivs, displayColumnDivs, displayDivs, endDivDrag, updateDivs, checkDivPress, displayFolderDivs, checkFolderDivsDouble, addRoomLabelDivs } from '../../sketches/Gallery/p5/functions/divs';\nimport TreeSlider from '../../sketches/Gallery/p5/components/TreeSlider';\n\n//////////////\n// COMPONENTS\nimport Wall from \"../../sketches/Gallery/p5/components/Wall\";\nimport Room from \"../../sketches/Gallery/p5/components/Room\";\nimport Duck from '../../sketches/Gallery/p5/components/Duck';\nimport Dancer from '../../sketches/Gallery/p5/components/Dancer';\n// import MiniMap from \"./components/MiniMap\";\n\n\n//////////////\n// CONFIG\nimport { globalConfig, p5ToDomCoords } from \"../../sketches/Gallery/constants\";\nvar isClosed;\n\n//////////////\n// BUILDING \nvar walls = [];\nvar rooms = [];\nvar roomTextures = [];\nvar eyeIcon;\nvar doors = [];\nvar doorImgs = [];\nvar floorTex;\nvar lightImgs = [];\nvar tableImgs = [];\nvar trashFiles = [];\nvar columnGif;\nvar closedSign;\n\n//////////////\n// PLANTS \nvar flowerRow, ivory, tree, oakImg;\nvar treeSlider;\n\n//////////////\n// ICONS\nvar txtFile, instaImg;\n\n//////////////\n// EMOJIS\nvar ducks = [];\nvar duckImg;\nvar dancers = [];\nvar dancerImgs = [];\nvar baby;\nvar barEmojis = [];\n\n//////////////\n// FONT\nvar dogica;\n\n//////////////\n// DRAGGABLE DIVS\nvar divs = {};\n\n// var miniMap;\n\n//////////////\n// MOVEMENT\nvar stepTo = { x: 0, y: 0 };\nvar userEase = { x: 0, y: 0 };\nvar viewTime = 0;\nvar stepToIndex = 0;\n\n//////////////\n// PROPS\nvar user, roomCount, isMobile;\nvar users = []\n\n\nexport default (props) => {\n    user = props.user;\n    users = props.users;\n    isMobile = props.isMobile;\n    roomCount = props.roomCount;\n    isClosed = props.isClosed;\n\n    const preload = (p5) => {\n        const url = \"https://lmd-bucket.s3.us-east-2.amazonaws.com/sketches/gallery/\";\n\n        //////////////\n        // building textures\n        floorTex = p5.loadImage(url + \"concrete-512.jpg\");\n        doorImgs[0] = p5.loadImage(url + \"door/frame2.png\");\n        doorImgs[1] = p5.loadImage(url + \"door/leftdoor2.png\");\n        roomTextures[0] = p5.loadImage(url + \"rooms/bot.png\");\n        roomTextures[1] = p5.loadImage(url + \"rooms/right.png\");\n        roomTextures[2] = p5.loadImage(url + \"rooms/left.png\");\n        eyeIcon = p5.loadImage(url + \"eye.png\")\n        closedSign = p5.loadImage(url + \"closed.png\");\n\n        //////////////\n        // emojis\n        duckImg = p5.loadImage(url + \"duck.png\");\n        dancerImgs[0] = p5.loadImage(url + \"dancers/dancer0.png\");\n        dancerImgs[1] = p5.loadImage(url + \"dancers/dancer1.png\");\n        dancerImgs[2] = p5.loadImage(url + \"dancers/dancer2.png\");\n        baby = p5.loadImage(url + \"swing/baby.png\");\n        barEmojis[0] = p5.loadImage(url + \"emojis/bread.png\");\n        barEmojis[1] = p5.loadImage(url + \"emojis/cheese.png\");\n        barEmojis[2] = p5.loadImage(url + \"emojis/wine.png\");\n        barEmojis[3] = p5.loadImage(url + \"emojis/cocktail.png\");\n        barEmojis[4] = p5.loadImage(url + \"emojis/chat.png\");\n        barEmojis[0] = p5.loadImage(url + \"emojis/bread.png\");\n        barEmojis[1] = p5.loadImage(url + \"emojis/cheese.png\");\n        barEmojis[2] = p5.loadImage(url + \"emojis/wine.png\");\n        barEmojis[3] = p5.loadImage(url + \"emojis/cocktail.png\");\n        barEmojis[4] = p5.loadImage(url + \"emojis/chat.png\");\n        \n        //////////////\n        // plants\n        tree = p5.loadImage(url + \"grass/tree.png\");\n        ivory = p5.loadImage(url + \"grass/ivory.png\");\n        flowerRow = p5.loadImage(url + \"grass/cac3.png\")\n        oakImg = p5.loadImage(url + \"grass/oak.png\");\n\n        //////////////\n        // folder icons\n        txtFile = p5.loadImage(\"https://lmd-bucket.s3.us-east-2.amazonaws.com/sketches/waveforms/txt.png\");\n        instaImg = p5.loadImage(url + \"instagram.png\");\n        trashFiles[0] = p5.loadImage(url + \"trash/fullrec.png\")\n        trashFiles[3] = p5.loadImage(url + \"trash/trash0.png\")\n        trashFiles[2] = p5.loadImage(url + \"trash/trash1.png\")\n        trashFiles[1] = p5.loadImage(url + \"trash/trash2.png\")\n\n        //////////////\n        // tables\n        tableImgs[0] = p5.loadImage(url + \"table/um_open.png\")\n        tableImgs[1] = p5.loadImage(url + \"table/um_closed.png\")\n\n        //////////////\n        // lights\n        lightImgs[0] = p5.loadImage(url + \"tracklights/tracklights_vert.jpg\");\n        lightImgs[1] = p5.loadImage(url + \"tracklights/light_shadow.png\");\n        lightImgs[2] = p5.loadImage(url + \"tracklights/tracklights_dark_vert.jpg\");\n        lightImgs[3] = p5.loadImage(url + \"tracklights/black_shadow.png\");\n\n        // columnGif = p5.loadImage(url + \"column.gif\");\n        columnGif = p5.loadGif(\"/assets/column.gif\"); //not sure why this one has a cors issue\n\n        // font\n        dogica = p5.loadFont(url + \"fonts/dogica.ttf\");\n\n    }\n\n    ////////////////////////////////////////////////////////////////////////\n    // INITIALIZE\n    ////////////////////////////////////////////////////////////////////////\n    const setup = (p5, canvasParentRef) => {\n        // use parent to render the canvas in this ref\n        // (without that p5 will render the canvas outside of your component)\n\n        initBuilding(p5);\n        initEmojis(p5);\n        initDivs(p5);\n        treeSlider = new TreeSlider(31, 40, 2);\n        // miniMap = new MiniMap(p5, 50, p5.windowHeight - 200 - 80, 200, 200);\n        stepTo = { x: 0, y: 0 };\n\n\n        const cnv = p5.createCanvas(p5.windowWidth, p5.windowHeight);\n        cnv.parent(canvasParentRef);\n        // cnv.mousePressed(() => triggerMove(props.setUserActive, p5));\n\n        p5.textFont(dogica, 14);\n        p5.frameRate(20);\n\n        props.loadingDone();\n    };\n\n    const initEmojis = (p5) => {\n        for (let i = 0; i < 8; i++) {\n            ducks.push(new Duck(p5, 300, 2200, duckImg));\n        }\n        dancers[0] = new Dancer(p5, dancerImgs[0], 10, 160, false);\n        dancers[1] = new Dancer(p5, dancerImgs[1], 200, 380, false);\n        dancers[2] = new Dancer(p5, dancerImgs[2], 300, 150, true);\n    }\n\n    const initBuilding = (p5) => {\n        for (let i = 0; i < 2; i++) {\n            walls.push(new Wall(p5, i, globalConfig));\n        }\n        for (let i = 0; i < 13; i++) {\n            rooms.push(new Room(p5, i));\n        }\n    }\n\n    const initDivs = (p5) => {\n        addOakDivs(divs, oakImg, p5);\n        addDoorDivs(divs, doors, doorImgs, p5);\n        addLightDivs(divs, lightImgs, p5);\n        addColumnDivs(divs, columnGif, lightImgs[3], p5);\n        addTreeDivs(divs, tree, p5);\n        addTableDivs(divs, tableImgs, p5);\n        addBarDivs(divs, lightImgs[3], p5);\n        addTrashDivs(divs, trashFiles, lightImgs[3], p5);\n        addFolderDivs(divs, instaImg, txtFile, p5);\n        addRoomLabelDivs(divs, eyeIcon, p5);\n        addSwingDivs(divs, baby, null, p5);\n    }\n\n    ////////////////////////////////////////////////////////////////////////\n    // DRAW\n    ////////////////////////////////////////////////////////////////////////\n    const draw = (p5) => {\n        p5.clear();\n\n        // NOTE: Do not use setState in the draw function or in functions that are executed\n        // in the draw function...\n        // please use normal variables or class properties for these purposes\n        p5.push();\n        p5.translate(p5.windowWidth / 2, p5.windowHeight / 2);\n\n        p5.push();\n        p5.translate(-userEase.x, -userEase.y);\n\n\n        p5.push();\n        p5.translate(globalConfig.x * globalConfig.scaler, globalConfig.y * globalConfig.scaler)\n\n        //////////////\n        // floors\n        drawAllFloors(floorTex, p5);\n\n        //////////////\n        // plants\n        drawGrassPatch(ivory, ivory, p5);\n        drawPlantRow(-5, 17, 1, 1, flowerRow, p5);\n        drawPlantRow(0, 22, 1, 1, flowerRow, p5);\n        drawPlantRow(5, 27, 1, 1, flowerRow, p5);\n        drawPlantRow(20, 21, 1, 1, flowerRow, p5);\n        drawPlantRow(27, 15, 1, 1, flowerRow, p5);\n\n        //////////////\n        // building\n        drawWalls(walls, p5);\n        drawRooms(rooms, roomTextures, eyeIcon, roomCount, p5);\n        if (!isClosed)\n            displayRoomLabelDivs(dogica, roomCount, userEase.x, userEase.y, divs);\n\n        //////////////\n        // emojis\n        displayDancers(dancers);\n        updateDucks(false, userEase.x, userEase.y, ducks);\n\n        //////////////\n        // draggable\n        displayOakDivs(userEase.x, userEase.y, divs);\n        displayTableDivs(userEase.x, userEase.y, divs);\n        p5.textFont(dogica, 10);\n        displaySwingDivs(userEase.x, userEase.y, divs);\n\n        // seeUserClicked(userEase, users, p5)\n\n        p5.pop();\n        p5.pop();\n        p5.pop();\n\n        //////////////\n        // step visualization\n        // mouseStep();\n        // showTarget(p5);\n\n        //////////////\n        // drawing\n        drawOverTarget(p5);\n        // drawUser(user, p5);\n        drawOverUser(p5);\n\n        //////////////\n        // updating\n        if (users)\n            updateDivs(userEase, users, doors, divs, true);\n        treeSlider.update(p5);\n        // updateUserEase(p5);\n        updateView(p5, 18000);\n\n    };\n\n    const updateView = (p5, t) => {\n\n        if (p5.millis() - viewTime > t) {\n\n            viewTime = p5.millis();\n\n            let coords = [\n                [5, 5],\n                [20, 5],\n                [20, 18],\n                [16, 33],\n                [5, 33],\n                [12, 14]\n            ]\n            let coord = coords[stepToIndex++%coords.length];\n            stepTo = p5ToDomCoords(coord[0], coord[1]); //p5.random(-1000, 1000);\n\n            //   userEase.y = -1000; //p5.random(-10, 1000);\n        }\n\n        // transition to location\n        let stepS = 15;\n        if (p5.abs(stepTo.x - userEase.x) <= stepS) {\n            userEase.x = stepTo.x;\n        }\n        else if (userEase.x < stepTo.x) {\n            userEase.x += stepS;\n        }\n        else if (userEase.x > stepTo.x) {\n            userEase.x -= stepS;\n        }\n\n        if (p5.abs(stepTo.y - userEase.y) <= stepS) {\n            userEase.y = stepTo.y;\n        }\n        else if (userEase.y < stepTo.y) {\n            userEase.y += stepS;\n        }\n        else if (userEase.y > stepTo.y) {\n            userEase.y -= stepS;\n        }\n    }\n\n    const drawOverTarget = (p5) => {\n        p5.push();\n        p5.translate(p5.windowWidth / 2, p5.windowHeight / 2);\n        p5.translate(-userEase.x, -userEase.y);\n        p5.translate(globalConfig.x * globalConfig.scaler, globalConfig.y * globalConfig.scaler)\n\n        if (users)\n            drawUsers(userEase, users, dogica, p5, barEmojis);\n\n        p5.pop();\n    }\n\n\n\n    const drawOverUser = (p5) => {\n        p5.push();\n        p5.translate(p5.windowWidth / 2, p5.windowHeight / 2);\n        p5.translate(-userEase.x, -userEase.y);\n        p5.translate(globalConfig.x * globalConfig.scaler, globalConfig.y * globalConfig.scaler);\n        displayDoorDivs(userEase.x, userEase.y, divs, isClosed, closedSign);\n        displayBarDivs(userEase.x, userEase.y, divs);\n        displayTreeDivs(userEase.x, userEase.y, treeSlider.getValue(p5), divs);\n        displayLightDivs(userEase.x, userEase.y, divs);\n        displayColumnDivs(userEase.x, userEase.y, divs);\n\n        p5.textFont(dogica, 12);\n        displayFolderDivs(divs);\n        displayTrashDivs(userEase.x, userEase.y, divs);\n\n        treeSlider.display(p5);\n\n        p5.pop();\n\n        if (p5.windowWidth !== p5.width || p5.windowHeight !== p5.height)\n            windowResized(p5);\n    }\n\n    ////////////////////////////////////////////////////////////////////////\n    // MOVEMENT\n    ////////////////////////////////////////////////////////////////////////\n    //   const showTarget = (p5) => {\n    //     showDestination(userEase, destination, isWalking, p5);\n    //     showUserEllipses(userEase, destination, isWalking, p5);\n\n    //     if (mouseDidMove(p5)) {\n    //       lastMouseMove = new Date();\n    //     }\n    //     showMouseLoc(isMobile, lastMouseMove, p5);\n    //   }\n\n    //   const userTakeStep = (x, y) => {\n    //     var t = new Date();\n    //     let space = globalConfig.stepS;\n    //     const prevStep = { x: stepTo.x, y: stepTo.y }\n    //     const userStep = { x: stepTo.x + x * space, y: stepTo.y + y * space };\n    //     const outsideDoor = doorCrossing(doors, prevStep, userStep);\n    //     const roomDoorEntry = roomDoorEntryCrossing(rooms, prevStep, userStep);\n    //     const roomDoor = roomDoorCrossing(rooms, prevStep, userStep);\n    //     const roomDoorB = roomDoorBoundary(rooms, prevStep, userStep);\n    //     // const poolB = poolBoundaryCrossing(userStep);\n    //     // check if entering a room door\n    //     // check if crossing into outside\n    //     // check crossed an inside boundary\n    //     // check if crossed a room boundary\n\n    //     if (!isClosed && roomDoor) {\n    //       if (window.confirm('Leave the main gallery?')) {\n    //         props.userNewRoom(roomDoor);\n    //       }\n    //       isWalking = false;\n    //       // console.log(\"entering room\", roomDoor);\n    //     }\n    //     // else if (poolB) {\n    //     //   isWalking = false;\n    //     // }\n    //     else if (!isClosed && outsideDoor) {\n    //       // props.userMove(userStep.x, userStep.y);\n    //       stepTo = { x: userStep.x, y: userStep.y };\n    //       // console.log(\"outside door\")\n    //       props.toggleOutside();\n    //     }\n    //     else if (!isClosed && roomDoorEntry) {\n    //       // props.userMove(userStep.x, userStep.y);\n    //       stepTo = { x: userStep.x, y: userStep.y };\n    //       // console.log(\"enter/exit room\")\n    //     }\n    //     else if (!isClosed && roomBoundary(rooms, prevStep, userStep)) {\n    //       isWalking = false;\n    //       // console.log(\"room boundary\")\n    //     }\n    //     else if (!isClosed && roomDoorB) {\n    //       isWalking = false;\n    //       // console.log(\"room door boundary\")\n    //     }\n    //     else if (wallBoundary(walls, prevStep, userStep)) {\n    //       isWalking = false;\n    //       // console.log(\"wall boundary\")\n    //     }\n    //     else {\n    //       // props.userMove(userStep.x, userStep.y);\n    //       stepTo = { x: userStep.x, y: userStep.y };\n    //     }\n    //     // console.log(new Date() - t);\n    //   }\n\n    //   const updateUserEase = (p5) => {\n    //     if (!reachedDestination(userEase, stepTo)) {\n    //       let amt = .7;\n    //       userEase.x = userEase.x * amt + stepTo.x * (1 - amt);\n    //       userEase.y = userEase.y * amt + stepTo.y * (1 - amt);\n    //       let d = p5.dist(userEase.x, userEase.y, stepTo.x, stepTo.y);\n    //       if (d < 15) {\n    //         userEase.x = stepTo.x;\n    //         userEase.y = stepTo.y;\n    //         // isStepping = false;\n    //         props.userMove(userEase.x, userEase.y);\n    //       }\n\n    //     }\n    //   }\n\n    //   const triggerMove = (setUserActive, p5) => {\n    //     let userClicked = false;\n    //     if (users)\n    //       userClicked = checkUserClicked(userEase, users, p5);\n    //     if (userClicked) {\n    //       setUserActive(userClicked);\n    //       return;\n    //     }\n    //     else if (treeSlider.checkDragging(userEase.x, userEase.y, p5))\n    //       return;\n    //     else if (checkDivPress(userEase.x, user.y, divs))\n    //       return;\n\n    //     else {\n    //       const dx = p5.mouseX > p5.windowWidth / 2 ? 50 : -50;\n    //       const dy = p5.mouseY > p5.windowHeight / 2 ? 50 : -50;\n    //       const mx = roundToMult2((p5.mouseX - p5.windowWidth / 2) + dx, globalConfig.stepS);\n    //       const my = roundToMult2((p5.mouseY - p5.windowHeight / 2) + dy, globalConfig.stepS);\n    //       if (!(mx === 0 && my === 0)) {\n    //         const x = mx + user.x;\n    //         const y = my + user.y;\n    //         const time = new Date();\n    //         destination = { x, y, time };\n    //         isWalking = true;\n    //       }\n    //     }\n\n    //   }\n\n    //   const mouseStep = () => {\n    //     if (isWalking) {\n    //       if (reachedDestination(stepTo, destination)) {\n    //         isWalking = false;\n    //         // console.log(\"reached\");\n    //       }\n    //       else if (new Date() - destination.time > 150) {\n    //         let step = getNextStep(stepTo, destination);\n    //         userTakeStep(step[0], step[1]);\n    //         destination.time = new Date();\n    //       }\n    //     }\n    //   }\n\n    //   const keyPressed = (p5) => {\n    //     if (p5.keyCode === p5.UP_ARROW) {\n    //       userTakeStep(0, -1);\n    //     }\n    //     else if (p5.keyCode === p5.RIGHT_ARROW) {\n    //       userTakeStep(1, 0);\n    //     }\n    //     else if (p5.keyCode === p5.LEFT_ARROW) {\n    //       userTakeStep(-1, 0);\n    //     }\n    //     else if (p5.keyCode === p5.DOWN_ARROW) {\n    //       userTakeStep(0, 1);\n    //     }\n    //   }\n\n    //   const mouseReleased = (p5) => {\n    //     endDivDrag(divs);\n    //     if (treeSlider) treeSlider.endDrag();\n    //   }\n\n    const windowResized = (p5) => {\n        p5.resizeCanvas(p5.windowWidth, p5.windowHeight);\n    }\n\n    //   const doubleClicked = (p5) => {\n    //     // console.log(\"db\");\n    //     checkFolderDivsDouble(userEase.x, userEase.y, divs);\n    //     checkTrashDivsDouble(userEase.x, userEase.y, divs);\n    //   }\n\n    return <Sketch preload={preload} setup={setup} draw={draw} windowResized={windowResized} />;\n};\n","import React from 'react';\nimport './RegisterDesktop.css';\nimport { connect } from 'react-redux';\nimport { setUserComp } from '../../../store/actions/user';\n\n// import { Link } from 'react-router-dom';\n\nclass RegisterDesktop extends React.Component {\n    constructor(props) {\n        super(props);\n\n        this.state = {\n            computerNumber: 0\n        }\n    }\n\n    handleChange = (event) => {\n        this.setState({ computerNumber: event.target.value });\n    }\n\n    handleSubmit = (event) => {\n        this.props.setUserComp(this.state.computerNumber);\n        alert('Computer set to: ' + this.state.computerNumber);\n        event.preventDefault();\n\n    }\n\n    render() {\n        return (\n            <div className=\"Desktop-Register Sketch\">\n                <div className=\"container\">\n                    <form onSubmit={this.handleSubmit}>\n                        <label>\n                            Computer number:\n                        <input type=\"text\" value={this.state.computerNumber} onChange={this.handleChange} />\n                        </label>\n                        <input className=\"\" type=\"submit\" value=\"Submit\" />\n                    </form>\n                </div>\n            </div>\n        );\n    }\n\n}\n\n\nconst mapStateToProps = (state) => {\n    return {\n        ui: state.ui\n    }\n}\n\nconst mapDispatchToProps = () => {\n    return {\n        // doneLoadingApp\n        setUserComp\n    }\n}\n\n// redux store global state so that it can be accessed from all components\n// to have a page that shows the avatars associated with partiuclar desktops, \n// it has to be registered in a database / stored on the server\n// basically we need to know with each update what the computer # is\n// maybe this is stored in the user object as null, turned to a number\n// if registered on the computer\n// needs to be stored in a cookie on the computer in case the app is restarted/ refreshed\n// so let's make a redux function\n\nexport default connect(mapStateToProps, mapDispatchToProps())(RegisterDesktop);\n\n","import React from 'react';\nimport './RegisterDesktop.css';\nimport { connect } from 'react-redux';\nimport { removeUserComp } from '../../../store/actions/user';\n\n// import { Link } from 'react-router-dom';\n\nclass UnregisterDesktop extends React.Component {\n    \n\n\n    handleSubmit = (event) => {\n        this.props.removeUserComp();\n        alert(\"unregistered\");\n        event.preventDefault();\n\n    }\n\n    render() {\n        return (\n            <div className=\"Desktop-Register Sketch\">\n                <div className=\"container\">\n                    <button className=\"secondary standardButton\" onClick={this.handleSubmit}>unregister</button>\n                </div>\n            </div>\n        );\n    }\n\n}\n\n\nconst mapStateToProps = (state) => {\n    return {\n        ui: state.ui\n    }\n}\n\nconst mapDispatchToProps = () => {\n    return {\n        // doneLoadingApp\n        removeUserComp\n    }\n}\n\n// redux store global state so that it can be accessed from all components\n// to have a page that shows the avatars associated with partiuclar desktops, \n// it has to be registered in a database / stored on the server\n// basically we need to know with each update what the computer # is\n// maybe this is stored in the user object as null, turned to a number\n// if registered on the computer\n// needs to be stored in a cookie on the computer in case the app is restarted/ refreshed\n// so let's make a redux function\n\nexport default connect(mapStateToProps, mapDispatchToProps())(UnregisterDesktop);\n\n","import React from 'react';\nimport { connect } from 'react-redux';\n\nclass ViewUsers extends React.Component {\n    constructor(props) {\n        super(props);\n\n        this.state = {\n        }\n    }\n\n    render() {\n        const { users, user } = this.props;\n        const computerUsers = users.filter((user) => user.comp != null);\n        console.log(users, user);\n        return (\n            <div className=\"View-Users\">\n                {computerUsers.map((user) => {\n                    return <div>{user.avatar}</div>\n                })}\n            </div>\n        );\n    }\n\n}\n\n\nconst mapStateToProps = (state) => {\n    return {\n        ui: state.ui,\n        user: state.user\n    }\n}\n\nconst mapDispatchToProps = () => {\n    return {\n\n    }\n}\n\n\n\nexport default connect(mapStateToProps, mapDispatchToProps())(ViewUsers);\n\n","import React from 'react';\nimport \"../../sketches/Gallery/Gallery.css\";\n\nimport Sketch from '../Projection/PanSketch';\n// import { wineLocation, djLocation } from '../../sketches/Gallery/constants';\n// import LoadingPage from '../../shared/LoadingPage/LoadingPage';\n\n\n// store\nimport { connect } from 'react-redux';\nimport { doneLoadingApp } from '../../../store/actions';\n\nclass PanGallery extends React.Component {\n\n  componentDidMount() {\n  }\n\n  componentWillUnmount() {\n  }\n\n  loadingDone = () => {\n    this.props.doneLoadingApp();\n  }\n\n  render() {\n    const { users, roomCount, ui } = this.props;\n\n    return (\n      <div className=\"Gallery Sketch\" >\n        <div id=\"p5_loading\" className=\"loadingclass\" style={{display:\"none\"}}></div>\n        <Sketch\n          className=\"p5sketch\"\n          users={users}\n          roomCount={roomCount}\n          isClosed={false}\n          loadingDone={this.loadingDone}\n          isMobile={ui.isMobile}\n        />\n      </div>\n    )\n  }\n}\n\n\n\nconst mapStateToProps = (state) => {\n  return {\n    // user: state.user,\n    // music: state.music,\n    // outside: state.outside,\n    ui: state.ui\n  }\n}\n\nconst mapDispatchToProps = () => {\n  return {\n    // moveUser,\n    // toggleOutside,\n    doneLoadingApp,\n    // setUserActiveChat,\n    // setOneMenu,\n    // showChat\n  }\n}\n\n\nexport default connect(mapStateToProps, mapDispatchToProps())(PanGallery);\n","import React from 'react';\nimport { withRouter } from \"react-router-dom\";\n\n// store\nimport { connect } from 'react-redux';\nimport { loadingApp } from '../../../store/actions';\n\n// sketches\nimport MacbookAir from '../../sketches/MacbookAir/MacbookAir';\nimport JungleGyms from '../../sketches/JungleGyms/JungleGyms';\nimport HardDrives from '../../sketches/HardDrives/HardDrives';\nimport Mars from '../../sketches/Mars/Mars';\nimport WetStreams from '../../sketches/WetStreams/WetStreams';\nimport Confessional from '../../sketches/Confessional/Confessional';\n\n\nclass ScrollSketches extends React.Component {\n\n    constructor(props) {\n        super(props);\n        this.state = {\n            currentSketch: 0\n        };\n    }\n\n\n    componentDidMount() {\n        this.interval = setInterval(this.changeSketch, 8000);\n    }\n\n    componentWillUnmount() {\n        clearInterval(this.interval);\n    }\n\n    changeSketch = () => {\n        this.setState({currentSketch: (this.state.currentSketch+1)%6});\n    }\n\n    render() {\n        // const counter = useSelector(state => state.counterReducer);\n        // console.log(counter);\n        const { ui, addClass, removeClass } = this.props;\n        const { currentSketch } = this.state;\n\n        return (\n            <React.Fragment>\n                {currentSketch === 0 ? < MacbookAir /> : null}\n                {currentSketch === 1 ? < JungleGyms /> : null}\n                {currentSketch === 2 ? < HardDrives /> : null}\n                {currentSketch === 3 ? <Mars addClass={addClass} removeClass={removeClass} /> : null}\n                {currentSketch === 4 ? < WetStreams /> : null}\n                {currentSketch === 5 ? < Confessional /> : null}\n            </React.Fragment>\n        );\n    }\n\n\n}\n\n\nconst mapStateToProps = (state) => {\n    return {\n        user: state.user,\n        ui: state.ui\n    }\n}\n\nconst mapDispatchToProps = () => {\n    return {\n        loadingApp,\n    }\n}\n//\n\nexport default withRouter(connect(mapStateToProps, mapDispatchToProps())(ScrollSketches));\n","import React from 'react';\nimport { withRouter } from \"react-router-dom\";\nimport \"../../sketches/Gallery/Gallery.css\";\n\nimport Sketch from './PanSketch';\n\n// store\nimport { connect } from 'react-redux';\nimport { doneLoadingApp, loadingApp } from '../../../store/actions';\n\n// sketches\nimport MacbookAir from '../../sketches/MacbookAir/MacbookAir';\nimport JungleGyms from '../../sketches/JungleGyms/JungleGyms';\nimport HardDrives from '../../sketches/HardDrives/HardDrives';\nimport Mars from '../../sketches/Mars/Mars';\nimport WetStreams from '../../sketches/WetStreams/WetStreams';\nimport Confessional from '../../sketches/Confessional/Confessional';\n\nclass Projection extends React.Component {\n\n    constructor(props) {\n        super(props);\n        this.state = {\n            currentSketch: 0,\n            isGallery: true\n        };\n    }\n\n\n    componentDidMount() {\n        this.interval = setInterval(this.changeSketch, 8000);\n    }\n\n    componentWillUnmount() {\n        clearInterval(this.interval);\n    }\n\n    changeSketch = () => {\n        if (this.state.isGallery) {\n            this.setState({ isGallery: false });\n        }\n        else\n            this.setState({ currentSketch: (this.state.currentSketch + 1) % 6, isGallery: true });\n    }\n\n    loadingDone = () => {\n        this.props.doneLoadingApp();\n    }\n\n    renderGallery() {\n        const { users, roomCount, ui } = this.props;\n\n        return (\n            <div className=\"Gallery Sketch\" >\n                <div id=\"p5_loading\" className=\"loadingclass\" style={{ display: \"none\" }}></div>\n                <Sketch\n                    className=\"p5sketch\"\n                    users={users}\n                    roomCount={roomCount}\n                    isClosed={false}\n                    loadingDone={this.loadingDone}\n                    isMobile={ui.isMobile}\n                />\n            </div>\n        )\n\n    }\n\n    render() {\n        const { addClass, removeClass } = this.props;\n        const { isGallery, currentSketch } = this.state;\n\n        // if (isGallery)\n        //     return this.renderGallery();\n        // if (currentSketch === 0)\n        //     return < MacbookAir />\n        // else if (currentSketch === 1)\n        //     return < JungleGyms />\n        // else if (currentSketch === 2)\n        //     return < HardDrives />\n        // else if (currentSketch === 3)\n        //     return <Mars addClass={addClass} removeClass={removeClass} />\n        // else if (currentSketch === 4)\n        //     return < WetStreams />\n        // else if (currentSkethc === 5)\n        //     return < Confessional />\nreturn < MacbookAir />\n    }\n}\n\n\n\nconst mapStateToProps = (state) => {\n    return {\n        user: state.user,\n        ui: state.ui\n    }\n}\n\nconst mapDispatchToProps = () => {\n    return {\n        loadingApp,\n        doneLoadingApp,\n\n    }\n}\n//\n\nexport default withRouter(connect(mapStateToProps, mapDispatchToProps())(Projection));\n","import React from 'react';\nimport { Route, Switch, withRouter } from \"react-router-dom\";\n\nimport './App.css';\n\nimport Cookies from 'js-cookie';\nimport socket from \"../components/shared/Socket/Socket\";\n\n// shared components\nimport Header from '../components/shared/Header/Header';\nimport MobileFooter from '../components/shared/Header/MobileFooter/MobileFooter';\nimport Chat from '../components/shared/Chat/Chat';\nimport YouTube from '../components/shared/LiveStream/YouTube';\nimport ReactAudioPlayer from 'react-audio-player';\n\n// import FPSStats from \"react-fps-stats\";\n\n// store\nimport { connect } from 'react-redux';\nimport { loadingApp, resizeApp, startComposition } from '../store/actions';\nimport { hideMenus, setOneMenu, showSignIn, setGalleryActive } from '../store/actions/menuItems';\nimport { setUserRoom, setUser, moveUser, setWine } from '../store/actions/user';\nimport { addMessage, addMessageNotification } from '../store/actions/messages';\n\n// menu frames\nimport SignIn from '../components/shared/SignIn/SignIn';\nimport Welcome from '../components/shared/Welcome/Welcome';\nimport FAQFrame from '../components/shared/FAQ/FAQFrame';\n// import Volume from '../components/shared/Volume/Volume';\nimport RoomDecal from '../components/shared/RoomDecal/RoomDecal';\n\n// sketches\nimport { sketches, getUrl } from '../components/sketches/Sketches';\nimport Gallery from '../components/sketches/Gallery/Gallery';\nimport MacbookAir from '../components/sketches/MacbookAir/MacbookAir';\nimport JungleGyms from '../components/sketches/JungleGyms/JungleGyms';\nimport HardDrives from '../components/sketches/HardDrives/HardDrives';\nimport Wasted from '../components/sketches/Wasted/Wasted';\nimport Mars from '../components/sketches/Mars/Mars';\nimport WetStreams from '../components/sketches/WetStreams/WetStreams';\nimport Confessional from '../components/sketches/Confessional/Confessional';\nimport Confessions from '../components/sketches/Confessional/Confessions';\nimport Xfinity from '../components/sketches/Xfinity/Xfinity';\nimport Flush from '../components/sketches/Flush/Flush';\nimport Oogle from '../components/sketches/Oogle/Oogle';\nimport Yosemite from '../components/sketches/Yosemite/Yosemite';\nimport Blinds from '../components/sketches/Blinds/Blinds';\nimport ClickMe from '../components/sketches/ClickMe/ClickMe';\n\n// pages\nimport About from '../components/pages/About';\nimport Statement from '../components/pages/Statement';\nimport Credits from '../components/pages/Credits';\nimport NotFound from '../components/pages/NotFound';\n\n// utilities\nimport RegisterDesktop from '../components/utilities/RegisterDesktop/RegisterDesktop';\nimport UnregisterDesktop from '../components/utilities/RegisterDesktop/UnregisterDesktop';\nimport ViewUsers from '../components/utilities/ViewUsers/ViewUsers';\nimport PanGallery from '../components/utilities/PanGallery/PanGallery';\nimport ScrollSketches from '../components/utilities/ScrollSketches/ScrollSketches';\nimport Projection from '../components/utilities/Projection/Projection';\n\n// users\nimport { djLocation, wineLocation, hostBotLocation } from '../components/sketches/Gallery/constants';\n\n\nconst DEBUG = true;\nwindow.AWS = \"https://lmd-bucket.s3.us-east-2.amazonaws.com/sketches\";\n\n\nclass App extends React.Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      cursor: 0,\n      cursorID: 0,\n      classes: [\"App\"],\n      showSideBar: false,\n      hasAvatar: false,\n      showSignIn: false,\n      showWelcome: false,\n      showDock: true,\n      sessionID: null,\n      usersChange: false,\n      users: [],\n      hasLoadedRoom: false,\n      roomCount: { \"flush\": 0, \"click-me-baby\": 0, \"macbook-air\": 0, \"hard-drives-on-seashores\": 0, \"wet-streams\": 0, \"jungle-gyms\": 0, \"cloud-confessional\": 0, \"esc-to-mars\": 0, \"xfinity-depths\": 0, \"wasted-days\": 0, \"home-page\": 0, \"gallery\": 0, \"blind-eye\": 0 }\n    };\n\n    this.isClosed = true;\n    this.isMenuOn = true;\n  }\n\n\n  componentDidMount() {\n    this.socketSetup();\n    const hasAvatar = Cookies.get('hasAvatar');\n\n    // this.props.router.setRouteLeaveHook(this.props.route, this.onLeave); \n\n    if (hasAvatar) {\n      const userName = Cookies.get('userName');\n      const avatar = Cookies.get('avatar');\n\n      const room = this.getRoom(this.props.location.pathname);\n      this.props.setUser(userName, avatar);\n      this.props.setUserRoom(room);\n      this.setState({ hasAvatar: true, showWelcome: false }); // false\n      // this.props.setGalleryActive();\n    }\n    else {\n      this.setState({ hasAvatar: false, showWelcome: true });\n    }\n\n\n\n    window.addEventListener(\"resize\", this.updateDeviceDimensions);\n    window.addEventListener(\"keydown\", this.handleKeyPress);\n\n    // this.unlisten = this.props.history.listen((location, action) => this.pageChange(location));\n    this.props.loadingApp();\n  }\n\n  componentWillUnmount() {\n    window.removeEventListener(\"resize\", this.updateDeviceDimensions);\n    window.removeEventListener(\"keydown\", this.handleKeyPress);\n    // this.unlisten();\n  }\n\n\n  componentDidUpdate(prevProps) {\n    if (this.state.usersChange)\n      this.setState({ usersChange: false });\n\n    if (this.props.location.pathname !== prevProps.location.pathname)\n      this.pageChange();\n  }\n\n  handleKeyPress = (e) => {\n    if (e.keyCode === 13) {\n      const { user } = this.props;\n      const { hasLoadedRoom } = this.state;\n      if (!hasLoadedRoom && user.room !== \"gallery\") {\n        this.setState({ hasLoadedRoom: true });\n        this.props.startComposition();\n      }\n    }\n  }\n\n  pageChange = () => {\n    let newPath = this.props.location.pathname;\n    console.log(\"PAGE CHANGE\", newPath)\n    this.props.hideMenus();\n    const nextRoom = this.getRoom(newPath);\n    if (nextRoom !== this.props.user.room) {\n      this.props.loadingApp();\n      this.setState({ hasLoadedRoom: false });\n    }\n    this.props.setUserRoom(nextRoom);\n  }\n\n  toggleSideBar = () => {\n    // if (DEBUG) console.log(\"TOGGLED\");\n    this.setState(prevState => ({\n      showSideBar: !prevState.showSideBar\n    }));\n  }\n\n  handleDrawerClose = () => {\n    // if (DEBUG) console.log(\"CLOSED\")\n    this.setState({ showSideBar: false });\n  }\n\n  updateDeviceDimensions = () => {\n    // console.log(\"resizing\");\n    this.props.resizeApp(window.innerWidth, window.innerHeight);\n  }\n\n  addClass = (classn) => {\n    let classes = [...this.state.classes];\n    classes.push(classn);\n    this.setState({ classes });\n    //\" \" + this.state.cursor\n  }\n\n  removeClass = (classn) => {\n    let classes = [...this.state.classes];\n    let indexOfClass = classes.indexOf(classn);\n    if (indexOfClass > -1) {\n      classes.splice(indexOfClass, 1);\n      this.setState({ classes });\n    }\n  }\n\n  //////////////////////////////////////////////////////////\n  // USERS\n  socketSetup = () => {\n    socket.on('connect', () => {\n      const user = this.props.user;\n      this.setState({ sessionID: socket.id });\n      // if (DEBUG) console.log(\"SETUP SOCKET, SET\", user);\n      // socket.emit(\"setUser\", user);\n      socket.emit(\"joinRoom\", user.room);\n      // this.props.setUser()\n      this.addBots();\n    });\n\n\n    socket.on(\"usersUpdate\", data => {\n      var { sessionID } = this.state;\n      var filteredArray = data.filter(function (user) {\n        return user.id !== sessionID;\n      });\n      this.setRoomCount();\n      // if (DEBUG) console.log(\"USERS UPDATED\", data);\n      this.setState({ users: filteredArray });\n    });\n\n    socket.on(\"message\", data => {\n      // console.log(\"message received\", data);\n      const message = { ...data }\n      const user = { ...this.props.user };\n      if (message.to === user.room) {\n        message.to = \"room\"\n      }\n      else if (message.to !== \"all\") {\n        message.to = \"me\";\n      }\n      message.from = this.getUserNameById(message.from);\n      // this.addUserMessage(message);\n      this.props.addMessage(message);\n      this.props.addMessageNotification();\n    })\n\n    socket.on(\"userJoined\", data => {\n      // const user = { ...this.props.user };\n      this.setState({ usersChange: true });\n      // console.log(data)\n    })\n\n    socket.on(\"userDisconnected\", data => {\n      this.setState({ usersChange: true });\n      // socket.emit(\"leaveRoom\", user.room); // not sure if we need this?\n      // console.log(\"SOMEONE DISCONNECTED\");\n    })\n  }\n\n  addBots = () => {\n    const hostBot = { x: hostBotLocation.x, y: hostBotLocation.y, room: \"gallery\", avatar: \"\", userName: \"hostBot\", id: 4 };\n    const cheeseBot = { x: wineLocation[0].x - 100, y: wineLocation[0].y + 80, avatar: \"\", room: \"gallery\", userName: \"cheeseBot\", id: 0 };\n    const wineBot = { x: wineLocation[1].x + 120, y: wineLocation[1].y + 50, avatar: \"\", room: \"gallery\", userName: \"wineBot\", id: 1 };\n    const cocktailBot = { x: wineLocation[2].x + 120, y: wineLocation[2].y + 50, avatar: \"\", room: \"gallery\", userName: \"cocktailBot\", id: 2 };\n    const dj = { x: djLocation.x + 100, y: djLocation.y - 30, room: \"gallery\", avatar: \"\", userName: \"DJ\", id: 3 };\n    socket.emit(\"setBot\", cheeseBot);\n    socket.emit(\"setBot\", wineBot);\n    socket.emit(\"setBot\", cocktailBot);\n    socket.emit(\"setBot\", dj);\n    socket.emit(\"setBot\", hostBot);\n  }\n\n\n  setRoomCount = () => {\n    const roomCount = { ...this.state.roomCount };\n    // reset it\n    for (var key in roomCount) {\n      if (roomCount.hasOwnProperty(key)) {\n        roomCount[key] = 0;\n      }\n    }\n    if (this.state.users) {\n      for (const usr of this.state.users) {\n        var room = usr.room;\n        if (room in roomCount)\n          roomCount[room]++;\n      }\n      this.setState({ roomCount })\n    }\n\n  }\n\n\n  getUserNameById = (id) => {\n    const users = this.state.users;\n    if (users) {\n      let obj = users.find(o => o.id === id);\n      if (obj) return obj.userName;\n    }\n    return \"\";\n  }\n\n  getAvatarById = (id) => {\n    const users = this.state.users;\n    if (users) {\n      let obj = users.find(o => o.id === id);\n      if (obj) return obj.avatar;\n    }\n    return \"\";\n  }\n\n  avatarClicked = () => {\n    if (DEBUG) console.log(\"SHOW AV\")\n    if (!this.state.showWelcome) {\n      this.setState({ showSignIn: true });\n      this.props.showSignIn();\n    }\n  }\n\n  userNewRoom = (room) => {\n    // alert(\"door!\");\n    this.props.history.push(room);\n    this.props.setUserRoom(room);\n  }\n\n\n  getRoom = (path) => {\n    var rm = path.substring(1, path.length);\n\n    if (rm === \"\") rm = \"gallery\";\n    else if (rm === \"confessions\") rm = \"cloud-confessional\";\n\n    const pages = sketches.map((sketch) => sketch.link);\n    pages.push(\"gallery\");\n    pages.push(\"gallerytest\");\n    const pages2 = [\"statement\", \"thesis\", \"bio\", \"about\", \"credits\"];\n    if (!pages.includes(rm) && !pages2.includes(rm)) rm = \"\";\n\n    return rm;\n  }\n\n  getRoomTitle = (path) => {\n    var rm = this.getRoom(path);\n    rm = rm.replace(/-/g, ' ');\n    return rm;\n  }\n\n\n  closeWelcome = () => {\n    this.setState({ showWelcome: false, hasAvatar: true, hasLoadedRoom: true })\n    // this.props.setGalleryActive();\n  }\n\n  getStringClasses = () => {\n    var str = \"\";\n    for (const classn of this.state.classes) {\n      str += classn + \" \";\n    }\n    str = str.substring(0, str.length - 1);\n    return str;\n  }\n\n  handleMouseMove = e => {\n    let showDock = this.state.showDock;\n    if (showDock) {\n      if (e.clientY < window.innerHeight - 100) {\n        this.setState({ showDock: false });\n      }\n    }\n    else if (e.clientY > window.innerHeight - 25) {\n      this.setState({ showDock: true });\n    }\n  };\n\n  startMedia = () => {\n    // console.log(\"starting media\");\n    if (this.props.music.hasAudio && this.audioPlayer) {\n      // if (this.audioPlayer.audioEl) \n      // this.audioPlayer.audioEl.play();\n    }\n    this.setState({ hasLoadedRoom: true });\n  }\n\n  render() {\n\n    const { ui, music, user } = this.props;\n    const appHeaderClass = \"App-Header\" + (ui.isMobile || ui.hasFooter ? \" mobile\" : \"\");\n    const currentPage = this.getRoomTitle(this.props.location.pathname);\n\n    return (\n      <div className={this.getStringClasses()}>\n        <div className={appHeaderClass}>\n          <div className=\"BackHeader\"></div>\n          <Header currentPage={currentPage} user={this.props.user} avatarClicked={this.avatarClicked} isClosed={this.isClosed} isMenuOn={this.isMenuOn} />\n        </div>\n        <div className=\"App-Content inner-outline\" onMouseMove={this.handleMouseMove}>\n          <Switch>\n            <Route exact path=\"/\" render={() => (<Gallery users={this.state.users} userNewRoom={this.userNewRoom} roomCount={this.state.roomCount} showDock={this.state.showDock} isClosed={this.isClosed} />)} />\n\n            {/* Sketches */}\n            <Route exact path={getUrl(\"mac\")} render={() => (<MacbookAir />)} />\n            <Route exact path={getUrl(\"jung\")} render={() => (<JungleGyms />)} />\n            <Route exact path={getUrl(\"hard\")} render={() => (<HardDrives />)} />\n            <Route exact path={getUrl(\"wasted\")} render={() => (<Wasted />)} />\n            <Route exact path={getUrl(\"esc\")} render={() => (<Mars addClass={this.addClass} removeClass={this.removeClass} />)} />\n            <Route exact path={getUrl(\"wet\")} render={() => (<WetStreams />)} />\n            <Route exact path={getUrl(\"xfin\")} render={() => (<Xfinity />)} />\n            <Route exact path={getUrl(\"cloud\")} render={() => (<Confessional cursor={this.state.cursorID} />)} />\n            <Route exact path=\"/confessions\" render={() => (<Confessions />)} />\n            <Route exact path={getUrl(\"flush\")} render={() => (<Flush />)} />\n            <Route exact path={getUrl(\"home\")} render={() => (<Oogle />)} />\n            <Route exact path={getUrl(\"blind\")} render={() => (<Blinds />)} />\n            <Route exact path={getUrl(\"yose\")} component={Yosemite} />\n            <Route exact path={getUrl(\"click\")} render={() => (<ClickMe addClass={this.addClass} removeClass={this.removeClass} />)} />\n\n            {/* Pages */}\n            <Route exact path=\"/about\" render={() => (<About ui={this.props.ui} />)} />\n            <Route exact path=\"/statement\" render={() => (<Statement ui={this.props.ui} />)} />\n            <Route exact path=\"/credits\" render={() => (<Credits ui={this.props.ui} />)} />\n\n            {/* Utilities */}\n            <Route exact path=\"/gallerytest\" render={() => (<Gallery users={this.state.users} userNewRoom={this.userNewRoom} roomCount={this.state.roomCount} showDock={this.state.showDock} isClosed={false} />)} />\n            <Route exact path=\"/register\" render={() => (<RegisterDesktop />)} />\n            <Route exact path=\"/unregister\" render={() => (<UnregisterDesktop />)} />\n            <Route exact path=\"/viewusers\" render={() => <ViewUsers users={this.state.users} />} />\n            <Route exact path=\"/pangallery\" render={() => <PanGallery users={this.state.users} roomCount={this.state.roomCount} />} />\n            <Route exact path=\"/scroll\" render={() => <ScrollSketches addClass={this.addClass} removeClass={this.removeClass} />} />\n            <Route exact path=\"/projection\" render={() => <Projection addClass={this.addClass} removeClass={this.removeClass} users={this.state.users} roomCount={this.state.roomCount} />} />\n\n            {/* catch all */}\n            <Route path=\"*\" component={NotFound} />\n          </Switch>\n\n        </div>\n        {/* {<FPSStats top={window.innerHeight - 255} left={10} />} */}\n        <Chat users={this.state.users} usersChange={this.state.usersChange} />\n        {/* <Volume /> */}\n        <FAQFrame />\n        <SignIn hasAvatar={this.state.hasAvatar} showSignIn={this.state.showSignIn} isFrame={true} />\n        <RoomDecal startMedia={this.startMedia} hasLoadedRoom={this.state.hasLoadedRoom} users={this.state.users} />\n        <Welcome isClosed={this.isClosed} user={this.props.user} hasAvatar={this.state.hasAvatar} showWelcome={this.state.showWelcome} closeWelcome={this.closeWelcome} />\n        <MobileFooter currentPage={currentPage} user={this.props.user} avatarClicked={this.avatarClicked} />\n        <YouTube />\n        { user.comp === null && ((currentPage === \"gallery\" && !this.state.showWelcome) ||\n          ui.compositionStarted) ?\n          <ReactAudioPlayer\n            src={music.currentSongTitle}\n            autoPlay={true}\n            volume={music.isMuted?0:music.volume}\n            controls={false}\n            loop={true}\n            ref={player => {\n              this.audioPlayer = player;\n            }}\n          /> : null\n        }\n      </div>\n    );\n  }\n\n\n}\n\n\nconst mapStateToProps = (state) => {\n  return {\n    user: state.user,\n    ui: state.ui,\n    music: state.music\n  }\n}\n\nconst mapDispatchToProps = () => {\n  return {\n    setUserRoom,\n    setUser,\n    moveUser,\n    setWine,\n    addMessage,\n    addMessageNotification,\n    resizeApp,\n    loadingApp,\n    hideMenus,\n    setOneMenu,\n    startComposition,\n    showSignIn,\n    setGalleryActive\n  }\n}\n\nexport default withRouter(connect(mapStateToProps, mapDispatchToProps())(App));\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' }\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import { truncate } from 'fs';\nimport {\n  SETONEMENU, HIDEMENUS,\n  SHOWMAP, HIDEMAP, TOGGLEMAP,\n  SHOWCHAT, HIDECHAT, TOGGLECHAT,\n  SHOWUSERICONS, HIDEUSERICONS, TOGGLEUSERICONS,\n  SHOWFAQ, HIDEFAQ, TOGGLEFAQ,\n  SHOWSIGNIN, HIDESIGNIN, TOGGLESIGNIN,\n  SHOWVOLUME, HIDEVOLUME, TOGGLEVOLUMEMENU,\n  SHOWLIVESTREAM, HIDELIVESTREAM, TOGGLELIVESTREAM,\n  SETGALLERYACTIVE\n} from '../actions/menuItems';\n\n// import Cookies from 'js-cookie';\n\nconst initState = {\n  mobile: null,\n  isMapHidden: true,\n  isFaqHidden: true,\n  isSignInHidden: true,\n  isVolumeHidden: true,\n  isChatHidden: true,\n  isUserIconsHidden: true,\n  isLiveStreamHidden: true,\n  hasClickedLiveStream: false,\n  isGalleryActive: false,\n}\n\nconst getOneMenu = (oldMenu, show) => {\n  let newMenu = { ...initState };\n  // if the same menu is tapped, toggle it off (return init state)\n  if (!show || oldMenu.mobile === show) {\n    newMenu.isGalleryActive = true;\n    return newMenu;\n  }\n\n  // otherwise, set mobile and individual state for desktop\n\n  newMenu.mobile = show;\n  switch (show) {\n    case \"signIn\":\n      newMenu.isSignInHidden = false;\n      newMenu.isGalleryActive = false;\n      return newMenu;\n    case \"faq\":\n      newMenu.isFaqHidden = false;\n      newMenu.isGalleryActive = false;\n      return newMenu;\n    case \"volume\":\n      newMenu.isVolumeHidden = false;\n      return newMenu;\n    case \"liveStream\":\n      newMenu.isLiveStreamHidden = false;\n      // Cookies.set(\"clickedLiveStream\", true);\n      newMenu.hasClickedLiveStream = true;\n      return newMenu;\n    case \"map\":\n      newMenu.isMapHidden = false;\n      newMenu.isGalleryActive = true;\n      return newMenu;\n    case \"chat\":\n      newMenu.isChatHidden = false;\n      newMenu.isGalleryActive = false;\n      return newMenu;\n    case \"users\":\n      newMenu.isUserIconsHidden = false;\n      newMenu.isGalleryActive = false;\n      return newMenu;\n  }\n}\n\nexport const menuReducer = (state = initState, action) => {\n  const menu = { ...state };\n  switch (action.type) {\n\n    // all\n    case HIDEMENUS:\n      let s = { ...initState };\n      s.hasClickedLiveStream = menu.hasClickedLiveStream\n      return s;\n    case SETONEMENU:\n      return getOneMenu(menu, action.payload.show);\n\n    case SETGALLERYACTIVE:\n      menu.isGalleryActive = true;\n      return menu;\n\n    // map\n    case SHOWMAP:\n      menu.isMapHidden = false;\n      return menu;\n    case HIDEMAP:\n      menu.isMapHidden = true;\n      return menu;\n    case TOGGLEMAP:\n      menu.isMapHidden = !menu.isMapHidden;\n      return menu;\n\n    // faq\n    case SHOWFAQ:\n      menu.isFaqHidden = false;\n      return menu;\n    case HIDEFAQ:\n      menu.isFaqHidden = true;\n      return menu;\n    case TOGGLEFAQ:\n      menu.isFaqHidden = !menu.isFaqHidden;\n      return menu;\n\n    // chat\n    case SHOWCHAT:\n      menu.isChatHidden = false;\n      return menu;\n    case HIDECHAT:\n      menu.isChatHidden = true;\n      return menu;\n    case TOGGLECHAT:\n      menu.isChatHidden = !menu.isChatHidden;\n      return menu;\n\n    // Sign In\n    case SHOWSIGNIN:\n      menu.mobile = \"signIn\";\n      menu.isSignInHidden = false;\n      return menu;\n    case HIDESIGNIN:\n      menu.mobile = null;\n      menu.isSignInHidden = true;\n      return menu;\n    case TOGGLESIGNIN:\n      menu.isSignInHidden = !menu.isSignInHidden;\n      if (menu.isSignInHidden)\n        menu.mobile = null;\n      else\n        menu.mobile = \"signIn\";\n      return menu;\n\n    // Volume\n    case SHOWVOLUME:\n      menu.isVolumeHidden = false;\n      return menu;\n    case HIDEVOLUME:\n      menu.isVolumeHidden = true;\n      return menu;\n    case TOGGLEVOLUMEMENU:\n      menu.isVolumeHidden = !menu.isVolumeHidden;\n      return menu;\n\n    // livestream\n    case SHOWLIVESTREAM:\n      menu.isLiveStreamHidden = false;\n      // Cookies.set(\"clickedLiveStream\", true);\n      menu.hasClickedLiveStream = true;\n      return menu;\n    case HIDELIVESTREAM:\n      menu.isLiveStreamHidden = true;\n      return menu;\n    case TOGGLELIVESTREAM:\n      menu.hasClickedLiveStream = true;\n      menu.isLiveStreamHidden = !menu.isLiveStreamHidden;\n      return menu;\n\n\n    default:\n      return menu;\n  }\n}","import { SETUSERROOM, REMOVEUSERCOMP, SETUSERCOMP, SETUSER, MOVEUSER, MOVEUSERROOM, TOGGLEOUTSIDE, SETWINE, RESETWINE, ADDWINE, SETCHEESE, RESETCHEESE, ADDCHEESE, SETCOCKTAIL, RESETCOCKTAIL, ADDCOCKTAIL } from '../actions/user';\nimport { SETUSERACTIVECHAT, SETUSERHOVERCHAT, USERHOVERCHATLEAVE } from '../actions/userActiveChat';\n\nimport Cookies from 'js-cookie';\nimport socket from \"../../components/shared/Socket/Socket\";\n\nimport { globalConfig } from '../../components/sketches/Gallery/constants';\n\n// reducer (check what to do with action)\nconst initState = { \n  avatar: \"\", \n  userName: \"\", \n  room: \"gallery\", \n  comp: null, \n  roomX: 0, \n  roomY: 0, \n  x: globalConfig.stepS / 2, \n  y: globalConfig.stepS / 2, \n  hasWine: null, \n  needsWine: false, \n  hasCheese: null, \n  needsCheese: false, \n  hasCocktail: null, \n  needsCocktail: false \n};\n\nexport const userReducer = (state = initState, action) => {\n  const user = { ...state };\n\n  switch (action.type) {\n\n    case SETUSERROOM:\n      const prevRoom = user.room;\n      const nextRoom = action.payload.room;\n      user.roomX = 50;\n      user.roomY = 50;\n      user.room = nextRoom;\n      socket.emit(\"leaveRoom\", prevRoom);\n      socket.emit(\"joinRoom\", nextRoom);\n      socket.emit(\"setUser\", user);\n      return user;\n\n    case SETUSER:\n      user.avatar = action.payload.avatar;\n      user.userName = action.payload.userName;\n\n      const comp = Cookies.get('comp');\n      if (comp)\n        user.comp = comp;\n\n      Cookies.set(\"hasAvatar\", true);\n      Cookies.set(\"avatar\", user.avatar);\n      Cookies.set(\"userName\", user.userName);\n      socket.emit(\"setUser\", user);\n\n      return user;\n\n    case REMOVEUSERCOMP:\n      user.comp = null;\n      Cookies.remove(\"comp\");\n      return user;\n    case SETUSERCOMP:\n      user.comp = action.payload.comp;\n      Cookies.set(\"comp\", user.comp);\n      return user;\n    case MOVEUSER:\n      user.x = action.payload.x;\n      user.y = action.payload.y;\n      var wineLocation = action.payload.wineLocation;\n      if (userNearBar(user, wineLocation[1]) && user.needsWine) {\n        user.needsWine = false;\n        user.hasWine = new Date();\n      }\n      else if (userNearBar(user, wineLocation[0]) && user.needsCheese) {\n        user.needsCheese = false;\n        user.hasCheese = new Date();\n      }\n      else if (userNearBar(user, wineLocation[2]) && user.needsCocktail) {\n        user.needsCocktail = false;\n        user.hasCocktail = new Date();\n      }\n      socket.emit(\"setUser\", user);\n      return user;\n\n    case MOVEUSERROOM:\n      user.roomX = action.payload.x;\n      user.roomY = action.payload.y;\n      // action.payload.exitLocation\n      return user;\n\n    case ADDWINE:\n      user.needsWine = true;\n      // console.log(\"WINE\", location);\n      if (userNearBar(user, action.payload.location)) {\n        user.needsWine = false;\n        user.hasWine = new Date();\n      }\n      socket.emit(\"setUser\", user);\n      return user;\n\n    case SETWINE:\n      user.needsWine = action.payload.needsWine;\n      user.hasWine = action.payload.hasWine;\n      socket.emit(\"setUser\", user);\n      return user;\n\n    case RESETWINE:\n      user.hasWine = false;\n      user.needsWine = null;\n      socket.emit(\"setUser\", user);\n      return user;\n\n    ////////////////////////\n    case ADDCHEESE:\n      user.needsCheese = true;\n      let loc = action.payload.location;\n      if (userNearBar(user, loc)) {\n        user.needsCheese = false;\n        user.hasCheese = new Date();\n      }\n      socket.emit(\"setUser\", user);\n      return user;\n\n    case SETCHEESE:\n      user.needsCheese = action.payload.needsCheese;\n      user.hasCheese = action.payload.hasCheese;\n      socket.emit(\"setUser\", user);\n      return user;\n\n    case RESETCHEESE:\n      user.needsCheese = false;\n      user.hasCheese = null;\n      socket.emit(\"setUser\", user);\n      return user;\n\n\n    ////////////////////////\n    case ADDCOCKTAIL:\n      user.needsCocktail = true;\n      if (userNearBar(user, action.payload.location)) {\n        user.needsCocktail = false;\n        user.hasCocktail = new Date();\n      }\n      socket.emit(\"setUser\", user);\n      return user;\n\n    case SETCOCKTAIL:\n      user.needsCocktail = action.payload.needsCocktail;\n      user.hasCocktail = action.payload.hasCocktail;\n      socket.emit(\"setUser\", user);\n      return user;\n\n    case RESETCOCKTAIL:\n      user.needsCocktail = false;\n      user.hasCocktail = null;\n      socket.emit(\"setUser\", user);\n      return user;\n\n    default:\n      return state;\n  }\n}\n\n\nfunction userNearBar(user, location) {\n  var dx = user.x - (location.x + location.w / 2);\n  var dy = user.y - (location.y + location.h / 2);\n  var dis = Math.sqrt(dx * dx + dy * dy);\n  // console.log(\"DIS\", dis < 200);\n  return dis < 200;\n}\n\n\nexport const userActiveChatReducer = (state = { userName: \"Everyone\", avatar: \"\" }, action) => {\n  switch (action.type) {\n    case SETUSERACTIVECHAT:\n      const user = { ...action.payload.user };\n      return user;\n    default:\n      return state;\n  }\n}\n\nexport const userHoverChatReducer = (state = null, action) => {\n  switch (action.type) {\n    case SETUSERHOVERCHAT:\n      const user = { ...action.payload.user };\n      return user;\n\n    case USERHOVERCHATLEAVE:\n      return null;\n\n    default:\n      return state;\n  }\n}\n\nexport const userOutsideReducer = (state = true, action) => {\n  switch (action.type) {\n    case TOGGLEOUTSIDE:\n      return !state;\n    default:\n      return state;\n  }\n}","import { \n    UNMUTEVOLUME, MUTEVOLUME, \n    TOGGLEVOLUME, SETVOLUME, SETSKETCHVOLUME,\n    SETSKETCHMUSIC, SETNOSKETCHMUSIC,\n    INCREMENTSONG, DECREMENTSONG, \n    SETSONG, SETRANDOMSONG \n} from '../actions/music';\n\nconst songs = {\n    gallery: [\n        \"https://lmd-bucket.s3.us-east-2.amazonaws.com/sketches/gallery/music/lounge.mp3\",\n        \"https://lmd-bucket.s3.us-east-2.amazonaws.com/sketches/gallery/music/sexy.mp3\",\n        \"https://lmd-bucket.s3.us-east-2.amazonaws.com/sketches/gallery/music/jazzriff.mp3\",\n        \"https://lmd-bucket.s3.us-east-2.amazonaws.com/sketches/gallery/music/samba.mp3\",\n        \"https://lmd-bucket.s3.us-east-2.amazonaws.com/sketches/gallery/music/jazzpiano.mp3\",\n        \"https://lmd-bucket.s3.us-east-2.amazonaws.com/sketches/gallery/music/trap.mp3\",\n    ],\n    yosemite: [\n        \"https://lmd-bucket.s3.us-east-2.amazonaws.com/sketches/yosemite/crackle.mp3\",\n        \"https://lmd-bucket.s3.us-east-2.amazonaws.com/sketches/yosemite/fire.mp3\"\n    ],\n    cloud: [\n        \"https://lmd-bucket.s3.us-east-2.amazonaws.com/sketches/waveforms/wind.mp3\",\n        \"https://lmd-bucket.s3.us-east-2.amazonaws.com/sketches/waveforms/choir.mp3\"\n    ],\n    hardDrives: [\n        \"https://lmd-bucket.s3.us-east-2.amazonaws.com/sketches/hardDrives/seagulls.mp3\", \n    ],\n    xfinity: [\n        \"https://lmd-bucket.s3.us-east-2.amazonaws.com/sketches/loop/underwater.mp3\",\n    ],\n    mars: [\n        \"https://lmd-bucket.s3.us-east-2.amazonaws.com/sketches/mars/pool.mp3\",\n    ],\n    wetStreams: [\n        \"https://lmd-bucket.s3.us-east-2.amazonaws.com/sketches/wetStreams/shower.mp3\", \n    ],\n    macBookAir: [\n        \"https://lmd-bucket.s3.us-east-2.amazonaws.com/sketches/macbookAir/air.mp3\", \n    ],\n    jungleGyms: [\n        \"https://lmd-bucket.s3.us-east-2.amazonaws.com/sketches/jungleGyms/gym_audio.mp3\", \n    ],\n    flush: [\n        \"https://lmd-bucket.s3.us-east-2.amazonaws.com/sketches/vorTech/whirl_audio.mp3\",\n    ],\n    clickMe: [\n        \"https://lmd-bucket.s3.us-east-2.amazonaws.com/sketches/clickMe/electric.mp3\",\n    ],\n    default: [\n        \"https://lmd-bucket.s3.us-east-2.amazonaws.com/sketches/gallery/music/lounge.mp3\"\n    ],\n    wasted: [\n        \"https://lmd-bucket.s3.us-east-2.amazonaws.com/sketches/loop/tic2.mp3\" \n    ]\n}\n\nconst initState = {\n    currentSong: 0,\n    currentSketch: \"default\",\n    currentSongTitle: songs.default[0],\n\n    hasAudio: false,\n    isMuted: false,\n    masterVolume: .5,\n    sketchVolume: 0,\n    volume: 0\n}\n\n\nexport const musicReducer = (state = initState, action) => {\n    const music = { ...state };\n    switch (action.type) {\n        case MUTEVOLUME:\n            music.isMuted = true;\n            return music;\n        case UNMUTEVOLUME:\n            music.isMuted = false;\n            return music;\n        case TOGGLEVOLUME:\n            music.isMuted = !music.isMuted;\n            return music;\n        case SETVOLUME:\n            music.masterVolume = action.payload.volume;\n            music.volume = music.sketchVolume * music.masterVolume;\n            return music;\n        case SETSKETCHVOLUME:\n            music.sketchVolume = action.payload.volume;\n            music.volume = music.sketchVolume * music.masterVolume;\n         return music;\n\n        case SETSKETCHMUSIC:\n            let sketch = action.payload.sketch;\n            let id = action.payload.id;\n            let song = songs[sketch][id];\n            music.hasAudio = true;\n            music.currentSong = id;\n            music.currentSketch = sketch;\n            music.currentSongTitle = song;\n            music.sketchVolume = action.payload.volume;\n            music.volume = music.sketchVolume * music.masterVolume;\n            // music.isMuted = false;\n            return music;\n        case SETNOSKETCHMUSIC:\n            return initState;\n\n        case SETSONG:\n            let song2 = action.payload.song;\n            if (song2 >= 0 && song2 < songs[music.currentSketch].length) {\n                music.currentSong = song2;\n                music.currentSongTitle = songs[music.currentSketch][song2];\n                return music;\n            }\n            return state;\n        case INCREMENTSONG:\n            music.currentSong += 1;\n            music.currentSong %= songs[music.currentSketch].length;\n            return music;\n        case DECREMENTSONG:\n            music.currentSong -= 1;\n            if (music.currentSong < 0)\n                music.currentSong = songs[music.currentSketch].length - 1;\n            music.currentSongTitle = songs[music.currentSketch][music.currentSong];\n            return music;\n        case SETRANDOMSONG:\n            let numSongs = songs[music.currentSketch].length;\n            let current = music.currentSong;\n            let r = Math.floor(Math.random() * (numSongs - 2) + 1);\n            music.currentSong = (current + r) % numSongs;\n            music.currentSongTitle = songs[music.currentSketch][music.currentSong];\n            return music;\n        default:\n            return state;\n    }\n}\n\n","import { LOADINGAPP, DONELOADINGAPP, RESIZEAPP, STARTCOMPOSITION } from '../actions';\n\nlet initW = typeof window === 'object' ? window.innerWidth : null;\nlet initH = typeof window === 'object' ? window.innerHeight : null;\nconst footerMobileH = 60;\nconst headerMobileH = 60;\nconst headerH = 34;\n\nconst initialState = {\n    width: initW,\n    height: initH,\n    isMobile: getIsMobile(),\n    orientation: getOrientation(initW, initH),\n    size: getWindowSize(initW),\n    hasFooter: getHasFooter(initW, initH),\n    loading: true,\n    headerH: getHeaderH(initW, initH),\n    toolbarH: 26,\n    contentW: getContentW(initW, initH),\n    contentH: getContentH(initW, initH),\n    compositionStarted: false,\n    edgeSpacing: getEdgeSpacing(initW, initH)\n};\n\nfunction getHasFooter(w, h) {\n    //788\n    return (w < 835 || h < 600);\n}\n\nfunction getOrientation(w, h) {\n    return w > h ? \"landscape\" : \"portrait\";\n}\n\nfunction getIsMobile() {\n    return (/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent));\n}\n\nfunction getWindowSize(w) {\n    if (!w)\n        return 'medium';\n    else if (w < 340)\n        return 'xxsmall';\n    else if (w < 480)\n        return 'xsmall';\n    else if (w < 788)\n        return 'small';\n    else if (w < 992)\n        return 'medium';\n    else if (w < 1200)\n        return 'large';\n    return 'xlarge';\n}\n\nfunction getContentW(w, h) {\n    if (getHasFooter(w, h) || getIsMobile(w, h)) {\n        if (getOrientation(w, h) === \"portrait\") {\n            return w;\n        }\n        return w - footerMobileH; // right hand menu\n    }\n    return w;\n}\n\nfunction getContentH(w, h) {\n    if (getHasFooter(w, h) || getIsMobile(w, h)) {\n        if (getOrientation(w, h) === \"portrait\") {\n            return h - footerMobileH - headerMobileH;\n        }\n        return h - headerMobileH;\n    }\n    return h - headerH;\n}\n\nfunction getHeaderH(w, h) {\n    return (getHasFooter(w, h) || getIsMobile()) ? headerMobileH : headerH;\n}\n\nfunction getEdgeSpacing(w, h) {\n    if (w < 800)\n        return 10;\n    else if (w >= 1920)\n        return 30;\n    return 20;\n}\n\nexport const windowReducer = (state = initialState, action) => {\n\n    const window = { ...state };\n    switch (action.type) {\n\n        case RESIZEAPP:\n            window.width = action.payload.width;\n            window.height = action.payload.height;\n            window.orientation = getOrientation(window.width, window.height);\n            window.isMobile = getIsMobile();\n            window.size = getWindowSize(window.width);\n            window.hasFooter = getHasFooter(window.width, window.height);\n            window.headerH = getHeaderH(window.width, window.height);\n            window.contentW = getContentW(window.width, window.height);\n            window.contentH = getContentH(window.width, window.height);\n            window.edgeSpacing = getEdgeSpacing(window.width, window.height);\n            return window;\n\n        case LOADINGAPP:\n            window.loading = true;\n            return window;\n\n        case DONELOADINGAPP:\n            window.loading = false;\n            window.compositionStarted = false;\n            return window;\n\n        case STARTCOMPOSITION:\n            window.compositionStarted = true;\n            return window;\n        \n            default:\n            return state;\n\n    }\n}","/*\nReducers modify state, and set default state\nstore is created from reducers; it's what holds state\n*/\n\nimport { combineReducers } from 'redux';\nimport { messagesReducer, messageNotificationReducer } from './messages';\n// import { mapReducer, faqReducer, chatReducer, loginReducer, userIconsReducer, menuReducer, volumeReducer } from './menuItems';\nimport { menuReducer } from './menuItems';\n\nimport { userReducer, userActiveChatReducer, userHoverChatReducer, userOutsideReducer } from './user';\nimport { musicReducer } from './music';\nimport { windowReducer} from './window';\n\nimport Cookies from 'js-cookie';\n\n\nconst allReducers = combineReducers({\n  user: userReducer,\n  messages: messagesReducer,\n  menu: menuReducer,\n  userActiveChat: userActiveChatReducer,\n  userHoverChat: userHoverChatReducer,\n  chatNotifications: messageNotificationReducer,\n  music: musicReducer,\n  outside: userOutsideReducer,\n  ui: windowReducer\n})\n\n// export default allReducers;\n\n// in order to reset app, set state of allReducers to undefined\n// https://www.digitalocean.com/community/tutorials/redux-reset-state-redux\nconst rootReducer = (state, action) => {\n\n  if (action.type === 'RESETAPP') {\n    Cookies.remove(\"hasAvatar\");\n    Cookies.remove(\"avatar\");\n    Cookies.remove(\"userName\");\n    // Cookies.remove(\"clickedLiveStream\");\n    state = undefined;\n  }\n\n  return allReducers(state, action);\n}\n\nexport default rootReducer;","import { ADDMESSAGE, INCREMENTMESSAGENOTIFICATION, RESETMESSAGENOTIFICATION } from '../actions/messages';\n\nexport const messagesReducer = (state=[], action) => {\n  switch(action.type) {\n    case ADDMESSAGE:\n      const messages = [...state, action.payload.message];\n      return messages;\n    default:\n      return state;\n  }\n}\n\n\nexport const messageNotificationReducer = (state=0, action) => {\n  switch(action.type) {\n    case INCREMENTMESSAGENOTIFICATION:\n      return state + 1;\n    case RESETMESSAGENOTIFICATION:\n      return 0;\n    default:\n      return state;\n  }\n}\n\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App/App';\nimport { BrowserRouter } from 'react-router-dom';\nimport * as serviceWorker from './serviceWorker';\n\nimport { createStore } from 'redux';\nimport { Provider } from 'react-redux';\nimport allReducers from './store/reducers/';\nlet store = createStore(allReducers, window.__REDUX_DEVTOOLS_EXTENSION__ && window.__REDUX_DEVTOOLS_EXTENSION__());\n\n\nReactDOM.render(\n  <React.StrictMode>\n    <Provider store={store} >\n      <BrowserRouter>\n        <App />\n      </BrowserRouter>\n    </Provider>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n","\nmodule.exports = function (THREE, useOGMatrices) {\n\t/**\n\t* @author mrdoob / http://mrdoob.com/\n\t* @author marklundin / http://mark-lundin.com/\n\t* @author alteredq / http://alteredqualia.com/\n\t* @author tschw\n\t*/\n\n\n\n\tvar AnaglyphEffect = function (renderer, width, height) {\n\n\t\t///////////// OG MATRICES\n\t\t// were the OG matrices incorrect?\n\t\t// replaced with the one from https://github.com/tschw/angler.js/blob/gh-pages/app/classes/AnaglyphShadertoyPlayer.js\n\t\t// seems to get better results with new matrix values\n\n\t\t// let useOGMatrices = false;\n\n\t\tif (useOGMatrices) {\n\t\t\tthis.colorMatrixLeft = new THREE.Matrix3().fromArray([\n\t\t\t\t1.0671679973602295, - 0.0016435992438346148, 0.0001777536963345483, // r out\n\t\t\t\t- 0.028107794001698494, - 0.00019593400065787137, - 0.0002875397040043026, // g out\n\t\t\t\t- 0.04279090091586113, 0.000015809757314855233, - 0.00024287120322696865 // b out\n\t\t\t]);\n\n\t\t\tthis.colorMatrixRight = new THREE.Matrix3().fromArray([\n\t\t\t\t- 0.0355340838432312, - 0.06440307199954987, 0.018319187685847282, // r out\n\t\t\t\t- 0.10269022732973099, 0.8079727292060852, - 0.04835830628871918, // g out\n\t\t\t\t0.0001224992738571018, - 0.009558862075209618, 0.567823588848114 // b out\n\t\t\t]);\n\n\t\t}\n\t\telse {\n\t\t\t// Color matrix for the left input image\n\t\t\t// DUBOIS\n\t\t\t// http://stereo.jpn.org/eng/stphmkr/help/stereo_13.htm\n\t\t\t// this.colorMatrixLeft = new THREE.Matrix3().fromArray([\n\t\t\t// \t0.456100, -0.0400822, -0.0152161,\n\t\t\t// \t0.500484, -0.0378246, -0.0205971,\n\t\t\t// \t0.176381, -0.0157589, -0.00546856\n\t\t\t// ]);\n\n\t\t\t// // Color matrix for the right input image\n\t\t\t// this.colorMatrixRight = new THREE.Matrix3().fromArray([\n\t\t\t// \t-0.0434706, 0.378476, -0.0721527,\n\t\t\t// \t-0.0879388, 0.73364, -0.112961,\n\t\t\t// \t-0.00155529, -0.0184503, 1.2264\n\t\t\t// ]);\n\n\t\t\t//https://github.com/hx2A/Camera3D/blob/master/src/camera3D/generators/AnaglyphGenerator.java\n\t\t\tthis.colorMatrixLeft = new THREE.Matrix3().fromArray([\n\t\t\t\t.437, -.062, -.048,\n\t\t\t\t.449, -.062, -.050,\n\t\t\t\t.164, -.024, -.017\n\t\t\t]);\n\n\t\t\t// Color matrix for the right input image\n\t\t\tthis.colorMatrixRight = new THREE.Matrix3().fromArray([\n\t\t\t\t-0.011, 0.377, -0.026,\n\t\t\t\t-0.032, 0.761, -0.093,\n\t\t\t\t-0.007, .009, 1.234\n\t\t\t]);\n\n\t\t}\n\n\t\tvar _camera = new THREE.OrthographicCamera(- 1, 1, 1, - 1, 0, 1);\n\n\t\tvar _scene = new THREE.Scene();\n\n\t\tvar _stereo = new THREE.StereoCamera();\n\n\t\tvar _params = { minFilter: THREE.LinearFilter, magFilter: THREE.NearestFilter, format: THREE.RGBAFormat };\n\n\t\tif (width === undefined) width = 512;\n\t\tif (height === undefined) height = 512;\n\n\t\tvar _renderTargetL = new THREE.WebGLRenderTarget(width, height, _params);\n\t\tvar _renderTargetR = new THREE.WebGLRenderTarget(width, height, _params);\n\n\t\tvar _material = new THREE.ShaderMaterial({\n\n\t\t\tuniforms: {\n\n\t\t\t\t\"mapLeft\": { value: _renderTargetL.texture },\n\t\t\t\t\"mapRight\": { value: _renderTargetR.texture },\n\n\t\t\t\t\"colorMatrixLeft\": { value: this.colorMatrixLeft },\n\t\t\t\t\"colorMatrixRight\": { value: this.colorMatrixRight }\n\n\t\t\t},\n\n\t\t\tvertexShader: [\n\n\t\t\t\t\"varying vec2 vUv;\",\n\n\t\t\t\t\"void main() {\",\n\n\t\t\t\t\"\tvUv = vec2( uv.x, uv.y );\",\n\t\t\t\t\"\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\",\n\n\t\t\t\t\"}\"\n\n\t\t\t].join(\"\\n\"),\n\n\t\t\tfragmentShader: [\n\n\t\t\t\t\"uniform sampler2D mapLeft;\",\n\t\t\t\t\"uniform sampler2D mapRight;\",\n\t\t\t\t\"varying vec2 vUv;\",\n\n\t\t\t\t\"uniform mat3 colorMatrixLeft;\",\n\t\t\t\t\"uniform mat3 colorMatrixRight;\",\n\n\t\t\t\t// These functions implement sRGB linearization and gamma correction\n\n\t\t\t\t\"float lin( float c ) {\",\n\t\t\t\t\"\treturn c <= 0.04045 ? c * 0.0773993808 :\",\n\t\t\t\t\"\t\t\tpow( c * 0.9478672986 + 0.0521327014, 2.4 );\",\n\t\t\t\t\"}\",\n\n\t\t\t\t\"vec4 lin( vec4 c ) {\",\n\t\t\t\t\"\treturn vec4( lin( c.r ), lin( c.g ), lin( c.b ), c.a );\",\n\t\t\t\t\"}\",\n\n\t\t\t\t\"float dev( float c ) {\",\n\t\t\t\t\"\treturn c <= 0.0031308 ? c * 12.92\",\n\t\t\t\t\"\t\t\t: pow( c, 0.41666 ) * 1.055 - 0.055;\",\n\t\t\t\t\"}\",\n\n\n\t\t\t\t\"void main() {\",\n\n\t\t\t\t\"\tvec2 uv = vUv;\",\n\n\t\t\t\t\"\tvec4 colorL = lin( texture2D( mapLeft, uv ) );\",\n\t\t\t\t\"\tvec4 colorR = lin( texture2D( mapRight, uv ) );\",\n\n\t\t\t\t\"\tvec3 color = clamp(\",\n\t\t\t\t\"\t\t\tcolorMatrixLeft * colorL.rgb +\",\n\t\t\t\t\"\t\t\tcolorMatrixRight * colorR.rgb, 0., 1. );\",\n\n\t\t\t\t\"\tgl_FragColor = vec4(\",\n\t\t\t\t\"\t\t\tdev( color.r ), dev( color.g ), dev( color.b ),\",\n\t\t\t\t\"\t\t\tmax( colorL.a, colorR.a ) );\",\n\n\t\t\t\t\"}\"\n\n\t\t\t].join(\"\\n\")\n\n\t\t});\n\n\t\tvar _mesh = new THREE.Mesh(new THREE.PlaneBufferGeometry(2, 2), _material);\n\t\t_scene.add(_mesh);\n\n\t\tthis.setSize = function (width, height) {\n\n\t\t\trenderer.setSize(width, height);\n\n\t\t\tvar pixelRatio = renderer.getPixelRatio();\n\n\t\t\t_renderTargetL.setSize(width * pixelRatio, height * pixelRatio);\n\t\t\t_renderTargetR.setSize(width * pixelRatio, height * pixelRatio);\n\n\t\t};\n\n\t\tthis.render = function (scene, camera) {\n\n\t\t\tvar currentRenderTarget = renderer.getRenderTarget();\n\n\t\t\tscene.updateMatrixWorld();\n\n\t\t\tif (camera.parent === null) camera.updateMatrixWorld();\n\n\t\t\t_stereo.update(camera);\n\n\t\t\trenderer.setRenderTarget(_renderTargetL);\n\t\t\trenderer.clear();\n\t\t\trenderer.render(scene, _stereo.cameraL);\n\n\t\t\trenderer.setRenderTarget(_renderTargetR);\n\t\t\trenderer.clear();\n\t\t\trenderer.render(scene, _stereo.cameraR);\n\n\t\t\trenderer.setRenderTarget(null);\n\t\t\trenderer.render(_scene, _camera);\n\n\t\t\trenderer.setRenderTarget(currentRenderTarget);\n\n\t\t};\n\n\t\tthis.dispose = function () {\n\n\t\t\tif (_renderTargetL) _renderTargetL.dispose();\n\t\t\tif (_renderTargetR) _renderTargetR.dispose();\n\t\t\tif (_mesh) _mesh.geometry.dispose();\n\t\t\tif (_material) _material.dispose();\n\n\t\t};\n\n\t};\n\n\treturn AnaglyphEffect;\n}\n"],"sourceRoot":""}