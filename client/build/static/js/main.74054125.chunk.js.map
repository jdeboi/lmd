{"version":3,"sources":["App/assets/fonts/dogica.ttf","components/shared/Header/ListItem.js","components/shared/Header/FinderSubmenu.js","components/shared/Header/Clock.js","store/actions/index.js","components/shared/Header/Header.js","components/shared/Chat/ComboBox.js","components/shared/Chat/Messages.js","components/shared/Frame/Toolbar.js","components/shared/Frame/Frame.js","components/shared/Socket/Socket.js","store/actions/user.js","store/actions/messages.js","store/actions/userActiveChat.js","components/shared/Chat/Chat.js","components/shared/Dock/Dock.js","components/shared/Glasses/Glasses.js","components/sketches/HomePage/p5/components/Boundaries.js","components/sketches/HomePage/constants.js","components/sketches/HomePage/p5/components/Wall.js","components/sketches/HomePage/p5/components/Room.js","components/sketches/HomePage/p5/HomeSketch.js","components/sketches/HomePage/p5/components/Door.js","components/sketches/HomePage/components/AvatarMiniMap.js","components/sketches/HomePage/components/MiniMap.js","components/sketches/HomePage/components/Helpers.js","components/sketches/HomePage/components/ToolTip.js","components/sketches/HomePage/components/OtherAvatar.js","components/sketches/HomePage/components/OtherAvatars.js","components/sketches/HomePage/components/Avatar.js","components/shared/DesktopIcon/DesktopIcon.js","components/sketches/HomePage/components/WineBar.js","components/sketches/HomePage/components/DJ.js","components/sketches/HomePage/components/Dancer.js","components/sketches/HomePage/components/TrackLights/TrackLights.js","components/sketches/HomePage/components/Door/Door.js","components/shared/Helpers/Helpers.js","components/sketches/HomePage/HomePage.js","components/sketches/MacbookAir/MacbookAir.js","components/sketches/JungleGyms/Pipe.js","components/sketches/JungleGyms/JungleGyms.js","components/sketches/HardDrives/HardDrives.js","components/shared/Babylon.jsx","components/shared/Frame/FrameSimple.js","components/sketches/HardDrives/Birds.js","components/sketches/Spacetimes/Spacetimes.js","components/sketches/Mars/components/BabylonWater.js","components/sketches/WetStreams/wetSketch.js","components/sketches/Mars/components/SwimLane.js","components/sketches/Mars/components/PoolButtons.js","components/sketches/Mars/components/Chairs.js","components/sketches/Mars/components/BigCrater.js","components/sketches/Mars/Mars.js","components/sketches/WetStreams/components/Shower.js","components/sketches/WetStreams/WetStreams.js","components/sketches/WaveForms/components/Emojis.js","components/sketches/WaveForms/components/BottomBar.js","components/sketches/WaveForms/components/LiveBar.js","components/sketches/WaveForms/WaveForms.js","components/sketches/WaveForms/components/Helpers.js","components/sketches/Loop/Loop.js","components/sketches/VorTech/VorTech.js","components/sketches/Test/Dinner/Dinner.js","components/sketches/WaveForms/components/Tweet.js","components/sketches/WaveForms/components/Confession.js","components/sketches/WaveForms/Confessions.js","components/sketches/VorTech/Emoji.js","components/sketches/Oogle/data.js","components/sketches/Oogle/Oogle.js","components/sketches/Test/Dig/Dig.js","components/sketches/Blinds/Window.js","components/sketches/Blinds/Blinds.js","components/sketches/Test/ClickMe/ClickMe.js","components/sketches/Test/MoonLight/MoonLight.js","components/sketches/Test/Yosemite/Yosemite.js","components/pages/About.js","components/pages/Credits.js","components/pages/Contact.js","components/pages/NotFound.js","components/shared/SignIn/SignIn.js","components/shared/Welcome/components/Helpers.js","components/shared/Participants/Participants.js","components/shared/Welcome/components/MFADeets.js","components/shared/FAQ/FAQ.js","components/shared/Welcome/components/Instructions.js","components/shared/Welcome/Welcome.js","components/shared/FAQ/FAQFrame.js","App/App.js","serviceWorker.js","store/reducers/user.js","store/reducers/messages.js","store/reducers/map.js","store/reducers/faq.js","store/reducers/chat.js","store/reducers/userIcons.js","store/reducers/userActiveChat.js","store/reducers/userHoverChat.js","store/reducers/index.js","index.js"],"names":["module","exports","ListItem","props","this","title","link","dimensions","callback","shortcut","width","DOMParser","parseFromString","body","innerHTML","getShortcut","windowWidth","classn","device","to","key","className","onClick","React","PureComponent","FinderSubmenu","state","isVisible","toggleHidden","bind","setWrapperRef","handleClickOutside","document","addEventListener","removeEventListener","node","wrapperRef","event","contains","target","setState","prevState","icon","specialClass","ulSpecialClass","listItems","ref","id","map","item","Clock","currentTimeString","updateClock","interval","setInterval","clearInterval","currentTime","Date","currentHours","getHours","currentMinutes","getMinutes","timeOfDay","getDay","toggleMap","type","hideMap","toggleFaq","hideFaq","toggleChat","showChat","hideChat","toggleUserIcons","hideUserIcons","Header","showSideBar","getRightMenus","handleClick","getAvatar","console","log","classChat","chatIsHidden","classMap","user","room","mapIsHidden","classFaq","faqIsHidden","classUserIcons","userIconsIsHidden","avatarClicked","avatar","Component","connect","ComboBox","getInitialUserNames","names","initialUsers","push","userName","setInputValue","newInputValue","inputValue","getUserListInRoom","users","i","length","getLabel","getUsersInRoomTrunc","getUsersInRoom","filter","setValue","newValue","setRecipient","prevProps","userActiveChat","label","listID","find","userHoverChat","classes","Autocomplete","value","onChange","onInputChange","options","getOptionLabel","option","getOptionSelected","fullWidth","renderInput","params","InputProps","style","placeholder","inputProps","Messages","getUserById","o","getUserNameById","obj","scrollToBottom","messagesEnd","scrollIntoView","behavior","block","inline","messages","message","classN","from","avatarHidden","messageToCol","float","clear","el","Toolbar","toggleClosed","toggleMinimzed","toggleMaximized","Frame","onControlledDrag","e","position","x","y","controlledPosition","onDrag","onControlledDragStop","onStop","eventLogger","data","onHide","isMinimized","onMinimized","origCoords","onMaximized","onStart","activeDrags","handleStart","newFrameToTop","toolBarH","deltaPosition","wrapper","createRef","dx","dy","parser","isHidden","isMaximized","contentVisibility","display","height","frameH","bounds","bounded","axis","handle","defaultPosition","positionOffset","grid","scale","cancel","handleStop","nodeRef","zIndex","z","window","windowStyle","content","socket","io","addWine","wineLocation","payload","setWine","needsWine","hasWine","setUser","setUserRoom","moveUser","addMessage","userHoverChatLeave","setUserActiveChat","setUserHoverChat","Chat","handleTextBoxChange","textBox","buttonDisabled","sendToOne","txt","socketId","time","connected","emit","sendToRoom","sendToAll","sendToHostBot","sendToWineBot","setTimeout","wineBotRespond","wineBotJustAsked","lc","toLowerCase","phrase","indexOf","onSubmit","sendMessage","alert","handleKeyDown","setUserHover","userHover","setUserHoverLeave","h","innerHeight","background","flexDirection","addUserMessage","onKeyDown","innerWidth","Glasses","opacity","visibility","start","getTime","intersectionPoint","x1","y1","x2","y2","x3","y3","x4","y4","ua","ub","denom","seg1","seg2","doorCrossing","nextPos","door","config","scaler","x0","y0","intersects","boundaryCrossing","boundary","p","point0","point1","px","py","l0x","l0y","l1x","l1y","w","v","Math","sqrt","l2","dist2","t","max","min","distToSegmentSquared","distToSegment","sqr","Wall","p5","points","sWs","borderPoints","sW","initBorderPoints","sw","floorTex","beginShape","uv","getWallUV","vertex","u","endShape","point","line","borderW","p0","p1","pNext0","pNext1","pIntersect","stroke","strokeWeight","displayOutline","userStep","Room","globalConfig","rot","dir","end","roomTextures","eyeIcon","roomCount","translate","image","count","drawEye","pop","rc","textWidth","fill","rect","noStroke","textSize","text","sc","minX","maxX","minY","maxY","stepS","p5ToDomCoords","outsideDoors","outsideDoorFramesInit","outsideDoorFrames","lights","wineBot0","wineBot1","danceFloorP5","danceFloor","djLocation","Door","walls","rooms","doors","roomConfig","drawGrid","spacing","limits","drawSpaceFloor","yOffset","n","noise","alpha","drawDanceFloor","sin","drawGround","ix","iy","drawWalls","wall","displayBorder","drawRooms","userTakeStep","space","outsideDoor","cross","roomDoor","roomDoorCrossing","userNewRoom","userMove","roomBoundaryCrossing","roomBoundary","wallBoundaryCrossing","wallBoundary","preload","url","loadImage","setup","canvasParentRef","createCanvas","parent","frameRate","loadingDone","draw","windowHeight","round","windowResized","resizeCanvas","keyPressed","keyCode","UP_ARROW","RIGHT_ARROW","LEFT_ARROW","DOWN_ARROW","AvatarMiniMap","isUser","bigScaler","bigX","bigY","loc","sty","top","left","hidden","MiniMap","getUsers","otherUser","src","AWS","showWine","initZIndicesIcons","zind","initZIndicesFrames","ToolTip","OtherAvatar","userClick","avatarW","getOtherUserLocation","showWineEmoji","showChatBubble","getDisToUser","onMouseEnter","onMouseLeave","OtherAvatars","Avatar","DesktopIcon","onDblClick","newIconToTop","zIcon","onDoubleClick","disableWindow","getFrame","box","zFrame","frameContent","backgroundColor","Dancer","update","random","startPos","fontSize","isFlipped","TrackLights","toggleLights","lightsOn","getTrackLights","isHorizontal","getHorizLights","getVertLights","getSwitch","name","checked","bsOn","boxShadow","isOpen","checkUser","checkUsers","getStyle","val","closeToDoor","triggerH","triggerW","temp","xCenter","yCenter","ux","uy","getRandomNum","floor","getNewZIndices","indexToTop","array","prevVal","maxVal","newArr","HomePage","handleResize","OGW","OGH","newZ","zIndicesFrames","zIndicesIcons","enterRoom","history","loading","getHomeComponents","Fragment","getDancers","getWineBars","getLights","getDoors","getColumns","getAvatars","DJ","WineBar","keyDown","ContinuousSlider","useState","orientation","Grid","container","aria-label","xs","Slider","color","aria-labelledby","step","defaultValue","MacbookAir","videoSpeed","sliderOG","mainOG","cloudsRef","setSpeed","getDimensions","getMainWindow","getSliderWindow","resetPlayer","speed","current","playbackRate","originalDim","aspectRatio","minSpacing","windowAspectRatio","getPortraitDimensions","windowDim","sliderDim","vertical","availableHeight","availableWidth","spacingFinal","buffer","getLandscapeDimensions","flipped","playing","muted","loop","frameDimensions","autoPlay","Pipe","nodes","scene","pipeRadius","ballJointRadius","gridBounds","THREE","currentPosition","randomInteger","positions","object3d","add","addTexture","setAt","makeBallJoint","fromPoint","toPoint","material","deltaVector","subVectors","arrow","clone","normalize","geometry","mesh","rotation","setFromQuaternion","quaternion","addVectors","multiplyScalar","updateMatrix","ball","copy","fromPosition","toPosition","tangentVector","elball","texUrl","pipeTexture","load","wrapS","wrapT","repeat","set","emissive","specular","shininess","lastPosition","lastDirectionVector","directionVector","chooseFrom","newPosition","containsPoint","getAt","equals","makeCylinderBetweenPoints","values","chance","JungleGyms","camera","water","handleWindowResize","renderer","setSize","aspect","updateProjectionMatrix","setupScene","antialias","mount","appendChild","domElement","effect","AnaglyphEffect","controls","OrbitControls","minDistance","maxDistance","ambientLight","addLight","addScreenCube","videoGym","videoSwings","PI","pipes","vines","addWallPaper","addVines","look","startAnimationLoop","render","requestID","requestAnimationFrame","reset","remove","intensity","light","video","pW","pH","fac","pos","boxLen","videoTex","play","minFilter","magFilter","format","side","plane","transparent","cube","edges","linewidth","self","modelPath","onProgress","xhr","lengthComputable","percentComplete","loaded","total","onError","manager","addHandler","DDSLoader","MTLLoader","setPath","model","materials","OBJLoader","setMaterials","vine","newVine","newVine2","firstLoad","vector","angle","matrix","makeRotationAxis","applyMatrix4","center","lookAt","cancelAnimationFrame","dispose","gymUrl","crossOrigin","reactCanvas","useRef","engineOptions","adaptToDeviceRatio","sceneOptions","onRender","rest","onSceneReady","useEffect","engine","Engine","Scene","isReady","onReadyObservable","addOnce","runRenderLoop","resize","getEngine","FrameSimple","notAbsolute","Birds","initBirds","birdInitialsX","birdInitialsY","num","flyDirection","updateBirds","maxW","flyIndex","numVisibleBirds","getBird","index","bird","getBirdLocation","trees","bottles","changed","seed","getRandom","HardDrives","island","urlIndex","svFrame","controller","updateDimensions","AnaglyphUniversalCamera","Vector3","clearColor","Color3","Black","setTarget","canvas","getRenderingCanvas","attachControl","inputs","removeByType","HemisphericLight","AssetContainer","SceneLoader","LoadAssetContainer","meshes","scaling","addAllToScene","addToRenderList","instantiateModelsToScene","rootNodes","addPalms","groundTexture","Texture","vScale","uScale","groundMaterial","StandardMaterial","diffuseTexture","ground","Mesh","CreateGround","waterMesh","WaterMaterial","Vector2","backFaceCulling","bumpTexture","windForce","waveHeight","bumpHeight","waveLength","waterColor","colorBlendFactor","skybox","CreateBox","skyboxMaterial","reflectionTexture","CubeTexture","coordinatesMode","SKYBOX_MODE","diffuseColor","specularColor","disableLighting","addSkybox","bottle","bottleVectors","addBottles","sign","islandIndex","beaches","Babylon","frameBorder","allowFullScreen","aria-hidden","tabIndex","GridFrame","dimW","alt","dimX","dimY","Spacetimes","startTime","currentFrame","increasing","currentText","gridNum","setFrame","setText","heightBuffer","words","intervalFrames","wordIndex","word","toUpperCase","fr","fs","grids","factor","dimH","Color4","emoji","SwimLane","changeSwimLane","swimmerPos","swimmer","numSwimmers","getSwimmerLanes","dir0","dir1","lanes","lane0","lane1","lane0Class","lane1Class","ceil","swimInterval","buttonClick","Chairs","chairUpdate","chairY","chairInterval","chairStyle","backgroundPosition","poolVid","backgroundSize","Mars","vids","poolVid0","poolVid1","poolVid2","poolVid3","addClass","removeClass","pool","chairs","smallCrater","bab","board","swimLaneFrame","tank","BigCrater","PoolButtons","BabylonWater","emojisTransparent","sketch","ps","percent","velocities","velX","velY","offsets","degrees","img","createEmojisTransparent","myCustomRedrawAccordingToNewPropsHandler","origins","offsetX","offsetY","ParticleSystem","createVector","isPlaying","initParticles","deltas","origin","createGraphics","tint","forEach","sys","run","Particle","deg","acceleration","gravity","velocity","positionOG","lifespan","r","launched","mult","isDead","rotate","radians","launch","particles","numParticle","launchIndex","addParticle","launchParticle","setPercent","particle","Shower","handleDrag","onClosed","imgSrc","WetStreams","playStreamReset","playingStreams","dps","isClosed","deltaPositions","dp","ui","deltaX","deltaY","startW","startH","showerFrame","dim","showWater","Emojis","getEmojis","emojis","BottomBar","updateEmojis","splice","startX","addEmoji","intervalEmoji","Button","variant","faVideo","faMicrophoneAlt","LiveBar","timeInc","sec","hr","updateTime","updateWatchers","watchers","intervalTimer","intervalWatcher","faEye","WaveForms","require","handleChange","timePeriod","videoBack","videoMain","minVol","videoConstraints","facingMode","tweetW","winX","winY","windowX","windowY","tweetX","tweetY","webX","webY","earCursor","cursor","volume","prayTo","memberRef0","player","audioPlayer","multiline","withRouter","processString","Tweet","getTweet","tweet","username","likes","rts","replies","tweetID","tweetUri","profileUrl","substring","backgroundImage","href","faComment","faRetweet","faHeart","confession","Confessions","addTweet","tweetObj","string","tweets","regex","fn","result","hashtag","hashtagUrl","profile_image_url","public_metrics","like_count","retweet_count","reply_count","confessions","fetchTweets","now","fetch","response","json","initialRes","includes","author_id","findUserByID","Confession","Loop","setImages","imageIndex","mapDivs","numFrames","mod","imgW","numImages","imgH","startY","divRef","preventDefault","wheel","a","b","divFps","getElementById","getFps","toFixed","onWheel","balloonX","opac","isControlled","Emoji","ang","rand","emojiTexture","emojiMaterial","hasAlpha","setEnabled","isStopping","cos","handleDown","VorTech","flushToilet","startFlush","stopFlush","handleUp","mat","VideoTexture","transform","labels","roads","roomLines","mapR","Oogle","rotateMap","amt","matLine","icons","labelGroups","roomLabels","addLine","col","lW","LineGeometry","setPositions","LineMaterial","vertexColors","dashed","resolution","Line2","computeLineDistances","loadSVG","SVGLoader","paths","group","path","fillColor","userData","undefined","setStyle","fillOpacity","depthWrite","wireframe","shapes","toShapes","j","shape","strokeColor","strokeOpacity","jl","subPaths","subPath","pointsToStroke","getPoints","div","gridHelper","loadObj","object","traverse","child","isMesh","materialT","setPixelRatio","devicePixelRatio","setClearColor","MapControls","minZoom","gl","gi","pivot","iconPos","labelCallback","initRoomIcons","level","labelLevel","l","lev","initLabels","addRooms","addRoads","init","animate","scaleVector","setRoomIconTransforms","setLabelTransforms","g","visible","setRoomLabels","resetLabelGroups","setVisibleLabels","vnh","vth","Dinner","Dig","clicked","getFrames","frames","frame","Window","changeImg","changeMode","mode","dt","ogPos","open","currentImg","randVal0","randVal1","frameImg","styWind","mx","my","initZIndices","ind","Blinds","face","handleMouseMove","clientX","clientY","changeBlindMode","blindMode","ogPositions","initOgPos","numFramesW","numFramesH","xx","yy","initPos","blindInterval","onMouseMove","ClickMe","MoonLight","Effect","ShadersStore","postProcess","PostProcess","onApply","setFloat2","setFloat","Yosemite","About","Credits","Contact","NotFound","SignIn","setAvatarBar","setUserName","evt","handleSubmit","hasAvatar","closeSignIn","userRegister","nextStep","userRegisterCheck","userCheck","showSignIn","getForm","inputprops","getButtons","isFrame","prevStep","nextProps","nextState","Participants","MFADeets","paddingBottom","FAQ","Instructions","closeWelcome","Welcome","getWelcomeStep","showWelcome","FAQFrame","dogicaFont","theme","createMuiTheme","palette","primary","main","indigo","secondary","pink","error","red","contrastThreshold","tonalOffset","typography","fontFamily","overrides","App","toggleSideBar","handleDrawerClose","updateDeviceDimensions","ratio","wOG","hOG","minD","indexOfClass","socketSetup","on","sessionID","addBots","filteredArray","setRoomCount","usersChange","dj","hasOwnProperty","getAvatarById","userSetRoom","location","action","nextRoom","getRoom","pathname","rm","pages","getStringClasses","str","showDock","cursorID","Cookies","get","unlisten","listen","currentPage","userSet","exact","component","Boolean","hostname","match","initState","userNearWine","userReducer","prevRoom","messagesReducer","mapReducer","faqReducer","chatReducer","userIconsReducer","userActiveChatReducer","allReducers","combineReducers","userHoverChatReducer","store","createStore","__REDUX_DEVTOOLS_EXTENSION__","ReactDOM","StrictMode","navigator","serviceWorker","ready","then","registration","unregister"],"mappings":"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BAAO,2BAAO,2BAAO,2BAAO,eAAK,2BAAO,2BAAO,2BAAO,2BAAO,2BAAO,eAAK,2BAAO,2BAAO,2BAAO,2BAAO,2BAAO,eAAK,eAAK,eAAK,eAAK,eAAK,eAAK,eAAK,eAAK,2BAAO,2BAAO,2BAAO,2BAAO,2BAAO,eAAK,2BAAO,2BAAO,2BAAO,2BAAO,2BAAO,eAAK,2BAAO,2BAAO,2BAAO,2BAAO,2BAAO,eAAK,2BAAO,2BAAO,2BAAO,2BAAO,2BAAO,eAAK,2BAAO,2BAAO,2BAAO,2BAAO,2BAAO,eAAK,2BAAO,2BAAO,2BAAO,2BAAO,2BAAO,eAAK,2BAAO,2BAAO,2BAAO,2BAAO,2BAAO,eAAK,2BAAO,2BAAO,2BAAO,2BAAO,2BAAO,eAAK,2BAAO,2BAAO,2BAAO,2BAAO,2BAAO,eAAK,mDAAW,mDAAW,eAAK,qEAAc,qEAAc,eAAK,2BAAO,2BAAO,2BAAO,2BAAO,2BAAO,eAAK,2BAAO,2BAAO,2BAAO,2BAAO,2BAAO,eAAK,2BAAO,2BAAO,2BAAO,2BAAO,2BAAO,eAAK,eAAK,2BAAO,2BAAO,2BAAO,2BAAO,2BAAO,eAAK,eAAK,eAAK,eAAK,2BAAO,2BAAO,2BAAO,2BAAO,2BAAO,eAAK,2BAAO,2BAAO,2BAAO,2BAAO,2BAAO,eAAK,2BAAO,2BAAO,2BAAO,2BAAO,2BAAO,eAAK,2BAAO,2BAAO,2BAAO,2BAAO,2BAAO,SAAI,qBAAM,qBAAM,qBAAM,qBAAM,qBAAM,eAAK,2BAAO,2BAAO,2BAAO,2BAAO,2BAAO,eAAK,2BAAO,2BAAO,2BAAO,2BAAO,2BAAO,eAAK,2BAAO,2BAAO,2BAAO,2BAAO,2BAAO,eAAK,2BAAO,2BAAO,2BAAO,2BAAO,2BAAO,eAAK,2BAAO,2BAAO,2BAAO,2BAAO,2BAAO,SAAI,qBAAM,qBAAM,qBAAM,qBAAM,qBAAM,eAAK,2BAAO,2BAAO,2BAAO,2BAAO,2BAAO,SAAI,qBAAM,qBAAM,qBAAM,qBAAM,qBAAM,SAAI,qBAAM,qBAAM,qBAAM,qBAAM,qBAAM,eAAK,2BAAO,2BAAO,2BAAO,2BAAO,2BAAO,eAAK,2BAAO,2BAAO,2BAAO,2BAAO,2BAAO,eAAK,2BAAO,2BAAO,2BAAO,2BAAO,2BAAO,eAAK,eAAK,eAAK,eAAK,eAAK,eAAK,eAAK,eAAK,eAAK,eAAK,eAAK,eAAK,eAAK,eAAK,eAAK,eAAK,eAAK,eAAK,eAAK,eAAK,eAAK,eAAK,eAAK,eAAK,eAAK,eAAK,eAAK,eAAK,eAAK,eAAK,eAAK,eAAK,eAAK,eAAK,eAAK,eAAK,eAAK,eAAK,eAAK,eAAK,eAAK,eAAK,eAAK,eAAK,eAAK,eAAK,eAAK,eAAK,eAAK,eAAK,eAAK,eAAK,eAAK,eAAK,eAAK,eAAK,eAAK,eAAK,eAAK,eAAK,eAAK,eAAK,eAAK,eAAK,eAAK,eAAK,eAAK,eAAK,eAAK,eAAK,eAAK,eAAK,eAAK,eAAK,eAAK,eAAK,eAAK,eAAK,eAAK,eAAK,eAAK,eAAK,eAAK,eAAK,eAAK,eAAK,eAAK,eAAK,eAAK,eAAK,eAAK,eAAK,eAAK,eAAK,eAAK,eAAK,eAAK,eAAK,eAAK,eAAK,eAAK,eAAK,eAAK,eAAK,eAAK,eAAK,eAAK,eAAK,eAAK,eAAK,eAAK,eAAK,eAAK,eAAK,eAAK,eAAK,eAAK,eAAK,eAAK,eAAK,eAAK,eAAK,eAAK,eAAK,eAAK,eAAK,eAAK,eAAK,eAAK,eAAK,eAAK,eAAK,eAAK,eAAK,eAAK,eAAK,eAAK,eAAK,eAAK,eAAK,eAAK,eAAK,eAAK,eAAK,eAAK,eAAK,eAAK,eAAK,eAAK,eAAK,eAAK,eAAK,eAAK,eAAK,eAAK,eAAK,eAAK,eAAK,eAAK,eAAK,eAAK,eAAK,eAAK,eAAK,eAAK,eAAK,eAAK,eAAK,eAAK,eAAK,eAAK,eAAK,eAAK,eAAK,eAAK,eAAK,eAAK,eAAK,eAAK,eAAK,eAAK,eAAK,eAAK,eAAK,eAAK,eAAK,eAAK,eAAK,eAAK,eAAK,eAAK,eAAK,eAAK,eAAK,eAAK,eAAK,eAAK,SAAI,eAAK,eAAK,eAAK,eAAK,eAAK,eAAK,eAAK,eAAK,eAAK,eAAK,eAAK,eAAK,eAAK,eAAK,eAAK,eAAK,eAAK,eAAK,eAAK,eAAK,eAAK,eAAK,eAAK,eAAK,eAAK,2BAAO,2BAAO,2BAAO,2BAAO,2BAAO,eAAK,2BAAO,2BAAO,2BAAO,2BAAO,2BAAO,eAAK,2BAAO,2BAAO,2BAAO,2BAAO,2BAAO,eAAK,2BAAO,2BAAO,2BAAO,2BAAO,2BAAO,eAAK,2BAAO,2BAAO,2BAAO,2BAAO,2BAAO,eAAK,2BAAO,2BAAO,2BAAO,2BAAO,2BAAO,eAAK,2BAAO,2BAAO,2BAAO,2BAAO,2BAAO,eAAK,eAAK,eAAK,eAAK,2BAAO,2BAAO,2BAAO,2BAAO,2BAAO,eAAK,2BAAO,2BAAO,2BAAO,2BAAO,2BAAO,eAAK,2BAAO,2BAAO,2BAAO,2BAAO,2BAAO,eAAK,eAAK,eAAK,eAAK,eAAK,eAAK,eAAK,eAAK,eAAK,eAAK,eAAK,eAAK,eAAK,eAAK,eAAK,eAAK,eAAK,eAAK,eAAK,eAAK,eAAK,eAAK,eAAK,eAAK,eAAK,eAAK,eAAK,eAAK,eAAK,eAAK,eAAK,eAAK,eAAK,eAAK,eAAK,eAAK,qBAAM,eAAK,eAAK,eAAK,eAAK,eAAK,eAAK,eAAK,eAAK,eAAK,eAAK,eAAK,eAAK,eAAK,eAAK,eAAK,eAAK,eAAK,eAAK,eAAK,eAAK,eAAK,eAAK,eAAK,eAAK,eAAK,eAAK,eAAK,eAAK,eAAK,eAAK,eAAK,eAAK,eAAK,eAAK,eAAK,eAAK,eAAK,eAAK,eAAK,eAAK,eAAK,eAAK,eAAK,eAAK,eAAK,eAAK,eAAK,eAAK,eAAK,eAAK,eAAK,eAAK,eAAK,eAAK,eAAK,eAAK,eAAK,eAAK,eAAK,eAAK,eAAK,eAAK,eAAK,eAAK,eAAK,eAAK,eAAK,eAAK,eAAK,eAAK,eAAK,eAAK,eAAK,eAAK,eAAK,eAAK,eAAK,eAAK,eAAK,eAAK,eAAK,eAAK,eAAK,2BAAO,2BAAO,2BAAO,2BAAO,2BAAO,2BAAO,2BAAO,2BAAO,2BAAO,2BAAO,2BAAO,2BAAO,2BAAO,2BAAO,2BAAO,2BAAO,2BAAO,2BAAO,2BAAO,2BAAO,2BAAO,2BAAO,2BAAO,2BAAO,2BAAO,2BAAO,2BAAO,2BAAO,2BAAO,2BAAO,2BAAO,2BAAO,2BAAO,2BAAO,2BAAO,2BAAO,2BAAO,2BAAO,2BAAO,2BAAO,2BAAO,2BAAO,eAAK,eAAK,eAAK,eAAK,SAAI,SAAI,eAAK,eAAK,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","file":"static/js/main.74054125.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/dogica.57d7ce13.ttf\";","import React from 'react';\nimport {Link} from 'react-router-dom';\n\nclass ListItem extends React.PureComponent {\n\n  constructor(props) {\n    super(props);\n  }\n\n  render() {\n    const {title, link, dimensions, callback} = this.props;\n    const shortcut = getShortcut(this.props.shortcut, dimensions.windowWidth);\n    let classn = (shortcut === '' || shortcut === null || dimensions.device === \"mobile\") ? 'noShortcut': 'shortcut';\n\n    // if (dimensions.windowWidth < 500) {\n    //   classn += \" lined\";\n    // }\n\n    if (link && link !== '') {\n      return (\n        <Link to={link}>\n        <li key={title} className={classn} shortcut={shortcut}>{title}</li>\n        </Link>\n      );\n    }\n\n    return (\n      <li key={title} className={classn} onClick={callback} shortcut={shortcut}>{title}</li>\n    );\n  }\n}\n\nfunction getShortcut(shortcut, width) {\n  if (shortcut === null || shortcut === \"\" || width < 500) return null;\n  const parser = new DOMParser();\n  const parsedString = parser.parseFromString(shortcut, 'text/html');\n  return parsedString.body.innerHTML;\n}\n\nexport default ListItem\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport ListItem from './ListItem';\n\nclass FinderSubmenu extends React.PureComponent {\n\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      isVisible: false\n    }\n\n    this.toggleHidden = this.toggleHidden.bind(this);\n    this.setWrapperRef = this.setWrapperRef.bind(this);\n    this.handleClickOutside = this.handleClickOutside.bind(this);\n  }\n\n  componentDidMount() {\n    document.addEventListener('mousedown', this.handleClickOutside);\n  }\n\n  componentWillUnmount() {\n    document.removeEventListener('mousedown', this.handleClickOutside);\n  }\n\n  setWrapperRef(node) {\n    this.wrapperRef = node;\n  }\n\n  handleClickOutside(event) {\n    if (this.wrapperRef && !this.wrapperRef.contains(event.target)) {\n      this.setState({\n        isVisible: false\n      })\n    }\n  }\n\n  toggleHidden () {\n    this.setState(prevState => ({\n      isVisible: !prevState.isVisible\n    }));\n  }\n\n  render() {\n    var title = this.props.title;\n    var icon= \"\";\n    if (title === \"\") {\n      icon = <i className={this.props.icon}></i>\n    }\n    // const cursor = this.props.cursor;\n    const specialClass = this.props.specialClass;\n    let ulSpecialClass = this.props.ulSpecialClass;\n    if (this.props.dimensions.device === \"mobile\") ulSpecialClass += \" mobile\";\n    const listItems = this.props.listItems;\n\n    let style = {};\n    return (\n      <li className={`expandable ${specialClass} ${this.state.isVisible ? 'selected': ''}`} onClick={this.toggleHidden} ref={this.setWrapperRef}><span id=\"pageTitle\">{title}</span>\n      {icon}\n      <div className={`submenu ${this.state.isVisible ? 'visible': ''}`}>\n        <ul className={ulSpecialClass}>\n          {listItems.map((item) => {\n            return(\n              <ListItem key={item.title} dimensions={this.props.dimensions} shortcut={item.shortcut} title={item.title} link={item.link} callback={item.callback} />)}\n              )\n            }  </ul>\n          </div>\n        </li>\n      );\n    }\n\n\n  }\n\n\n  FinderSubmenu.propTypes = {\n    name: PropTypes.string,\n    title: PropTypes.string,\n    icon: PropTypes.string,\n    specialClass: PropTypes.string,\n    listitems: PropTypes.array\n  };\n\n  export default FinderSubmenu\n","import React from 'react';\n\nclass Clock extends React.PureComponent {\n\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      currentTimeString: 0\n    }\n\n    this.updateClock = this.updateClock.bind(this);\n  }\n\n  componentDidMount() {\n    this.updateClock();\n    this.interval = setInterval(this.updateClock, 1000);\n  }\n\n  componentWillUnmount() {\n    clearInterval(this.interval);\n  }\n\n\n  updateClock() {\n    var currentTime = new Date();\n    var currentHours = currentTime.getHours();\n    var currentMinutes = currentTime.getMinutes();\n    currentMinutes = (currentMinutes < 10 ? \"0\" : \"\") + currentMinutes;\n\n    // var currentSeconds = currentTime.getSeconds();\n    // currentSeconds = (currentSeconds < 10 ? \"0\" : \"\") + currentSeconds;\n\n    var timeOfDay = (currentHours < 12) ? \"AM\" : \"PM\";\n    currentHours = (currentHours > 12) ? currentHours - 12 : currentHours;\n    currentHours = (currentHours === 0) ? 12 : currentHours;\n\n    var shortDays = [\n      'Sun', //Sunday starts at 0\n      'Mon',\n      'Tue',\n      'Wed',\n      'Thu',\n      'Fri',\n      'Sat'\n    ];\n    var x = currentTime.getDay(); //This returns a number, starting with 0 for Sunday\n    var day = (shortDays[x]);\n\n    var currentTimeString = day + \" \" + currentHours + \":\" + currentMinutes + \" \" + timeOfDay;\n\n    this.setState({currentTimeString: currentTimeString});\n  }\n\n\n  render() {\n    return(\n      <span id=\"clock\">{this.state.currentTimeString}</span>\n    )\n  }\n\n\n}\n\n\nexport default Clock;\n","// action types\nexport const LOGIN = 'LOGIN';\nexport const INCREMENT = 'INCREMENT';\nexport const DECREMENT = 'DECREMENT';\n\nexport const SHOWMAP = 'SHOWMAP';\nexport const HIDEMAP = 'HIDEMAP';\nexport const TOGGLEMAP = 'TOGGLEMAP';\n\nexport const SHOWFAQ = 'SHOWFAQ';\nexport const HIDEFAQ = 'HIDEFAQ';\nexport const TOGGLEFAQ = 'TOGGLEFAQ';\n\nexport const SHOWCHAT = 'SHOWCHAT';\nexport const HIDECHAT = 'HIDECHAT';\nexport const TOGGLECHAT = 'TOGGLECHAT';\n\nexport const SHOWUSERICONS = 'SHOWUSERICONS';\nexport const HIDEUSERICONS = 'HIDEUSERICONS';\nexport const TOGGLEUSERICONS = 'TOGGLEUSERICONS';\n\nexport const SETUSERROOM = 'SETUSERROOM';\n\n\n\n// action creators\nexport const login = () => {\n  return {\n    type: LOGIN\n  }\n}\n\nexport const incrementCount = () => {\n  return {\n    type: INCREMENT\n  }\n}\n\nexport const decrementCount = () => {\n  return {\n    type: DECREMENT\n  }\n}\n\n///////////// MAP\nexport const toggleMap = () => {\n  return {\n    type: TOGGLEMAP\n  }\n}\n\nexport const showMap = () => {\n  return {\n    type: SHOWMAP\n  }\n}\n\nexport const hideMap = () => {\n  return {\n    type: HIDEMAP\n  }\n}\n\n///////////// FAQ\nexport const toggleFaq = () => {\n  return {\n    type: TOGGLEFAQ\n  }\n}\n\nexport const showFaq = () => {\n  return {\n    type: SHOWFAQ\n  }\n}\n\nexport const hideFaq = () => {\n  return {\n    type: HIDEFAQ\n  }\n}\n\n///////////// MAP\nexport const toggleChat = () => {\n  return {\n    type: TOGGLECHAT\n  }\n}\n\nexport const showChat = () => {\n  return {\n    type: SHOWCHAT\n  }\n}\n\nexport const hideChat = () => {\n  return {\n    type: HIDECHAT\n  }\n}\n\n\n///////////// MAP\nexport const toggleUserIcons = () => {\n  return {\n    type: TOGGLEUSERICONS\n  }\n}\n\nexport const showUserIcons = () => {\n  return {\n    type: SHOWUSERICONS\n  }\n}\n\nexport const hideUserIcons = () => {\n  return {\n    type: HIDEUSERICONS\n  }\n}\n","import React from 'react';\nimport './Header.css';\nimport FinderSubmenu from './FinderSubmenu';\nimport {Link} from 'react-router-dom';\nimport Clock from './Clock';\nimport AccountCircleIcon from '@material-ui/icons/AccountCircle';\nimport ChatIcon from '@material-ui/icons/Chat';\nimport MapIcon from '@material-ui/icons/Room';\nimport HelpOutlineIcon from '@material-ui/icons/HelpOutline';\nimport UsersIcon from '@material-ui/icons/SupervisedUserCircle';\n\n// store\nimport { connect } from 'react-redux';\nimport { toggleMap, toggleFaq, toggleChat, toggleUserIcons } from '../../../store/actions/';\n\n\n/*\nReact.PureComponents shouldComponentUpdate() only shallowly compares\nthe objects. If these contain complex data structures, it may produce\nfalse-negatives for deeper differences. Only extend PureComponent when\nyou expect to have simple props and state, or use forceUpdate() when you\nknow deep data structures have changed. Or, consider\nusing immutable objects to facilitate fast comparisons of nested data.\nhttps://reactjs.org/docs/react-api.html#reactpurecomponent\n*/\nclass Header extends React.Component {\n\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      currentTimeString: 0,\n      showSideBar: true\n    }\n\n    this.getRightMenus = this.getRightMenus.bind(this);\n    this.handleClick = this.handleClick.bind(this);\n    this.getAvatar = this.getAvatar.bind(this);\n\n  }\n\n  // shouldComponentUpdate(nextProps) {\n  //   const shouldRender = nextProps.dimensions.windowWidth !== this.props.dimensions.windowWidth\n  //   || nextProps.dimensions.windowHeight !== this.props.dimensions.windowHeight\n  //   || nextProps.dimensions.device !== this.props.dimensions.device\n  //   || nextProps.user.avatar !== this.props.user.avatar;\n  //   console.log(nextProps.dimensions.windowWidth, this.props.dimensions.windowWidth);\n  //\n  //   return (\n  //     shouldRender\n  //   );\n  // }\n\n\n  handleClick(id) {\n    console.log(id);\n  }\n\n\n  render() {\n\n    const finderMenuItems = [\n      {title: \"homepage\", link:\"/\", shortcut: \"&#x2318;0\"},\n      {title: \"macbook air\", link:\"/macbook-air\", shortcut: \"&#x2318;1\"},\n      {title: \"wet streams\", link:\"/wet-streams\", shortcut: \"&#x2318;2\"},\n      {title: \"hard drives on seashores\", link:\"/hard-drives-on-seashores\", shortcut: \"&#x2318;3\"},\n      {title: \"jungle gyms\", link:\"/jungle-gyms\", shortcut: \"&#x2318;4\"},\n      {title: \"wasted days are days wasted\", link:\"/wasted-days-are-days-wasted\", shortcut: \"&#x2318;5\"},\n      {title: \"esc to mars\", link:\"/esc-to-mars\", shortcut: \"&#x2318;6\"},\n      {title: \"xfinity depths\", link:\"/xfinity-depths\", shortcut: \"&#x2318;7\"},\n      {title: \"cloud confessional\", link:\"/cloud-confessional\", shortcut: \"&#x2318;8\"},\n      {title: \"blind eye\", link:\"/blind-eye\", shortcut: \"&#x2318;9\"},\n      {title: \"flush\", link:\"/flush\", shortcut: \"&#x2318;10\"},\n      {title: \"house view\", link:\"/house-view\", shortcut: \"&#x2318;11\"},\n      // {title: \"i got the feels\", link:\"/i-got-the-feels\", shortcut: \"&#x2318;8\"},\n      // {title: \"losing my dimension\", link:\"/losing-my-dimension\", shortcut: \"&#x2318;9\"},\n    ];\n\n    // phone shortcut: \"&#128222\"\n    const hamburgerMenuItems = [\n      {title: \"about\", link:\"/about\", shortcut: \"\"},\n      {title: \"contact\", link:\"/contact\", shortcut: \"\"},\n      // {title: \"cookies\", link:\"/words\", shortcut: \"\"},\n      {title: \"credits\", link:\"/credits\", shortcut: \"\"}\n    ];\n    // console.log(\"page\", this.props.currentPage);\n\n    return (\n\n      <header className=\"Header menuTheme\">\n        <ul className=\"left\">\n          {/*<FinderSubmenu cursor={`cursor-${this.state.hand}`} dimensions={this.props.dimensions} title=\"\" icon=\"fa fa-cube\" specialClass=\"apple\" listItems={hamburgerMenuItems} /> */}\n          <FinderSubmenu dimensions={this.props.dimensions} title=\"\" icon=\"fa fa-cube\" specialClass=\"apple\" listItems={hamburgerMenuItems} />\n          <FinderSubmenu dimensions={this.props.dimensions} title=\"losing my dimension\" icon=\"\" specialClass=\"bold\" listItems={finderMenuItems} />\n          {/* <li><span className=\"currentPage\">{this.props.currentPage}</span></li>*/}\n          {/*<li className={`expandable`}><Link to=\"/\"><span id=\"pageTitle\">Losing My Dimension</span></Link></li>*/}\n        </ul>\n        {this.props.dimensions.device===\"desktop\"?this.getRightMenus():<div></div>}\n      </header>\n    );\n  }\n\n  getRightMenus() {\n    //<button className=\"hamburger-button\">\n    const classChat = \"expandable icon\" + (this.props.chatIsHidden?\" closed\":\" opened\");\n    var classMap = \"icon\";\n    if (this.props.user.room === \"home-page\") {\n      classMap += (this.props.mapIsHidden?\" closed\":\" opened\");\n      classMap += \" expandable\";\n    }\n    else classMap += \" closed disabled\";\n    const classFaq = \"expandable icon\" + (this.props.faqIsHidden?\" closed\":\" opened\");\n    const classUserIcons = \"expandable icon\" + (this.props.userIconsIsHidden?\" closed\":\" opened\");\n    return(\n      <ul className=\"right\">\n        <li className={classChat} onClick={this.props.toggleChat}><ChatIcon /></li>\n        <li className={classUserIcons} onClick={this.props.toggleUserIcons}><UsersIcon /></li>\n        <li className={classMap} onClick={this.props.toggleMap}><MapIcon /></li>\n        <li className={classFaq} onClick={this.props.toggleFaq}><HelpOutlineIcon /></li>\n\n        <li></li>\n        <li><Clock /></li>\n        <li></li>\n        <li className=\"header-avatar expandable\" onClick={this.props.avatarClicked}>{this.getAvatar()}</li>\n\n        {/* <li className=\"expandable hamburger\" onClick={this.props.toggleSideBar}><i className=\"fas fa-bars\"></i></li>*/}\n      </ul>\n    );\n  }\n\n  getAvatar() {\n    const {user} = this.props;\n    if (user) {\n      return (user.avatar);\n    }\n    return(\n      <AccountCircleIcon />\n    );\n  }\n\n\n}\n\nconst mapStateToProps = (state) => {\n  return {\n    chatIsHidden: state.chatIsHidden,\n    faqIsHidden: state.faqIsHidden,\n    mapIsHidden: state.mapIsHidden,\n    userIconsIsHidden: state.userIconsIsHidden\n  }\n}\n\nconst mapDispatchToProps = () => {\n  return {\n    toggleMap,\n    toggleFaq,\n    toggleChat,\n    toggleUserIcons\n  }\n}\n\n\nexport default connect(mapStateToProps, mapDispatchToProps())(Header);\n","/* eslint-disable no-use-before-define */\nimport React from 'react';\nimport TextField from '@material-ui/core/TextField';\nimport Autocomplete from '@material-ui/lab/Autocomplete';\n\n// import { makeStyles, withStyles } from '@material-ui/core/styles';\n//\n// const styles = theme => ({\n//   root: {\n//     textField: {\n//       '& .MuiInput-underline': {\n//         borderBottom: '2px solid blue'\n//       },\n//       '& .MuiInput-underline:after': {\n//         borderBottom: '3px solid yellow'\n//       },\n//       '& .MuiInput-underline:hover': {\n//         borderBottom: '3px solid red'\n//       },\n//     }\n//\n//   },\n// });\n\n\nclass ComboBox extends React.Component {\n\n  // really I only think this needs to rerender if someone joins/leaves a ROOM\n  // or registers/ connects / disconnects\n\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      // value: null,\n      inputValue: \"\",\n    }\n\n\n    this.initialUsers = [{userName: \"Everyone\", avatar: \"\"}, {userName: \"Room\", avatar: \"\"}];\n\n    // if (this.props.room === \"home\") {\n    //   const wineBot = {};\n    //   const hostBot = {};\n    //   this.initialUsers.push(wineBot);\n    //   this.initialUsers.push(hostBot);\n    // }\n\n\n\n  }\n\n  componentDidUpdate(prevProps) {\n    // console.log(\"setting new chat user\", this.props.userActiveChat);\n    if (prevProps.userActiveChat !== this.props.userActiveChat) {\n      // this.updateAndNotify();\n      var label = \"\";\n      if (this.props.userActiveChat) label = this.getLabel(this.props.userActiveChat);\n      this.setState({inputValue: label});\n      // this.setValue(this.props.userActiveChat);\n    }\n  }\n\n  getInitialUserNames = () => {\n    const names = [];\n    for (const user of this.initialUsers) {\n      names.push(user.userName);\n    }\n    return names;\n  }\n\n  getLabel(user) {\n    if (!user) return \"\";\n    return `${user.avatar} ${user.userName}`;\n  }\n\n  // CHANGES WHEN TYPING INPUT\n  setInputValue = (newInputValue) => {\n    if (newInputValue) {\n      this.setState({inputValue: newInputValue});\n    }\n    else {\n      this.setState({inputValue: \"\"});\n    }\n  }\n\n  getUserListInRoom = () => {\n    var users = this.getInitialUserNames();\n    if (this.props.users) {\n      for (let i = 0; i < this.props.users.length; i++) {\n        const user = {...this.props.users[i]};\n        // don't include winebot with id = 1\n        if (user.room === this.props.room && user.id !== 1) {\n          users.push(this.getLabel(user));\n        }\n      }\n    }\n    return users;\n  }\n\n  getUsersInRoomTrunc = () => {\n    var users = this.initialUsers;\n    if (this.props.users) {\n      for (let i = 0; i < this.props.users.length; i++) {\n        const user = {...this.props.users[i]};\n        if (user.room === this.props.room && user.id !== 1) {\n          users.push({avatar: user.avatar, userName: user.userName});\n        }\n      }\n    }\n    return users;\n  }\n\n  getUsersInRoom = () => {\n    // console.log(\"USERS\", users)\n    var users = this.initialUsers;\n    if (this.props.users) users = [...users, ...this.props.users];\n    let usersInRoom = users.filter((user, i) => {\n      return (i < 2) || (user.room === this.props.room && user.id !== 1);\n    })\n    // console.log(\"ROOM USERS\", usersInRoom)\n    return usersInRoom;\n  }\n\n  getUserObjectByListID(listID) {\n    var users = this.initialUsers;\n    if (this.props.users) users = [...users, ...this.props.users];\n    let obj = users.find(user => listID === this.getLabel(user));\n    return obj;\n  }\n\n  // CHANGES WHEN HIT RETURN, CLICK,\n  // I.E. SELECTED FROM LIST\n  setValue = (newValue) => {\n    // this.setState({value: newValue});\n\n    this.props.setRecipient(newValue);\n  }\n\n  render() {\n    // const userList = this.getUserListInRoom();\n    const users = this.getUsersInRoom();\n\n    const {inputValue} = this.state;\n    const {userActiveChat, userHoverChat} = this.props;\n\n    const { classes } = this.props;\n\n    return (\n      <div className=\"AutoComplete\">\n        <Autocomplete\n          id=\"combo-box-demo\"\n          className=\"autocomplete\"\n          value={userActiveChat}\n          onChange={(event, newValue) => {\n            this.setValue(newValue);\n          }}\n          inputValue={inputValue}\n          onInputChange={(event, newInputValue) => {\n            this.setInputValue(newInputValue);\n          }}\n          options={users}\n          getOptionLabel={(option) => this.getLabel(option)}\n          getOptionSelected={(option, value) => this.getLabel(option) === this.getLabel(value)}\n          fullWidth\n          renderInput={(params) => {\n            // console.log(\"PARAMS\", params);\n            return (\n              <div ref={params.InputProps.ref}>\n                <input className=\"autocomplete-input\" style={{}} type=\"text\" placeholder=\"select recipient\" {...params.inputProps} />\n              </div>\n            )\n          }}\n          />\n      </div>\n    );\n  }\n}\n//    // style={{ border: '1px solid white'}}\n\nexport default ComboBox;\n","import React from 'react';\n\nclass Messages extends React.Component {\n\n  constructor(props) {\n    super(props);\n\n    this.state = {\n    }\n  }\n\n  componentDidMount() {\n    this.scrollToBottom();\n  }\n\n  componentDidUpdate() {\n    this.scrollToBottom();\n  }\n\n  getUserById = (id) => {\n    const users = this.state.users;\n    if (users) return users.find(o => o.id === id);\n    return null;\n  }\n\n  getUserNameById = (id) => {\n    const users = this.state.users;\n    if (users) {\n      let obj = users.find(o => o.id === id);\n      if (obj) return obj.userName;\n    }\n    return \"\";\n  }\n\n  scrollToBottom = () => {\n    this.messagesEnd.scrollIntoView({ behavior: \"smooth\", block: \"end\", inline: \"nearest\" });\n  }\n\n  render() {\n    // const avatar = this.props.avatar;\n    return (\n      <div className=\"Chat-messages-box\">\n        <div className=\"Chat-messages-inner-box\">\n          {this.props.messages.map((message, i) => {\n            let classN = \"chat-from-\" + (message.from===\"me\"?\"me\":\"other\");\n            // console.log(\"MESSAGE\", message);\n            let avatarHidden = message.from===\"me\"?\"hidden\":\"\";\n            let messageToCol = message.to===\"room\"||message.to===\"all\"?\"message-to-red\":\"message-to\";\n            return (\n              <div key={i} className={\"bubbleContainer \" + classN }>\n                <div className={\"avatar\" + \" \" + avatarHidden}>{message.avatar}</div>\n                <div className={\"bubble\"} key={i}>\n                  <div className=\"message-deets\"><span className=\"message-from\">{message.from}</span> <span className={messageToCol}>(to {message.to})</span>:</div>\n                  <div className=\"message-txt\">{message.message}</div>\n                </div>\n\n              </div>\n            )\n          })}\n          <div className=\"dummyText\" style={{ float:\"left\", clear: \"both\" }}\n            ref={(el) => { this.messagesEnd = el; }}>\n          </div>\n        </div>\n      </div>\n    );\n  }\n\n}\n\nexport default Messages;\n","import React from 'react';\n\nfunction Toolbar(props) {\n  return(\n    <div className=\"titlebar menuTheme handle\">\n      <div className=\"buttons\">\n        <div className=\"close circleButton\" onClick={props.toggleClosed}>\n          <div className=\"closebutton\"><div className=\"innerC\"></div></div>\n\n        </div>\n        <div className=\"minimize circleButton\" onClick={props.toggleMinimzed}>\n          <div className=\"minimizebutton\"><div className=\"innerC\"></div></div>\n\n        </div>\n        <div className=\"zoom circleButton\" onClick={props.toggleMaximized}>\n          <div className=\"zoombutton\"><div className=\"innerC\"></div></div>\n\n        </div>\n      </div>\n      <div className=\"titleTxtContainer\">{props.title}</div>\n\n\n    </div>\n  );\n}\n\nexport default Toolbar\n","import React from 'react';\nimport './Frame.css';\nimport Draggable from 'react-draggable';\nimport Toolbar from './Toolbar';\n\nimport PropTypes from 'prop-types';\n\n\nclass Frame extends React.Component {\n  // https://codepen.io/JohJakob/pen/YPxgwo\n  constructor(props) {\n    super(props);\n\n    this.toolBarH = 26;\n\n\n    const {x, y} = this.props;\n    this.origCoords = {\n      x: x,\n      y: y\n    };\n\n    // this.start = this.props.x;\n    this.state = {\n      isVisible : true,\n      isMinimized: false,\n      deltaPosition: {\n        x: 0, y: 0\n      },\n      controlledPosition: {\n        x: x, y: y\n      }\n    }\n\n    this.wrapper = React.createRef();\n  }\n\n  componentDidUpdate(prevProps) {\n    if (this.props.x !== prevProps.x || this.props.y !== prevProps.y) {\n      const dx = this.props.x - prevProps.x;\n      const dy = this.props.y - prevProps.y;\n      const controlledPosition = {...this.state.controlledPosition}\n      this.setState({controlledPosition: {x: controlledPosition.x + dx, y: controlledPosition.y + dy}});\n    }\n  }\n\n  onControlledDrag = (e, position) => {\n    const {x, y} = position;\n    this.setState({controlledPosition: {x, y}});\n    if(this.props.onDrag) this.props.onDrag(position);\n\n  };\n\n  onControlledDragStop = (e, position) => {\n    this.onControlledDrag(e, position);\n    this.onStop();\n  };\n\n  eventLogger = (e: MouseEvent, data: Object) => {\n    console.log('Event: ', e);\n    console.log('Data: ', data);\n  };\n\n  toggleClosed = () => {\n    // console.log(\"CLOSE\")\n    this.setState({\n      isVisible: false\n    })\n\n    if (this.props.onHide) this.props.onHide();\n  }\n\n  toggleMinimzed = () => {\n    this.setState(prevState => ({\n      isMinimized: !prevState.isMinimized\n    }), () => {\n      if (this.props.onMinimized) this.props.onMinimized();\n    });\n\n\n  }\n\n  toggleMaximized = () => {\n    const controlledPosition = {...this.state.controlledPosition};\n    controlledPosition.x = this.origCoords.x;\n    controlledPosition.y = this.origCoords.y;\n    console.log(this.origCoords);\n    this.setState({controlledPosition}, () => {\n      if (this.props.onMaximized) this.props.onMaximized();\n    });\n  }\n\n\n\n  onStart = () => {\n    this.setState({activeDrags: this.state.activeDrags+1});\n    if (this.props.onStart) this.props.onStart();\n  };\n\n  onStop = () => {\n    this.setState({activeDrags: this.state.activeDrags-1});\n    if (this.props.onStop) this.props.onStop();\n  };\n\n  handleStart = () => {\n    if (this.props.newFrameToTop) this.props.newFrameToTop();\n  }\n\n  handleClick = () => {\n    if (this.props.newFrameToTop) this.props.newFrameToTop();\n  }\n\n\n  // returnOriginalCoords() {\n  //   // e.preventDefault();\n  //   // e.stopPropagation();\n  //   const {controlledPosition} = this.state;\n  //   const {x, y} = controlledPosition;\n  //   console.log(controlledPosition);\n  //   this.setState({controlledPosition: {x: this.origCoords.x, y: this.origCoords.y}});\n  // }\n\n  render() {\n    const parser = new DOMParser();\n    var title = this.props.title;\n    const dragHandlers = {onStart: this.onStart, onStop: this.onStop};\n    const {deltaPosition, controlledPosition} = this.state;\n    // const cP = {x: controlledPosition.x, y: controlledPosition.y};\n    // cP.x += (this.props.x - this.origCoords.x);\n    // cP.y += (this.props.y - this.origCoords.y);\n\n    if (title === \"\") {\n      const parsedString = parser.parseFromString(this.props.icon, 'text/html');\n      title = parsedString.body.innerHTML;\n    }\n\n    var classn = \"Frame\";\n    if (this.props.isHidden == null && !this.state.isVisible) {\n      classn += \" hidden\";\n    }\n    else if (this.props.isHidden ) {\n      classn += \" hidden\";\n    }\n    else if (this.props.isMinimized | this.state.isMinimized) {\n      classn += \" minimized\";\n    }\n\n    if (this.state.isMaximized) {\n      classn += \" maximized\";\n    }\n\n    if (this.props.className) classn += \" \" + this.props.className;\n\n\n    var contentVisibility = {\n      display: this.state.isMinimized ? \"none\" : \"block\",\n      height: this.props.height+ \"px\",\n      width: this.props.width + \"px\"\n    }\n\n    //https://github.com/STRML/react-draggable\n\n    // position = {...} makes it have a specific location. when you want direct control.\n    // let pos = this.state.controlledPosition;\n    // let off = this.props.dx ? {x: this.props.dx, y: this.props.dy}: null;\n    let frameH = this.toolBarH + (this.state.isMinimized?0:this.props.height);\n    // so if we make pos null, it stays where it is dragged to\n    // however, it doesn't update when the page width / height changes\n    // if we let pos be equal to props.px/ props.py, it changes location\n\n    const bounds = this.props.bounded?\".App-Content\":null;\n\n    return (\n\n      <Draggable\n        axis=\"both\"\n        handle={this.props.handle?\".handle, \" + this.props.handle: \".handle\"}\n        defaultPosition={{x: this.props.x, y: this.props.y}}\n        position={controlledPosition}\n        positionOffset={null}\n        grid={[1, 1]}\n        scale={1}\n        bounds={bounds}\n        cancel=\".close, .minimize, .zoom\"\n        onStart={this.handleStart}\n        onDrag={this.onControlledDrag}\n        onStop={this.handleStop}\n        nodeRef={this.wrapper}\n        >\n        <div ref={this.wrapper} onClick={this.handleClick} className={classn} style={{width: this.props.width + 2 + \"px\",height: frameH + \"px\", zIndex: this.props.z?this.props.z:0}} >\n          <div className={this.props.window?\"window \" + this.props.window:\"window\"} style={this.props.windowStyle}>\n            <Toolbar title={this.props.title} toggleClosed={this.toggleClosed} toggleMinimzed={this.toggleMinimzed} toggleMaximized={this.toggleMaximized} />\n            <div className=\"content\" style={contentVisibility}>\n              {this.props.content}\n            </div>\n          </div>\n        </div>\n      </Draggable>\n\n    );\n  }\n\n  closeFrame() {\n\n  }\n}\n\nFrame.propTypes = {\n  name: PropTypes.string,\n  title: PropTypes.string,\n  icon: PropTypes.string,\n  className: PropTypes.string,\n  handle: PropTypes.string,\n  window: PropTypes.string,\n  bounded:PropTypes.bool,\n\n  windowStyle: PropTypes.object,\n\n  x: PropTypes.number.isRequired,\n  y: PropTypes.number.isRequired,\n  z: PropTypes.number,\n  height: PropTypes.number.isRequired,\n  width: PropTypes.number.isRequired,\n  content: PropTypes.node.isRequired,\n\n\n  isHidden: PropTypes.bool,\n  isMinimized: PropTypes.bool,\n\n  onDrag: PropTypes.func,\n  onHide: PropTypes.func,\n  onMinimized: PropTypes.func,\n  onMaximized: PropTypes.func,\n  onStart: PropTypes.func,\n  onStop: PropTypes.func,\n  newFrameToTop: PropTypes.func,\n};\n\nexport default Frame\n","import io from \"socket.io-client\";\nlet socket = io(process.env.NODE_ENV === 'development'?\"http://localhost:5000/\":\"\");\nexport default socket;\n","export const SETUSERROOM = 'SETUSERROOM';\nexport const SETUSER = 'SETUSER';\nexport const MOVEUSER = 'MOVEUSER';\nexport const REGISTERUSER = 'REGISTERUSER';\nexport const ADDWINE = 'ADDWINE';\nexport const SETWINE = 'SETWINE';\nexport const RESETWINE = 'RESETWINE';\n//setUserRoom, setUser,moveUser,registerUser\n\n\nexport const addWine = (wineLocation) => {\n  return {\n    type: ADDWINE,\n    payload: {wineLocation}\n  }\n}\n\nexport const setWine = (needsWine, hasWine) => {\n  return {\n    type: SETWINE,\n    payload: {needsWine, hasWine}\n  }\n}\n\nexport const resetWine = () => {\n  return {\n    type: RESETWINE\n  }\n}\n\n\nexport const setUser = (userName, avatar) => {\n  return {\n    type: SETUSER,\n    payload: {avatar, userName}\n  }\n}\n\nexport const setUserRoom = (room) => {\n  return {\n    type: SETUSERROOM,\n    payload: {room}\n  }\n}\n\nexport const moveUser = (x, y, wineLocation) => {\n  return {\n    type: MOVEUSER,\n    payload: {x, y, wineLocation}\n  }\n}\n\nexport const registerUser = (userName, avatar) => {\n  return {\n    type: REGISTERUSER,\n    payload: {userName, avatar}\n  }\n}\n","export const ADDMESSAGE = 'ADDMESSAGE';\n\nexport const addMessage = (message) => {\n  return {\n    type: ADDMESSAGE,\n    payload: {message}\n  }\n}\n","export const SETUSERACTIVECHAT = 'SETUSERACTIVECHAT';\nexport const SETUSERHOVERCHAT = 'SETUSERHOVERCHAT';\nexport const USERHOVERCHATLEAVE = 'USERHOVERCHATLEAVE';\n\nexport const userHoverChatLeave = () => {\n  return {\n    type: USERHOVERCHATLEAVE\n  }\n}\n\nexport const setUserActiveChat = (user) => {\n  return {\n    type: SETUSERACTIVECHAT,\n    payload: {user}\n  }\n}\n\nexport const setUserHoverChat = (user) => {\n  return {\n    type: SETUSERACTIVECHAT,\n    payload: {user}\n  }\n}\n","import React from 'react';\nimport ComboBox from './ComboBox';\nimport Messages from './Messages';\nimport Icon from '@material-ui/core/Icon';\nimport IconButton from '@material-ui/core/IconButton';\nimport SendIcon from '@material-ui/icons/Send';\nimport Frame from '../Frame/Frame';\n\nimport './Chat.css';\n\nimport socket from \"../Socket/Socket\";\n\nimport { connect } from 'react-redux';\nimport { hideChat, toggleChat } from '../../../store/actions/';\nimport { addWine } from '../../../store/actions/user';\nimport { addMessage } from '../../../store/actions/messages';\nimport { setUserActiveChat } from '../../../store/actions/userActiveChat';\n\n\nclass Chat extends React.Component {\n\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      textBox: \"\",\n      // currentRecipient: null,\n      userHover: null,\n      buttonDisabled: true,\n      wineBotJustAsked: false\n    }\n  }\n\n  handleTextBoxChange = (event) => {\n    const textBox = event.target.value;\n    // const recip = this.state.currentRecipient;\n    const { userActiveChat } = this.props;\n    if (userActiveChat && textBox !== \"\") {\n      this.setState({textBox, buttonDisabled: false});\n    }\n    else {\n      this.setState({textBox, buttonDisabled: true});\n    }\n  };\n\n  setRecipient = (user) => {\n    const textBox = this.state.textBox;\n    if (user && textBox !== \"\") {\n      // this.setState({currentRecipient: user, buttonDisabled: false});\n      this.setState({buttonDisabled: false});\n      this.props.setUserActiveChat(user);\n    }\n    else {\n      this.setState({buttonDisabled: true});\n      this.props.setUserActiveChat(user);\n    }\n  }\n\n  sendToOne = (txt, socketId) => {\n    console.log(\"send to one\", socketId, \"msg:\", txt);\n    const {userActiveChat} = this.props;\n    const message = {socketId: socketId, message: txt, time: new Date(), avatar:this.props.user.avatar};\n    if (socket.connected) socket.emit('messageUser', message); //sending to individual socketid\n    this.props.addMessage({from: \"me\", to: userActiveChat.userName, message: txt, time: new Date()});\n  }\n\n  sendToRoom = (txt) => {\n    console.log(\"send to room \", this.props.room)\n    const message = {room: this.props.room, message: txt, time: new Date(), avatar:this.props.user.avatar};\n    if (socket.connected) socket.emit('messageRoom', message);\n    this.props.addMessage({to: \"room\", from: \"me\", message: txt, time: new Date()});\n  }\n\n  sendToAll = (txt) => {\n    console.log(\"send to all\");\n    const message = {message: txt, room: this.props.room, time: new Date(), avatar:this.props.user.avatar};\n    if (socket.connected) socket.emit('messageAll', message);\n    this.props.addMessage({to: \"all\", from: \"me\", message: txt, time: new Date()});\n  }\n\n  // u: \"hello?\"\n  // wb: \"hi, would you like some wine? Y/N.\"\n  // u: \"yes\"\n  // wb: \"enjoy!\"\n  // u: \"what are you?\"\n  // wb: \"hi, would you like some wine? I only understand yes and no.\"\n\n  sendToHostBot = (txt) => {\n\n  }\n\n  sendToWineBot = (txt) => {\n    const message = {to: \"wineBot\", from: \"me\", message: txt, time: new Date()};\n    // console.log(\"MESSAGE\", message);\n    this.props.addMessage(message);\n    setTimeout(() => this.wineBotRespond(txt), 1000);\n  }\n\n  wineBotRespond = (txt) => {\n    // console.log(\"winebot responding!\");\n    const wineBotJustAsked = this.state.wineBotJustAsked;\n    const {userActiveChat} = this.props;\n    if (!wineBotJustAsked) {\n      const phrase= \"hi, would you like some wine? Y/N.\";\n      this.props.addMessage({to: \"me\", from: \"wineBot\", message: phrase, time: new Date(), avatar: userActiveChat.avatar});\n      this.setState({wineBotJustAsked: true});\n    }\n    else {\n      const lc = txt.toLowerCase();\n      let phrase = \"\";\n      if (lc === \"y\" || lc.indexOf(\"yes\") > -1) {\n        phrase= \"Stop by the bar to pick up your glass.\";\n        this.props.addWine(this.props.wineLocation);\n      }\n      else {\n        phrase= \"Cool, I don't drink either.\";\n      }\n      this.props.addMessage({to: \"me\", from: \"wineBot\", message: phrase, time: new Date(), avatar: userActiveChat.avatar});\n      this.setState({wineBotJustAsked: false});\n    }\n  }\n\n  onSubmit = () => {\n    if (this.state.textBox === \"\") return;\n\n    const {userActiveChat} = this.props;\n    if (userActiveChat) {\n      this.sendMessage(this.state.textBox);\n      this.setState({textBox: \"\", buttonDisabled: true});\n    }\n    else {\n      alert(\"please select recipient\");\n    }\n  }\n\n\n  handleKeyDown = (e) => {\n\n    if (e.key === 'Enter') {\n      console.log(e.key);\n      this.onSubmit();\n    }\n  }\n\n\n  sendMessage = (message) => {\n    // const {currentRecipient} = this.state;\n    const {userActiveChat} = this.props;\n    if (message && userActiveChat) {\n      if (userActiveChat.userName === \"Everyone\") {\n        this.sendToAll(message);\n      }\n      else if (userActiveChat.userName === \"Room\") {\n        this.sendToRoom(message);\n      }\n      else if (userActiveChat.userName === \"wineBot\") {\n        this.sendToWineBot(message);\n      }\n      else if (userActiveChat.userName === \"hostBot\") {\n        this.sendToHostBot(message);\n      }\n      else {\n        this.sendToOne(message, userActiveChat.id);\n      }\n    }\n  }\n\n  setUserHover = (user) => {\n    this.setState({userHover: user})\n  }\n\n  setUserHoverLeave = () => {\n    this.setState({userHover: null})\n  }\n\n  render() {\n    var users = this.props.users;\n    if (!users) users = [];\n    const {userHover} = this.state;\n\n    const { classes } = this.props;\n\n    // headerH+bufferH*2+cbarH + usersH\n    const bufferH = 30;\n    const y = 34+bufferH*2+24+120\n    const h = window.innerHeight-y-24-30;\n    return (\n      <Frame title=\"chat\" bounded={true} isHidden={this.props.chatIsHidden} onHide={this.props.hideChat} windowStyle={{background: \"rgba(0, 0, 0, .8)\"}} content={\n\n          <div className=\"Chat\">\n\n            <div className=\"Chat-messages\" style={{display:\"flex\", flexDirection: \"column\", height: h}}>\n              <Messages messages={this.props.messages} addUserMessage={this.props.addMessage} />\n              <div className=\"Chat-form\">\n                <div className=\"to-form\">\n                  <div className=\"to-div\">To: </div>\n                  <ComboBox {...this.props} setRecipient={this.setRecipient}  />\n                </div>\n                <div className=\"Chat-send\">\n                  <div className=\"Chat-send-item\">\n                    <input\n                      label=\"\"\n                      id=\"margin-dense\"\n                      className={\"standardInputWhite form-item\"}\n                      placeholder=\"type message here\"\n                      value={this.state.textBox}\n                      onChange={this.handleTextBoxChange}\n                      onKeyDown={this.handleKeyDown}\n                      />\n                  </div>\n                  {/* <button className=\"standardButton form-item blueOutline\" disabled={this.state.buttonDisabled} onClick={this.onSubmit}><SendIcon disabled={this.state.buttonDisabled} /></button>*/}\n                </div>\n              </div>\n\n            </div>\n          </div>\n        }\n        width={300} height={h} x={window.innerWidth-330} y={y}\n        />\n    );\n  }\n\n}\n\n\nconst mapStateToProps = (state) => {\n return {\n   chatIsHidden: state.chatIsHidden,\n   user: state.user,\n   room: state.user.room,\n   messages: state.messages,\n   userActiveChat: state.userActiveChat,\n   userHoverChat: state.userHoverChat\n }\n}\n\nconst mapDispatchToProps = () => {\n return {\n   hideChat,\n   toggleChat,\n   addWine,\n   addMessage,\n   setUserActiveChat\n }\n}\n\n\nexport default connect(mapStateToProps, mapDispatchToProps())(Chat);\n","import React from 'react';\nimport './Dock.css';\n\nclass Dock extends React.Component {\n  constructor(props) {\n      super(props);\n\n      this.state = {\n        showDock : true\n      }\n\n  }\n\n  componentDidMount() {\n    setTimeout(this.hideDock, 4000);\n  }\n\n  hideDock = () => {\n    this.setState({showDock: false});\n  }\n\n  goHome = () => {\n    alert(\"already home\");\n  }\n\n  openChat = () => {\n    \n  }\n\n  render() {\n\n    let classn = this.state.showDock||this.props.showDock?\"showDock\":\"hideDock\";\n    return (\n      <div className=\"Dock\">\n        <div className={\"dock \" + classn}>\n          <ul>\n            <li id=\"home\">\n              <div onClick={this.goHome}>\n                <em>\n                  <span>Home Page</span>\n                </em>\n                <img src=\"/assets/s3-bucket/homePage/home.png\" />\n              </div>\n            </li>\n            <li id=\"chat\">\n              <div onClick={this.openChat}>\n                <em>\n                  <span>Chat</span>\n                </em>\n                <img src=\"/assets/s3-bucket/homePage/messages-icon.png\" />\n              </div>\n            </li>\n            <li id=\"codepen\">\n              <a href=\"#codepen\">\n                <em>\n                  <span>Mini Map</span>\n                </em>\n                <img src=\"/assets/s3-bucket/homePage/maps-icon.png\" />\n              </a>\n            </li>\n            <li id=\"reason\">\n              <a href=\"#reason\">\n                <em>\n                  <span>Info</span>\n                </em>\n                <img src=\"/assets/s3-bucket/homePage/info2.png\" />\n              </a>\n            </li>\n          </ul>\n        </div>\n      </div>\n    )\n  }\n}\n\nexport default Dock;\n","import React from 'react';\nimport Frame from '../Frame/Frame';\nimport './Glasses.css';\n\nclass Glasses extends React.Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      windowStyle: {\n        opacity: 1,\n        visibility: \"visible\"\n      },\n      start: new Date()\n    };\n\n  }\n  componentDidMount() {\n    this.interval = setInterval(() => {\n      if (new Date().getTime() - this.state.start.getTime() > 4000) {\n        let {opacity, visibility} = this.state.windowStyle;\n        opacity -= .01;\n        let clear = false;\n        if (opacity <= 0) {\n          opacity = 0;\n          visibility = \"hidden\";\n          clear = true;\n        }\n        this.setState({windowStyle: {opacity: opacity, visibility: visibility}});\n        if (clear) clearInterval(this.interval);\n      }\n    }, 10);\n  }\n\n  componentWillUnmount() {\n    clearInterval(this.interval)\n  }\n\n  render() {\n    let y = this.props.y?this.props.y:(window.innerHeight - 26 - 40 - 70);\n    let x = this.props.x?this.props.x:(window.innerWidth-100-30);\n    return (\n      <Frame\n      windowStyle={this.state.windowStyle}\n      className=\"glassesFrame\"\n      content={<div className=\"glassesIcon\"></div>}\n      width={100}\n      height={40}\n      x={x}\n      y={y}\n      />\n    )\n  }\n\n}\n\nexport default Glasses;\n","\n// takes 4 points\nexport function intersectionPoint(x1, y1, x2, y2, x3, y3, x4, y4)\n{\n    var ua, ub, denom = (y4 - y3)*(x2 - x1) - (x4 - x3)*(y2 - y1);\n    if (denom == 0) {\n        return null;\n    }\n    ua = ((x4 - x3)*(y1 - y3) - (y4 - y3)*(x1 - x3))/denom;\n    ub = ((x2 - x1)*(y1 - y3) - (y2 - y1)*(x1 - x3))/denom;\n    return {\n        x: x1 + ua * (x2 - x1),\n        y: y1 + ua * (y2 - y1),\n        seg1: ua >= 0 && ua <= 1,\n        seg2: ub >= 0 && ub <= 1\n    };\n}\n\nexport function doorCrossing(nextPos, door, config={x:0, y:0, scaler:1}) {\n  if (!nextPos || !door) return null;\n  var door = {...door};\n  door.x0 = (door.x0+config.x)*config.scaler;\n  door.y0 = (door.y0+config.y)*config.scaler;\n  door.x1 = (door.x1+config.x)*config.scaler;\n  door.y1 = (door.y1+config.y)*config.scaler;\n  // if (intersects(pos.x,pos.y,nextPos.x,nextPos.y,points[p].x,points[p].y,points[p+1].x,points[p+1].y)) {\n  if (intersects(nextPos.x,nextPos.y,door.x0,door.y0,door.x1,door.y1, 30)) {\n    return door.to;\n  }\n  return null;\n}\n\nexport function boundaryCrossing(nextPos, boundary, config={x:0, y:0, scaler:1}) {\n  if (!nextPos || !boundary) return false;\n  for (let p = 0; p < boundary.length - 1; p++) {\n    const point0 = {...boundary[p]};\n    const point1 = {...boundary[p+1]};\n    point0.x = (point0.x+config.x)*config.scaler;\n    point0.y = (point0.y+config.y)*config.scaler;\n    point1.x = (point1.x+config.x)*config.scaler;\n    point1.y = (point1.y+config.y)*config.scaler;\n    // console.log(point0.x, point0.y, point1.x, point1.y, nextPos.x, nextPos.y)\n\n    // if (intersects(pos.x,pos.y,nextPos.x,nextPos.y,points[p].x,points[p].y,points[p+1].x,points[p+1].y)) {\n    if (intersects(nextPos.x,nextPos.y,point0.x,point0.y,point1.x,point1.y, 30)) {\n      return true;\n    }\n  }\n\n  return false;\n}\n\n//https://stackoverflow.com/questions/9043805/test-if-two-lines-intersect-javascript-function\n// returns true if the line from (a,b)->(c,d) intersects with (p,q)->(r,s)\nfunction intersectsOG(a,b,c,d,p,q,r,s) {\n  var det, gamma, lambda;\n  det = (c - a) * (s - q) - (r - p) * (d - b);\n  if (det === 0) {\n    return false;\n  } else {\n    lambda = ((s - q) * (r - a) + (p - r) * (s - b)) / det;\n    gamma = ((b - d) * (r - a) + (c - a) * (s - b)) / det;\n    return (0 < lambda && lambda < 1) && (0 < gamma && gamma < 1);\n  }\n};\n\n// point p intersects with a line defined between two points, l0 and l1\nfunction intersects(px, py, l0x, l0y, l1x, l1y, w) {\n  return distToSegment({x: px, y: py}, {x: l0x, y: l0y}, {x: l1x, y: l1y}) < w;\n}\n\nfunction sqr(x) { return x * x }\nfunction dist2(v, w) { return sqr(v.x - w.x) + sqr(v.y - w.y) }\nfunction distToSegmentSquared(p, v, w) {\n  var l2 = dist2(v, w);\n  if (l2 == 0) return dist2(p, v);\n  var t = ((p.x - v.x) * (w.x - v.x) + (p.y - v.y) * (w.y - v.y)) / l2;\n  t = Math.max(0, Math.min(1, t));\n  return dist2(p, { x: v.x + t * (w.x - v.x),\n    y: v.y + t * (w.y - v.y) });\n  }\n  function distToSegment(p, v, w) { return Math.sqrt(distToSegmentSquared(p, v, w)); }\n","\nexport const globalConfig = {\n    scaler: 80,\n    minX: 0,\n    maxX: 27,\n    minY: 5,\n    maxY: 27,\n    x: -15,\n    y: -35,\n    stepS : 80\n}\n\nconst sc = globalConfig.scaler;\n\nexport const p5ToDomCoords = (x, y) => {\n    let xx =  (x + globalConfig.x) * globalConfig.scaler;\n    let yy = (y + globalConfig.y) * globalConfig.scaler;\n    return { x: xx, y: yy }\n}\n\n\n///// doors\nexport const outsideDoors = [\n    {x0: 22.5 , y0: 5, x1: 24, y1: 5, to:\"outside\"}, // top\n      {x0: 0 , y0: 8.5, x1: 0, y1: 10, to:\"outside\"}, // left\n      {x0: 14 , y0: 27, x1: 16, y1: 27, to:\"outside\"}, // bottom\n      {x0: 22.5 , y0: 15, x1: 24, y1: 15, to:\"outside\"}, // right\n];\nconst outsideDoorFramesInit = [];\nfor (const door of outsideDoors) {\n    outsideDoorFramesInit.push(p5ToDomCoords((door.x0+door.x1)/2, (door.y0+door.y1)/2));\n}\nexport const outsideDoorFrames = outsideDoorFramesInit;\n\n\n///// lights\nexport const lights = [\n    p5ToDomCoords(3, 10),\n    p5ToDomCoords(8, 15),\n    p5ToDomCoords(13, 20),\n    p5ToDomCoords(13, 20),\n    p5ToDomCoords(7, 13)\n];\n\n\n//// wine\nconst wineBot0 = p5ToDomCoords(-3, 0);\nconst wineBot1 = p5ToDomCoords(30, 17);\nexport const wineLocation = [{ x: wineBot0.x, y: wineBot0.y, w: 80, h: 150 }, { x: wineBot1.x, y: wineBot1.y, w: 80, h: 150 }];\n\n\n//// dance dance dance\nconst danceFloorP5 = { x: 24, y: -4, w: 10, h: 5 };\nexport const danceFloor = { x: globalConfig.scaler * danceFloorP5.x, y: globalConfig.scaler * danceFloorP5.y, w: globalConfig.scaler * danceFloorP5.w, h: globalConfig.scaler * danceFloorP5.h };\nexport const djLocation = p5ToDomCoords(danceFloorP5.x, danceFloorP5.y-2);\n\n\nexport const ok = {};","\nimport {boundaryCrossing, intersectionPoint} from './Boundaries';\n\n\nexport default class Wall {\n\n  constructor (p5, i, config) {\n    const wallsInit = [\n      [\n        {x: 0, y: 0, dx: -1, dy: 0}, // inner gallery\n        {x: 20, y: 0, dx: 0, dy: -1},\n        {x: 20, y: 5, dx: 1, dy: 0},\n        {x: 32, y: 5, dx: 0, dy: -1},\n        {x:32, y: 15, dx: 1, dy: 0},\n        // {x:27, y: 10, dx: 0, dy: 1},\n        // {x: 27, y: 15, dx: 1, dy: 0},\n        {x: 20, y: 15, dx: 0, dy: 1},\n        {x: 20, y: 22, dx: 1, dy: 0},\n        {x: 25, y: 22, dx: 0, dy: -1},\n        {x: 25, y: 27, dx: 1, dy: 0},\n        // {x: 20, y: 27},\n        {x: 5, y: 27, dx: 0, dy: 1},\n        {x: 5, y: 22, dx: -1, dy: 0},\n        {x: 0, y: 22, dx: 0, dy: 1},\n        {x: 0, y: 17, dx: -1, dy: 0},\n        {x: -5, y: 17, dx: 0, dy: 1},\n        {x: -5, y: 12, dx: -1, dy: 1},\n        {x: 0, y: 12, dx: 0, dy: -1},\n        {x: 0, y: 0, dx: -1, dy: 0},\n        {x: 20, y: 0, dx: 0, dy: -1},\n      ],\n      [\n        {x: -12, y:-10}, // outer limit\n        {x: 38, y:-10},\n        {x: 38, y:40},\n        {x: -12, y:40},\n        {x: -12, y:-10},\n      ],\n    ];\n\n    this.p5 = p5;\n    this.points = wallsInit[i];\n\n    const sWs = [5, 2, 5];\n    this.borderPoints = [\n      {sW: sWs[0], points:this.initBorderPoints(sWs[0]/2, config.scaler)},\n      {sW: sWs[1], points:this.initBorderPoints(sWs[1]/2, config.scaler)},\n      {sw: sWs[2], points:this.initBorderPoints(sWs[0]+sWs[1]+sWs[2]/2, config.scaler)},\n    ]\n\n    this.config = config;\n  }\n\n  displayShape(p5, floorTex, scaler=this.config.scaler) {\n    p5.beginShape();\n    for (let i = 0; i < this.points.length; i++) {\n      const uv = this.getWallUV(this.points[i]);\n      p5.vertex(this.points[i].x*scaler, this.points[i].y*scaler, 0, uv.u, uv.v);\n    }\n    p5.endShape();\n  }\n\n\n  getWallUV(point) {\n    const u = this.p5.map(point.x, -5, 30, 0, 6);\n    const v = this.p5.map(point.y, 0, 30, 0, 6);\n    return {u: u, v: v };\n  }\n\n  displayWall(p5, scaler=this.config.scaler) {\n    for (let i = 0; i < this.points.length-1; i++) {\n      p5.line(this.points[i].x*scaler, this.points[i].y*scaler, this.points[i+1].x*scaler, this.points[i+1].y*scaler);\n    }\n  }\n\n  initBorderPoints(borderW, scaler=this.config.scaler) {\n    borderW /= scaler;\n    // p5.stroke(0, 255, 0);\n    var borderPoints = [{x: this.points[0].x - borderW, y: this.points[0].y-borderW}];\n    for (let i = 0; i < this.points.length-2; i++) {\n      // const p0 = {x: this.points[i].x + this.points[i+1].dx*borderW, y: this.points[i].y + this.points[i+1].dy*borderW};\n\n      const p0 = borderPoints[i];\n      const p1 = {x: this.points[i+1].x + this.points[i+1].dx*borderW, y: this.points[i+1].y + this.points[i+1].dy*borderW};\n      const pNext0 = {x: this.points[i+1].x + this.points[i+2].dx*borderW, y: this.points[i+1].y + this.points[i+2].dy*borderW};\n      const pNext1 = {x: this.points[i+2].x + this.points[i+2].dx*borderW, y: this.points[i+2].y + this.points[i+2].dy*borderW};\n      const pIntersect = intersectionPoint(p0.x, p0.y, p1.x, p1.y, pNext0.x, pNext0.y, pNext1.x, pNext1.y);\n      borderPoints.push(pIntersect);\n    }\n    return borderPoints;\n  }\n\n  displayBorder(p5, i, scaler=this.config.scaler) {\n    p5.stroke(255);\n    p5.strokeWeight(this.borderPoints[1].sW);\n    this.displayOutline(p5, this.borderPoints[1].points, scaler);\n\n    // p5.stroke(255);\n    // p5.strokeWeight(this.borderPoints[0].sW);\n    // this.displayOutline(p5, this.borderPoints[0].points, scaler);\n    // this.displayOutline(p5, this.borderPoints[2].points, scaler);\n  }\n  \n\n  displayOutline(p5=this.p5, points=this.points, scaler=this.config.scaler) {\n    for (let i = 0; i < points.length-1; i++) {\n      p5.line(points[i].x*scaler, points[i].y*scaler, points[i+1].x*scaler, points[i+1].y*scaler);\n    }\n  }\n\n\n  wallBoundaryCrossing(userStep) {\n    return boundaryCrossing(userStep, this.points, this.config);\n  }\n}\n","import {doorCrossing, boundaryCrossing} from './Boundaries';\n\n\nexport default class Room {\n\n\n\n\n  constructor(p5, i, config, globalConfig) {\n    const roomsInit = [\n      {id: \"B\", title: \"bathroom\", x: -5, y: 12, rot: -90, dir: \"right\"},\n      {id: 0, title: \"gift-shop\", x: 20, y: 22, rot: 90, dir: \"left\"},\n      {id: 1, title: \"macbook-air\", x: 5, y: 22, rot: -90, dir: \"right\"},\n      {id: 2, title: \"wet-streams\", x: 12, y: 13, rot: 0, dir: \"bottom\"},\n      {id: 3, title: \"hard-drives-on-seashores\", x: 12, y: 8, rot: -90, dir: \"right\"},\n      {id: 4, title: \"jungle-gyms\", x: 7, y: 8, rot: 90, dir: \"left\"},\n      {id: 5, title: \"wasted-days-are-days-wasted\", x: 0, y: 17, rot: -90, dir: \"right\"},\n      {id: 6, title: \"esc-to-mars\", x: 0, y: 0, rot: 0, dir: \"bottom\"},\n      {id: 7, title: \"xfinity-depths\", x: 5, y: 0, rot: 0, dir: \"bottom\"},\n      {id: 8, title: \"cloud-confessional\", x: 10, y: 0, rot: 0, dir: \"bottom\"},\n      {id: 9, title: \"same-storm-different-boat\", x: 15, y: 0, rot: 0, dir: \"bottom\"},\n      // {id: 9, title: \"tbd\", x: 20, y: 0, rot: 0, dir: \"bottom\"},\n      {id: 10, title: \"tbd\", x: 27, y: 5, rot: 90, dir: \"left\"},\n      {id: 11, title: \"tbd\", x: 27, y: 10, rot: 90, dir: \"left\"},\n      {id: 12, title: \"tbd\", x: 27, y: 15, rot: 90, dir: \"left\"},\n    ];\n    const room = roomsInit[i];\n\n    this.p5 = p5;\n    this.x = room.x;\n    this.y = room.y;\n    this.rot = room.rot;\n    this.dir = room.dir;\n    this.title = room.title;\n    this.config = config;\n    this.globalConfig = globalConfig;\n\n    this.w = 5;\n    this.h = 5;\n    this.start = 0;\n    this.end = .2;\n\n    this.config = config;\n  }\n\n\n  display(roomTextures, eyeIcon, roomCount) {\n\n    this.p5.push();\n    // this.p5.scale(this.globalConfig.scaler, this.globalConfig.scaler);\n    var x = (this.x+this.w/2)*this.globalConfig.scaler;\n    var y = (this.y+this.h/2)*this.globalConfig.scaler;\n    this.p5.translate(x,y);\n\n    this.p5.push();\n    // let rad = deg/180*p5.PI;\n    // this.p5.rotate(rad);\n    // p5.translate(-w*p5.cos(rad), -h*p5.sin(rad));\n\n    x = -this.w/2*this.globalConfig.scaler;\n    y =-this.h/2*this.globalConfig.scaler;\n    var w = this.w *this.globalConfig.scaler;\n    var h = this.h *this.globalConfig.scaler;\n\n    // if (roomTextures[0] && this.dir === \"up\") this.p5.image(roomTex, x, y, w, h);\n    if (roomTextures[0] && this.dir === \"bottom\") this.p5.image(roomTextures[0], x, y, w, h);\n    else if (roomTextures[1] && this.dir === \"right\") this.p5.image(roomTextures[1], x, y, w, h);\n    else if (roomTextures[2]) this.p5.image(roomTextures[2], x, y, w, h);\n\n    // draw watching icon\n    // if (roomCount) {\n    var count = 0;\n    if (roomCount) count = roomCount[this.title];\n    this.drawEye(eyeIcon, count);\n   \n    // this.drawRoomDoorCrossing();\n   \n\n    this.p5.pop();\n\n    // p5.textSize(50);\n    // p5.fill(0, 255, 0);\n    // if (count) p5.text(count, 0, 0)\n\n\n    this.p5.pop();\n\n    // if (this.closeToDoor()) {\n    //   this.p5.noFill();\n    //   for (let i = 4 ; i > 0; i--) {\n    //     this.p5.strokeWeight(i*4);\n    //     this.p5.stroke(255, this.p5.map(i, 4, 1, 10, 140));\n    //     this.displayOutline();\n    //   }\n    // }\n\n  }\n\n  drawEye(eyeIcon, rc) {\n    var count = 0;\n    if (rc) count = rc;\n    if (eyeIcon) {\n      const w = (this.p5.textWidth(count) + 50);\n      const h = 30;\n      this.p5.push();\n      this.p5.translate(-w/2, -h/2);\n      this.p5.fill(255, 100);\n      this.p5.stroke(255);\n      this.p5.strokeWeight(2);\n      this.p5.rect(0, 0, w, h, 10, 10);\n      this.p5.image(eyeIcon, 10, 5, 20, 20);\n\n      this.p5.fill(0);\n      this.p5.noStroke();\n      this.p5.textSize(18);\n      this.p5.text(count, 35, 20);\n      this.p5.pop();\n    }\n  }\n\n  displayOutline(p5=this.p5, scaler=this.globalConfig.scaler) {\n    var w = this.w*scaler;\n    var h = this.h*scaler;\n    // if (rooms[i].id === \"B\") h = 7*scaler;\n    p5.push();\n    p5.translate(this.x*scaler, this.y*scaler);\n    p5.rect(0, 0, w, h);\n\n    // label\n    // p5.strokeWeight(1);\n    // p5.fill(255, 0, 255);\n    // p5.text(rooms[i].id, 10, 0)\n    p5.pop();\n  }\n\n  drawRoomDoorCrossing(p5=this.p5) {\n    var x0, x1, y0, y1;\n    if (this.dir === \"bottom\") {\n      x0 = this.x + this.w*this.start;\n      x1 = this.x + this.w*this.end;\n      y0 = this.y + this.h;\n      y1 = this.y + this.h;\n    }\n    else if (this.dir === \"left\") {\n      y0 = this.y + this.h*this.start;\n      y1 = this.y + this.h*this.end;\n      x0 = this.x;\n      x1 = this.x;\n    }\n    else if (this.dir === \"right\") {\n      y0 = this.y + this.h;\n      y1 = this.y + this.h - this.h*this.end;\n      x0 = this.x + this.w;\n      x1 = this.x + this.w;\n    }\n    p5.stroke(255, 0, 0);\n    p5.strokeWeight(10);\n    let sc = this.globalConfig.scaler;\n    p5.line(x0*sc, y0*sc, x1*sc, y1*sc);\n  }\n\n\n  roomDoorCrossing(userStep) {\n    var x0, x1, y0, y1;\n    if (this.dir === \"bottom\") {\n      x0 = this.x + this.w*this.start;\n      x1 = this.x + this.w*this.end;\n      y0 = this.y + this.h;\n      y1 = this.y + this.h;\n    }\n    else if (this.dir === \"left\") {\n      y0 = this.y + this.h*this.start;\n      y1 = this.y + this.h*this.end;\n      x0 = this.x;\n      x1 = this.x;\n    }\n    else if (this.dir === \"right\") {\n      y0 = this.y + this.h;\n      y1 = this.y + this.h - this.h*this.end;\n      x0 = this.x + this.w;\n      x1 = this.x + this.w;\n    }\n    const doorC = {x0: x0, y0: y0, x1: x1, y1: y1, to: this.title};\n    return doorCrossing(userStep, doorC, this.globalConfig);\n  }\n\n  roomBoundaryCrossing(userStep) {\n    const roomWalls = [\n      {x: (this.x), y:this.y},\n      {x: (this.x+this.w), y:this.y},\n      {x: (this.x+this.w), y:(this.y+this.h)},\n      {x: (this.x), y:(this.y+this.h)},\n      {x: (this.x), y:this.y}\n    ];\n    return boundaryCrossing(userStep, roomWalls, this.globalConfig);\n  }\n}\n","import React from \"react\";\nimport Sketch from \"react-p5\";\n\n// import {doorCrossing, boundaryCrossing} from './components/Sketch/Boundaries';\n\nimport Wall from \"./components/Wall\";\nimport Room from \"./components/Room\";\nimport Door from \"./components/Door\";\nimport MiniMap from \"./components/MiniMap\";\nimport { globalConfig, danceFloor } from \"../constants\";\n\nvar walls = [];\nvar rooms = [];\nvar doors = [];\n\n\n\nvar roomConfig = {\n  w: 5,\n  h: 5,\n  start: .1,\n  end: .8\n}\n\nvar miniMap;\n\n\nvar floorTex;\nvar palm;\nvar stairs, stairsBig;\nvar horizPlant, shrub;\nvar grasses = [];\nvar roomTextures = [];\nvar eyeIcon;\n\n// const centerW = 1000;\n\n\nexport default (props) => {\n  let x = 50;\n  const y = 50;\n  const user = props.user;\n  const users = props.users;\n  const roomCount = props.roomCount;\n\n  const preload = (p5) => {\n    const url = \"https://lmd-bucket.s3.us-east-2.amazonaws.com/sketches/homePage/\";\n    floorTex = p5.loadImage(url + \"concrete-512.jpg\");\n    palm = p5.loadImage(url + \"grass/palm.png\");\n    // stairs = p5.loadImage(url + \"grass/stairs.png\");\n    // stairsBig = p5.loadImage(url + \"grass/stairsbig.png\");\n    // shrub = p5.loadImage(url + \"grass/shrub_sm.jpg\");\n    // horizPlant = p5.loadImage(url + \"grass/seamless_shrub.jpg\");\n    // grasses[0] = p5.loadImage(url + \"grass/100.png\");\n    // grasses[1] = p5.loadImage(url + \"grass/200.png\");\n    // grasses[2] = p5.loadImage(url + \"grass/400.png\");\n    // grasses[3] = p5.loadImage(url + \"grass/1000.png\");\n    roomTextures[0] = p5.loadImage(url + \"rooms/bottom.png\");\n    roomTextures[1] = p5.loadImage(url + \"rooms/right.png\");\n    roomTextures[2] = p5.loadImage(url + \"rooms/left.png\");\n    eyeIcon = p5.loadImage(url + \"eye.png\")\n  }\n\n  const setup = (p5, canvasParentRef) => {\n    // use parent to render the canvas in this ref\n    // (without that p5 will render the canvas outside of your component)\n    p5.createCanvas(window.innerWidth, window.innerHeight).parent(canvasParentRef);\n    // img = p5.loadImage(\"https://lmd-bucket.s3.us-east-2.amazonaws.com/sketches/jungleGyms/wallpaper3.jpg\",\n    // img => {p5.image(img, 0, 0);},\n    // (err) => { console.log(\"ERR\", err)}\n\n\n    // const wallpaper = \"https://lmd-bucket.s3.us-east-2.amazonaws.com/sketches/jungleGyms/wallpaper3.jpg\";\n    // const wood = \"/assets/s3-bucket/homePage/wood.jpg\";\n    // const concrete = \"/assets/s3-bucket/homePage/concrete.jpg\";\n\n\n\n\n    for (let i = 0; i < 2; i++) {\n      walls.push(new Wall(p5, i, globalConfig));\n    }\n    for (let i = 0; i < 13; i++) {\n      rooms.push(new Room(p5, i, roomConfig, globalConfig));\n    }\n    for (let i = 0; i < 4; i++) {\n      doors.push(new Door(p5, i, globalConfig));\n    }\n\n    // miniMap = new MiniMap(p5, 50, p5.windowHeight - 200 - 80, 200, 200);\n\n    p5.frameRate(20);\n\n    // loadImages()\n    // .then(function (allimgs) {\n    //   console.log(\"all promises done\");\n    //   loading = false;\n    // })\n    // .catch(function (error) {\n    //   console.log('Something went wrong', error);\n    // });\n\n    props.loadingDone();\n  };\n\n\n\n  const draw = (p5) => {\n    p5.clear();\n\n    // NOTE: Do not use setState in the draw function or in functions that are executed\n    // in the draw function...\n    // please use normal variables or class properties for these purposes\n    p5.push();\n    p5.translate(p5.windowWidth / 2, p5.windowHeight / 2);\n\n    p5.push();\n    p5.translate(-user.x, -user.y);\n\n    // if (img) p5.image(img, 0, 0);\n\n    p5.push();\n    p5.translate(globalConfig.x * globalConfig.scaler, globalConfig.y * globalConfig.scaler)\n\n\n    // rightPatio(p5);\n\n    // ground\n    // drawGrass(p5);\n    drawGrid(p5);\n    // drawPathFrontDoor(p5);\n\n    // floors\n    drawDanceFloor(p5);\n    drawSpaceFloor(20, 12, 12, 10, p5);\n    drawSpaceFloor(5, 27, 20, 8, p5); // bottom\n    drawSpaceFloor(-8, 0, 8, 12, p5); // top left\n\n    drawSpaceFloor(20, -7, 15, 12, p5); // dance\n    // drawPlants(p5);\n\n    drawSpaceFloor(24, 22, 4, 8, p5); // bottom to left\n\n\n    drawGround(p5);\n\n\n    // drawBorderPlants(p5);\n    // drawStairs(p5);\n\n    // walls\n    // p5.noFill();\n    p5.stroke(255);\n    p5.strokeWeight(10);\n    drawWalls(p5);\n\n\n    // doors\n    // drawDoors(p5);\n\n\n\n    // rooms\n    drawRooms(p5);\n\n\n    p5.pop();\n\n\n    p5.pop();\n\n\n    p5.stroke(255, 0, 255);\n    p5.strokeWeight(2);\n    p5.fill(255, 0, 255);\n    p5.textSize(50);\n    var str = (p5.round(user.x / globalConfig.scaler - globalConfig.x, 1)) + \", \" + (p5.round(user.y / globalConfig.scaler - globalConfig.y, 1)) + \"\";\n    // var str = (user.x) + \", \" + (user.y) + \"\";\n    // p5.text(str, 0, 0)\n\n    p5.pop();\n\n  };\n\n  const keyPressed = (p5) => {\n\n    if (p5.keyCode === p5.UP_ARROW) {\n      userTakeStep(p5, 0, -1);\n    }\n    else if (p5.keyCode === p5.RIGHT_ARROW) {\n      userTakeStep(p5, 1, 0);\n    }\n    else if (p5.keyCode === p5.LEFT_ARROW) {\n      userTakeStep(p5, -1, 0);\n    }\n    else if (p5.keyCode === p5.DOWN_ARROW) {\n      userTakeStep(p5, 0, 1);\n    }\n  }\n\n  const drawGrid = (p5) => {\n    let spacing = globalConfig.stepS/2;\n    p5.stroke(255, 100);\n    p5.strokeWeight(2);\n    var limits = [\n      { x: -12, y: -10 }, // outer limit\n      { x: 38, y: -10 },\n      { x: 38, y: 40 },\n      { x: -12, y: 40 },\n      { x: -12, y: -10 }\n    ];\n    let sc = globalConfig.scaler;\n    for (let x = limits[0].x * sc; x <= limits[1].x * sc; x += spacing) {\n      p5.line(x, limits[0].y * sc, x, limits[2].y * sc);\n    }\n\n    for (let y = limits[0].y * sc; y <= limits[2].y * sc; y += spacing) {\n      p5.line(limits[0].x * sc, y, limits[1].x * sc, y);\n    }\n  }\n\n  const drawSpaceFloor = (x0, y0, w, h, p5) => {\n    let spacing = globalConfig.stepS;\n    let yOffset = new Date() / 2000;\n    // let bound = 5000;\n \n    let sc = globalConfig.scaler;\n    for (let x = x0 * sc; x < (x0+w) * sc; x += spacing) {\n      for (let y = y0 * sc; y < (y0+h) * sc; y += spacing) {\n        let n = p5.noise(x * .005, y * .005 + yOffset);\n        let alpha = p5.map(n, 0, 1, 0, 150);\n        p5.fill(255, alpha);\n        p5.rect(x, y, spacing, spacing);\n      }\n    }\n\n    // p5.fill(255, 50);\n    // p5.rect(-12*sc, -10*sc, (38+12)*sc, (40+10)*sc);\n\n  }\n\n  const drawDanceFloor = (p5) => {\n    let sc = globalConfig.scaler;\n    let spacing = 60;\n    let w = 10*70;\n    let h = 5*70;\n\n    p5.noStroke();\n    let alpha = p5.map(Math.sin(new Date() / 500), -1, 1, 150, 255);\n    p5.fill(255, alpha);\n    for (let x = danceFloor.x; x < (danceFloor.x + w); x += spacing) {\n      for (let y = danceFloor.y; y < (danceFloor.y + h); y += spacing) {\n\n        // p5.line(, y, bound, y);\n        p5.rect(x, y, 50, 50);\n      }\n    }\n  }\n\n  const drawGround = (p5) => {\n    if (floorTex) {\n      // 1st\n      for (let x = 0; x < 20; x += 5) {\n        const w = 5 * globalConfig.scaler;\n        const h = 5 * globalConfig.scaler;\n        const ix = x * globalConfig.scaler;\n        const iy = 2 * globalConfig.scaler;\n        p5.image(floorTex, ix, iy, w, h);\n      }\n      // 2nd\n      for (let x = 0; x < 30; x += 5) {\n        const w = 5 * globalConfig.scaler;\n        const h = 5 * globalConfig.scaler;\n        const ix = x * globalConfig.scaler;\n        const iy = 5 * globalConfig.scaler;\n        p5.image(floorTex, ix, iy, w, h);\n      }\n\n      // 3rd\n      for (let x = 0; x < 30; x += 5) {\n        const w = 5 * globalConfig.scaler;\n        const h = 5 * globalConfig.scaler;\n        const ix = x * globalConfig.scaler;\n        const iy = 10 * globalConfig.scaler;\n        p5.image(floorTex, ix, iy, w, h);\n      }\n      // 4th row\n      for (let x = 0; x < 15; x += 5) {\n        const w = 5 * globalConfig.scaler;\n        const h = 5 * globalConfig.scaler;\n        const ix = x * globalConfig.scaler;\n        const iy = 12 * globalConfig.scaler;\n        p5.image(floorTex, ix, iy, w, h);\n      }\n      const w = 5 * globalConfig.scaler;\n      const h = 5 * globalConfig.scaler;\n      const ix = 15 * globalConfig.scaler;\n      const iy = 12 * globalConfig.scaler;\n      p5.image(floorTex, ix, iy, w, h);\n\n      // 4th row\n      for (let x = 5; x < 20; x += 5) {\n        const w = 5 * globalConfig.scaler;\n        const h = 5 * globalConfig.scaler;\n        const ix = x * globalConfig.scaler;\n        const iy = 17 * globalConfig.scaler;\n        p5.image(floorTex, ix, iy, w, h);\n      }\n      for (let x = 10; x < 20; x += 5) {\n        const w = 5 * globalConfig.scaler;\n        const h = 5 * globalConfig.scaler;\n        const ix = x * globalConfig.scaler;\n        const iy = 22 * globalConfig.scaler;\n        p5.image(floorTex, ix, iy, w, h);\n      }\n\n    }\n  }\n\n\n  const rightPatio = (p5, sc = globalConfig.scaler) => {\n    const x = 21.5 * sc;\n    const y = 15.5 * sc;\n    const w = 5 * sc;\n    if (grasses[1]) p5.image(grasses[1], x, y, w, w);\n  }\n\n  const drawBorderPlants = (p5, sc = globalConfig.scaler) => {\n    if (horizPlant) {\n      var startY = -horizPlant.height;\n      for (let i = 0; i < 4; i++) {\n        p5.image(horizPlant, i * horizPlant.width, startY, horizPlant.width, horizPlant.height);\n      }\n      startY += 5 * sc;\n      p5.image(horizPlant, 27 * sc, startY);\n    }\n\n  }\n\n  const drawGrass = (p5, sc = globalConfig.scaler) => {\n    if (grasses[1]) {\n      // for (let x = -15*sc; x < -12*sc; x+= shrub.width) {\n      const w = 5;\n      const startX = -10;\n      const endX = 35;\n      const startY = -5;\n      const endY = 40;\n      for (let x = startX; x < endX; x += w) {\n        for (let y = startY; y < endY; y += w) {\n          if (y > 10) {\n            if (x == y);\n            else p5.image(grasses[1], (x - 1) * sc, y * sc, w * sc, w * sc);\n          }\n          else p5.image(grasses[1], x * sc, y * sc, w * sc, w * sc);\n        }\n      }\n    }\n  }\n\n  const drawOuterBoundary = (p5, sc = globalConfig.scaler) => {\n    if (shrub) {\n      // for (let x = -15*sc; x < -12*sc; x+= shrub.width) {\n      const startX = -8 * sc - shrub.width * 2;\n      const endX = 35 * sc;\n      for (let y = -5 * sc; y < 40 * sc; y += shrub.height) {\n        p5.image(shrub, startX, y);\n        p5.image(shrub, startX + shrub.width, y);\n        p5.image(shrub, endX, y);\n        p5.image(shrub, endX + shrub.width, y);\n      }\n      const startY = -5 * sc - shrub.height * 2;\n      const endY = 40 * sc;\n      for (let x = startX + shrub.width * 2; x < 35 * sc; x += shrub.width) {\n        p5.image(shrub, x, startY);\n        p5.image(shrub, x, startY + shrub.height);\n        p5.image(shrub, x, endY);\n        p5.image(shrub, x, endY + shrub.height);\n      }\n      // }\n    }\n\n  }\n\n  const drawWalls = (p5) => {\n    if (walls) {\n      let i = 0;\n      for (const wall of walls) {\n        if (i == 0) {\n          // p5.fill(200);\n          // p5.noStroke();\n          // p5.strokeWeight(10);\n          // p5.stroke(0);\n          // wall.displayShape(p5, floorTex, globalConfig.scaler);\n\n          wall.displayBorder(p5, globalConfig.scaler);\n          i++;\n        }\n        // p5.noFill();\n        // p5.strokeWeight(10);\n        // p5.stroke(0);\n        // wall.displayOutline();\n      }\n    }\n  }\n\n  const drawPlants = (p5) => {\n    let sc = globalConfig.scaler;\n    if (palm) p5.image(palm, 0, 30 * sc, 50 * 4, 50 * 4);\n    // const w = 2 * ;\n\n    // for (let x = 2; x < 14; x++) {\n    //   const dx = x * globalConfig.scaler;\n    //   const dy = 27 * globalConfig.scaler;\n    //   // if (x === 10 || x === 15) p5.image(palm, dx, dy, w, w);\n    //   // else if (x == 10)\n    //   // else if (x == 14|| x==16 || x);\n    //   // else\n    //   if (grasses[2]) p5.image(grasses[2], dx, dy, w / 2, w / 2);\n    // }\n\n  }\n\n  const drawPathFrontDoor = (p5) => {\n    let { scaler } = globalConfig;\n\n    // right\n    // let x0 = 15*scaler;\n    // let y0 = 25*scaler;\n    // let h = 400;\n    // let w = 120;\n    // for (let x = x0; x < x0+w; x+= 50) {\n    //   for (let y = y0; y < y0+h; y+= 50) {\n    //     p5.fill(255);\n    //     p5.rect(x, y, 50, 50);\n    //   }\n    // }\n\n    // // left\n    // x0 = 12.5*scaler;\n    // for (let x = x0; x < x0+w; x+= 50) {\n    //   for (let y = y0; y < y0+h; y+= 50) {\n    //     p5.fill(255, 0, 255);\n    //     p5.rect(x, y, 50, 50);\n    //   }\n    // }\n\n    const points = [\n\n      // left\n      { x: 15 * scaler, y: 28 * scaler },\n      { x: 15 * scaler, y: 32 * scaler },\n      { x: 6.5 * scaler, y: 32 * scaler },\n      { x: -7 * scaler, y: 17 * scaler },\n      // right\n      // 12.5 = left\n      // { x: 17.5 * scaler, y: 28 * scaler },\n      // { x: 17.5 * scaler, y: 32 * scaler },\n\n    ]\n\n    p5.stroke(255, 150);\n    p5.strokeWeight(300);\n    for (let i = 0; i < points.length-1; i++) {\n      let p0 = points[i];\n      let p1 = points[i+1];\n      p5.line(p0.x, p0.y, p1.x, p1.y);\n\n    }\n  }\n\n  const drawStairs = (p5) => {\n    const w = 2 * globalConfig.scaler;\n    if (stairs) p5.image(stairs, 21.5 * globalConfig.scaler, 15 * globalConfig.scaler, w * 2, w * 2);\n    if (stairsBig) p5.image(stairsBig, 11 * globalConfig.scaler, 27 * globalConfig.scaler, w * 4, w * 2);\n  }\n\n  const drawDoors = (p5) => {\n    p5.strokeWeight(4);\n    p5.fill(0);\n    p5.stroke(80);\n    if (doors) {\n      for (const door of doors) {\n        door.display(p5);\n      }\n    }\n  }\n\n  const drawRooms = (p5) => {\n    if (rooms) {\n      for (const room of rooms) {\n        room.display(roomTextures, eyeIcon, roomCount);\n        // var w = roomConfig.w*wallConfig.scaler;\n        // var h = w;\n        // // if (room.id === \"B\") w = 7*wallConfig.scaler;\n        // drawRoom(p5, room.x*wallConfig.scaler, room.y*wallConfig.scaler, w, h, room.rot, room.title);\n      }\n    }\n\n  }\n\n  const doorCrossing = (userStep) => {\n    for (const door of doors) {\n      const cross = door.doorCrossing(userStep);\n      if (cross) return cross;\n    }\n    return null;\n  }\n\n\n  const roomDoorCrossing = (userStep) => {\n    for (const room of rooms) {\n      const cross = room.roomDoorCrossing(userStep);\n      if (cross) return cross;\n    }\n    return null;\n  }\n\n  const roomBoundary = (userStep) => {\n    for (const room of rooms) {\n      var cross = room.roomBoundaryCrossing(userStep);\n      if (cross) return true;\n    }\n    return false;\n  }\n\n  const wallBoundary = (userStep) => {\n    for (const wall of walls) {\n      var cross = wall.wallBoundaryCrossing(userStep);\n      if (cross) return true;\n    }\n    return false;\n  }\n\n\n\n  const userTakeStep = (p5, x, y) => {\n    var t = new Date();\n    let space = globalConfig.stepS;\n    const userStep = { ...user }\n    userStep.x += x * space;\n    userStep.y += y * space;\n    const outsideDoor = doorCrossing(userStep);\n    const roomDoor = roomDoorCrossing(userStep);\n    // check if entering a room door\n    // check if crossing into outside\n    // check crossed an inside boundary\n    // check if crossed a room boundary\n\n    if (roomDoor) {\n      props.userNewRoom(roomDoor);\n    }\n    else if (outsideDoor) {\n      props.userMove(userStep.x, userStep.y);\n    }\n    else if (roomBoundary(userStep)) { }\n    else if (wallBoundary(userStep)) { }\n    else {\n      props.userMove(userStep.x, userStep.y);\n    }\n    // console.log(new Date() - t);\n  }\n\n  const windowResized = (p5) => {\n    p5.resizeCanvas(p5.windowWidth, p5.windowHeight);\n  }\n\n  return <Sketch preload={preload} setup={setup} draw={draw} windowResized={windowResized} keyPressed={keyPressed} />;\n};\n","\nimport { doorCrossing, boundaryCrossing } from './Boundaries';\nimport { outsideDoors } from '../../constants';\n\nexport default class Door {\n\n  constructor(p5, i, config) {\n\n    this.p5 = p5;\n    this.point = outsideDoors[i];\n    this.config = config;\n  }\n\n\n  display(p5 = this.p5, scaler = this.config.scaler) {\n    p5.line(this.point.x0 * scaler, this.point.y0 * scaler, this.point.x1 * scaler, this.point.y1 * scaler);\n  }\n\n  doorCrossing(userStep) {\n    return doorCrossing(userStep, this.point, this.config);\n  }\n}\n","import React from 'react';\nimport { globalConfig } from '../constants';\n\nclass AvatarMiniMap extends React.Component {\n\n  constructor(props) {\n    super(props);\n\n  }\n\n  render() {\n    const {user, isUser} = this.props;\n    const miniScaler = 4;\n    const miniX = 45;\n    const miniY = 40;\n    const bigScaler = globalConfig.scaler;\n    const bigX = globalConfig.x;\n    const bigY = globalConfig.y;\n    const loc = {};\n\n    loc.x = (user.x/bigScaler-bigX)*miniScaler+miniX;\n    loc.y = (user.y/bigScaler-bigY)*miniScaler+miniY;\n\n    const sty = {top: loc.y, left: loc.x};\n    var avatar = user.avatar;\n    if (user.userName === \"wineBot\") avatar = \"\";\n    else if (user.userName === \"DJ\") avatar = \"\";\n    else if (!isUser) avatar = \"\";\n    const hidden = (user.room !== \"home-page\");\n    // if (user.userName==\"firefox\") console.log(user.x, loc.x);\n\n    //    <div className={\"otherAvatarMiniMap\" + (hidden?\" hidden\":\"\")}>\n    //       </div>\n    return (\n\n        <div className={\"emojiMiniMap\"+ (hidden?\" hidden\":\"\")} style={sty}>{avatar}</div>\n\n    )\n\n  }\n\n}\n\nexport default AvatarMiniMap;\n","import React from 'react';\nimport Frame from '../../../shared/Frame/Frame';\nimport AvatarMiniMap from './AvatarMiniMap';\n\nimport { connect } from 'react-redux';\nimport { hideMap, toggleMap } from '../../../../store/actions/';\n\n\nclass MiniMap extends React.Component {\n\n  constructor(props) {\n    super(props);\n\n  }\n\n  onHide = () => {\n    this.props.hideMap();\n  }\n\n  render() {\n    const {users, user, x, y, z, wineLocation} = this.props;\n\n    const wine0 = {...wineLocation[0]};\n    wine0.room=\"home-page\";\n    const wine1 = {...wineLocation[1]};\n    wine1.room=\"home-page\";\n\n    // if (otherUser.userName==\"jdboi\") console.log(otherUser.x, otherUser.y);\n    return (\n      <Frame title=\"map\" isHidden={this.props.mapIsHidden} onHide={this.onHide} bounded={true} windowStyle={{background: \"rgba(255, 255, 255, .7)\"}} content={\n          /*<video width={dimW-2} height={dimH} muted loop autoPlay><source src={videoDimURL} type=\"video/mp4\"></source></video>*/\n          <div className=\"MiniMap\">\n            <img src={window.AWS + \"/homePage/miniMap.png\"} width=\"100%\" height=\"100%\" />;\n            <div className=\"otherAvatarsMiniMap\">\n              <div className=\"avatars\">\n                {users?this.getUsers():<div></div>}\n                <AvatarMiniMap user={user} isUser={true} />\n\n              </div>\n            </div>\n          </div>\n        }\n        width={200} height={200} x={x} y={y} z={1000}\n        />\n\n    )\n\n  }\n\n  getUsers = () => {\n    return (\n      this.props.users.map((otherUser, i) => {\n        return (\n          <AvatarMiniMap key={i} user={otherUser} isUser={false} />\n        )\n      })\n    )\n  }\n\n}\n\nconst mapStateToProps = (state) => {\n return {\n   mapIsHidden: state.mapIsHidden\n }\n}\n\nconst mapDispatchToProps = () => {\n return {\n   hideMap,\n   toggleMap\n }\n}\n\n\nexport default connect(mapStateToProps, mapDispatchToProps())(MiniMap);\n","\nexport function getDisToUser(user, otherUser) {\n  let dx = user.x - otherUser.x;\n  let dy = user.y - otherUser.y;\n  let dis = Math.sqrt(dx*dx + dy*dy);\n  return dis;\n}\n\nexport function getOtherUserLocation(user, otherUser, avatarW) {\n  const y = otherUser.y+window.innerHeight/2-user.y-avatarW/2;\n  const x = otherUser.x+window.innerWidth/2-user.x-avatarW/2;\n  return {x: x, y: y};\n}\n\n\nexport function showWine(user) {\n  return user.hasWine && (new Date() - user.hasWine < 15000);\n}\n\nexport function initZIndicesIcons() {\n  const zind = [];\n  for (let i = 6; i < 6+3; i++) {\n    zind[i] = i; // icons\n  }\n  return zind;\n}\n\nexport function initZIndicesFrames() {\n  const zind = [];\n  for (let i = 0; i < 3; i++) {\n    zind[i] = i+100; // icons\n  }\n  return zind;\n}\n","import React from 'react';\nimport {getOtherUserLocation} from './Helpers';\n\nfunction ToolTip(props) {\n  const {userName, userHover} = props;\n  // if (userHover) {\n    const sty = {top: -20, left: 0};\n    return (\n      <div className=\"tooltip\" style={sty}>{userName}</div>\n    );\n  // }\n  // return (\n  //   <div></div>\n  // );\n}\n\n\n\nexport default ToolTip;\n","import React from 'react';\nimport {getOtherUserLocation, showWine, getDisToUser} from './Helpers';\nimport ToolTip from './ToolTip';\n\n// store\nimport { connect } from 'react-redux';\nimport { showChat } from '../../../../store/actions/';\nimport  { setUserActiveChat } from '../../../../store/actions/userActiveChat';\n\nclass OtherAvatar extends React.Component {\n\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      userHover: false\n    }\n  }\n\n\n  setUserHover = () => {\n    this.setState({userHover: true})\n  }\n\n  setUserHoverLeave = () => {\n    this.setState({userHover: false})\n  }\n\n  userClick = (otherUser) => {\n    this.props.setUserActiveChat(otherUser);\n    this.props.showChat();\n  }\n\n  render() {\n    const {otherUser, userName, user, avatarW} = this.props;\n    const {userHover} = this.state;\n    const loc = getOtherUserLocation(user, otherUser, avatarW);\n    const sty = {top: loc.y, left: loc.x};\n    const hidden = (otherUser.room !== \"home-page\");\n    // console.log(otherUser, hidden);\n    const showWineEmoji = showWine(otherUser);\n    const showChatBubble = getDisToUser(user, otherUser)<150?true:false;\n\n    return (\n      <div className={\"otherAvatar avatar\" + (hidden?\" hidden\":\"\")} onMouseEnter={this.setUserHover} onMouseLeave={this.setUserHoverLeave} onClick={() => this.userClick(otherUser)} style={sty}>\n        <div className={\"emoji\"}>{otherUser.avatar}</div>\n        <div className=\"emoji-addons\">\n          <div className={\"emoji-wine\" + (showWineEmoji?\"\":\" hidden\")} ></div>\n          <div className={\"emoji-chat\" + (showChatBubble?\"\":\" hidden\")} ></div>\n        </div>\n        <ToolTip userName={otherUser.userName} userHover={userHover} />\n      </div>\n    )\n\n  }\n\n}\n\n\nconst mapStateToProps = (state) => {\n  return {\n    user: state.user\n  }\n}\n\nconst mapDispatchToProps = () => {\n  return {\n    setUserActiveChat,\n    showChat\n  }\n}\n\n\nexport default connect(mapStateToProps, mapDispatchToProps())(OtherAvatar);\n","import React from 'react';\nimport OtherAvatar from './OtherAvatar';\n\nclass OtherAvatars extends React.Component {\n\n  constructor(props) {\n    super(props);\n  }\n\n\n  render() {\n    const {users, avatarW} = this.props;\n    if (users) {\n      return (\n        <div className=\"otherAvatars\">\n          {users.map((otherUser, i) => {\n            return (\n              <OtherAvatar key={i} otherUser={otherUser} userName={otherUser.userName} avatarW={avatarW} />\n            )\n          })}\n        </div>\n      );\n    }\n    return <div className=\"otherAvatars\"></div>\n  }\n\n}\n\nexport default OtherAvatars;\n","\nimport React from 'react';\nimport {showWine} from './Helpers';\n\nfunction Avatar(props) {\n  const {user, avatarW} = props;\n  const showWineEmoji = showWine(user);\n  return (\n    <div className=\"userAvatar avatar\" style={{top: window.innerHeight/2-avatarW/2, left: window.innerWidth/2-avatarW/2, zIndex: 10}}>\n      <div>{user.avatar}</div>\n      <div className=\"emoji-addons\"><div className={\"emoji-wine\" + (showWineEmoji?\"\":\" hidden\")}></div></div>\n    </div>\n  )\n}\n\nexport default Avatar;\n","import React from 'react';\nimport './DesktopIcon.css';\n\nimport Frame from '../Frame/Frame';\nimport Draggable from 'react-draggable';\n\n\nclass DesktopIcon extends React.Component {\n  //https://github.com/STRML/react-draggable\n  // https://codepen.io/JohJakob/pen/YPxgwo\n  constructor(props) {\n    super(props);\n\n\n    this.state = {\n      isHidden: true,\n      controlledPosition : {x: props.x, y: props.y}\n    }\n\n    this.wrapper = React.createRef();\n    // this.onDblClick = this.onDblClick.bind(this);\n  }\n\n  componentDidUpdate(prevProps) {\n    if (this.props.x !== prevProps.x || this.props.y !== prevProps.y) {\n      const dx = this.props.x - prevProps.x;\n      const dy = this.props.y - prevProps.y;\n      const controlledPosition = {...this.state.controlledPosition}\n\n      this.setState({controlledPosition: {x: controlledPosition.x + dx, y: controlledPosition.y + dy}});\n    }\n  }\n\n  onControlledDrag = (e, position) => {\n    const {x, y} = position;\n    this.setState({controlledPosition: {x, y}});\n  };\n\n  onControlledDragStop = (e, position) => {\n    this.onControlledDrag(e, position);\n    this.onStop();\n  };\n\n  onDblClick = () => {\n    // let {isHidden} = this.state;\n    // isHidden = !isHidden;\n    this.setState({isHidden: false});\n    this.props.onDblClick(this.props.id);\n  }\n\n  onClick = () => {\n    if(this.props.newIconToTop) this.props.newIconToTop();\n  }\n\n  onHide = () => {\n    this.setState({isHidden: true});\n  }\n\n\n  render() {\n    const {controlledPosition, isHidden} = this.state;\n\n    const parser = new DOMParser();\n    var title = this.props.title;\n\n    var classn = \"DesktopIcon\";\n    if (this.props.className) classn += \" \" + this.props.className;\n\n\n\n    // position = {...} makes it have a specific location. when you want direct control.\n    // let pos = this.state.controlledPosition;\n    let frameH = this.toolBarH + (this.state.isMinimized?0:this.props.height);\n    // so if we make pos null, it stays where it is dragged to\n    // however, it doesn't update when the page width / height changes\n    // if we let pos be equal to props.px/ props.py, it changes location\n    const bounded = this.props.bounded?\".App-Content\":null;\n    return (\n      <div className=\"DesktopDiv\" style={{zIndex: this.props.zIcon?this.props.zIcon:0}} >\n        <Draggable\n          axis=\"both\"\n          handle={\".DesktopIcon\"}\n          defaultPosition={{x: this.props.x, y: this.props.y}}\n          position={controlledPosition}\n          grid={[1, 1]}\n          scale={1}\n          bounds={bounded}\n          cancel=\".close, .minimize, .zoom\"\n          onStart={this.handleStart}\n          onDrag={this.onControlledDrag}\n          onStop={this.handleStop}\n          nodeRef={this.wrapper}\n          >\n          <div ref={this.wrapper} onDoubleClick={this.onDblClick} onClick={this.onClick} className={classn} style={{width: this.props.width + \"px\",height: this.props.height + \"px\"}} >\n            <div className=\"content\">\n              {this.props.content}\n            </div>\n            <div className=\"desktop-text\">{this.props.title}</div>\n          </div>\n        </Draggable>\n        {!this.props.disableWindow?this.getFrame():<div></div>}\n      </div>\n    );\n\n\n  }\n\n  getFrame() {\n    const {isHidden} = this.state;\n\n    return(\n      <Frame className=\"FolderOpenFrame\" title={this.props.title} isHidden={isHidden} onHide={this.onHide.bind(this)} x={this.props.box.x} y={this.props.box.y} z={this.props.zFrame?this.props.zFrame:0} width={this.props.box.w} height={this.props.box.h} content={this.props.frameContent} newFrameToTop={this.props.newFrameToTop} />\n\n    )\n  }\n}\n\nexport default DesktopIcon\n","import React from 'react';\nimport Frame from '../../../shared/Frame/Frame';\n\nexport default function(props) {\n  return (\n    <Frame title=\"\" windowStyle={{backgroundColor: \"white\"}} content={\n        <div className=\"WineBar\" >\n          <div></div>\n          <div></div>\n          <div></div>\n          <div></div>\n        </div>\n      }\n      width={props.w} height={props.h} x={props.x} y={props.y} z={props.z} bounded={false}\n      />\n  )\n}\n","import React from 'react';\nimport Frame from '../../../shared/Frame/Frame';\n\nexport default function(props) {\n  return (\n    <Frame title=\"\" windowStyle={{backgroundColor: \"white\"}} content={\n        <div className=\"WineBar\" >\n          <div></div>\n          <div></div>\n          <div></div>\n          <div></div>\n        </div>\n      }\n      width={200} height={80} x={props.x} y={props.y} z={props.z} bounded={false}\n      />\n  )\n}\n","import React from 'react';\nimport { danceFloor } from '../constants';\n\nclass Dancer extends React.Component {\n\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      x: this.props.startPos.x,\n      y: this.props.startPos.y\n    }\n  }\n\n  componentDidMount() {\n    this.interval = setInterval(this.update, 500);\n  }\n  componentWillUnmount() {\n    clearInterval(this.interval);\n  }\n\n  update = () => {\n    var x = (Math.random()*2-1)*50+this.state.x;\n    var y = (Math.random()*2-1)*50+this.state.y;\n\n    var maxX = danceFloor.w-60;\n    var minX = 0;\n    var minY = 120;\n    var maxY = danceFloor.h+60;\n    if (x < minX) x = minX;\n    else if (x > maxX) x = maxX;\n    if (y < minY) y = minY;\n    else if (y > maxY) y = maxY;\n    this.setState({x, y})\n  }\n\n  render() {\n    const sty = {fontSize: \"40px\", position: \"absolute\", left: this.props.x+this.state.x, top: this.props.y+this.state.y, zIndex:this.props.z};\n    return (\n      <div className={\"dancer\" + (this.props.isFlipped?\" flippedX\":\"\")} style={sty}>{this.props.avatar}</div>\n    )\n  }\n\n}\n\nexport default Dancer;\n","import React from 'react';\nimport Frame from '../../../../shared/Frame/Frame';\nimport './TrackLights.css';\n\nclass TrackLights extends React.Component {\n\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      lightsOn: true\n    }\n  }\n\n  toggleLights = () => {\n    this.setState(prevState => ({\n      lightsOn: !prevState.lightsOn\n    }));\n  }\n\n  render() {\n    return (\n      <div className=\"TrackLights\">\n        {this.getTrackLights()}\n      </div>\n    )\n  }\n\n  getTrackLights = () => {\n    if (this.props.isHorizontal) {\n      return this.getHorizLights();\n    }\n    return this.getVertLights();\n  }\n\n  getSwitch = () => {\n    return(\n      <div className=\"switch\" >\n        <input type=\"checkbox\" id=\"lightsOnInput\" onChange={this.toggleLights} name=\"lightsOn\" checked={this.state.lightsOn} />\n        <span className=\"slider\"></span>\n      </div>\n    )\n  }\n\n  getHorizLights = () => {\n    const bsOn = `${this.props.isFlipped?\"40\":\"-40\"}px 40px 40px #ffffff`;\n    const bsOff = \"0px 0px 20px #000000\";\n    const windowStyle = {boxShadow: (this.state.lightsOn?bsOn:bsOff),backgroundColor: \"white\"};\n    return (\n      <Frame className={this.state.lightsOn?\"lightsOn\":\"lightsOff\"} title=\"\" windowStyle={windowStyle} content={\n          <div className=\"lightBar barHoriz\">\n            <div className={\"lights\" + (this.props.isFlipped?\" flippedX\":\"\")}></div>\n            {this.getSwitch()}\n          </div>\n        }\n        width={this.props.w} height={this.props.h} x={this.props.x} y={this.props.y} z={this.props.z} bounded={false}\n        />\n    )\n\n  }\n\n  getVertLights = () => {\n    const bsOn = `${this.props.isFlipped?\"-40\":\"40\"}px 40px 40px #ffffff`;\n    const bsOff = \"0px 0px 20px #000000\";\n    const windowStyle = {boxShadow: (this.state.lightsOn?bsOn:bsOff),backgroundColor: \"white\"};\n    return (\n      <Frame className={this.state.lightsOn?\"lightsOn\":\"lightsOff\"} title=\"\" windowStyle={windowStyle} content={\n          <div className=\"lightBar barVert\">\n            <div className={\"lights\" + (this.props.isFlipped?\"\":\" flippedX\")}></div>\n            {this.getSwitch()}\n          </div>\n        }\n        width={this.props.w} height={this.props.h} x={this.props.x} y={this.props.y} z={this.props.z} bounded={false}\n        />\n    )\n\n  }\n\n}\n\nexport default TrackLights;\n","import React from 'react';\nimport Frame from '../../../../shared/Frame/Frame';\nimport { globalConfig } from '../../constants';\nimport './Door.css';\n\nexport default function (props) {\n    var isOpen = checkUser(props) || checkUsers(props);\n    const w = props.isFlipped ? props.h : props.w;\n    const h = props.isFlipped ? props.w : props.h;\n    return (\n        <Frame title=\"\" windowStyle={{ background: \"transparent\" }} content=\n            {\n                <div className={\"Door\" + (props.isFlipped ? \" rotDoor\" : \" normDoor\")}>\n                    <img className={\"door\"} src={\"https://lmd-bucket.s3.us-east-2.amazonaws.com/sketches/homePage/door/leftdoor2.png\"} width={w} height={h} style={getStyle(isOpen, props.isFlipped, w, 0)} />\n                    <img className={\"door flippedX\"} src={\"https://lmd-bucket.s3.us-east-2.amazonaws.com/sketches/homePage/door/leftdoor2.png\"} width={w} height={h} style={getStyle(isOpen, props.isFlipped, w, 1)} />\n                    <img className={\"doorFrame\"} src={\"https://lmd-bucket.s3.us-east-2.amazonaws.com/sketches/homePage/door/frame2.png\"} width={w} height={h} />\n                </div>\n            }\n            width={props.w} height={props.h} x={props.x + props.dx} y={props.y + props.dy} z={500} bounded={false}\n        />\n    )\n}\n\nconst getStyle = (isOpen, isFlipped, w, id) => {\n    var val = w / 4;\n    if (id == 0)\n        val *= -1;\n    return { left: isOpen ? val : 0 };\n}\n\nconst checkUsers = (props) => {\n    const { x, y, w, h, users, isFlipped } = props;\n    if (!users) return false;\n    for (const user of users) {\n        if (closeToDoor(x, y, w, h, user, isFlipped))\n            return true;\n    }\n    return false;\n}\n\nconst checkUser = (props) => {\n    const { x, y, w, h, user, isFlipped } = props;\n    return closeToDoor(x, y, w, h, user, isFlipped);\n}\n\nconst closeToDoor = (x, y, w, h, user, isFlipped) => {\n    if (!user) return false;\n\n    var triggerH = globalConfig.scaler * 5;\n    var triggerW = globalConfig.scaler * 4;\n    if (isFlipped) {\n        let temp = triggerW;\n        triggerW = triggerH;\n        triggerH = temp;\n    }\n    const xCenter = x + w / 2;\n    const yCenter = y + 24 + h / 2;\n\n    const minX = xCenter - triggerW / 2;\n    const maxX = xCenter + triggerW / 2;\n    const minY = yCenter - triggerH / 2;\n    const maxY = yCenter + triggerH / 2;\n\n    const ux = user.x + 34 / 2;\n    const uy = user.y + 34 / 2;\n    // if (print) console.log(user.x, minX, maxX, \";\", user.y, minY, maxY);\n    return (ux > minX && ux < maxX && uy > minY && uy < maxY);\n}","\nexport function getRandomNum(val) {\n  var x = Math.sin(val) * 10000;\n  return x - Math.floor(x);\n}\n\n// index 2 goes to top\n// 3 , 2, 1, 0\n//-> 2, 1, 3, 0\nexport function getNewZIndices(indexToTop, array) {\n  let prevVal = array[indexToTop];\n  let maxVal = 0;\n  let newArr = [];\n  for (let i = 0; i < array.length; i++) {\n    if (array[i] > maxVal) maxVal = array[i];\n    if (array[i] > prevVal) newArr[i] = array[i]-1;\n    else newArr[i] = array[i];\n  }\n  newArr[indexToTop] = maxVal;\n  return newArr;\n}\n","import React from 'react';\nimport \"./HomePage.css\";\n\nimport Frame from '../../shared/Frame/Frame';\nimport Dock from '../../shared/Dock/Dock';\nimport Glasses from '../../shared/Glasses/Glasses';\n\nimport P5Wrapper from 'react-p5-wrapper';\n// import sketch from './HomeSketch';\nimport Sketch from './p5/HomeSketch';\n\nimport MiniMap from './components/MiniMap';\nimport OtherAvatars from './components/OtherAvatars';\nimport Avatar from './components/Avatar';\n\nimport Folders from './components/Folders';\nimport Welcome from './components/Welcome';\nimport Oak from './components/Oak';\nimport WineBar from './components/WineBar';\nimport DJ from './components/DJ';\nimport Dancer from './components/Dancer';\nimport TrackLights from './components/TrackLights/TrackLights';\nimport Column from './components/Column';\nimport Door from './components/Door/Door';\n\nimport { initZIndicesIcons, initZIndicesFrames } from './components/Helpers';\nimport { getNewZIndices } from '../../shared/Helpers/Helpers';\n\nimport ArrowKeysReact from 'arrow-keys-react';\n\nimport { wineLocation, djLocation, outsideDoorFrames, lights, globalConfig } from './constants';\n\n// store\nimport { connect } from 'react-redux';\nimport { moveUser } from '../../../store/actions/user';\n\n// import flurry from './Canned/flurry_1.mp4';\n\n\nclass HomePage extends React.Component {\n\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      keyDown: false,\n      zIndex: [3, 4, 5, 6],\n      OGW: window.innerWidth / 2,\n      OGH: window.innerHeight / 2,\n      zIndicesIcons: initZIndicesIcons(),\n      zIndicesFrames: initZIndicesFrames(),\n      loading: true\n    }\n\n    this.avatarW = 34;\n\n  }\n\n  componentDidMount() {\n    window.addEventListener(\"resize\", this.handleResize);\n\n  }\n\n  componentWillUnmount() {\n    window.removeEventListener(\"resize\", this.handleResize);\n  }\n\n  handleResize = () => {\n    this.setState({ OGW: window.innerWidth / 2, OGH: window.innerHeight / 2 });\n  }\n\n  newFrameToTop = (id) => {\n    const newZ = getNewZIndices(id, this.state.zIndicesFrames);\n    this.setState({ zIndicesFrames: newZ });\n    // console.log(\"ZZZ\", this.state.zIndices);\n  }\n\n  newIconToTop = (id) => {\n    console.log(\"id\", id)\n    const newZ = getNewZIndices(id, this.state.zIndicesIcons);\n    this.setState({ zIndicesIcons: newZ });\n    // console.log(\"ZZZ\", this.state.zIndices);\n  }\n\n  onDblClick = (id) => {\n    // console.log(id);\n    this.newFrameToTop(id);\n  }\n\n\n  enterRoom = (room) => {\n    this.props.history.push(room);\n  }\n\n  loadingDone = () => {\n    this.setState({ loading: false });\n  }\n\n  getHomeComponents = () => {\n    const { users, user, zIndicesIcons, zIndicesFrames } = this.props;\n    if (this.state.loading)\n      return (\n        <div className=\"backgroundCover\"><div className=\"loading\">LOADING</div></div>\n      );\n    return (\n      <React.Fragment>\n        {/*  <Welcome w={500} h={400} z={1} x={-250-user.x+ this.state.OGW} y={-320-user.y+ this.state.OGH} />*/}\n        {/* <Oak w={500} h={400} z={0} x={-1550 - user.x + this.state.OGW} y={-220 - user.y + this.state.OGH} /> */}\n        {this.getDancers()}\n        {this.getWineBars()}\n        {this.getLights()}\n        {this.getDoors()}\n        {this.getColumns()}\n        {/* <Folders x={300 - user.x + this.state.OGW} y={-330 - user.y + this.state.OGH} zIcons={zIndicesIcons} zFrames={zIndicesFrames} onDblClick={this.onDblClick} newFrameToTop={this.newFrameToTop} newIconToTop={this.newIconToTop} />*/}\n        {this.getAvatars()}\n        <MiniMap users={users} user={user} x={50} y={50} z={50} wineLocation={wineLocation} />\n        <Glasses />\n      </React.Fragment>\n    )\n  }\n\n  getDancers = () => {\n    const { users, user } = this.props;\n    return (\n      <div className=\"Dance\">\n        <DJ x={djLocation.x - user.x + this.state.OGW} y={djLocation.y - user.y + this.state.OGH} z={2} />\n        <Dancer startPos={{ x: 10, y: 160 }} x={djLocation.x - user.x + this.state.OGW} y={djLocation.y - user.y + this.state.OGH} avatar=\"\" z={2} isFlipped={false} />\n        <Dancer startPos={{ x: 200, y: 280 }} x={djLocation.x - user.x + this.state.OGW} y={djLocation.y - user.y + this.state.OGH} avatar=\"\" z={2} isFlipped={false} />\n        <Dancer startPos={{ x: 400, y: 120 }} x={djLocation.x - user.x + this.state.OGW} y={djLocation.y - user.y + this.state.OGH} avatar=\"\" z={2} isFlipped={true} />\n      </div>\n    )\n  }\n\n  getWineBars = () => {\n    const { users, user } = this.props;\n    return (\n      <div className=\"Wine\">\n        <WineBar x={wineLocation[0].x - user.x + this.state.OGW} y={wineLocation[0].y - user.y + this.state.OGH} z={2} w={wineLocation[0].w} h={wineLocation[0].h} />\n        <WineBar x={wineLocation[1].x - user.x + this.state.OGW} y={wineLocation[1].y - user.y + this.state.OGH} z={2} w={wineLocation[1].w} h={wineLocation[1].h} />\n      </div>\n    )\n  }\n\n  getLights = () => {\n    const { users, user } = this.props;\n    return (\n      <div className=\"Lights\">\n        <TrackLights isFlipped={true} isHorizontal={false} x={lights[0].x - user.x + this.state.OGW} y={lights[0].y - user.y + this.state.OGH} z={900} w={80} h={300} />\n        <TrackLights isFlipped={false} isHorizontal={false} x={lights[1].x - user.x + this.state.OGW} y={lights[1].y - user.y + this.state.OGH} z={900} w={80} h={300} />\n        <TrackLights isFlipped={false} isHorizontal={false} x={lights[2].x - user.x + this.state.OGW} y={lights[2].y - user.y + this.state.OGH} z={900} w={80} h={300} />\n      </div>\n    )\n  }\n\n  getColumns = () => {\n    const { users, user } = this.props;\n    const y0 = -820;\n    const dy = 60;\n    const dx = 110;\n    const y1 = 50;\n    const h = 280;\n    return (\n      <div className=\"Columns\">\n        {/*<Column w={80} h={h} x={-240 - dx * 2 - user.x + this.state.OGW} y={y0 + dy * 2 - user.y + this.state.OGH} z={502} />\n        <Column w={80} h={h} x={-240 - dx - user.x + this.state.OGW} y={y0 + dy - user.y + this.state.OGH} z={502} />\n        <Column w={80} h={h} x={-240 - user.x + this.state.OGW} y={y0 - user.y + this.state.OGH} z={502}  />\n\n        <Column w={80} h={h} x={160 - user.x + this.state.OGW} y={y0 - user.y + this.state.OGH} z={502}  />\n        <Column w={80} h={h} x={160 + dx - user.x + this.state.OGW} y={y0 + dy - user.y + this.state.OGH} z={502}  />\n        <Column w={80} h={h} x={160 + dx * 2 - user.x + this.state.OGW} y={y0 + dy * 2 - user.y + this.state.OGH} z={502} />\n\n\n\n        <Column w={80} h={h} x={-240 - dx * 2 - user.x + this.state.OGW} y={y1 - dy * 2 - user.y + this.state.OGH} z={502} />\n        <Column w={80} h={h} x={-240 - dx - user.x + this.state.OGW} y={y1 - dy - user.y + this.state.OGH} z={502} />\n        <Column w={80} h={h} x={-240 - user.x + this.state.OGW} y={y1 - user.y + this.state.OGH} z={502}  />\n\n        <Column w={80} h={h} x={160 - user.x + this.state.OGW} y={y1 - user.y + this.state.OGH} z={502}  />\n        <Column w={80} h={h} x={160 + dx - user.x + this.state.OGW} y={y1 - dy - user.y + this.state.OGH} z={502}  />\n        <Column w={80} h={h} x={160 + dx * 2 - user.x + this.state.OGW} y={y1 - dy * 2 - user.y + this.state.OGH} z={502} /> \n        \n         <Column w={80} h={h} x={-340 - user.x + this.state.OGW} y={y0 - user.y + this.state.OGH} z={502} />\n        <Column w={80} h={h} x={260 - user.x + this.state.OGW} y={y0 - user.y + this.state.OGH} z={502} />\n        */}\n       \n       \n      </div>\n    )\n  }\n\n  getDoors = () => {\n    const { users, user } = this.props;\n    const h = 180;\n    const w = 500;\n    return (\n      <div className=\"Doors\">\n        <Door id={1} isFlipped={false} w={w} h={h} z={0} x={outsideDoorFrames[2].x - w / 2} dx={-user.x + this.state.OGW} y={outsideDoorFrames[2].y - 24 - h / 2} dy={-user.y + this.state.OGH} user={user} users={users} />\n        <Door id={2} isFlipped={false} w={w} h={h} z={0} x={outsideDoorFrames[0].x - w / 2} dx={-user.x + this.state.OGW} y={outsideDoorFrames[0].y - 24 - h / 2} dy={-user.y + this.state.OGH} user={user} users={users} />\n        <Door id={2} isFlipped={false} w={w} h={h} z={0} x={outsideDoorFrames[3].x - w / 2} dx={-user.x + this.state.OGW} y={outsideDoorFrames[3].y - 24 - h / 2} dy={-user.y + this.state.OGH} user={user} users={users} />\n        <Door id={3} isFlipped={true} w={h} h={w} z={0} x={outsideDoorFrames[1].x - h / 2} dx={-user.x + this.state.OGW} y={outsideDoorFrames[1].y - w / 2} dy={- user.y + this.state.OGH} user={user} users={users} />\n      </div>\n    )\n  }\n\n  getAvatars = () => {\n    const { users, user } = this.props;\n    return (\n      <div className=\"avatars\">\n        <OtherAvatars users={users} user={user} avatarW={this.avatarW} />\n        <Avatar user={user} avatarW={this.avatarW} />\n      </div>\n    )\n  }\n\n  render() {\n    const { users, user, walls, doors, roomCount } = this.props;\n    const { zIndex, zIndicesIcons, zIndicesFrames } = this.state;\n\n\n    // onKeyDown={this.handleKeyDown} onKeyUp={this.handleKeyUp}\n\n    // walls={walls}\n    // doors={doors}\n    // <video autoPlay muted loop className=\"backgroundCover\">\n    //   <source src={window.AWS + \"/macbookAir/clouds3d.mp4\"} type=\"video/mp4\" ></source>\n    //   Your browser does not support HTML5 video.\n    // </video>\n\n    return (\n      <div className=\"HomePage Sketch\" >\n        {/* getFlurry() */}\n\n        <Sketch\n          className=\"p5sketch\"\n          user={user}\n          users={users}\n          roomCount={roomCount}\n          userMove={(x, y) => this.props.moveUser(x, y, wineLocation)}\n          userNewRoom={this.props.userNewRoom}\n          loadingDone={this.loadingDone}\n        />\n\n        {this.getHomeComponents()}\n\n      </div>\n    )\n  }\n}\n\n\n\n// const getFlurry = () => {\n//   return (\n//     <video ref={this.cloudsRef} autoPlay muted loop className=\"backgroundCover\">\n//       <source src={flurry} type=\"video/mp4\" ></source>\n//         Your browser does not support HTML5 video.\n//     </video>\n//   )\n// }\n\n\n\n\nconst mapStateToProps = (state) => {\n  return {\n    user: state.user\n  }\n}\n\nconst mapDispatchToProps = () => {\n  return {\n    moveUser\n  }\n}\n\n\nexport default connect(mapStateToProps, mapDispatchToProps())(HomePage);\n","import React from 'react';\nimport Frame from '../../shared/Frame/Frame';\nimport './MacbookAir.css';\n\nimport Grid from '@material-ui/core/Grid';\nimport Slider from '@material-ui/core/Slider';\n// import indigo from '@material-ui/core/colors/indigo';\n\nimport ReactPlayer from 'react-player'\n// import mainVid from  \"./assets/noframe.mp4\";\n// import cloudsVid from  \"./assets/clouds3d.mp4\";\n\nimport Glasses from '../../shared/Glasses/Glasses';\n\nclass MacbookAir extends React.Component {\n  // https://codepen.io/JohJakob/pen/YPxgwo\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      videoSpeed : 1.0,\n\n\n    }\n\n    this.sliderOG= {x: 0, y: 0};\n    this.mainOG= {x: 0, y: 0};\n\n    this.cloudsRef = React.createRef();\n\n    this.setSpeed = this.setSpeed.bind(this);\n    this.getDimensions = this.getDimensions.bind(this);\n    this.getMainWindow = this.getMainWindow.bind(this);\n    this.getSliderWindow = this.getSliderWindow.bind(this);\n  }\n\n  componentDidMount() {\n    this.interval = setInterval(this.resetPlayer, 22000);\n    // this.props.userSetRoom(\"macbook-air\");\n    console.log(\"macbook air mount\");\n    // window.addEventListener(\"resize\", this.updateDimensions);\n  }\n\n  componentWillUnmount() {\n    // window.removeEventListener(\"resize\", this.updateDimensions.bind(this));\n    clearInterval(this.interval);\n    // this.props.userLeaveRoom(\"macbook-air\");\n  }\n\n  setSpeed(speed) {\n    this.cloudsRef.current.playbackRate = speed;\n    this.setState({videoSpeed: speed});\n  }\n\n  getDimensions() {\n    var headerH = 34;\n    var toolbarH = 28;\n    var {windowWidth, device, windowHeight} = this.props.dimensions;\n    // var {} = this.props.dimensions;\n    windowHeight -= headerH;\n\n    const originalDim = {w: 840, h: 540};\n    const aspectRatio = originalDim.w/originalDim.h;\n    let minSpacing = Math.min(windowWidth*.05, 50);//windowWidth*.05;\n    const windowAspectRatio = window.innerWidth/window.innerHeight;\n    if (device === \"desktop\") return getPortraitDimensions();\n    // else if (availableHeight >= originalDim.h) return getPortraitDimensions();\n    else if (windowAspectRatio < 1) return getPortraitDimensions();\n    else return getLandscapeDimensions();\n\n\n    function getLandscapeDimensions() {\n      windowHeight-=toolbarH;\n      let windowDim = {w: originalDim.w, h: originalDim.h, x:0, y: 0};\n      let sliderDim = {w: 80, h: windowDim.h, x: 0, y: 0, vertical:true};\n      let availableHeight = windowHeight-minSpacing*2;\n      let availableWidth = windowWidth - minSpacing*3 - sliderDim.w; // width of slider\n      const windowAspectRatio = availableWidth/availableHeight;\n      // should we max out the height or width in the available space?\n      if (windowAspectRatio > aspectRatio) {\n        // max device height out\n        windowDim.h = availableHeight;\n        windowDim.w = originalDim.w * windowDim.h/originalDim.h;\n      } else {\n        // max device height width\n        windowDim.w = availableWidth;\n        windowDim.h = originalDim.h * windowDim.w/originalDim.w;\n      }\n      let spacingFinal = (windowHeight-windowDim.h)/2;\n      windowDim.x = (windowWidth - windowDim.w-sliderDim.w)/3;\n      windowDim.y = spacingFinal; //(windowHeight - windowDim.h - 21 - 30)/2-5;\n\n      // slider\n      sliderDim.h = windowDim.h;\n      let remainingSpace = windowWidth - windowDim.w - windowDim.x;\n      let buffer = (remainingSpace - sliderDim.w)/2;\n      sliderDim.x = windowDim.w + windowDim.x + buffer;\n      sliderDim.y = windowDim.y;//(windowHeight-30- sliderDim.h-21)/2;\n\n      return [windowDim, sliderDim];\n    }\n    function getPortraitDimensions() {\n      windowHeight-= 2*toolbarH;\n      let sliderDim = {w: 250, h: 64, x: 0, y: 0, vertical:false};\n      // let availableHeight = windowHeight-60-85-minSpacing*3;\n      let availableHeight = windowHeight-sliderDim.h-minSpacing*3;\n      let availableWidth = windowWidth - minSpacing*2;\n      let windowAspectRatio = availableWidth/availableHeight;\n\n      let windowDim = {w: originalDim.w, h: originalDim.h, x:0, y: 0};\n\n      if (windowAspectRatio > aspectRatio) {\n        // max device height out\n        windowDim.h = Math.min(availableHeight, originalDim.h);\n        windowDim.w = Math.min(originalDim.w * windowDim.h/originalDim.h, originalDim.w);\n      } else {\n        // max device height width\n        windowDim.w = Math.min(availableWidth, originalDim.w);\n        windowDim.h = Math.min(originalDim.h * windowDim.w/originalDim.w, originalDim.h);\n      }\n\n      let spacingFinal = (windowHeight-sliderDim.h-windowDim.h)/3;\n      // console.log(sliderDim.h, sliderspacingFinal)\n      windowDim.x = windowWidth/2 - windowDim.w/2-2;\n      windowDim.y = spacingFinal;//(windowHeight - windowDim.h)/4;\n\n      // slider\n      sliderDim.x = (windowWidth - sliderDim.w)/2;\n      // let remainingSpace = windowHeight - windowDim.h - windowDim.y;\n      // let buffer = (remainingSpace - sliderDim.h - 21)/2;\n      sliderDim.y = windowDim.y + windowDim.h + toolbarH + spacingFinal;\n\n      return [windowDim, sliderDim];\n    }\n  }\n\n\n  getMainWindow(windowDim) {\n    let dx = this.props.dimensions.flipped?-this.mainOG.x + windowDim.x: 0;\n    let dy =  this.props.dimensions.flipped?-this.mainOG.y + windowDim.y: 0;\n\n    if (this.props.dimensions.windowWidth <= 0 || windowDim.w <= 0) {\n      return (<div></div>);\n    }\n    else {\n      if (this.mainOG.x === 0) {\n        this.mainOG.x = windowDim.x;\n        this.mainOG.y = windowDim.y;\n      }\n      return (\n        <Frame title=\"macbook air\" content={\n            /*<video width={dimW-2} height={dimH} muted loop autoPlay><source src={videoDimURL} type=\"video/mp4\"></source></video>*/\n            <ReactPlayer\n              className={\"react-player mainContent\"}\n              playing\n              muted\n              loop\n              width={windowDim.w}\n              height={windowDim.h}\n              url={window.AWS + \"/macbookAir/noframe.mp4\"}\n              playbackRate={this.state.videoSpeed}\n              />\n          }\n          width={windowDim.w+2} height={windowDim.h} x={windowDim.x} y={windowDim.y} px={windowDim.x} py={windowDim.y}\n          />\n      )\n    }\n  }\n\n  getSliderWindow(sliderDim) {\n\n    // let offsetMain = {\n    let dx = this.props.dimensions.flipped?100: 0;\n    let dy =  this.props.dimensions.flipped?400: 0;\n\n\n    // }\n    if (this.props.dimensions.windowWidth <= 0) {\n      return(<div></div>);\n    }\n    else {\n      return(\n        <Frame title=\"\" icon=\"&#58160;\" content={<div className=\"sliderBox\"><ContinuousSlider callback={this.setSpeed} orientation={sliderDim.w<200?\"vertical\":\"horizontal\"} /></div>}\n          width={sliderDim.w} height={sliderDim.h} x={sliderDim.x} y={sliderDim.y} px={sliderDim.x} py={sliderDim.y}\n          />\n      );\n    }\n\n  }\n\n  render() {\n\n    const frameDimensions = this.getDimensions();\n    const windowDim = frameDimensions[0];\n    const sliderDim = frameDimensions[1];\n\n    return (\n      <div className=\"MacbookAir Sketch\">\n          {/*<ReactPlayer\n            className={\"react-player backgroundCover\"}\n            playing\n            muted\n            loop\n            width=\"100%\"\n            height=\"100%\"\n            url={cloudsVid}\n            playbackRate={this.state.videoSpeed}\n            />*/}\n            <video ref={this.cloudsRef} autoPlay muted loop className=\"backgroundCover\">\n              <source src={window.AWS + \"/macbookAir/clouds3d.mp4\"} type=\"video/mp4\" ></source>\n              Your browser does not support HTML5 video.\n            </video>\n            {this.getMainWindow(windowDim)}\n            {this.getSliderWindow(sliderDim)}\n          <Glasses />\n        </div>\n      );\n    }\n\n  }\n\n\n  function ContinuousSlider(props) {\n    // const classes = useStyles();\n    const [value, setValue] = React.useState(1.0);\n\n    const handleChange = (event, newValue) => {\n      setValue(newValue);\n      props.callback(newValue);\n    };\n\n    let style = {};\n    style.height = props.orientation===\"vertical\"?\"80px\":\"auto\";\n    style.width = props.orientation===\"vertical\"?\"auto\":\"100px\";\n\n    return (\n      <div className=\"Slider\">\n        <Grid container spacing={2}>\n          <Grid item className=\"emoji-slider\">\n            <div className=\"cloud-emoji\" aria-label=\"cloud\"></div>\n          </Grid>\n          <Grid item xs>\n            <Slider value={value} onChange={handleChange} orientation={props.orientation} style={style} color='primary' aria-labelledby=\"continuous-slider\" step={0.1} min={0.0} max={2.0} defaultValue={1.0} />\n          </Grid>\n          <Grid item className=\"emoji-slider\">\n            <div className=\"gust-emoji\" aria-label=\"dashing away\"></div>\n          </Grid>\n        </Grid>\n      </div>\n    );\n  }\n\n  export default MacbookAir;\n","import * as THREE from \"three\";\n\nexport default class Pipe {\n  constructor(nodes, scene) {\n\n    this.pipeRadius = 0.2;\n    this.ballJointRadius = this.pipeRadius * 1.5;\n    this.gridBounds = new THREE.Box3(\n      new THREE.Vector3(-10, -10, -10),\n      new THREE.Vector3(10, 10, 10)\n    );\n\n    this.scene = scene;\n    this.nodes = nodes;\n\n    this.currentPosition = randomIntegerVector3WithinBox(this.gridBounds);\n    this.positions = [this.currentPosition];\n    this.object3d = new THREE.Object3D();\n\n    this.scene.add(this.object3d);\n    this.addTexture();\n    this.setAt(nodes, this.currentPosition, this);\n    this.makeBallJoint(this.currentPosition);\n  }\n\n  makeCylinderBetweenPoints(fromPoint, toPoint, material) {\n    var deltaVector = new THREE.Vector3().subVectors(toPoint, fromPoint);\n    var arrow = new THREE.ArrowHelper(\n      deltaVector.clone().normalize(),\n      fromPoint\n    );\n    var geometry = new THREE.CylinderGeometry(\n      this.pipeRadius,\n      this.pipeRadius,\n      deltaVector.length(),\n      10,\n      4,\n      true\n    );\n    var mesh = new THREE.Mesh(geometry, material);\n\n    mesh.rotation.setFromQuaternion(arrow.quaternion);\n    mesh.position.addVectors(fromPoint, deltaVector.multiplyScalar(0.5));\n    mesh.updateMatrix();\n\n    this.object3d.add(mesh);\n  };\n\n  makeBallJoint(position) {\n    var ball = new THREE.Mesh(\n      new THREE.SphereGeometry(this.ballJointRadius, 8, 8),\n      this.material\n    );\n    ball.position.copy(position);\n    this.object3d.add(ball);\n  };\n\n  makeElbowJoint(fromPosition, toPosition, tangentVector) {\n    var elball = new THREE.Mesh(\n      new THREE.SphereGeometry(this.pipeRadius, 8, 8),\n      this.material\n    );\n    elball.position.copy(fromPosition);\n    this.object3d.add(elball);\n  };\n\n  addTexture() {\n    const texUrl = window.AWS + \"/jungleGyms/caution.jpg\";\n    var pipeTexture = new THREE.TextureLoader().load(  texUrl );//THREE.ImageUtils.loadTexture(texUrl);\n    pipeTexture.wrapS = pipeTexture.wrapT = THREE.RepeatWrapping;\n    pipeTexture.repeat.set(.2, .2);\n    if (pipeTexture) {\n      this.material = new THREE.MeshLambertMaterial({\n        map: pipeTexture,\n      });\n    } else {\n      var color = 0x00441f //randomInteger(0, 0xffffff);\n      var emissive = new THREE.Color(color).multiplyScalar(0.3);\n      this.material = new THREE.MeshPhongMaterial({\n        specular: 0xa9fcff,\n        color: color,\n        emissive: emissive,\n        shininess: 100,\n      });\n    }\n  }\n\n  update() {\n    if (this.positions.length > 1) {\n      var lastPosition = this.positions[this.positions.length - 2];\n      var lastDirectionVector = new THREE.Vector3().subVectors(\n        this.currentPosition,\n        lastPosition\n      );\n    }\n    if (Math.random>.5 && lastDirectionVector) {\n      var directionVector = lastDirectionVector;\n    } else {\n      var directionVector = new THREE.Vector3();\n      directionVector[chooseFrom(\"xyz\")] += chooseFrom([+1, -1]);\n    }\n    var newPosition = new THREE.Vector3().addVectors(\n      this.currentPosition,\n      directionVector\n    );\n\n    // TODO: try other possibilities\n    // ideally, have a pool of the 6 possible directions and try them in random order, removing them from the bag\n    // (and if there's truly nowhere to go, maybe make a ball joint)\n    if (!this.gridBounds.containsPoint(newPosition)) {\n      return;\n    }\n    if (this.getAt(newPosition)) {\n      return;\n    }\n    this.setAt(newPosition, this);\n\n    // joint\n    // (initial ball joint is handled elsewhere)\n    if (lastDirectionVector && !lastDirectionVector.equals(directionVector)) {\n      this.makeBallJoint(this.currentPosition);\n    }\n\n    // pipe\n    this.makeCylinderBetweenPoints(this.currentPosition, newPosition, this.material);\n\n    // update\n    this.currentPosition = newPosition;\n    this.positions.push(newPosition);\n  };\n\n  setAt(position, value) {\n    this.nodes[\"(\" + position.x + \", \" + position.y + \", \" + position.z + \")\"] = value;\n  }\n\n  getAt(position, value) {\n    return this.nodes[\"(\" + position.x + \", \" + position.y + \", \" + position.z + \")\"];\n  }\n\n};\n\n//////////////\n// HELPERS\nfunction chooseFrom(values) {\n  return values[Math.floor(Math.random() * values.length)];\n}\nfunction random(x1, x2) {\n  return Math.random() * (x2 - x1) + x1;\n}\nfunction randomInteger(x1, x2) {\n  return Math.round(random(x1, x2));\n}\nfunction randomIntegerVector3WithinBox(box) {\n  return new THREE.Vector3(\n    randomInteger(box.min.x, box.max.x),\n    randomInteger(box.min.y, box.max.y),\n    randomInteger(box.min.z, box.max.z)\n  );\n}\n","import React from 'react';\nimport ReactDOM from \"react-dom\";\nimport \"./JungleGyms.css\";\n\nimport * as THREE from \"three\";\nimport { AnaglyphEffect } from 'three/examples/jsm/effects/AnaglyphEffect.js';\nimport { ImprovedNoise } from 'three/examples/jsm/math/ImprovedNoise.js'\nimport {OBJLoader} from 'three/examples/jsm/loaders/OBJLoader.js';\nimport { MTLLoader } from 'three/examples/jsm/loaders/MTLLoader.js';\nimport {DDSLoader} from 'three/examples/jsm/loaders/DDSLoader.js';\nimport {OrbitControls} from 'three/examples/jsm/controls/OrbitControls.js';\n\nimport Frame from '../../shared/Frame/Frame';\nimport ReactPlayer from 'react-player';\nimport Glasses from '../../shared/Glasses/Glasses';\n\nimport Pipe from './Pipe';\n\n\n\nclass JungleGyms extends React.Component {\n\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      firstLoad: true\n    }\n  }\n\n  componentDidMount() {\n    this.interval = setInterval(this.reset, 20000);\n    window.addEventListener('resize', this.handleWindowResize);\n\n    this.setupScene();\n    this.startAnimationLoop();\n\n    // this.props.userSetRoom(\"jungle-gyms\");\n  }\n\n  componentWillUnmount() {\n    window.removeEventListener('resize', this.handleWindowResize);\n    window.cancelAnimationFrame(this.requestID);\n    this.controls.dispose();\n    clearInterval(this.interval);\n    // this.props.userLeaveRoom(\"jungle-gyms\");\n  }\n\n  handleWindowResize = () => {\n    const width = window.innerWidth; //this.el.clientWidth;\n    const height = window.innerHeight; //this.el.clientHeight;\n    this.renderer.setSize( width, height );\n    this.camera.aspect = width / height;\n    this.camera.updateProjectionMatrix();\n  };\n\n  setupScene = () => {\n    this.scene = new THREE.Scene();\n    this.camera = new THREE.PerspectiveCamera(45, window.innerWidth / window.innerHeight, 1, 100000);\n    this.renderer = new THREE.WebGLRenderer({ alpha: true, antialias: true,});\n    this.renderer.setSize(window.innerWidth, window.innerHeight);\n    // document.body.appendChild( renderer.domElement );\n    // use ref as a mount point of the Three.js scene instead of the document.body\n    this.mount.appendChild( this.renderer.domElement );\n\n\n    this.effect = new AnaglyphEffect( this.renderer );\n    this.effect.setSize( window.innerWidth, window.innerHeight );\n\n    this.controls = new OrbitControls(this.camera, this.renderer.domElement);\n    this.controls.minDistance = 1;\n    this.controls.maxDistance = 80;\n\n    var ambientLight = new THREE.AmbientLight(0xaaaaaa);\n    this.scene.add(ambientLight);\n    this.addLight(-10, 2, 4);\n    this.addLight(1, -10, -2);\n\n    this.addScreenCube(this.videoGym, 1920, 1080, .01, [0, 0, -8], [0, 0, 0], 47);\n    this.addScreenCube(this.videoSwings, 1080, 1920, .01, [6, 0, -20], [0, -Math.PI/2, 0], 20);\n\n    this.pipes = [];\n    this.vines = [];\n    this.nodes = {};\n\n    this.addWallPaper();\n    this.addVines();\n    this.look();\n  }\n\n  startAnimationLoop = () => {\n    // this.renderer.render( this.scene, this.camera );\n    for (var i = 0; i < this.pipes.length; i++) {\n      this.pipes[i].update();\n    }\n    if (this.pipes.length === 0) {\n      for (var i = 0; i < 1 + (1 + chance(1 / 10)); i++) {\n        this.pipes.push(new Pipe(this.nodes, this.scene));\n      }\n    }\n    for (let i = 0; i < 3; i++) {\n      if (this.vines[i]) this.vines[i].position.y = -10 -i*5+ Math.sin(new Date().getTime()/1000);\n    }\n\n    if (this.controls) this.controls.update();\n    this.effect.render( this.scene, this.camera);\n    this.requestID = window.requestAnimationFrame(this.startAnimationLoop);\n\n  };\n\n\n  reset = () => {\n    // const {pipes} = this.state;\n    this.renderer.clear();\n    for (var i = 0; i < this.pipes.length; i++) {\n      this.scene.remove(this.pipes[i].object3d);\n    }\n    this.pipes = [];\n    this.nodes = {};\n    this.look();\n  }\n\n  addLight = (...pos) => {\n    const color = 0xFFFFFF;\n    const intensity = 1;\n    const light = new THREE.DirectionalLight(color, intensity);\n    light.position.set(...pos);\n    this.scene.add(light);\n  }\n\n  addScreenCube = (video, pW, pH, fac, pos, rot, boxLen) => {\n    var videoTex = new THREE.VideoTexture( video );\n    pW *= fac;\n    pH  *= fac;\n\n    video.play();\n    videoTex.minFilter = THREE.LinearFilter;\n    videoTex.magFilter = THREE.LinearFilter;\n    videoTex.format = THREE.RGBFormat;\n    var geometry = new THREE.PlaneGeometry(pW, pH, 1 );\n    var material = new THREE.MeshBasicMaterial( {color: 0xffff00, side: THREE.DoubleSide, map: videoTex} );\n    var plane = new THREE.Mesh( geometry, material );\n    plane.position.set(...pos);\n    plane.rotation.set(...rot);\n    this.scene.add( plane );\n\n\n    var geometry = new THREE.BoxGeometry( pW, pH, boxLen );\n    var material = new THREE.MeshPhongMaterial( {color: 0x00aa00,  opacity: .3, transparent: true, side:THREE.DoubleSide} ); //\n    var cube = new THREE.Mesh( geometry, material );\n    cube.position.set(...pos);\n    cube.rotation.set(...rot);\n    this.scene.add( cube );\n\n    var geometry = new THREE.BoxBufferGeometry( pW, pH, boxLen );\n    var edges = new THREE.EdgesGeometry( geometry );\n    var line = new THREE.LineSegments( edges, new THREE.LineBasicMaterial( { color: 0x00ff00, linewidth: 24 } ) );\n    line.position.set(...pos);\n    line.rotation.set(...rot);\n    this.scene.add( line );\n  }\n\n  addWallPaper = () => {\n    const url = window.AWS+\"/jungleGyms/wallpaper3.jpg\";\n    var wall = new THREE.TextureLoader().load(  url );\n    wall.wrapS = THREE.RepeatWrapping;\n    wall.wrapT = THREE.RepeatWrapping;\n    wall.repeat.set( 4, 4 );\n    var geometry = new THREE.PlaneGeometry(200, 100, 1 );\n    var material = new THREE.MeshBasicMaterial( {color: 0xffff00, side: THREE.DoubleSide, map: wall} );\n    var plane = new THREE.Mesh( geometry, material );\n    plane.position.set(0, 0, -14);\n    // scene.add( plane );\n    this.scene.background = wall;\n  }\n\n  addVines = () => {\n    var self = this;\n    var modelPath = window.AWS + \"/jungleGyms/vines/\";\n    var model = \"Vines\";\n    var onProgress = function ( xhr ) {\n      if ( xhr.lengthComputable ) {\n        var percentComplete = xhr.loaded / xhr.total * 100;\n        console.log( Math.round( percentComplete, 2 ) + '% downloaded' );\n      }\n    }\n    var onError = function () { };\n    var manager = new THREE.LoadingManager();\n    manager.addHandler( /\\.dds$/i, new DDSLoader() );\n    new MTLLoader( manager )\n    .setPath( modelPath )\n    .load( model + '.mtl', function ( materials ) {\n\n      materials.preload();\n\n      new OBJLoader( manager )\n      .setMaterials( materials )\n      .setPath( modelPath )\n      .load( model + '.obj', function ( vine ) {\n        vine.rotation.set(0, Math.PI, 0);\n        vine.position.set(-10, -10, -10);\n        vine.scale.set(5, 5, 5);\n        self.vines.push(vine);\n\n        var newVine = vine.clone();\n        newVine.position.set(0, -15, 0);\n        vine.rotation.set(0, 0,0);\n        self.vines.push(newVine);\n\n        var newVine2 = vine.clone();\n        newVine2.rotation.set(0, -Math.PI/2, 0);\n        self.vines.push(newVine2);\n        self.scene.add( vine );\n        self.scene.add(newVine);\n        self.scene.add(newVine2);\n\n      }, onProgress, onError );\n\n    } );\n\n    //\n  }\n\n  look = () => {\n    // TODO: never don't change the view (except maybe while clearing)\n    if (this.state.firstLoad || chance(1 / 2)) {\n      // head-on view\n\n      this.camera.position.set(0, 0, 14);\n      this.setState({firstLoad: false});\n    } else {\n      // random view\n\n      var vector = new THREE.Vector3(30, 0, 0);\n\n      var axis = new THREE.Vector3(random(-1, 1), random(-1, 1), random(-1, 1));\n      var angle = Math.PI / 2;\n      var matrix = new THREE.Matrix4().makeRotationAxis(axis, angle);\n\n      vector.applyMatrix4(matrix);\n      this.camera.position.copy(vector);\n    }\n    // camera.position.set(0, 0, 14);\n    var center = new THREE.Vector3(0, 0, 0);\n    this.camera.lookAt(center);\n    // camera.updateProjectionMatrix(); // maybe?\n    this.controls.update();\n  }\n\n  render() {\n    const gymUrl = window.AWS+\"/jungleGyms/gym.mp4\"\n    return (\n      <div className=\"JungleGyms Sketch\">\n        <div className=\"threeCanvas\" ref={ref => (this.mount = ref)} />\n        <video crossOrigin=\"anonymous\" ref={ref => (this.videoGym = ref)} autoPlay muted loop className=\"gym\" >\n          <source src={gymUrl} type=\"video/mp4\" ></source>\n          Your browser does not support HTML5 video.\n        </video>\n        <video crossOrigin=\"anonymous\" ref={ref => (this.videoSwings = ref)} autoPlay muted loop className=\"gym\" >\n          <source src={window.AWS+\"/jungleGyms/swings.mp4\"} type=\"video/mp4\" ></source>\n          Your browser does not support HTML5 video.\n        </video>\n\n        <Glasses />\n      </div>\n    )\n  }\n}\n\nfunction random(x1, x2) {\n  return Math.random() * (x2 - x1) + x1;\n}\nfunction chance(value) {\n  return Math.random() < value;\n}\n\nfunction shuffleArrayInPlace(array) {\n  for (var i = array.length - 1; i > 0; i--) {\n    var j = Math.floor(Math.random() * (i + 1));\n    var temp = array[i];\n    array[i] = array[j];\n    array[j] = temp;\n  }\n}\n\nfunction showElementsIf(selector, condition) {\n  Array.from(document.querySelectorAll(selector)).forEach(function(el) {\n    if (condition) {\n      el.removeAttribute(\"hidden\");\n    } else {\n      el.setAttribute(\"hidden\", \"hidden\");\n    }\n  });\n}\n\nfunction getFrame(dimW, dimH, dimX, dimY, tit, vid) {\n  return (\n    <Frame title={tit} content={\n        <ReactPlayer\n          className={\"react-player gym\"}\n          playing\n          muted\n          loop\n          width={Math.floor(dimW) + \"px\"}\n          height={Math.floor(dimH+1) + \"px\"}\n          url={vid}\n          />\n      }\n      width={dimW+2} height={dimH} x={dimX} y={dimY}\n      />\n  )\n}\n\nexport default JungleGyms;\n","import React from 'react';\nimport \"./HardDrives.css\";\n\nimport { AnaglyphUniversalCamera, HemisphericLight, Axis, Effect, PostProcess, Space, MeshBuilder, Vector3, Vector2, AssetContainer, SceneLoader, StandardMaterial, CubeTexture, Color3, Mesh, Texture } from 'babylonjs';\nimport BabylonScene from '../../shared/Babylon.jsx'; // import the component above linking to file we just created.\nimport { WaterMaterial } from 'babylonjs-materials';\nimport 'babylonjs-loaders';\n\nimport Frame from '../../shared/Frame/Frame';\nimport Glasses from '../../shared/Glasses/Glasses';\n\nimport Birds from './Birds';\n\nimport socket from '../../shared/Socket/Socket';\n\n// palm https://poly.google.com/view/ficLBIjGliK\n\nvar trees = [];\nvar bottles = [];\nvar camera;\nvar water;\n\nvar start;\nvar changed = false;\n\nvar scaler = 4;\nvar seed = 13;\n\nclass HardDrives extends React.Component {\n\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      island : \"https://www.google.com/maps/embed?pb=!4v1591730465198!6m8!1m7!1sCAoSLEFGMVFpcFBTYW9SYVFBMmR0QjhoeTVaSUs5R3lQaGJBNVB5dVhFQ2o0UVdW!2m2!1d-17.3611139!2d177.1339841!3f99.14217177224654!4f16.212409154729073!5f0.5970117501821992\",\n      windowWidth: window.innerWidth,\n      windowHeight: window.innerHeight,\n      urlIndex: 0,\n\n    }\n\n    this.svFrame = {};\n    const f = .8;\n    this.svFrame.w = 600*f;\n    this.svFrame.h = 450*.8*f;\n    this.svFrame.x = (window.innerWidth - this.svFrame.w)*.3;\n    this.svFrame.y = (window.innerHeight - this.svFrame.h-30)*.4;\n\n    this.controller = {};\n    this.controller.w = 250;// 350;\n    this.controller.h = 60;\n    // let bottomRemaining = window.innerHeight - (this.svFrame.y + this.svFrame.h);\n    this.controller.y = this.svFrame.h + this.svFrame.y + 30; //this.svFrame.y + this.svFrame.h + (bottomRemaining-(this.controller.h+20))/2;\n    this.controller.x =  (window.innerWidth - this.controller.w)/2;\n\n    this.onRender = this.onRender.bind(this);\n\n  }\n\n\n  componentDidMount() {\n    this.updateDimensions();\n\n    window.addEventListener(\"resize\", this.updateDimensions.bind(this));\n    // this.props.userSetRoom(\"hard-drives\");\n\n\n    // console.log(\"Thanks to Jarlan Perez for the lime: https://poly.google.com/view/4Ddq9357jQ-\");\n    console.log(\"https://poly.google.com/view/3NwnG7YRk7A\")\n    console.log(\"Thanks to Slanted Studios for the bird gif: https://giphy.com/media/l3Uchq9s6Hx0aK8F2/giphy.gif\");\n  }\n\n  componentWillUnmount() {\n    window.removeEventListener(\"resize\", this.updateDimensions.bind(this));\n    // this.props.userLeaveRoom(\"hard-drives\");\n  }\n\n  updateDimensions() {\n    this.setState({ windowWidth: window.innerWidth, windowHeight: window.innerHeight });\n  }\n\n  onSceneReady(scene) {\n    start = new Date();\n    // const camera = new UniversalCamera(\"UniversalCamera\", new Vector3(0, 1, -25), scene);\n    camera = new AnaglyphUniversalCamera(\"af_cam\", new Vector3(0, 8*scaler, -5*scaler), 0.033, scene);\n    scene.clearColor = Color3.Black();\n    camera.setTarget(new Vector3(0, 8*scaler, 0));\n\n    const canvas = scene.getEngine().getRenderingCanvas();\n    camera.attachControl(canvas, true);\n    // camera.inputs.clear();\n    // camera.inputs.removeMouse();\n    camera.inputs.removeByType(\"FreeCameraKeyboardMoveInput\");\n\n    const light = new HemisphericLight(\"light1\", new Vector3(0, 1, 0), scene);\n    light.intensity = 1.7;\n\n\n    ///////////////////////////////////////////////////////////////////////////////\n    addPalms(scene);\n\n    // Ground\n    var groundTexture = new Texture(window.AWS+\"/shared/black_sand.jpg\", scene);\n    groundTexture.vScale = groundTexture.uScale = 20.0;\n\n    var groundMaterial = new StandardMaterial(\"groundMaterial\", scene);\n    groundMaterial.diffuseTexture = groundTexture;\n\n    var ground = Mesh.CreateGround(\"ground\", 512, 512, 32, scene, false);\n    ground.position.y = -1;\n    ground.rotation.y = Math.PI/2;\n    ground.material = groundMaterial;\n\n    // Water\n    var waterMesh = Mesh.CreateGround(\"waterMesh\", 512*scaler, 512*scaler, 32, scene, false);\n    water = new WaterMaterial(\"water\", scene, new Vector2(1024, 1024));\n    water.backFaceCulling = true;\n    water.bumpTexture = new Texture(window.AWS+\"/shared/waterbump.png\", scene);\n    water.windForce = -5;\n    water.waveHeight = 0.8;\n    water.bumpHeight = 0.3;\n    water.waveLength = 0.3;\n    // water.colorBlendFactor = 0;\n    water.waterColor = new Color3(0, 0, .1);\n    water.colorBlendFactor = 0;\n    water.addToRenderList(ground);\n    // water.addToRenderList();\n\n    waterMesh.material = water;\n\n    addSkybox(scene);\n\n    addBottles(scene, water);\n\n  }\n\n\n  onRender(scene) {\n\n    for (let i = 0; i < trees.length; i++) {\n      var sign = i % 2=== 0 ? 1 : -1;\n      trees[i].rotation.y += .005 * sign;\n    }\n\n    let t = new Date();\n    if (!changed && t - start > 5000) {\n      // onInsta();\n      changed = true;\n    }\n\n  }\n\n  nextIsland() {\n    let islandIndex = this.state.urlIndex;\n    islandIndex++;\n    islandIndex %= this.beaches.length;\n    console.log(\"beaches\", this.beaches[islandIndex], islandIndex)\n    this.setState({urlIndex: islandIndex, island: this.beaches[islandIndex]});\n  }\n\n  render() {\n    return (\n      <div className=\"HardDrives Sketch\">\n        <BabylonScene antialias onSceneReady={this.onSceneReady} onRender={this.onRender} id='babylon-canvas' />\n\n        <Frame title=\"hard drives on seashores\" content={\n            <iframe title=\"island view\" src={this.state.island} width={this.svFrame.w} height={this.svFrame.h} frameBorder=\"0\" allowFullScreen=\"\" aria-hidden=\"false\" tabIndex=\"0\"></iframe>\n          }\n          width={this.svFrame.w} height={this.svFrame.h} x={this.svFrame.x} y={this.svFrame.y}\n          />\n        <Birds />\n        <Glasses />\n      </div>\n    )\n  }\n\n}\n\nfunction addSkybox(scene) {\n  // Skybox\n  var skybox;\n  skybox = Mesh.CreateBox(\"skyBox\", 1000.0, scene);\n  var skyboxMaterial = new StandardMaterial(\"skyBox\", scene);\n  skyboxMaterial.backFaceCulling = false;\n  // skyboxMaterial.reflectionTexture = new CubeTexture(process.env.PUBLIC_URL+\"/textures/skybox/TropicalSunnyDay\", scene);\n  skyboxMaterial.reflectionTexture = new CubeTexture(window.AWS+\"/hardDrives/skybox/skybox\", scene);\n  skyboxMaterial.reflectionTexture.coordinatesMode = Texture.SKYBOX_MODE;\n  skyboxMaterial.diffuseColor = new Color3(0, 0, 0);\n  skyboxMaterial.specularColor = new Color3(0, 0, 0);\n  skyboxMaterial.disableLighting = true;\n  skybox.material = skyboxMaterial;\n  if (skybox) water.addToRenderList(skybox);\n  // var dome = new PhotoDome(\"textureName\", process.env.PUBLIC_URL+\"/textures/skybox/sky-10.png\", {resolution: 32, size: 1000}, scene);\n\n}\nfunction printBottles(bottles) {\n  let bots = [];\n  for (let i = 0; i< bottles.length; i++) {\n    let bottle = bottles[i];\n    let {x, y, z} = bottle.position;\n    let pos = {x: x, y:y, z: z};\n\n    let rot ={x: bottle.rotation.x, y:bottle.rotation.y, z: bottle.rotation.z};\n    bots.push({id: i, pos:  pos, rot: rot});\n  }\n  console.log(JSON.stringify(bots));\n}\n\nfunction getRandom() {\n  var x = Math.sin(seed++) * 10000;\n  return x - Math.floor(x);\n}\nfunction getRandomNum(val) {\n  var x = Math.sin(val) * 10000;\n  return x - Math.floor(x);\n}\n\nfunction addBottles(scene, water) {\n  // var container = new AssetContainer(scene);\n  var url = window.AWS + \"/hardDrives/Corona/\"\n  SceneLoader.LoadAssetContainer(url, \"Corona2.obj\", scene, function (container) {\n    var meshes = container.meshes;\n    // var materials = container.materials;\n\n    // console.log(\"meshes\", meshes);\n\n    var bottle = meshes[1];\n    var diam = 280;\n    // bottle.rotation.y = Math.random()*Math.PI*2;\n    // bottle.rotation.x = Math.PI;\n    // bottle.rotation.z = (-.3+Math.random()*.6);\n    // bottle.position.y = 2//Math.abs((Math.sin(((x / 0.05) + time * water.waveSpeed)) * water.waveHeight * water.windDirection.x * 5.0) + (Math.cos(((z / 0.05) +  time * water.waveSpeed)) * water.waveHeight * water.windDirection.y * 5.0));\n    // bottle.position.x = Math.random()*diam-diam/2;\n    // bottle.position.z = Math.random()*diam-diam/2;\n    // bottle.scaling = new Vector3(.15, .15, .15);\n    // bottles.push(bottle);\n\n    container.addAllToScene();  // Adds all elements to the scene\n    water.addToRenderList(bottle);\n\n    let bottleVectors = [\n      {},\n      {\"id\":0,\"pos\":{\"x\":88,\"y\":0,\"z\":128},\"rot\":{\"x\":0,\"y\":0,\"z\":0}},\n      {\"id\":1,\"pos\":{\"x\":38,\"y\":0,\"z\":78},\"rot\":{\"x\":0,\"y\":0,\"z\":0}},\n      {\"id\":2,\"pos\":{\"x\":68,\"y\":0,\"z\":108},\"rot\":{\"x\":0,\"y\":0,\"z\":0}},\n      {\"id\":3,\"pos\":{\"x\":0,\"y\":0,\"z\":108},\"rot\":{\"x\":0,\"y\":0,\"z\":0}},\n      {\"id\":4,\"pos\":{\"x\":-88,\"y\":0,\"z\":98},\"rot\":{\"x\":0,\"y\":0,\"z\":0}},\n      {\"id\":5,\"pos\":{\"x\":-78,\"y\":0,\"z\":68},\"rot\":{\"x\":0,\"y\":0,\"z\":0}},\n      {\"id\":6,\"pos\":{\"x\":3,\"y\":0,\"z\":148},\"rot\":{\"x\":0,\"y\":0,\"z\":0}},\n      {\"id\":7,\"pos\":{\"x\":4,\"y\":0,\"z\":28},\"rot\":{\"x\":0,\"y\":0,\"z\":0}},\n      {\"id\":8,\"pos\":{\"x\":-40,\"y\":0,\"z\":-98},\"rot\":{\"x\":0,\"y\":0,\"z\":0}}, // back\n      {\"id\":8,\"pos\":{\"x\":-70,\"y\":0,\"z\":98},\"rot\":{\"x\":0,\"y\":0,\"z\":0}},\n\n      // back (repeat)\n      {\"id\":0,\"pos\":{\"x\":88,\"y\":0,\"z\":-128},\"rot\":{\"x\":0,\"y\":0,\"z\":0}},\n      {\"id\":1,\"pos\":{\"x\":38,\"y\":0,\"z\":-78},\"rot\":{\"x\":0,\"y\":0,\"z\":0}},\n      {\"id\":2,\"pos\":{\"x\":68,\"y\":0,\"z\":-108},\"rot\":{\"x\":0,\"y\":0,\"z\":0}},\n      {\"id\":3,\"pos\":{\"x\":0,\"y\":0,\"z\":-108},\"rot\":{\"x\":0,\"y\":0,\"z\":0}},\n      {\"id\":4,\"pos\":{\"x\":-88,\"y\":0,\"z\":-98},\"rot\":{\"x\":0,\"y\":0,\"z\":0}},\n      {\"id\":5,\"pos\":{\"x\":-78,\"y\":0,\"z\":-68},\"rot\":{\"x\":0,\"y\":0,\"z\":0}},\n      {\"id\":6,\"pos\":{\"x\":3,\"y\":0,\"z\":-148},\"rot\":{\"x\":0,\"y\":0,\"z\":0}},\n\n\n      // left\n      {\"id\":0,\"pos\":{\"x\":188,\"y\":0,\"z\":48},\"rot\":{\"x\":0,\"y\":0,\"z\":0}},\n      {\"id\":1,\"pos\":{\"x\":138,\"y\":0,\"z\":28},\"rot\":{\"x\":0,\"y\":0,\"z\":0}},\n      {\"id\":2,\"pos\":{\"x\":168,\"y\":0,\"z\":0},\"rot\":{\"x\":0,\"y\":0,\"z\":0}},\n      {\"id\":3,\"pos\":{\"x\":100,\"y\":0,\"z\":-20},\"rot\":{\"x\":0,\"y\":0,\"z\":0}},\n\n\n      // right\n      {\"id\":0,\"pos\":{\"x\":-188,\"y\":0,\"z\":30},\"rot\":{\"x\":0,\"y\":0,\"z\":0}},\n      {\"id\":1,\"pos\":{\"x\":-138,\"y\":0,\"z\":20},\"rot\":{\"x\":0,\"y\":0,\"z\":0}},\n      {\"id\":2,\"pos\":{\"x\":-168,\"y\":0,\"z\":0},\"rot\":{\"x\":0,\"y\":0,\"z\":0}},\n      {\"id\":3,\"pos\":{\"x\":-100,\"y\":0,\"z\":-18},\"rot\":{\"x\":0,\"y\":0,\"z\":0}},\n    ]\n\n\n\n\n\n    for (let i = 1; i < bottleVectors.length; i++) {\n      let copy = container.instantiateModelsToScene().rootNodes[0];\n      copy.rotation.y = getRandom()*Math.PI*2;\n      copy.rotation.x = Math.PI;\n      copy.rotation.z = (-.3+getRandom()*.6);\n      copy.position.y = 2; //Math.abs((Math.sin(((x / 0.05) + time * water.waveSpeed)) * water.waveHeight * water.windDirection.x * 5.0) + (Math.cos(((z / 0.05) +  time * water.waveSpeed)) * water.waveHeight * water.windDirection.y * 5.0));\n      // copy.position.x = getRandom()*diam-diam/2;\n      // copy.position.z = getRandom()*diam-diam/2;\n\n      // copy.rotation.x = bottleVectors[i].rot.x;\n      // copy.rotation.y = bottleVectors[i].rot.y;\n      // copy.rotation.z = bottleVectors[i].rot.z;\n      copy.position.x = bottleVectors[i].pos.x;\n      // copy.position.y = bottleVectors[i].pos.y;\n      copy.position.z = bottleVectors[i].pos.z;\n\n      bottles.push(copy);\n      water.addToRenderList(copy);\n    }\n\n    // printBottles(bottles);\n  });\n\n}\n\nfunction addPalms(scene) {\n  var container = new AssetContainer(scene);\n  var url = window.AWS + \"/hardDrives/palm/\";\n  SceneLoader.LoadAssetContainer(url, \"QueenPalmTree.obj\", scene, function (container) {\n    var meshes = container.meshes;\n\n    let positions = [{x: -5, y: 0, z: -2},{x: 5, y: 0, z: -2}, {x: 4, y: 0, z: -10}, {x: -4, y: 0, z: -10}]\n\n    meshes[1].rotation.y = 0;\n    meshes[1].scaling = new Vector3(scaler, scaler, scaler);\n    meshes[1].position.x = positions[0].x*scaler;\n    meshes[1].position.y = positions[0].y*scaler;\n    meshes[1].position.z = positions[0].z*scaler;\n\n    trees.push(meshes[1]);\n\n    container.addAllToScene();  // Adds all elements to the scene\n    water.addToRenderList(trees[0]);\n\n    for (let i = 1; i < positions.length; i++) {\n      let copy = container.instantiateModelsToScene().rootNodes[1];\n      copy.rotation.y = Math.PI*1.5;\n      copy.position.x = positions[i].x*scaler;\n      copy.position.z = positions[i].z*scaler;\n      trees.push(copy);\n      water.addToRenderList(copy);\n    }\n\n  });\n\n}\n\n\nexport default HardDrives;\n","import { Engine, Scene } from 'babylonjs'\nimport React, { useEffect, useRef, useState } from 'react'\n\nexport default (props) => {\n  const reactCanvas = useRef(null);\n  const { antialias, engineOptions, adaptToDeviceRatio, sceneOptions, onRender, onSceneReady, ...rest } = props;\n\n  useEffect(() => {\n    if(reactCanvas.current) {\n      const engine = new Engine(reactCanvas.current, antialias, engineOptions, adaptToDeviceRatio);\n      const scene = new Scene(engine, sceneOptions);\n      if (scene.isReady()) {\n        props.onSceneReady(scene)\n      } else {\n        scene.onReadyObservable.addOnce((scene) => props.onSceneReady(scene));\n      }\n\n      engine.runRenderLoop(() => {\n        if (typeof onRender === 'function') {\n          onRender(scene);\n        }\n        scene.render();\n      })\n\n      const resize = () => {\n        scene.getEngine().resize();\n      }\n\n      if (window) {\n        window.addEventListener('resize', resize);\n      }\n\n      return () => {\n        scene.getEngine().dispose();\n\n        if (window) {\n          window.removeEventListener('resize', resize);\n        }\n      }\n    }\n  }, [reactCanvas])\n\n  return (\n    <canvas ref={reactCanvas} {...rest} />\n  );\n}\n","import React from 'react';\nimport './Frame.css';\nimport Toolbar from './Toolbar';\n// import Draggable from 'react-draggable';\n\nclass FrameSimple extends React.Component {\n  // https://codepen.io/JohJakob/pen/YPxgwo\n\n  // constructor(props) {\n  //   super(props);\n  //   this.state = {\n  //     isMinimized: false,\n  //     isClosed: false\n  //   }\n  //\n  //   this.toggleClosed = this.toggleClosed.bind(this);\n  //\n  // }\n\n  render() {\n    let toolBarH = 30;\n\n    // var title = this.props.title;\n\n    let x = Math.floor(this.props.px);\n    let y = Math.floor(this.props.py);\n    var sty = {\n      width: this.props.width,\n      height: this.props.height + toolBarH,\n      left: x,\n      top: y,\n      // display: this.state.isClosed?\"none\":\"block\"\n    }\n\n    let classN = \"Frame FrameSimple\";\n    if (this.props.notAbsolute) classN += \" static\"\n\n    // so i guess x/y in <FrameSimple x={..} ...} doesn't do anything?\n    // but px={} py={} does?\n    // how does this differ from <Frame ..> ?\n    // oh frame simple isn't draggable.. doi\n\n     return (\n      <div className={classN} style={sty}>\n        <div className=\"window\" style={this.props.windowStyle}>\n          <Toolbar title={this.props.title} toggleClosed={this.toggleClosed} toggleMinimzed={this.toggleMinimzed} toggleMaximized={this.toggleMaximized} />\n\n          <div className=\"content\">\n            {this.props.content}\n          </div>\n\n        </div>\n      </div>\n\n    );\n  }\n\n  toggleMinimzed() {\n    //ok...\n  }\n\n  toggleClosed() {\n    // this.setState({isClosed: true});\n  }\n}\n\n\n\nexport default FrameSimple\n","import React from 'react';\nimport FrameSimple from '../../shared/Frame/FrameSimple';\n\nclass Birds extends React.Component {\n\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      birdInitialsX: [],\n      birdInitialsY: [],\n      numVisibleBirds : 4,\n      flyIndex: 0,\n      flyDirection: true\n    }\n  }\n\n  componentDidMount() {\n    this.initBirds();\n    this.interval = setInterval(this.updateBirds, 50);\n  }\n\n  componentWillUnmount() {\n    clearInterval(this.interval);\n  }\n\n  render() {\n    return (\n      <div className=\"birds\">\n        {this.state.birdInitialsX.map((pos, index) => {\n          return (this.getBird(index))\n        })}\n      </div>\n    )\n  }\n\n  initBirds = () => {\n    let birds = [];\n    let xSpace = 100;\n    let ySpace = 80;\n    // let num = Math.floor(4*Math.random()+2);\n    // let d =  Math.random();\n    const dir = true;\n    const birdInitialsX = [];\n    const birdInitialsY = [];\n    const num = 5;\n    for (var i = 0; i < num; i++) {\n      let mid = num/2;\n\n      let dx = i * xSpace + Math.random()*30;\n      if (i >= mid) dx = (num - i) * xSpace + Math.random()*30;\n      if (num%2 == 0 && i>= mid) dx += xSpace/2;\n\n      let dy = i * ySpace + Math.random()*10;\n\n      let x0 = dx-300;\n      let y0 = dy;\n      birdInitialsX[i] = x0;\n      birdInitialsY[i] = y0;\n    }\n    this.setState({birdInitialsX, birdInitialsY, flyDirection: dir});\n  }\n\n  updateBirds = () => {\n    const maxW = this.state.windowWidth+600;\n    const {flyIndex, flyDirection} = this.state;\n    if (flyIndex > maxW) {\n      this.setState(prevState => ({\n        flyDirection: Math.random()>.5?true:false,\n        flyIndex: 0,\n        numVisibleBirds: Math.floor(4*Math.random()+2)\n      }));\n    }\n    else {\n      const inc = 5;\n      this.setState({flyIndex: this.state.flyIndex+inc});\n    }\n  }\n\n  getBird = (index) => {\n    const bird = this.getBirdLocation(index);\n    return (\n      <FrameSimple title=\"\" content={\n          <div className={\"bird \" + (this.state.flyDirection?\"flippedX\":\"\")}></div>\n        }\n        width={78+2} key={index} windowStyle={{background: \"transparent\"}} height={60} px={bird.x} py={bird.y}\n        />\n    )\n  }\n\n  getBirdLocation = (index) => {\n    const {numVisibleBirds, flyIndex, flyDirection, birdInitialsX, birdInitialsY, windowWidth} = this.state;\n    const bird = {};\n    if (index < numVisibleBirds) {\n      if (flyDirection) {\n        bird.x = flyIndex + birdInitialsX[index];\n        bird.y = birdInitialsY[index]+50*Math.sin(bird.x/100);\n        bird.y = Math.floor(bird.y);\n      } else {\n        bird.x = (windowWidth+100) - (flyIndex + birdInitialsX[index]);\n        bird.y = birdInitialsY[index]+50*Math.sin(bird.x/100);\n        bird.y = Math.floor(bird.y);\n      }\n    }\n    else {\n      bird.x = -1000;\n      bird.y = -1000;\n    }\n    return bird;\n  }\n\n\n}\n\nexport default Birds;\n","import React from 'react';\nimport Frame from '../../shared/Frame/Frame';\n// import FrameSimple from '../../shared/Frame/FrameSimple';\nimport './Spacetimes.css';\n\n\nclass Spacetimes extends React.Component {\n  // https://codepen.io/JohJakob/pen/YPxgwo\n  constructor(props) {\n    super(props);\n\n    this.startTime = 0;\n\n    this.state = {\n      currentFrame : 14,\n      increasing: true,\n      windowWidth: window.innerWidth,\n      windowHeight: window.innerHeight,\n      currentText: \"wasted\"\n    }\n\n    this.gridNum = 8;\n    this.setFrame = this.setFrame.bind(this);\n    this.setText = this.setText.bind(this);\n    this.heightBuffer = 70;\n\n\n    this.words = [\"wasted\", \"days\", \"are\", \"days\", \"wasted\"];\n\n  }\n\n\n  componentDidMount() {\n    this.updateDimensions();\n    this.startTime = new Date();\n    window.addEventListener(\"resize\", this.updateDimensions.bind(this));\n\n    this.intervalFrames = setInterval(this.setFrame, 200);\n\n    // this.props.userSetRoom(\"wasted-days-are-days-wasted\");\n  }\n\n  componentWillUnmount() {\n    window.removeEventListener(\"resize\", this.updateDimensions.bind(this));\n    clearInterval(this.intervalFrames);\n    // this.props.userLeaveRoom(\"wasted-days\");\n  }\n\n  updateDimensions() {\n    this.setState({ windowWidth: window.innerWidth, windowHeight: window.innerHeight });\n  }\n\n  setText() {\n\n    var wordIndex = Math.floor((this.state.currentFrame+1)/2);\n    if (wordIndex >= this.words.length) wordIndex = this.words.length-1;\n    else if(wordIndex < 0) wordIndex = 0;\n    var word = this.words[wordIndex];\n    if (word) word = word.toUpperCase();\n    this.setState({currentText : word});\n  }\n\n  setFrame() {\n    // if (new Date() - this.startTime > 4000) {\n    //   let r =  Math.floor(Math.random()*8);\n    //   this.setState({currentFrame: r});\n    //   console.log(r);\n    // }\n    // else {\n    var fr = this.state.currentFrame;\n    if (this.state.increasing) {\n      fr++;\n      if (fr > this.gridNum) {\n        fr = this.gridNum;\n        this.setState({increasing: false});\n      }\n    } else {\n      fr--;\n      if (fr < -2) {\n        fr = -1;\n        this.setState({increasing: true});\n      }\n    }\n    this.setState({currentFrame: fr});\n    this.setText();\n    // }\n\n  }\n\n  render() {\n    const {windowWidth, windowHeight} = this.state;\n    var fs = windowWidth/10;\n    if (fs > 180) fs = 180;\n\n    var grids = [];\n    for (var i = 0; i < this.gridNum; i++) {\n      grids.push(i);\n    }\n\n    return (\n      <div className=\"Spacetimes Sketch\">\n        { <div className=\"palindrome\" style={{visibility: \"visible\", fontSize: fs}}>{this.state.currentText}</div>}\n\n\n          {grids.map((i) => {\n            let factor = windowWidth/1000;\n            if (factor > 1) factor = 1;\n            else if (factor < .8) factor = .5;\n            const val = (980 - 100*i)*factor;\n            const x = windowWidth/2-val/2;\n            const y = (windowHeight-this.heightBuffer)/2-val/2;\n            let title = this.words[(7-i)%(this.words.length-1)];\n\n            // console.log(windowHeight, y, val);\n            if (val < 150) title = \"...\";\n\n            return (<GridFrame title={title} isMinimized={false} isHidden={this.state.currentFrame < i ? true : false}\n              dimW={val} dimH={val} key={i} src={ window.AWS+\"/spacetimes/parrot.png\"} dimX={x} dimY={y} />);\n\n            }\n\n          )}\n      </div>\n    );\n  }\n\n}\n\nfunction GridFrame(props) {\n  // if (props.dimX <= 0) {\n  //   return (<div></div>)\n  // }\n  return (\n    <Frame title={props.title}\n      isMinimized={props.isMinimized}\n      isHidden={props.isHidden}\n      content={\n        <img\n          className={\"grid-img\"}\n          width={props.dimW+\"px\"}\n          height={props.dimW+\"px\"}\n          src={props.src}\n          alt=\"3d grid background\"\n          />\n      }\n      width={props.dimW} height={props.dimW} x={props.dimX} y={props.dimY}\n      />\n  )\n\n}\n\n\n\nexport default Spacetimes;\n","import React from 'react';\n\n// Babylon\nimport { Scene, AnaglyphUniversalCamera, UniversalCamera,PBRMaterial, HemisphericLight, Vector3, Vector2, SceneLoader,AssetContainer, MeshBuilder, StandardMaterial,  VideoTexture, CubeTexture, Color3,Color4, Mesh, Texture } from 'babylonjs';\nimport BabylonScene from '../../../shared/Babylon.jsx';\nimport { WaterMaterial } from 'babylonjs-materials';\n\nimport Frame from '../../../shared/Frame/Frame';\n\nimport {getRandomNum} from '../../../shared/Helpers/Helpers';\n\nvar camera, water, waterMesh;\nvar tubes = [];\nvar seed = 1;\n\nexport default function(props) {\n  return (\n    <Frame title=\"\" content={\n      <BabylonScene className=\"noSelect fullContent\" antialias onSceneReady={onSceneReady} onRender={onRender} id='babylon-canvas' />\n    }\n    width={props.w} height={props.h} x={props.x} y={props.y} />\n  )\n}\n\nfunction onRender(scene) {\n  // nada\n}\n\nfunction onSceneReady(scene) {\n  // const camera = new UniversalCamera(\"UniversalCamera\", new Vector3(0, 1, -25), scene);\n  camera = new AnaglyphUniversalCamera(\"af_cam\", new Vector3(0, 8, -5), 0.033, scene);\n  scene.clearColor = new Color4(0, 0, 0, 0);\n  camera.setTarget(new Vector3(4, -8, -2));\n\n  const canvas = scene.getEngine().getRenderingCanvas();\n  camera.attachControl(canvas, true);\n\n  const light = new HemisphericLight(\"light1\", new Vector3(0, 1, 0), scene);\n  light.intensity = 0.7;\n\n  // Skybox\n  var skyW = 1000;\n  var skybox = Mesh.CreateBox(\"skyBox\", skyW, scene);\n  var skyboxMaterial = new StandardMaterial(\"skyBox\", scene);\n  skyboxMaterial.backFaceCulling = false;\n  skyboxMaterial.reflectionTexture = new CubeTexture(window.AWS+\"/mars/skybox/grid\", scene);\n  skyboxMaterial.reflectionTexture.coordinatesMode = Texture.SKYBOX_MODE;\n  skyboxMaterial.diffuseColor = new Color3(0, 0, 0);\n  skyboxMaterial.specularColor = new Color3(0, 0, 0);\n  skyboxMaterial.disableLighting = true;\n  skybox.material = skyboxMaterial;\n\n  // Water\n  waterMesh = Mesh.CreateGround(\"waterMesh\", 512, 512, 32, scene, false);\n  waterMesh.position.y = -9;\n  water = new WaterMaterial(\"water\", scene, new Vector2(1024, 1024));\n  water.backFaceCulling = true;\n  water.bumpTexture = new Texture(window.AWS+\"/shared/waterbump.png\", scene);\n  waterGo();\n  water.colorBlendFactor = 0;\n  water.addToRenderList(skybox);\n  waterMesh.material = water;\n\n  // drain\n  // var drainTex = new BABYLON.Texture(window.AWS+\"/mars/drain1.png\", scene);\n  // addDrain(scene);\n  // loadWhale(scene);\n  // addInnerTubes(4, scene, water);\n  // addSwimmer(scene);\n}\n\nfunction waterGo() {\n  water.windForce = -5;\n  water.waveHeight = 0.8;\n  water.bumpHeight = 0.3;\n  water.waveLength = 0.3;\n}\n\nfunction waterStop() {\n  // water.windForce*=2;\n  water.waveHeight=0;\n  water.bumpHeight*=2;\n  // water.waveLength *=2;\n}\n\nfunction addSwimmer(scene) {\n  for (let i = 0; i < 2; i++) {\n    var scaler = 3;\n    var swimmer = MeshBuilder.CreatePlane(\"plane\", {}, scene);\n    // var disc = MeshBuilder.CreateSphere(\"sphere\", {}, scene);\n    swimmer.scaling = new Vector3(scaler, scaler, scaler);\n    swimmer.position.x = 11-i*6;\n    swimmer.position.y = -14;\n    swimmer.position.z = -4+i*4;\n    swimmer.rotation.x = Math.PI/2;\n    var tex = new Texture(window.AWS+\"/mars/swimmers/swimmer\" + (i+1) + \".png\", scene);\n    swimmer.material  = new StandardMaterial(\"myMaterial\", scene);\n    // swimmer.material.diffuseColor = new Color3(1,1,1);\n    swimmer.material.diffuseTexture = tex;\n    swimmer.material.diffuseTexture.hasAlpha = true;\n    // disc.material.ambientColor = new Color3(1,1,1);\n    water.addToRenderList(swimmer);\n  }\n\n}\n\nfunction addDrainBottom(scene) {\n\n  var disc = MeshBuilder.CreateDisc(\"disc\", scene);\n  var scaler = 8.5;\n  // var disc = MeshBuilder.CreateSphere(\"sphere\", {}, scene);\n  disc.scaling = new Vector3(scaler, scaler, scaler);\n  disc.position.x = 11;\n  disc.position.y = -14;\n  disc.position.z = -4;\n  disc.rotation.x = Math.PI/2;\n  disc.material  = new StandardMaterial(\"myMaterial\", scene);\n  disc.material.diffuseColor = new Color3(1,1,1);\n  // disc.material.ambientColor = new Color3(1,1,1);\n  water.addToRenderList(disc);\n}\n\nfunction loadWhale(scene) {\n  var container = new AssetContainer(scene);\n\n  var url = process.env.PUBLIC_URL + \"/assets/mars/Whale/\";\n  SceneLoader.LoadAssetContainer(url, \"Whale.glb\", scene, function (container) {\n    var meshes = container.meshes;\n    console.log(meshes);\n    var scaler = .5;\n    for (const mesh of meshes) {\n      mesh.scaling = new Vector3(scaler, scaler, scaler);\n      // mesh.position.x = positions[0].x*scaler;\n      mesh.position.y = -5;\n      var material = new StandardMaterial(\"whale\", scene);\n      material.diffuseColor = new Color3(0, 0, 1);\n      mesh.material = material;\n      //   mesh.position.z = positions[0].z*scaler;\n      water.addToRenderList(mesh);\n    }\n    // var mesh = meshes[1];\n\n    // water.addToRenderList(meshes[1]);\n\n    // }\n    container.addAllToScene();  // Adds all elements to the scene\n\n\n\n  });\n}\n\nfunction addDrain(scene) {\n  var container = new AssetContainer(scene);\n\n  var url = process.env.PUBLIC_URL + \"/assets/mars/Drain/\";\n  SceneLoader.LoadAssetContainer(url, \"FloorDrain.obj\", scene, function (container) {\n    var meshes = container.meshes;\n    var scaler = 4;\n    let positions = [{x: 2.5, y: -3, z: -1}];\n    // 9\n    for (var mesh of meshes) {\n      // var mesh = meshes[9];\n      mesh.rotation.y = 0;\n      mesh.scaling = new Vector3(scaler, scaler, scaler);\n      mesh.position.x = positions[0].x*scaler;\n      mesh.position.y = positions[0].y*scaler;\n      mesh.position.z = positions[0].z*scaler;\n      water.addToRenderList(mesh);\n    }\n\n    addDrainBottom(scene);\n    container.addAllToScene();  // Adds all elements to the scene\n\n\n\n  });\n\n\n}\n\nfunction addInnerTubes(num, scene, water) {\n  for (let i = 0; i < num; i++) {\n\n    var tubeMat = new StandardMaterial(\"groundMaterial\", scene);\n    tubeMat.diffuseColor = new Color3(getRandomNum(i+2), getRandomNum(i+3), getRandomNum(i+4));\n    tubeMat.specularColor = new Color3(0.5, 0.6, 0.87);\n    tubeMat.emissiveColor = new Color3(.1, .1, .1);\n    tubeMat.ambientColor = new Color3(0.23, 0.98, 0.53);\n    tubeMat.alpha = 0.8;\n\n    // texture\n    // var tubeTex = new Texture(window.AWS+\"/shared/black_sand.jpg\", scene);\n    // tubeTex.vScale = groundTexture.uScale = 20.0;\n    // tubeMat.diffuseTexture = groundTexture;\n\n    var tube = MeshBuilder.CreateTorus(\"torus\", {diameter: 6/3, thickness: 2/3}, scene);\n    tube.position.y = 2;\n    tube.rotation.y = Math.PI/2;\n    tube.position.x = getRandomNum(50+i)*20-10;\n    tube.position.z = getRandomNum(10+i)*20-10;\n    tube.material = tubeMat;\n    water.addToRenderList(tube);\n\n    tubes.push(tube);\n  }\n\n}\n","var emoji;\nvar emojisTransparent = [];\n\nexport default function sketch (p) {;\n\n  let ps = [];\n  let percent = 0;\n  let emojiS = 34;\n\n  let velocities = [\n    {velX: {min: -.8, max:5}, velY: {min: -.5, max:0}},\n    {velX: {min: -5, max:2}, velY: {min: -.5, max:0}},\n    {velX: {min: -5, max:.8}, velY: {min: -.5, max:0}},\n    {velX: {min: -5, max:.8}, velY: {min: -.5, max:0}},\n    {velX: {min: -5, max:5}, velY: {min: -.5, max:0}},\n    {velX: {min: -.5, max:5}, velY: {min: -.5, max:0}}\n  ];\n  let offsets = [{x:215,y:328}, {x:215,y:215}, {x:50,y:195}, {x:132,y:254}, {x:260,y:335}, {x:285,y:330}];\n  let degrees = [0, 60, 90, 80, 40, 0];\n\n\n\n  p.setup = function () {\n    p.createCanvas(p.windowWidth, p.windowHeight); //, p.WEBGL\n\n    emoji = p.loadImage(\"https://lmd-bucket.s3.us-east-2.amazonaws.com/sketches/wetStreams/wateremoji.png\", (img) => p.createEmojisTransparent());\n  };\n\n  p.myCustomRedrawAccordingToNewPropsHandler = function (props) {\n    if (props.origins) {\n      if (ps.length === 0) {\n        for (let i = 0; i < props.origins.length; i++) {\n          let offsetX = offsets[i].x * props.scaler;\n          let offsetY = offsets[i].y * props.scaler;\n          let x = props.origins[i].x + offsetX;\n          let y = props.origins[i].y + offsetY;\n          ps[i] = new ParticleSystem(p, p.createVector(x, y), velocities[i].velX, velocities[i].velY, degrees[i], props.isPlaying[i]);\n          ps[i].initParticles(40);\n        }\n      }\n      else {\n        for (let i = 0; i < ps.length; i++) {\n          let offsetX = offsets[i].x * props.scaler;\n          let offsetY = offsets[i].y * props.scaler;\n          let x =  props.origins[i].x + offsetX + props.deltas[i].x;\n          let y =  props.origins[i].y + offsetY + props.deltas[i].y;\n          let isPlaying = props.isPlaying[i];\n          ps[i].origin.set(x, y, 0);\n          ps[i].isPlaying = isPlaying;\n        }\n\n      }\n    }\n  };\n\n  p.createEmojisTransparent = function() {\n    for (let i = 0; i < 5; i++) {\n      emojisTransparent[i] = p.createGraphics(emojiS, emojiS);\n      emojisTransparent[i].clear();\n      emojisTransparent[i].tint(255, p.map(i, -1, 4,0,255));\n      emojisTransparent[i].image(emoji, 0, 0, emojiS, emojiS);\n    }\n  }\n\n  p.draw = function () {\n    percent += .1;\n\n    p.clear();\n    if (ps.length > 0) {\n      ps.forEach((sys) => {\n        sys.run(percent);\n      })\n    }\n\n\n    // p.fill(255);\n    // p.noStroke();\n    // p.rect(50, 50, 50, 50);\n    // p.fill(0);\n    // p.textSize(30);\n    // p.text(p.round(p.frameRate()), 50, 80);\n\n  };\n};\n\n// The Nature of Code\n// Daniel Shiffman\n// http://natureofcode.com\n\n// Simple Particle System\n\nfunction Particle(p, origin, id, velX, velY, deg) {\n  this.p5 = p;\n  this.acceleration = this.p5.createVector(0,0);\n  this.gravity = this.p5.createVector(0,0.1);\n  // this.isLeft = isLeft;\n  this.velX = velX;\n  this.velY = velY;\n  this.deg = deg;\n  this.velocity = this.p5.createVector(this.p5.random(velX.min,velX.max),this.p5.random(velY.min,velY.max));\n  // if (isLeft) this.velocity = this.p5.createVector(this.p5.random(-.8,5),this.p5.random(0,.5));\n  // else this.velocity = this.p5.createVector(this.p5.random(-5,.8),this.p5.random(0,.5));\n  this.positionOG = this.p5.createVector(origin.x, origin.y);\n  this.position = this.p5.createVector(origin.x, origin.y);\n  this.lifespan = 0;\n  this.r = Math.random()*15+8;\n  this.id = id;\n  this.launched = false;\n\n  this.run = function(percent, origin) {\n    this.update(percent, origin);\n    this.display(percent);\n  }\n\n  // Method to update position\n\n\n  this.update = function(percent, origin) {\n    if (this.launched) {\n      this.acceleration.add(this.gravity);\n      this.velocity.add(this.acceleration);\n\n      this.position.add(this.velocity);\n\n      // let bufferX = 50;\n      // if (this.position.y > window.innerHeight-100) {\n      //   this.velocity.y *= -1*Math.random()*.3-.1;\n      //   this.position.y = window.innerHeight-100;\n      // }\n      // if (this.position.x < bufferX) {\n      //   this.position.x = bufferX;\n      //   this.velocity.x *= -1;\n      // }\n      // if (this.position.x > window.innerWidth-bufferX) {\n      //   this.position.x = window.innerWidth-bufferX;\n      //   this.velocity.x *= -1;\n      // }\n\n      this.acceleration.mult(0);\n      this.lifespan += 1;\n\n      this.isDead(origin);\n    }\n    // let c = 0.02;\n    // let friction = this.p5.createVector(this.velocity.x,this.velocity.y,this.velocity.z);\n    // friction.mult(-1);\n    // friction.normalize();\n    // friction.mult(c);\n    // this.acceleration.add(friction);\n\n  }\n\n\n  // Method to display\n  this.display = function(percent) {\n    if(this.launched) {\n      this.p5.noStroke();\n      let alpha = this.p5.map(this.lifespan, 0, 60, 255, 0);\n      this.p5.fill(0, alpha);\n      this.p5.textSize(30);\n      this.p5.push();\n      this.p5.translate(this.position.x,this.position.y);\n      this.p5.rotate(this.p5.radians(this.deg))\n      // this.p5.tint(alpha);\n\n      let index = this.p5.map(this.lifespan, 40, 0, 0, emojisTransparent.length-1);\n      index = this.p5.floor(index);\n      if (emoji && emojisTransparent[index]) {\n        // this.p5.image(emoji, 0, -24, 30, 30);\n\n        this.p5.image(emojisTransparent[index], 0, -24);\n      }\n      // this.p5.noTint();\n      this.p5.pop();\n      // this.p5.ellipse(this.position.x,this.position.y,this.r,this.r);\n    }\n\n  }\n\n  // Is the particle still useful?\n  this.isDead = function(origin) {\n    if (this.lifespan > 40) {\n      this.launched = false;\n    }\n  }\n\n  this.launch = function(origin) {\n    if (!this.launched) {\n      this.lifespan = 0;\n      this.launched = true;\n      this.positionOG = this.p5.createVector(origin.x, origin.y);\n      this.position = this.p5.createVector(origin.x, origin.y);\n      // if (this.isLeft) this.velocity = this.p5.createVector(this.p5.random(-.8,5),this.p5.random(0,.5));\n      // else this.velocity = this.p5.createVector(this.p5.random(-5,.8),this.p5.random(0,.5));\n      this.velocity = this.p5.createVector(this.p5.random(velX.min,velX.max),this.p5.random(velY.min,velY.max));\n      return true;\n    }\n    return false;\n  }\n}\n\n// function percentBar(p5, x, y, w) {\n//   this.x = x;\n//   this.y = y;\n//   this.w = w;\n//   this.p5 = p5;\n//\n//   this.display = function(percent) {\n//     let swimmer = \"\";\n//     let posX = this.p5.map(percent, 0, 100, this.x, this.x + this.w);\n//     let posY = this.y + 10*this.p5.sin(this.p5.frameCount/10);\n//\n//     this.p5.textSize(40);\n//     this.p5.push();\n//     this.p5.scale(-1, 0);\n//     this.p5.translate(this.p5.textWidth(swimmer) + this.x, this.y);\n//     this.p5.text(swimmer, 0, 0);\n//     this.p5.pop();\n//   }\n// }\n\nfunction ParticleSystem(p, position, velX, velY, deg, isPlaying) {\n  this.p5 = p;\n  this.particles = [];\n  this.numParticle = 0;\n  this.origin = this.p5.createVector(position.x, position.y);\n  this.percent = 0;\n  // this.isLeft = true; //isLeft;\n  this.launchIndex = 0;\n  this.velX = velX;\n  this.velY = velY;\n  this.deg = deg;\n  this.isPlaying = isPlaying;\n\n  this.initParticles = function(num) {\n    for (let i =0; i < num; i++) {\n      this.addParticle(i);\n    }\n  }\n\n  this.launchParticle = function() {\n    let p = this.particles[this.launchIndex%this.particles.length];\n    if (p.launch(this.origin)) this.launchIndex++;\n  }\n\n  this.setPercent = function(percent) {\n    this.percent = percent;\n  }\n\n  this.addParticle = function(id) {\n    this.particles.push(new Particle(this.p5, this.origin, id, this.velX, this.velY, this.deg));\n  }\n\n  this.run = function(percent) {\n    // if (this.percent > 100) this.percent = 100;\n    // this.percent = this.p5.mouseX/10; //this.p5.map(this.p5.mouseX, 0, window.innerWidth, 0, 100);\n    this.particles.forEach((particle) => {\n      particle.run(percent, this.origin);\n    });\n    if (this.isPlaying) {\n      this.launchParticle();\n    }\n  }\n}\n","import React from 'react';\nimport Frame from '../../../shared/Frame/Frame';\n\n\nclass SwimLane extends React.Component {\n\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      swimmerPos: [{y:3, dir:1}, {y:2, dir:-1}]\n    }\n\n    this.numSwimmers = Math.ceil(this.props.h/36.9);\n\n\n    this.getSwimmerLanes = this.getSwimmerLanes.bind(this);\n    this.changeSwimLane = this.changeSwimLane.bind(this);\n\n  }\n\n\n  componentDidMount() {\n    this.swimInterval = setInterval(this.changeSwimLane, 400);\n  }\n\n  componentWillUnmount() {\n    clearInterval(this.swimInterval);\n  }\n\n  render() {\n    const {w, h, x, y} = this.props;\n\n    return (\n      <Frame title=\"\" content={\n        <div className=\"umbrellas\">\n        {this.getSwimmerLanes()}\n        <div className=\"waterCover\"></div>\n        </div>\n      }\n      width={w} height={h} windowStyle={{background: \"black\"}} x={x} y={y}\n      />\n    )\n  }\n\n  changeSwimLane = () => {\n\n    const swimmerPos = [...this.state.swimmerPos];\n    for (let i = 0; i < swimmerPos.length; i++) {\n      const swimmer = {...swimmerPos[i]};\n      if (swimmer.dir === 1) {\n        swimmer.y++;\n        if (swimmer.y >= this.numSwimmers) {\n          swimmer.y = this.numSwimmers-1;\n          swimmer.dir = -1;\n        }\n      }\n      else {\n        swimmer.y--;\n        if (swimmer.y < 0) {\n          swimmer.y = 0;\n          swimmer.dir = 1;\n        }\n\n      }\n      swimmerPos[i] = swimmer;\n    }\n\n    this.setState({swimmerPos});\n  }\n\n  getSwimmerLanes = () => {\n    const swimmerPos = [...this.state.swimmerPos];\n    const y0 = swimmerPos[0].y;\n    const dir0 = swimmerPos[0].dir;\n    const y1 = swimmerPos[1].y;\n    const dir1 = swimmerPos[1].dir;\n    const lanes = [];\n    for (let i = 0; i < this.numSwimmers; i++) {\n      lanes[i] = i;\n    }\n    return (\n      <div className=\"lanes\">\n      {lanes.map((i) => {\n        let lane0 = \"\";\n        let lane1 = \"\";\n        let lane0Class =\"water\";\n        let lane1Class=\"water\";\n        if (i == y0) {\n          lane0=<img height={40} width={40} src={window.AWS+\"/mars/womanswim.png\"} />;\n          if (dir0 === 1) lane0Class=\"rot\";\n          else lane0Class=\"rotNeg90\";\n        }\n        if (i == y1) {\n          lane1=<img height={40} width={40} src={window.AWS+\"/mars/manswim.png\"} />;\n          if (dir1 === 1) lane1Class=\"rot90\";\n          else lane1Class=\"rotNeg90\";\n        }\n        return (\n          <div key={i} className=\"swimRow\"><span className={lane0Class} >{lane0}</span><span className={lane1Class} >{lane1}</span></div>\n        )\n      })}\n      </div>\n    )\n  }\n}\n\n\nexport default SwimLane;\n","import React from 'react';\nimport Frame from '../../../shared/Frame/Frame';\n\nexport default function(props) {\n\n  const {w, h, x, y, buttonClick} = props;\n\n  return (\n    <Frame title=\"\" content={\n      <div className=\"tank\">\n      <button onClick={() => {buttonClick(3)}}><span className=\"swimSign\">0</span>ft</button>\n      <button onClick={() => {buttonClick(2)}}><span className=\"swimSign\">3</span>ft</button>\n      <button onClick={() => {buttonClick(1)}}><span className=\"swimSign\">5</span>ft</button>\n      <button onClick={() => {buttonClick(0)}}><span className=\"swimSign\">8</span>ft</button>\n      </div>\n    }\n    width={w} height={h} x={x} y={y}\n    />\n  )\n}\n","import React from 'react';\nimport Frame from '../../../shared/Frame/Frame';\n\n\nclass Chairs extends React.Component {\n\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      chairY: 0\n    }\n  }\n\n\n  componentDidMount() {\n    this.chairInterval = setInterval(this.chairUpdate, 50);\n  }\n\n  componentWillUnmount() {\n    clearInterval(this.chairInterval);\n  }\n\n  chairUpdate = () => {\n    this.setState({chairY: this.state.chairY+2});\n  }\n\n  render() {\n    const {w, h, x, y} = this.props;\n    const chairStyle = {color: \"red\", backgroundPosition: `${this.state.chairY}px 0`};\n\n    return (\n      <Frame title=\"\" content={<div className=\"blueChair\" style={chairStyle}></div>} width={w} height={h} x={x} y={y} />\n    )\n  }\n\n\n}\n\n\nexport default Chairs;\n","\n\nimport React from 'react';\nimport Frame from '../../../shared/Frame/Frame';\n\nexport default function(props) {\n\n  const {w, h, x, y, poolVid} = props;\n\n  return (\n    <Frame title=\"esc to mars\" content={\n      <div className=\"bigCrater\" style={{height: `${h}px`, backgroundSize: `${w}px ${h}px`}}>\n      <video className=\"poolVid\" key={poolVid} style={{height: `${h}px`, width: `${w}px`}} autoPlay muted loop>\n      <source src={poolVid} type=\"video/mp4\" ></source>\n      Your browser does not support HTML5 video.\n      </video>\n      </div>\n    }\n    width={w} height={h} x={x} y={y}\n    />\n  )\n}\n","import React from 'react';\nimport \"./Mars.css\";\nimport Frame from '../../shared/Frame/Frame';\n\n\n// import Slider from '@material-ui/core/Slider';\n// import Radio from '@material-ui/core/Radio';\n// import RadioGroup from '@material-ui/core/RadioGroup';\n// import FormControlLabel from '@material-ui/core/FormControlLabel';\n// import FormControl from '@material-ui/core/FormControl';\n// import FormLabel from '@material-ui/core/FormLabel';\n\n\nimport {onRender, onSceneReady} from './components/BabylonWater';\nimport BabylonWaterScene from './components/BabylonWater';\nimport SwimLane from './components/SwimLane';\nimport PoolButtons from './components/PoolButtons';\nimport Chairs from './components/Chairs';\nimport BigCrater from './components/BigCrater';\n\nimport Glasses from '../../shared/Glasses/Glasses';\n\n\n\nclass Mars extends React.Component {\n\n  constructor(props) {\n    super(props);\n\n    this.poolVid0 = window.AWS+\"/mars/pool/mars_0.mp4\"\n    this.poolVid1 = window.AWS+\"/mars/pool/mars_1.mp4\"\n    this.poolVid2 = window.AWS+\"/mars/pool/mars_2.mp4\"\n    this.poolVid3 = window.AWS+\"/mars/pool/mars_3.mp4\"\n\n    this.state = {\n      poolVid: this.poolVid1\n    }\n\n  }\n\n\n  componentDidMount() {\n    this.props.addClass(\"overflow-all\");\n    // this.props.userSetRoom(\"esc-to-mars\");\n  }\n\n  componentWillUnmount() {\n    this.props.removeClass(\"overflow-all\");\n    // this.props.userLeaveRoom(\"esc-to-mars\");\n  }\n\n\n  buttonClick = (num) => {\n    let vids = [this.poolVid0, this.poolVid1, this.poolVid2, this.poolVid3];\n    this.setState({poolVid: vids[num]});\n  }\n\n  render() {\n    const headerBarH = 34;\n    const toolbarH = 26;\n    const spacing = 25;\n\n    const dimensions = this.props.dimensions;\n    const {windowWidth, windowHeight} = dimensions;\n\n    const sketchW = 1275;\n    const sketchH = 640+toolbarH;\n    // 1325, 716\n    // console.log(\"min w/h:\", sketchW+spacing*2, sketchH+spacing*2);\n\n    const startX = Math.max((windowWidth-sketchW)/2, spacing);\n    const startY = Math.max(((windowHeight-headerBarH)-sketchH)/2, spacing);\n\n    const pool = {\n      x: startX,\n      h:  640,\n      y: startY,\n      w: 0\n    };\n    pool.w =  548/1080 * pool.h;\n\n    const chairs = {\n      w: 600,\n      h: 200,\n      x: pool.x + pool.w + spacing,\n      y: pool.y\n    };\n    const smallCrater = {\n      w: 300,\n      h: 300,\n      x: chairs.x + chairs.w + spacing,\n      y: pool.y\n    };\n    const bab = {\n      w: chairs.w,//500,\n      h: pool.h - chairs.h - spacing - toolbarH,\n      y: chairs.y + chairs.h + toolbarH + spacing,\n      x: pool.x + pool.w + spacing//chairs.x + chairs.w - 500\n    };\n    const board = {\n      w: 500,\n      h: 152,\n      x: smallCrater.x + smallCrater.w - 500,\n      y: pool.y + pool.h - 152\n    };\n    const swimLaneFrame = {\n      w: 80,\n      h: 36*8.8,//bab.h,\n      x: bab.x + 30,//pool.x + pool.w + spacing,\n      y: bab.y + 50//chairs.y + chairs.h + toolbarH + spacing\n    };\n\n    const tank ={\n      w: smallCrater.w,\n      h: pool.h-smallCrater.h - board.h-2*toolbarH-2*spacing,\n      x: smallCrater.x,\n      y: smallCrater.h + smallCrater.y + toolbarH + spacing\n    }\n\n    return (\n      <div className=\"Mars Sketch\">\n        <BigCrater w={pool.w} h={pool.h} x={pool.x} y={pool.y} poolVid={this.state.poolVid} />\n        <Frame title=\"\" content={\n            <div className=\"smallCrater\"><div className=\"bubbles\"><img src={window.AWS+\"/mars/bubbles3.gif\"} width={smallCrater.w} height={smallCrater.h} /></div></div>\n          }\n          width={smallCrater.w} height={smallCrater.h} x={smallCrater.x} y={smallCrater.y}\n          />\n        <PoolButtons w={tank.w} h={tank.h} x={tank.x} y={tank.y} buttonClick={this.buttonClick} />\n        <Chairs w={chairs.w} h={chairs.h} x={chairs.x} y={chairs.y} />\n        <BabylonWaterScene w={bab.w} h={bab.h} x={bab.x} y={bab.y} />\n        <Frame title=\"\" content={<div className=\"diving\"></div>} width={board.w} height={board.h} x={board.x} y={board.y} />\n        <SwimLane w={swimLaneFrame.w} h={swimLaneFrame.h} x={swimLaneFrame.x} y={swimLaneFrame.y} />\n\n        <Glasses />\n      </div>\n    )\n  }\n\n\n  getLabel(num) {\n    return <div><span className=\"swimSign\">{num}</span>ft</div>;\n    }\n\n  }\n\n\n  export default Mars;\n","import React from 'react';\nimport Frame from '../../../shared/Frame/Frame';\n\nclass Shower extends React.Component {\n\n  constructor(props) {\n    super(props);\n\n    // this.state = {\n    //   deltaPosition: {x: 0, y: 0}\n    // }\n  }\n\n\n\n  render() {\n    const {isPlaying, x, y, z, w, h, id, newFrameToTop, handleDrag, onMaximized, onMinimized, onClosed} = this.props;\n\n    let imgs = [7, 1, 3, 4, 8, 10];\n    let img = imgs[id];\n    let imgSrc = window.AWS+\"/wetStreams/showerHeads/\" + img + \".png\";\n    let title = \"\";\n    if (id === 1) title = \"wet streams\";\n    let classn = id===5?\"showerhead flippedX\":\"showerhead\";\n\n    return (\n      <Frame id={id} onDrag={(position) => handleDrag(id, position)} title={title} content={\n        <div className={classn}>\n        <img src={imgSrc} style={{width:w +\"px\", height:h+\"px\"}} alt=\"shower head\" />\n        </div>\n      }\n      width={w} height={h} x={x} y={y} onMaximized={() => onMaximized(id)} onMinimized={() => onMinimized(id)} onHide={() => onClosed(id)}  />\n    )\n  }\n}\n// z={z}\n//newFrameToTop={() => {newFrameToTop(id)}}\n\nexport default Shower;\n","import React from 'react';\nimport \"./WetStreams.css\";\n\n///////////////////// other components\nimport Frame from '../../shared/Frame/Frame';\n\n///////////////////// p5.js\nimport P5Wrapper from 'react-p5-wrapper';\nimport sketch from './wetSketch';\n\nimport Shower from './components/Shower';\n\n// import {getNewZIndices} from '../../shared/Helpers/Helpers';\n// import Stair from './Stair';\n\nimport Glasses from '../../shared/Glasses/Glasses';\n\nclass WetStreams extends React.Component {\n\n  constructor(props) {\n    super(props);\n\n    this.startW = window.innerWidth;\n    this.startH = window.innerHeight;\n\n    // this.spacing = 15;\n    // const availH = window.innerHeight -34 -2*26-3*this.spacing;\n    const dim = 300; //Math.max(availH/2, 300);\n    this.spacing = 15; //(window.innerHeight -30 -2*26-dim*2)/3;\n    this.state = {\n      windowWidth: window.innerWidth,\n      windowHeight: window.innerHeight,\n      showerFrame: {\n        w: dim,\n        h: dim,\n        x: (window.innerWidth-dim*3 - this.spacing*2)/2,\n        y: Math.max((window.innerHeight -34 -2*26-dim*2-this.spacing)/2, this.spacing)\n\n      },\n      deltaPositions: [\n        {x: 0, y: 0},\n        {x: 0, y: 0},\n        {x: 0, y: 0},\n        {x: 0, y: 0},\n        {x: 0, y: 0},\n        {x: 0, y: 0}\n      ],\n      playingStreams: [true, true, true, true, true, true],\n      isMinimized: [false, false, false, false, false, false],\n      isClosed: [false, false, false, false, false, false],\n      // zIndices: [0, 1, 2, 3, 4, 5]\n    }\n  }\n\n\n  componentDidMount() {\n    this.updateDimensions();\n    window.addEventListener(\"resize\", this.updateDimensions.bind(this));\n    this.interval = setInterval(this.playStreamReset, 4000);\n    // this.props.userSetRoom(\"wet-streams\");\n  }\n\n  componentWillUnmount() {\n    window.removeEventListener(\"resize\", this.updateDimensions.bind(this));\n    clearInterval(this.interval);\n    // this.props.userLeaveRoom(\"wet-streams\");\n  }\n\n  updateDimensions() {\n    let showerFrame = {...this.state.showerFrame};\n    showerFrame.x = (window.innerWidth-showerFrame.w*3 - this.spacing*2)/2\n    showerFrame.y = Math.max((window.innerHeight -34 -2*26-showerFrame.h*2-this.spacing)/2, this.spacing)\n\n    this.setState({ showerFrame, windowWidth: window.innerWidth, windowHeight: window.innerHeight });\n  }\n\n  playStreamReset = () => {\n    const playingStreams = [...this.state.playingStreams];\n    for (let i = 0; i < playingStreams.length; i++) {\n      playingStreams[i] = Math.random()>.4;\n    }\n    this.setState({playingStreams})\n  }\n\n  // newFrameToTop = (id) => {\n  //   const newZ = getNewZIndices(id, this.state.zIndices);\n  //   this.setState({zIndices: newZ});\n  //   // console.log(\"ZZZ\", this.state.zIndices);\n  // }\n\n  onMinimized = (id) => {\n    let dps = [...this.state.isMinimized];\n    dps[id] = !dps[id];\n    this.setState({isMinimized:dps});\n  }\n\n  onClosed = (id) => {\n    let dps = [...this.state.isClosed];\n    dps[id] = true;\n    this.setState({isClosed:dps});\n  }\n\n  onMaximized = (id) => {\n    let dps = [...this.state.deltaPositions];\n    let dp = {...dps[id]};\n    dp.x = 0;\n    dp.y = 0;\n    dps[id] = dp;\n    this.setState({deltaPositions:dps});\n  }\n\n\n  handleDrag = (index, ui) => {\n    let dx = ui.deltaX;\n    let dy = ui.deltaY;\n    // 1. Make a shallow copy of the items\n    let dps = [...this.state.deltaPositions];\n    // 2. Make a shallow copy of the item you want to mutate\n    let dp = {...dps[index]};\n    // 3. Replace the property you're intested in\n    dp.x += dx;\n    dp.y += dy;\n    // 4. Put it back into our array. N.B. we *are* mutating the array here, but that's why we made a copy first\n    dps[index] = dp;\n    // 5. Set the state to our new copy\n    // this.newFrameToTop(index);\n    this.setState({deltaPositions:dps});\n  };\n\n\n  render() {\n    let {windowWidth, windowHeight, showerFrame, playingStreams, deltaPositions, isMinimized, isClosed} = this.state;\n\n    let origins = [];\n    for (let i = 0; i < 3; i++) {\n      origins[i] = {x: showerFrame.x + i*(showerFrame.w + this.spacing), y: showerFrame.y};\n      origins[i+3] = {x: showerFrame.x + i*(showerFrame.w + this.spacing), y: showerFrame.y + showerFrame.h + this.spacing + 26};\n    }\n\n    const showWater = [];\n    for (let i = 0; i < playingStreams.length; i++) {\n      showWater[i] = playingStreams[i]&&!isMinimized[i]&&!isClosed[i];\n    }\n\n\n    return (\n      <div className=\"WetStreams Sketch\">\n\n        {origins.map((origin, i) => {\n          const props = {\n            isPlaying:playingStreams[i]&&!isMinimized[i],\n            x:origin.x,\n            y:origin.y,\n            // z: zIndices[i],\n            w:showerFrame.w,\n            h:showerFrame.h,\n            id:i,\n            handleDrag: this.handleDrag,\n            onMaximized: this.onMaximized,\n            onMinimized: this.onMinimized,\n            onClosed: this.onClosed\n          }\n          return <Shower key={i} {...props}  />\n        })};\n\n\n        <P5Wrapper className=\"p5sketch\" sketch={sketch}\n          origins={origins}\n          scaler={showerFrame.w/400}\n          deltas={deltaPositions}\n          isPlaying={showWater}\n          />\n\n        <Glasses />\n      </div>\n    )\n  }\n}\n\n\n\n\n\nexport default WetStreams;\n","import React from 'react';\n\n\nclass Emojis extends React.Component {\n  // https://codepen.io/JohJakob/pen/YPxgwo\n  constructor(props) {\n    super(props);\n  }\n\n  render() {\n    const {emojis} = this.props;\n    return (\n      <div className=\"emojis\">\n      {emojis?this.getEmojis():<div></div>}\n      </div>\n    );\n  }\n\n  getEmojis = () => {\n\n    const {emojis} = this.props;\n\n\n    return (\n      emojis.map((emoji, i) => {\n        const id = emoji.id;\n        const imgs = [\"prayer\", \"communion\", \"praise\", \"open\", \"halo\"];\n        const url = window.AWS + \"/waveforms/emojis/\" + imgs[id] + \".png\" ;\n        return (\n          <img key={i} src={url} style={{top:`${emoji.y}px`, left:`${emoji.x}px`, opacity: emoji.opacity}} />\n        )\n      })\n    )\n  }\n}\n\n\n\nexport default Emojis;\n","import React from 'react';\nimport Button from '@material-ui/core/Button';\nimport { faEye,faRetweet, faVideo, faMicrophoneAlt, faMicrophoneAltSlash } from \"@fortawesome/free-solid-svg-icons\";\nimport { faComment, faHeart } from \"@fortawesome/free-regular-svg-icons\";\nimport { faTwitter } from \"@fortawesome/free-brands-svg-icons\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport Emojis from './Emojis';\n\nclass BottomBar extends React.Component {\n  // https://codepen.io/JohJakob/pen/YPxgwo\n  constructor(props) {\n    super(props);\n\n    this.state ={\n      emojis: [],\n    }\n  }\n\n  componentDidMount() {\n    this.intervalEmoji = setInterval(this.updateEmojis, 50);\n  }\n\n  componentWillUnmount() {\n    clearInterval(this.intervalEmoji);\n  }\n\n  updateEmojis = () => {\n    const t = new Date();\n    const emojis = [...this.state.emojis];\n    if (emojis.length > 0) {\n      for (let i = 0; i < emojis.length; i++) {\n        const emoji = {...emojis[i]};\n        emojis[i] = emoji; // is this proper immutability? I think so...?\n        if (emoji) {\n          emoji.y -= 12;\n          if (emoji.y < 0) {\n            emojis.splice(i, 1);\n            i--;\n          }\n          else {\n            emoji.x = emoji.startX + 30*Math.sin(emoji.y/70);\n            emoji.opacity = (emoji.y-80) / window.innerHeight;\n            if (emoji.opacity < 0) emoji.opacity = 0;\n            else if (emoji.opacity > 1) emoji.opacity = 1;\n          }\n        }\n      }\n      this.setState({emojis});\n      // console.log(new Date() - t, \"ms\");\n    }\n  }\n\n  addEmoji = (id) => {\n    console.log(\"ADD EMOJI\", id);\n    const emoji = {startX: Math.random()*window.innerWidth, x: 0, y: window.innerHeight - 50, opacity: 1, id: id};\n    this.setState(prevState => ({\n      emojis: [...prevState.emojis, emoji]\n    }))\n  }\n\n\n  render() {\n    const emojis = this.state.emojis;\n    return (\n      <div>\n      <div className=\"bottomBar\">\n      <div className=\"bar-vid\">\n      <Button variant=\"contained\"><FontAwesomeIcon icon={faVideo} /></Button>\n      <Button variant=\"contained\"><FontAwesomeIcon icon={faMicrophoneAlt} /></Button>\n      </div>\n      <div className=\"bar-emojis\">\n      <Button variant=\"contained\" onClick={() => this.addEmoji(0)}><img src={window.AWS + \"/waveforms/emojis/prayer.png\"} /></Button>\n      <Button variant=\"contained\" onClick={() => this.addEmoji(1)}><img src={window.AWS + \"/waveforms/emojis/communion.png\"} /></Button>\n      <Button variant=\"contained\" onClick={() => this.addEmoji(2)}><img src={window.AWS + \"/waveforms/emojis/praise.png\"} /></Button>\n\n      <Button variant=\"contained\" onClick={() => this.addEmoji(3)}><img src={window.AWS + \"/waveforms/emojis/open.png\"} /></Button>\n      </div>\n      <div className=\"bar-good-bad\">\n      <Button variant=\"contained\" ><img src={window.AWS + \"/waveforms/emojis/halo.png\"} /></Button>\n      <Button variant=\"contained\" ><img src={window.AWS + \"/waveforms/emojis/devil.png\"} /></Button>\n      </div>\n      </div>\n      <Emojis emojis={emojis} />\n      </div>\n    );\n  }\n\n}\n\n\n\nexport default BottomBar;\n","import React from 'react';\nimport { faEye} from \"@fortawesome/free-solid-svg-icons\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\n\nclass LiveBar extends React.Component {\n  // https://codepen.io/JohJakob/pen/YPxgwo\n  constructor(props) {\n    super(props);\n\n      const timeInc = Math.floor(Math.random()*300);\n\n      this.state = {\n        timeInc: timeInc,\n        time: this.getTime(timeInc),\n        watchers: Math.floor(Math.random()*200),\n      }\n  }\n\n  componentDidMount() {\n    this.intervalTimer = setInterval(this.updateTime, 1000);\n    this.intervalWatcher = setInterval(this.updateWatchers, 2200);\n  }\n\n  componentWillUnmount() {\n    clearInterval(this.intervalTimer);\n    clearInterval(this.intervalWatcher);\n  }\n\n  render() {\n    const {time, watchers} = this.state;\n    return (\n      <div className=\"liveStream\"><span className=\"live\">LIVE</span><span className=\"time\">{time}</span><span className=\"eye\"><FontAwesomeIcon icon={faEye} /> {watchers}</span></div>\n    );\n  }\n\n\n  getTime = (timeInc) => {\n    let sec = timeInc %60;\n    let min = Math.floor(timeInc/60);\n    let hr = Math.floor(min/60);\n    // if (min < 10) min = \"0\" + min;\n    if (hr < 10) hr = \"0\" + hr;\n    if (sec < 10) sec = \"0\" + sec;\n\n    let time = min + \":\" + sec;\n    return time;\n  }\n\n  updateTime = () => {\n    // let {time, timeInc} = this.state;\n    // timeInc++;\n    const timeInc = this.state.timeInc + 1;\n    const time = this.getTime(timeInc);\n    this.setState({time, timeInc});\n  }\n\n  updateWatchers = () => {\n    const watchers = this.state.watchers;\n    if (Math.random() < .3) {\n      this.setState({watchers: watchers+1})\n    }\n    else if (Math.random() < .6) {\n      if (watchers-1 < 1) this.setState({watchers: 1});\n      else this.setState({watchers: watchers-1})\n    }\n  }\n}\n\n\n\nexport default LiveBar;\n","import React from 'react';\nimport {withRouter} from 'react-router-dom';\nimport Frame from '../../shared/Frame/Frame';\nimport DesktopIcon from '../../shared/DesktopIcon/DesktopIcon';\n// import FrameSimple from '../../shared/Frame/FrameSimple';\nimport './WaveForms.css';\nimport ReactPlayer from 'react-player'\n// import Moment from 'react-moment';\n\n// import { AnaglyphUniversalCamera, HemisphericLight, PhotoDome, Vector3, Vector2, AssetContainer, SceneLoader, StandardMaterial, CubeTexture, Color3, Mesh, Texture } from 'babylonjs';\n// import BabylonScene from '../../shared/Babylon.jsx'; // import the component above linking to file we just created.\n// import { WaterMaterial, SkyMaterial } from 'babylonjs-materials';\n// import 'babylonjs-loaders';\n\nimport Button from '@material-ui/core/Button';\nimport InputLabel from '@material-ui/core/InputLabel';\nimport MenuItem from '@material-ui/core/MenuItem';\nimport FormHelperText from '@material-ui/core/FormHelperText';\nimport FormControl from '@material-ui/core/FormControl';\nimport Select from '@material-ui/core/Select';\nimport TextField from '@material-ui/core/TextField';\n\nimport ReactAudioPlayer from 'react-audio-player';\n\n// import mainVid from  \"./assets/waves2_lines.mp4\";\n// import dove from  \"./assets/dove_t.gif\";\n// import shellSound from \"./assets/shell_sound.wav\";\n\nimport Glasses from '../../shared/Glasses/Glasses';\n\nimport { faEye,faRetweet, faVideo, faMicrophoneAlt, faMicrophoneAltSlash } from \"@fortawesome/free-solid-svg-icons\";\nimport { faComment, faHeart } from \"@fortawesome/free-regular-svg-icons\";\nimport { faTwitter } from \"@fortawesome/free-brands-svg-icons\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\n\n\n// import communion from './assets/emojis/communion.png';\n// import praise from './assets/emojis/praise.png';\n// import prayer from './assets/emojis/prayer.png';\n// import open from './assets/emojis/open.png';\n// import halo from './assets/emojis/halo.png';\n\n// import { TwitterTimelineEmbed, TwitterShareButton, TwitterFollowButton, TwitterHashtagButton, TwitterMentionButton, TwitterTweetEmbed, TwitterMomentShare, TwitterDMButton, TwitterVideoEmbed, TwitterOnAirButton } from 'react-twitter-embed';\nimport Webcam from \"react-webcam\";\n\n\nimport BottomBar from './components/BottomBar';\nimport LiveBar from './components/LiveBar';\n\nconst processString = require('react-process-string');\n\n\nclass WaveForms extends React.Component {\n  // https://codepen.io/JohJakob/pen/YPxgwo\n  constructor(props) {\n    super(props);\n\n    let factor = .3;\n    this.dimW = 1584*factor;\n    this.dimH = 1588*factor;\n\n    this.minVol = .01;\n\n\n\n    factor = 1.4;\n    this.videoConstraints = {\n      width: 230*factor,\n      height: 130*factor,\n      facingMode: \"user\"\n    };\n\n    const bottomBar = 60;\n    const spacing = 120;\n    this.tweetW = 400;\n    const winX = Math.max((window.innerWidth - this.dimW - this.tweetW - spacing)/2, 50)\n    const winY = (window.innerHeight - this.dimH - 26 - 30 -bottomBar)/2+30;\n\n    // const webY = winY -50;\n    // const webX = tX;\n    // const webH = 200;\n\n\n\n\n    this.state = {\n      windowWidth: window.innerWidth,\n      windowHeight: window.innerHeight,\n      windowX: winX,//(window.innerWidth - this.dimW)/2,\n      windowY: winY,//(window.innerHeight - this.dimH-80)/2,\n      tweetX: winX+this.dimW + 100,\n      tweetY: winY + 20,\n      webX: winX+this.dimW + 100,\n      webY: winY - 50,\n      earCursor: this.props.cursor,\n      volume: this.minVol,\n      timePeriod: \"days\",\n      prayTo: \"Kanye\"\n    };\n\n    factor = 0.1;\n    this.memberRef0 = React.createRef();\n\n  }\n\n\n  componentDidMount() {\n    this.interval = setInterval(this.resetPlayer, 22000);\n    // this.props.userSetRoom(\"confessions\");\n  }\n\n  componentWillUnmount() {\n    clearInterval(this.interval);\n    // this.props.userLeaveRoom(\"confessions\");\n  }\n\n\n  handleChange = (event) => {\n    this.setState({timePeriod: event.target.value});\n  };\n\n  resetPlayer = () => {\n    if (this.videoBack && this.videoMain) {\n      this.videoBack.currentTime = 0;\n      this.videoMain.currentTime = .50;\n    }\n  }\n\n  onSubmit = () => {\n    alert(\"thanks for your submission. uploading to the cloud\");\n    this.props.history.push(\"/confessions\");\n  }\n\n  render() {\n    const {timePeriod, prayTo} = this.state;\n\n    return(\n      <div className=\"WaveForms Sketch\">\n        <div className=\"confessions-form\">\n          <Frame className=\"stairway\" title=\"cloud confessional\" content={\n              /*<video width={dimW-2} height={dimH} muted loop autoPlay><source src={videoDimURL} type=\"video/mp4\"></source></video>*/\n              <div>\n                <video autoPlay muted loop\n                  ref={video => {this.videoMain = video;}}\n                  className={\"react-player mainContent\"}\n                  width={this.dimW}\n                  height={this.dimH}\n                  >\n                  <source src={window.AWS + \"/waveforms/waves2_lines.mp4\"} type=\"video/mp4\" ></source>\n                </video>\n                <LiveBar />\n              </div>\n            }\n            width={this.dimW} height={this.dimH} x={this.state.windowX} y={this.state.windowY}\n            />\n\n          <Frame className=\"doveFrame\" title=\"\" windowStyle={{background: \"transparent\"}} content={\n              <img src={window.AWS + \"/waveforms/dove_t.gif\"} width={90} height={90} />\n            }\n            width={90} height={90} x={this.state.windowX+this.dimW/2-45} y={this.state.windowY+this.dimH/2-45}\n            />\n\n          <div className=\"member\" ref={this.memberRef0}>\n            <Frame className=\"static\" content={\n                /* <img height={130} width={230} src=\"https://media4.giphy.com/media/UiwxIx9BElaVi/giphy.gif?cid=ecf05e47a8bbe3d9385a466e6febc98bd9d83fe2e23ed054&rid=giphy.gif\" />*/\n                <div>\n                  <Webcam videoConstraints={this.videoConstraints} />\n                  <img src={window.AWS + \"/waveforms/divine.gif\"} width={\"100%\"} height={\"100%\"} style={{opacity:.3, position: \"absolute\", top: 0, left:0}} />\n                </div>\n              }\n              x={this.state.webX} y={this.state.webY} width={this.videoConstraints.width} height={this.videoConstraints.height}\n              />\n          </div>\n          {/*this.getEarMenu()*/}\n          <ReactAudioPlayer\n            src={window.AWS + \"/waveforms/shell_sound.wav\"}\n            autoPlay={true}\n            volume={this.state.volume}\n            controls={false}\n            loop={true}\n            ref={player => {\n              this.audioPlayer = player;\n            }}\n            />\n          {/* </div>*/}\n\n          <Frame title=\"\" windowStyle={{background: \"transparent\"}} content={\n              <div className=\"confessional\">\n                <div className=\"text-line0\">Bless me</div>\n                <select value={this.state.prayTo} onChange={this.handleChange}>\n                  <option value=\"RBG\">RBG</option>\n                  <option value=\"Father\">Father</option>\n                  <option value=\"Mitch McConnel\">Mitch McConnel</option>\n                  <option value=\"Kanye\">Kanye</option>\n                </select>\n                <div>for I have sinned. It has been:</div>\n\n                <div className=\"confessional-time\">\n                  <div className=\"confessional-box\">\n                    <input type=\"number\" placeholder=\"number\" />\n                  </div>\n\n                  <select value={this.state.timePeriod} onChange={this.handleChange}>\n                    <option value=\"days\">days</option>\n                    <option value=\"months\">months</option>\n                    <option value=\"years\">years</option>\n                    <option value=\"never\">never</option>\n                  </select>\n                </div>\n                <div className=\"text-line1\">since I last went to confession.</div>\n\n                <div className=\"multitext confessional-box\">\n                  <textarea\n                    id=\"outlined-multiline-static\"\n                    label=\"\"\n                    multiline=\"true\"\n                    placeholder=\"confession\"\n                    className=\"box text-line2\"\n                    />\n                </div>\n                <button className=\"confessional-box\" onClick={this.onSubmit}>submit</button>\n              </div>\n            }\n            width={this.tweetW} height={280}  x={this.state.tweetX} y={this.state.tweetY}\n            />\n          <BottomBar />\n        </div>\n\n        <Glasses y={30} />\n      </div>\n    );\n\n  }\n\n\n}\n\nfunction getTweetContent(string) {\n  let config = [\n    {\n      // / delimits start/end\n      // parentheses creates capturing group\n      // [has any of these symbols]\n\n      // match @ []\n      // \\escape\n      // second set of parens apparently stops it. added |\\: to get retweet colon\n      regex: /\\@([a-z0-9_\\-]+?)( |\\,|$|\\.|\\:)/gim, //regex to match a username\n      fn: (key, result) => {\n        let username = result[0];\n        const profileUrl = \"https://twitter.com/\" + username.substring(1, username.length);\n        return <a key={key} href={profileUrl} target=\"_blank\">{username}</a>;\n        }},\n        {\n          regex: /(http|https):\\/\\/(\\S+)\\.([a-z]{2,}?)(.*?)( |\\,|$|\\.)/gim,\n          fn: (key, result) => <span key={key}>\n          <a target=\"_blank\" href={`${result[1]}://${result[2]}.${result[3]}${result[4]}`}>{result[2]}.{result[3]}{result[4]}</a>{result[5]}\n          </span>\n        },\n        {\n          regex: /\\#([a-z0-9_\\-]+?)( |\\,|$|\\.|\\:)/gim, //regex to match a hashtag\n          fn: (key, result) => {\n            let hashtag = result[0];\n            const hashtagUrl = `https://twitter.com/hashtag/${hashtag.substring(1, hashtag.length)}?src=hashtag_click`;\n            return <a key={key} href={hashtagUrl} target=\"_blank\">{hashtag}</a>;\n            }\n          },\n          {\n            regex: /\\&amp/,\n            fn: (key, result) => {\n              let amp = result;\n              return \"&\";\n            }\n          }];\n\n          let processed = processString(config)(string);\n          return processed;\n        }\n\n        function getMostEngagement(mode, tweets) {\n          let max = 0;\n          let id = 0;\n          let maxId = 0;\n\n          for (const tweet of tweets) {\n            let likes = tweet.public_metrics.like_count;\n            let rts = tweet.public_metrics.retweet_count;\n            let replies = tweet.public_metrics.reply_count;\n            let metrics = [likes, rts, replies];\n\n            if (metrics[mode] > max) {\n              max = likes;\n              maxId = id;\n            }\n            id++;\n          }\n          return maxId;\n        }\n\n        function mapVal(val, in_min, in_max, out_min, out_max) {\n          return (val - in_min) * (out_max - out_min) / (in_max - in_min) + out_min;\n        }\n\n        function getTweetTime(tweet_created_at) {\n          // const dateToFormat = new Date('1976-04-19T12:59-0500');\n          // const created_time = isoStringToDate(tweet_created_at);\n          // var timeDiff = new Date() - created_time;\n          // timeDiff /= 1000;\n          // var seconds = Math.round(timeDiff);\n          // console.log(created_time, timeDiff, seconds);\n          // return seconds + \"s\";\n          return \"5s\";\n        }\n\n        function isoStringToDate(s) {\n          var b = s.split(/[-t:+]/ig);\n          return new Date(Date.UTC(b[0], --b[1], b[2], b[3], b[4], b[5]));\n        }\n        //\n        // function urlify(text) {\n        //   var urlRegex = /(https?:\\/\\/[^\\s]+)/g;\n        //   return text.replace(urlRegex, function(url) {\n        //     return '<a href=\"' + url + '\">' + url + '</a>';\n        //   })\n        // }\n\n        export default withRouter(WaveForms);\n","import React from 'react';\nconst processString = require('react-process-string');\n\nexport function initConfessions() {\n  let confessions = [\n    {txt: \"I am not thinking about my partner during sex.\"},\n    {txt: \"I said I love you but I didn't mean it.\"},\n    {txt: \"I took a macbook mouse from work\"},\n    {txt: \"I cursed at God because honestly, what is going on here.\"},\n    {txt: \"I told my neighbors they were little brats\"},\n    {txt: \"I said I hoped my boss would burn in hell.\"},\n    {txt: \"When I was diagnosed I was angry. It just felt so unfair. I blamed my husband, my myself, my kids. But most of all, I blamed God.\"},\n    {txt: \"No body tells you what's right. I mean, I guess God is supposed to do that, but I've lost hope that anyone's on the receiving end. If he'd just give me a sign or something maybe I wouldn't have so many doubts.\"}\n  ];\n  return confessions;\n}\n\nexport function initZIndicesIcons() {\n  const zind = [];\n  for (let i = 0; i < 8; i++) {\n    zind[i] = i; // icons\n  }\n  return zind;\n}\n\nexport function initZIndicesFrames() {\n  const zind = [];\n  for (let i = 0; i < 8; i++) {\n    zind[i] = i+100; // icons\n  }\n  return zind;\n}\n\nexport function getTweetContent(string) {\n  let config = [\n    {\n      // / delimits start/end\n      // parentheses creates capturing group\n      // [has any of these symbols]\n\n      // match @ []\n      // \\escape\n      // second set of parens apparently stops it. added |\\: to get retweet colon\n      regex: /\\@([a-z0-9_\\-]+?)( |\\,|$|\\.|\\:)/gim, //regex to match a username\n      fn: (key, result) =>  {\n        let username = result[0];\n        const profileUrl = \"https://twitter.com/\" + username.substring(1, username.length);\n        return <a key={key} href={profileUrl} target=\"_blank\">{username}</a>;\n        }\n      },\n      {\n        regex: /(http|https):\\/\\/(\\S+)\\.([a-z]{2,}?)(.*?)( |\\,|$|\\.)/gim,\n        fn: (key, result) => <span key={key}>\n        <a target=\"_blank\" href={`${result[1]}://${result[2]}.${result[3]}${result[4]}`}>{result[2]}.{result[3]}{result[4]}</a>{result[5]}\n        </span>\n      },\n      {\n        regex: /\\#([a-z0-9_\\-]+?)( |\\,|$|\\.|\\:)/gim, //regex to match a hashtag\n        fn: (key, result) => {\n          let hashtag = result[0];\n          const hashtagUrl = `https://twitter.com/hashtag/${hashtag.substring(1, hashtag.length)}?src=hashtag_click`;\n          return <a key={key} href={hashtagUrl} target=\"_blank\">{hashtag}</a>;\n          }\n        },\n        {\n          regex: /\\&amp/,\n          fn: (key, result) => {\n            let amp = result;\n            return \"&\";\n          }\n        }\n      ];\n\n      let processed = processString(config)(string);\n      return processed;\n    }\n","import React from 'react';\nimport Frame from '../../shared/Frame/Frame';\nimport DesktopIcon from '../../shared/DesktopIcon/DesktopIcon';\n// import FrameSimple from '../../shared/Frame/FrameSimple';\nimport './Loop.css';\n// import ReactScrollWheelHandler from \"react-scroll-wheel-handler\";\n// import Balloon from './assets/balloonsprite.png';\n// import cloudsVid from  \"../MacbookAir/assets/clouds3d.mp4\";\n// import folder from  \"./assets/folder.png\";\n\n// Babylon\nimport { Scene, AnaglyphUniversalCamera, UniversalCamera,PostProcess, Effect, HemisphericLight, Vector3, Vector2, SceneLoader,AssetContainer, MeshBuilder, StandardMaterial,  VideoTexture, CubeTexture, Color3,Color4, Mesh, Texture } from 'babylonjs';\nimport BabylonScene from '../../shared/Babylon.jsx';\nimport { WaterMaterial } from 'babylonjs-materials';\n\n\nvar camera, water, waterMesh;\nvar tubes = [];\nvar seed = 1;\n\n\n\nclass Loop extends React.Component {\n  // https://codepen.io/JohJakob/pen/YPxgwo\n  constructor(props) {\n    super(props);\n\n    // this.imgW = 350;\n    this.numFrames = 15;\n    this.imgW = 450;\n    this.imgH = 254;\n    this.state = {\n      deltaX: 0,\n      deltaY: 0,\n      startX: (window.innerWidth-this.numFrames*15-this.imgW*1-50)/2,\n      startY: (window.innerHeight-this.numFrames*15+50)/2,\n      imageIndex: 0,\n      mapDivs: []\n    }\n\n    this.divRef = React.createRef();\n    this.preventDefault = e => e.preventDefault()\n\n    this.numImages = 51;\n\n    this.wheel = this.wheel.bind(this);\n    // this.setImages = this.setImages.bind(this);\n  }\n\n\n  componentDidMount() {\n    this.divRef.current.addEventListener('wheel', this.preventDefault);\n    this.setImages();\n\n    // this.props.userSetRoom(\"xfinity-depths\");\n  }\n\n  componentWillUnmount() {\n    this.divRef.current.removeEventListener('wheel', this.preventDefault);\n    // this.props.userLeaveRoom(\"xfinity-depths\");\n  }\n\n\n  setImages = () => {\n    const {imageIndex} = this.state;\n    const mapDivs = [...this.state.mapDivs];\n    for (let i = 0; i < this.numFrames; i++) {\n      mapDivs[i] = this.mod((imageIndex+i*2)* this.imgW, this.imgW*this.numImages);\n    }\n    this.setState({mapDivs});\n  }\n\n  wheel(e) {\n    var deltaY = this.state.deltaY + e.deltaY;\n\n    var imageIndex = deltaY / 40;\n    imageIndex = Math.floor(imageIndex);\n    imageIndex = this.mod(imageIndex, this.numImages);\n\n    const mapDivs = [...this.state.mapDivs];\n    for (let i = 0; i < this.numFrames; i++) {\n      mapDivs[i] = this.mod((imageIndex+i*2)* this.imgW, this.imgW*this.numImages);\n    }\n\n    this.setState({deltaY, imageIndex, mapDivs});\n    // this.setImages();\n\n    // console.log(imageIndex);\n    return false;\n  }\n\n  mod(a, b) {\n    return (((a % b) + b) % b);\n  }\n\n  onSceneReady(scene) {\n    // const camera = new UniversalCamera(\"UniversalCamera\", new Vector3(0, 1, -25), scene);\n    camera = new AnaglyphUniversalCamera(\"af_cam\", new Vector3(0,8, -5), 0.033, scene);\n    scene.clearColor = new Color4(0, 0, 0, 0);\n    camera.setTarget(new Vector3(11, 3, -2));\n\n    const canvas = scene.getEngine().getRenderingCanvas();\n    // camera.attachControl(canvas, true);\n\n    const light = new HemisphericLight(\"light1\", new Vector3(0, 1, 0), scene);\n    light.intensity = 0.7;\n\n\n\n    // Water\n    waterMesh = Mesh.CreateGround(\"waterMesh\", 512, 512, 32, scene, false);\n    waterMesh.position.y = -9;\n    water = new WaterMaterial(\"water\", scene, new Vector2(1024, 1024));\n    water.backFaceCulling = true;\n    water.bumpTexture = new Texture(window.AWS+\"/shared/waterbump.png\", scene);\n    water.windForce = -5;\n    water.waveHeight = 0.8;\n    water.bumpHeight = 0.3;\n    water.waveLength = 0.3;\n    water.colorBlendFactor = 0;\n    waterMesh.material = water;\n\n    // Skybox\n    // var skyW = 1000;\n    // var skybox = Mesh.CreateBox(\"skyBox\", skyW, scene);\n    // var skyboxMaterial = new StandardMaterial(\"skyBox\", scene);\n    // skyboxMaterial.backFaceCulling = false;\n    // skyboxMaterial.reflectionTexture = new CubeTexture(window.AWS+\"/shared/sky/moon/moon\", scene);\n    // skyboxMaterial.reflectionTexture.coordinatesMode = Texture.SKYBOX_MODE;\n    // skyboxMaterial.diffuseColor = new Color3(0, 0, 0);\n    // skyboxMaterial.specularColor = new Color3(0, 0, 0);\n    // skyboxMaterial.disableLighting = true;\n    // skybox.material = skyboxMaterial;\n    // water.addToRenderList(skybox);\n\n\n    // Ground\n    var groundTexture = new Texture(window.AWS+\"/shared/sand2.jpg\", scene);\n    groundTexture.vScale = groundTexture.uScale = 10;\n    var groundMaterial = new StandardMaterial(\"groundMaterial\", scene);\n    groundMaterial.diffuseTexture = groundTexture;\n    var ground = Mesh.CreateGround(\"ground\", 512, 512, 32, scene, false);\n    ground.position.y = -10;\n    ground.material = groundMaterial;\n    water.addToRenderList(ground);\n\n\n\n    // drain\n    // var drainTex = new BABYLON.Texture(window.AWS+\"/mars/drain1.png\", scene);\n    // addDrain(scene);\n    // loadWhale(scene);\n    // addInnerTubes(4, scene, water);\n    // addSwimmer(scene);\n\n    // Effect.ShadersStore[\"customFragmentShader\"] = `\n    // #ifdef GL_ES\n    // precision highp float;\n    // #endif\n    //\n    // // Samplers\n    // varying vec2 vUV;\n    // uniform sampler2D textureSampler;\n    //\n    // // Parameters\n    // uniform vec2 screenSize;\n    // uniform float threshold;\n    //\n    // void main(void)\n    // {\n    //   vec2 texelSize = vec2(1.0 / screenSize.x, 1.0 / screenSize.y);\n    //   vec4 baseColor = texture2D(textureSampler, vUV);\n    //\n    //\n    //   if (baseColor.r < threshold) {\n    //     gl_FragColor = baseColor;\n    //   } else {\n    //     gl_FragColor = vec4(0);\n    //   }\n    // }\n    // `;\n    //\n    // var postProcess = new PostProcess(\"My custom post process\", \"custom\", [\"screenSize\", \"threshold\"], null, 0.25, camera);\n    // postProcess.onApply = function (effect) {\n    //   effect.setFloat2(\"screenSize\", postProcess.width, postProcess.height);\n    //   effect.setFloat(\"threshold\", 0.8);\n    // };\n  }\n\n\n  onRender(scene) {\n    let divFps = document.getElementById(\"fps\");\n    if (divFps) divFps.innerHTML = scene.getEngine().getFps().toFixed() + \" fps\";\n  }\n\n\n\n  render() {\n\n\n    return (\n      <div className=\"Loop Sketch\" ref={this.divRef} onWheel = {(e) => this.wheel(e)}>\n        {/*   <video ref={this.cloudsRef} autoPlay muted loop className=\"backgroundCover\">\n        <source src={cloudsVid} type=\"video/mp4\" ></source>\n        Your browser does not support HTML5 video.\n        </video>*/}\n\n        { <BabylonScene  className=\"noSelect backgroundCover\" antialias onSceneReady={this.onSceneReady} onRender={this.onRender} id='babylon-canvas' />}\n\n\n        {this.state.mapDivs.map((balloonX, i) => {\n          const opac = (i+1)*(1/this.numFrames);\n          // console.log();\n          const val = this.state.imageIndex * this.imgW;\n          return(<Frame windowStyle={{opacity:opac}} content={\n            <div className=\"balloon\" style={{backgroundPosition: `${val}px 0px`, width: this.imgW, height:this.imgH}}></div>\n          }\n          key={i} width={this.imgW} height={this.imgH} isControlled={false} x={this.state.startX+i*15} y={this.state.startY-i*15} z={1}\n          />\n      );\n\n    })}\n\n    {/*   <DesktopIcon x={100} y={100} width={60} height={90} title=\"dip\" content={\n      <img src={folder} width={60} height={60} />\n      }\n      />\n      <DesktopIcon x={100} y={220} width={60} height={90} title=\"dive\" content={\n      <img src={folder} width={60} height={60} />\n      }\n      />\n\n      <DesktopIcon x={100} y={340} width={60} height={90} title=\"descend\" content={\n      <img src={folder} width={60} height={60} />\n      }\n      />*/}\n    </div>\n  );\n}\n\n}\n\n\n\n\nexport default Loop;\n","import React from 'react';\nimport Frame from '../../shared/Frame/Frame';\nimport './VorTech.css';\n// Babylon\nimport { Scene, AnaglyphUniversalCamera, UniversalCamera,PostProcess, Effect, HemisphericLight, Vector3, Vector2, SceneLoader,AssetContainer, MeshBuilder, StandardMaterial,  VideoTexture, CubeTexture, Color3,Color4, Mesh, Texture } from 'babylonjs';\nimport BabylonScene from '../../shared/Babylon.jsx';\nimport Emoji from './Emoji';\n\nvar camera, water, waterMesh;\nvar tubes = [];\nvar seed = 1;\nvar emojis = [];\nvar isFlushing = false;\nvar isStopping = false;\nvar handleDown = false;\n\nclass VorTech extends React.Component {\n  // https://codepen.io/JohJakob/pen/YPxgwo\n  constructor(props) {\n    super(props);\n\n    // this.imgW = 350;\n\n    this.state = {\n      // isFlushing : false\n    }\n\n  }\n\n\n  componentDidMount() {\n\n  }\n\n  componentWillUnmount() {\n\n  }\n\n\n  mod(a, b) {\n    return (((a % b) + b) % b);\n  }\n\n  onSceneReady(scene) {\n    // const camera = new UniversalCamera(\"UniversalCamera\", new Vector3(0, 1, -25), scene);\n    camera = new AnaglyphUniversalCamera(\"af_cam\", new Vector3(0,0, -5), 0.033, scene);\n    scene.clearColor = new Color4(0, 0, 0, 0);\n    camera.setTarget(new Vector3(0, 0, 10));\n\n    const canvas = scene.getEngine().getRenderingCanvas();\n    camera.attachControl(canvas, true);\n\n    const light = new HemisphericLight(\"light1\", new Vector3(0, 0, -1), scene);\n    light.intensity = .5;\n\n\n\n    // Skybox\n    // var skyW = 1000;\n    // var skybox = Mesh.CreateBox(\"skyBox\", skyW, scene);\n    // var skyboxMaterial = new StandardMaterial(\"skyBox\", scene);\n    // skyboxMaterial.backFaceCulling = false;\n    // skyboxMaterial.reflectionTexture = new CubeTexture(window.AWS+\"/shared/sky/moon/moon\", scene);\n    // skyboxMaterial.reflectionTexture.coordinatesMode = Texture.SKYBOX_MODE;\n    // skyboxMaterial.diffuseColor = new Color3(0, 0, 0);\n    // skyboxMaterial.specularColor = new Color3(0, 0, 0);\n    // skyboxMaterial.disableLighting = true;\n    // skybox.material = skyboxMaterial;\n\n    for (let i = 0; i < 150; i++) {\n      emojis[i] = new Emoji(scene);\n    }\n\n\n    var mat = new StandardMaterial(\"groundMaterial\", scene);\n    mat.diffuseTexture = new VideoTexture(\"video\", window.AWS + \"/vorTech/whirl2.mp4\", scene, true);\n    var plane = Mesh.CreateGround(\"plane\", 512, 512, 32, scene, false);\n    // plane.position.y = -10;\n    plane.position.z = 180;\n    plane.rotation.x = -Math.PI/2;\n    plane.material = mat;\n\n  }\n\n\n  onRender(scene) {\n    for (const emoji of emojis) {\n      // if (isFlushing)\n      emoji.update(isStopping);\n      // else emoji.hide();\n    }\n\n  }\n\n  flushToilet = () => {\n    // this.setState({isFlushing: true});\n    isFlushing = true;\n    handleDown = true;\n    isStopping = false;\n    for (const emoji of emojis) {\n      // if (isFlushing)\n      emoji.startFlush();\n      // else emoji.hide();\n    }\n    setTimeout(this.stopFlush, 5000);\n    setTimeout(this.handleUp, 1000);\n  }\n\n  stopFlush = () => {\n    isFlushing = false;\n    isStopping = true;\n    // this.setState({isFlushing: false});\n  }\n\n  handleUp = () => {\n    handleDown = false;\n  }\n\n  render() {\n\n    const deg = handleDown?\"rotate(-20deg)\":\"rotate(0deg)\";\n    return (\n      <div className=\"VorTech Sketch\" ref={this.divRef} >\n\n        { <BabylonScene  className=\"noSelect backgroundCover\" antialias onSceneReady={this.onSceneReady} onRender={this.onRender} id='babylon-canvas' />}\n        <Frame title=\"\" x={100} y={100} width={150} height={60} windowStyle={{background:\"transparent\"}} content={\n            <div className=\"flush\">\n              <button onClick={this.flushToilet} style={{transform: deg}}><img src={window.AWS + \"/vorTech/flush2.png\"} /></button>\n            </div>\n          }\n          />\n      </div>\n    );\n  }\n\n}\n\n//// <button className=\"flush\" onClick={this.flushToilet}>flush</button>\n\n\n\nexport default VorTech;\n","// note to self\n// table for two\n// bunch of faces, different times, times scatter around.\n// young again\n//try taking pic of dining room setup\n\n// can you see my now?\n// confessions of a narcisist\n\n// body, flat face, replaced with texture. arms robotic drinking wine\nimport React from 'react';\nimport Frame from '../../../shared/Frame/Frame';\n// import DesktopIcon from '../../shared/DesktopIcon/DesktopIcon';\n// import './Loop.css';\n// Babylon\nimport { Scene, AnaglyphUniversalCamera, UniversalCamera,PostProcess, Effect, HemisphericLight, Vector3, Vector2, SceneLoader,AssetContainer, MeshBuilder, StandardMaterial,  VideoTexture, CubeTexture, Color3,Color4, Mesh, Texture } from 'babylonjs';\nimport BabylonScene from '../../../shared/Babylon.jsx';\n\n// import candles0 from './assets/candles0.gif';\n// import candles1 from './assets/candles1.gif';\n\nvar camera;\nvar seed = 1;\nvar bottle;\nvar bottles = [];\n\nclass Dinner extends React.Component {\n  // https://codepen.io/JohJakob/pen/YPxgwo\n  constructor(props) {\n    super(props);\n\n    this.state = {\n    }\n  }\n\n\n  componentDidMount() {\n  }\n\n  componentWillUnmount() {\n  }\n\n\n  mod(a, b) {\n    return (((a % b) + b) % b);\n  }\n\n  onSceneReady(scene) {\n    // const camera = new UniversalCamera(\"UniversalCamera\", new Vector3(0, 1, -25), scene);\n    camera = new AnaglyphUniversalCamera(\"af_cam\", new Vector3(0,2, 0), 0.033, scene);\n    scene.clearColor = new Color4(0, 0, 0, 0);\n    camera.setTarget(new Vector3(0, 1, 10));\n\n    const canvas = scene.getEngine().getRenderingCanvas();\n    camera.attachControl(canvas, true);\n\n    const light = new HemisphericLight(\"light1\", new Vector3(0, 1, 0), scene);\n    light.intensity = 0.7;\n\n\n\n    // Skybox\n    var skyW = 500;\n    var skybox = Mesh.CreateBox(\"skyBox\", skyW, scene);\n    var skyboxMaterial = new StandardMaterial(\"skyBox\", scene);\n    skyboxMaterial.backFaceCulling = false;\n    skyboxMaterial.reflectionTexture = new CubeTexture(window.AWS+\"/dinner/skybox/dinner\", scene);\n    skyboxMaterial.reflectionTexture.coordinatesMode = Texture.SKYBOX_MODE;\n    skyboxMaterial.diffuseColor = new Color3(0, 0, 0);\n    skyboxMaterial.specularColor = new Color3(0, 0, 0);\n    skyboxMaterial.disableLighting = true;\n    skybox.material = skyboxMaterial;\n\n\n    // Ground\n    var groundTexture = new Texture(window.AWS+\"/dinner/table.jpg\", scene);\n    groundTexture.vScale = groundTexture.uScale = 1;\n    var groundMaterial = new StandardMaterial(\"groundMaterial\", scene);\n    groundMaterial.diffuseTexture = groundTexture;\n    var ground = Mesh.CreateGround(\"ground\", 12, 8, 32, scene, false);\n    ground.position.y = -1;\n    ground.position.z = 10;\n    ground.material = groundMaterial;\n\n\n    var planeTop = Mesh.CreatePlane(\"sphere1\", {width:5, height:1}, scene);\n    planeTop.rotation.z = Math.PI;\n    planeTop.rotation.y = -Math.PI/2;\n    planeTop.position.x = -2;\n    planeTop.position.z = 10;\n    planeTop.position.y = 2;\n    var matTop = new StandardMaterial(\"mat\", scene);\n    matTop.diffuseColor = new Color3(0, 0, 0);\n    planeTop.material = matTop;\n\n    var plane = Mesh.CreatePlane(\"sphere1\", 5, scene);\n    plane.rotation.z = Math.PI;\n    plane.rotation.y = -Math.PI/2;\n    plane.position.x = -5;\n    plane.position.z = 10;\n    plane.position.y = 2;\n\n    var plane2 = Mesh.CreatePlane(\"sphere2\", 5, scene);\n    plane2.rotation.z = Math.PI;\n    plane2.rotation.y = Math.PI/2;\n    plane2.position.x = 5;\n    plane2.position.z = 10;\n    plane2.position.y = 2;\n\n    // Move the sphere upward 1/2 its height\n\n    var mat = new StandardMaterial(\"mat\", scene);\n    mat.diffuseColor = new Color3(.1, .1, .1);\n    VideoTexture.CreateFromWebCam(scene, function(videoTexture) {\n      // videoTexture.scaling.x = -1;\n      mat.emissiveTexture = videoTexture;\n      console.log(videoTexture);\n      plane.material = mat;\n      plane2.material = mat;\n      plane2.scaling.x = -1;\n    }, { maxWidth: 256, maxHeight: 256 });\n\n\n    addBottles(scene);\n  }\n\n\n  onRender(scene) {\n    let divFps = document.getElementById(\"fps\");\n    if (divFps) divFps.innerHTML = scene.getEngine().getFps().toFixed() + \" fps\";\n  }\n\n\n\n  render() {\n\n    var candles=[1, 1, 1, 1, 1,1];\n    return (\n      <div className=\"Dinner Sketch\" >\n      {/*   <video ref={this.cloudsRef} autoPlay muted loop className=\"backgroundCover\">\n      <source src={cloudsVid} type=\"video/mp4\" ></source>\n      Your browser does not support HTML5 video.\n      </video>*/}\n\n      { <BabylonScene  className=\"noSelect backgroundCover\" antialias onSceneReady={this.onSceneReady} onRender={this.onRender} id='babylon-canvas' />}\n      <Frame title=\"\" x={400} y={400} width={400} content={\n        <img src={window.AWS+\"/dinner/candles0.gif\"} width={\"100%\"} height={\"100%\"} />\n      }\n\n      />\n\n      {candles.map((id, i) => {\n        let y = 500+50*Math.sin(i*Math.PI/5);\n        console.log(i, y);\n        let w = 100 + 80*Math.sin(i*Math.PI/5);\n        return (\n          <Frame key={i} title=\"\" x={500+i*80} y={y} width={100} content={\n            <img src={window.AWS+\"/dinner/candles0.gif\"} width={\"100%\"} height={\"100%\"} />\n          }\n\n          />\n        );\n      })}\n\n\n      </div>\n    );\n  }\n\n}\n\n\nfunction addBottles(scene) {\n  var container = new AssetContainer(scene);\n  var url = process.env.PUBLIC_URL + \"/assets/dinner/bottle/\"\n  SceneLoader.LoadAssetContainer(url, \"Wine_Bottle_Red.obj\", scene, function (container) {\n    var meshes = container.meshes;\n    var materials = container.materials;\n\n    bottle = meshes[0];\n    bottle.scaling = new Vector3(4.0, 4.0, 4.0);\n\n    container.addAllToScene();\n\n    // var mat = new StandardMaterial(\"sphereMaterial\", scene);\n    // mat.specularTexture = new Texture(\"/textures/specularglossymap.png\", scene);\n    // mat.specularPower = 64;\n    // mat.useGlossinessFromSpecularMapAlpha = true;\n    // mat.diffuseColor = Color3.Black();\n    // mat.roughness = 3;\n    // mat.alpha = .7;\n\n    // var skyReflect = new CubeTexture(\"/textures/TropicalSunnyDay\", scene);\n    // mat.reflectionTexture = skyReflect;\n\n    // var mat = new StandardMaterial(\"blueMat\", scene);\n    // mat.diffuseColor = new Color3(1, 1, 1);\n    // mat.alpha = 1;\n    // bottle.material = mat;\n\n\n    var newInstance = bottle.createInstance(\"0\");\n    newInstance.position.x = 0;\n    newInstance.position.y = 1;\n    newInstance.position.z = 3;\n    // newInstance.rotation.y = Math.random()*Math.PI*2;\n    // newInstance.rotation.x = 0;\n    // newInstance.rotation.z = Math.PI/2;//+ (-.3+Math.random()*.6);\n    bottles.push(newInstance);\n  });\n\n}\n\n\nexport default Dinner;\n","import React from 'react';\nimport { faRetweet } from \"@fortawesome/free-solid-svg-icons\";\nimport { faComment, faHeart } from \"@fortawesome/free-regular-svg-icons\";\nimport { faTwitter } from \"@fortawesome/free-brands-svg-icons\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\n\nclass Tweet extends React.Component {\n  // https://codepen.io/JohJakob/pen/YPxgwo\n  constructor(props) {\n    super(props);\n\n  }\n\n  render() {\n    if (this.props.tweet) {\n      return this.getTweet(this.props.tweet);\n    }\n    return <div>{this.props.confession.txt}</div>\n  }\n\n  getTweet = (tweet) => {\n    const {text, username, url, likes, rts, replies, time, tweetID} = tweet;\n    const tweetUri = `twitter.com/${username}/status/${tweetID}`;\n    const profileUrl = \"https://twitter.com/\" + username;\n    const tweetUriA = <a href={\"https://\"+tweetUri} target=\"_blank\">{tweetUri.substring(0, 15) + \"...\"}</a>;\n      var name = tweet.name;\n      if (name.length > 24) name = name.substring(0, 24) + \"...\";\n      return (\n        <div className=\"tweet\">\n          <div className=\"tweet-top\">\n            <div className=\"tweeter-icon\" style={{backgroundImage: `url(${url})`}}><div className=\"inner\"></div></div>\n            <div className=\"tweeter\">\n              <div className=\"person\"><a href={profileUrl} target=\"_blank\">{name}</a></div>\n              <div className=\"tweet-handle\"><a href={profileUrl} target=\"_blank\">@{username}</a></div>\n            </div>\n            <div className=\"tweet-time\"> {time}</div>\n          </div>\n          <div className=\"tweet-content\">{text}</div>\n          <div><hr /></div>\n          <div className=\"tweet-metrics\">\n            <div className=\"comments\"><FontAwesomeIcon icon={faComment} /><span>{likes}</span></div>\n            <div className=\"retweets\"><FontAwesomeIcon icon={faRetweet} /><span>{rts}</span></div>\n            <div className=\"likes\"><FontAwesomeIcon icon={faHeart} /><span>{replies}</span></div>\n          </div>\n        </div>\n      )\n    }\n\n  }\n\n  export default Tweet;\n","import React from 'react';\nimport {getRandom, getRandomNum} from '../../../shared/Helpers/Helpers';\nimport DesktopIcon from '../../../shared/DesktopIcon/DesktopIcon';\nimport Tweet from './Tweet';\n// import txt from '../assets/Canned/txt-ligher.png';\n\nexport default function(props) {\n  const {i, time, confession, tweet, onDblClick, zIcon, zFrame, newFrameToTop, newIconToTop} = props;\n  const x = getRandomNum(i+30)*(window.innerWidth-100);\n  const y = 15*Math.sin(time/400 + x/100)+getRandomNum(i+3)*(window.innerHeight-200);\n  const box={x: 100+i*20, y:100+i*20, w:400};\n  box.y = 15*Math.sin(time/400 + box.x/100)+box.y;\n\n  return (\n    <DesktopIcon key={i} title={\"#confession\"} onDblClick={() => onDblClick(i+1)} newFrameToTop={() => {newFrameToTop(i)}} newIconToTop={() => {newIconToTop(i)}} x={x} y={y} zIcon={zIcon} zFrame={zFrame} box={box}\n    content={\n      <img src={window.AWS+\"/waveforms/txt-ligher.png\"} width={80} height={80} />\n    }\n    frameContent={\n      <div className=\"confession-txt\"><Tweet confession={confession} tweet={tweet} /></div>\n    }\n    />\n  )\n}\n","import React from 'react';\nimport Frame from '../../shared/Frame/Frame';\n\n// import FrameSimple from '../../shared/Frame/FrameSimple';\nimport './WaveForms.css';\nimport ReactPlayer from 'react-player'\n\nimport ReactAudioPlayer from 'react-audio-player';\n\nimport {getRandomNum, getNewZIndices} from '../../shared/Helpers/Helpers';\nimport {getTweetContent, initConfessions, initZIndicesIcons, initZIndicesFrames} from './components/Helpers';\nimport Confession from './components/Confession';\n// import mainVid from  \"./assets/waves2_lines.mp4\";\n// import dove from  \"./assets/dove_t.gif\";\n// import shellSound from \"./assets/shell_sound.wav\";\n\nimport Glasses from '../../shared/Glasses/Glasses';\n\n\n\n// import txt from './assets/Canned/txt.png';\n\nimport { faEye,faRetweet, faVideo, faMicrophoneAlt, faMicrophoneAltSlash } from \"@fortawesome/free-solid-svg-icons\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\n\n\nclass Confessions extends React.Component {\n  // https://codepen.io/JohJakob/pen/YPxgwo\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      confessions: initConfessions(),\n      tweets: [],\n      time: 0,\n      zIndicesIcons: initZIndicesIcons(),\n      zIndicesFrames: initZIndicesFrames()\n    };\n\n\n    this.fetchTweets = this.fetchTweets.bind(this);\n    this.addTweet = this.addTweet.bind(this);\n  }\n\n\n  componentDidMount() {\n    this.interval = setInterval(() => this.setState({ time: Date.now() }), 30);\n    this.fetchTweets();\n    // this.props.userSetRoom(\"confessions\");\n  }\n\n  componentWillUnmount() {\n    clearInterval(this.interval);\n    // this.props.userLeaveRoom(\"confessions\");\n  }\n\n\n  async fetchTweets() {\n    // const query = encodeURI(\"\\#confession\");\n    // console.log(\"WERERE\", query);\n    const url = `/api/get/tweets/%23confession`;\n    const response = await fetch(url);\n    const initialRes = await response.json();\n\n    if (initialRes.tweets.data) {\n      // const mode = Math.floor(Math.random()*3);\n      // let id = 0;//getMostEngagement(mode, initialRes.tweets.data); //Math.floor(Math.random()*10);\n      // const tweet = initialRes.tweets.data[id];\n      // const user = initialRes.tweets.includes.users[id];\n      // this.addTweet(tweet, user);\n      let i = 0;\n      const users = initialRes.tweets.includes.users;\n\n      console.log(\"USERS\", users);\n      for (const tweet of initialRes.tweets.data) {\n        const id = tweet.author_id;\n        const findUserByID = users.filter(user => {\n          return user.id == id\n        })\n        if (findUserByID[0] && tweet) this.addTweet(i++, tweet, findUserByID[0]);\n      }\n\n    }\n    else {\n      console.log(\"NO TWEETS\");\n    }\n\n    console.log(\"DONE\", this.state.tweets);\n  }\n\n\n\n\n  addTweet = (i, tweetObj, user) => {\n    // console.log(\"TWEET\", tweetObj);\n    // console.log(\"USER\", user);\n\n    let tweets = [...this.state.tweets];\n    const tweet = {};\n    tweet.text = getTweetContent(tweetObj.text);\n    tweet.time = \"5s\"; //getTweetTime(tweetObj.created_at);\n    tweet.tweetID = tweetObj.id;\n    tweet.name = user.name;\n    tweet.url = user.profile_image_url;\n    tweet.username = user.username;\n    tweet.likes = tweetObj.public_metrics.like_count;\n    tweet.rts = tweetObj.public_metrics.retweet_count;\n    tweet.replies = tweetObj.public_metrics.reply_count;\n    if (i === 0) tweets[0] = tweet;\n    else tweets.push(tweet);\n    this.setState({tweets});\n  }\n\n\n\n  newIconToTop = (id) => {\n    console.log(\"id\", id)\n    const newZ = getNewZIndices(id, this.state.zIndicesIcons);\n    this.setState({zIndicesIcons: newZ});\n    // console.log(\"ZZZ\", this.state.zIndices);\n  }\n\n\n  newFrameToTop = (id) => {\n    const newZ = getNewZIndices(id, this.state.zIndicesFrames);\n    this.setState({zIndicesFrames: newZ});\n    // console.log(\"ZZZ\", this.state.zIndices);\n  }\n\n  onDblClick = (id) => {\n    // console.log(id);\n    this.newFrameToTop(id);\n  }\n\n  render() {\n    const {confessions, tweets, time, zIndicesIcons, zIndicesFrames} = this.state;\n\n    return (\n      <div className=\"WaveForms Sketch\">\n        {\n          confessions.map((confession, i) => {\n            const props = {\n              zIcon: zIndicesIcons[i],\n              zFrame: zIndicesFrames[i],\n              time: time,\n              tweet: tweets[i],\n              confession: confessions[i],\n              onDblClick: this.onDblClick,\n              newFrameToTop: this.newFrameToTop,\n              newIconToTop: this.newIconToTop,\n            }\n            return(<Confession key={i} i={i}  {...props}/>)\n          })\n        }\n        <Glasses y={30} />\n      </div>\n    );\n  }\n}\n\n\n\nexport default Confessions;\n","import { Scene, MeshBuilder, StandardMaterial, CubeTexture, Color3,Color4,Vector3, Mesh, Texture } from 'babylonjs';\n\nexport default class Emoji {\n\n  constructor(scene) {\n    this.r = Math.random()*8;\n    this.ang = Math.random() * 2 * Math.PI;\n\n    const imgs = [\"wave\", \"angry\", \"angry2\", \"tp\", \"flag\", \"rabbit\"];\n    this.index = 0;\n    let rand = Math.random();\n\n    if (rand < .025) this.index = 1;\n    else if (rand < .05) this.index = 2;\n    else if (rand < .1) this.index = 3;\n    else if (rand < .15) this.index = 4;\n\n    var emojiTexture = new Texture(`${window.AWS}/vorTech/emojis/${imgs[this.index]}.png`, scene);\n    // emojiTexture.vScale = emojiTexture.uScale = 10;\n    var emojiMaterial = new StandardMaterial(\"emojiMaterial\", scene);\n    emojiMaterial.diffuseTexture = emojiTexture;\n    emojiMaterial.diffuseTexture.hasAlpha = true;\n    this.emoji = Mesh.CreateGround(\"wave\", 1.2, 1.2, 1, scene, false);\n    this.emoji.rotation.x = -Math.PI/2;\n    this.emoji.material = emojiMaterial;\n    this.emoji.setEnabled(false);\n    // this.emoji = MeshBuilder.CreateSphere(\"sphere\", {}, scene);\n  }\n\n  startFlush() {\n    this.r = Math.random()*8+7;\n    this.ang = Math.random() * 2 * Math.PI;\n    this.emoji.setEnabled(true);\n  }\n\n  hide() {\n    this.emoji.setEnabled(false);\n  }\n\n  update(isStopping=false) {\n    if (this.r < 2 && isStopping) {\n      this.emoji.setEnabled(false);\n    } else if (this.r < 2) {\n      this.r = 8;//Math.random()*200+window.innerWidth/2;\n    }\n    else {\n\n      this.r -= .01;\n      // let speed = (9-this.r)*.01;\n      if (this.r > 6) this.ang -= .01;\n      else if (this.r > 5) this.ang -= .02;\n      else if (this.r > 4) this.ang -= .03;\n      else if (this.r > 3) this.ang -= .04;\n      else this.ang -= .08;\n\n      let sc = (this.r)/5.5;\n      if (sc > 1) sc = 1;\n      this.emoji.scaling = new Vector3(sc, sc, sc);\n      // this.ang -= speed;\n\n      this.emoji.position.y = this.r*Math.cos(this.ang)//+window.innerHeight/2;\n      this.emoji.position.x = this.r*Math.sin(this.ang)//+window.innerWidth/2;\n\n      this.emoji.position.z = ((8-this.r)*6);\n    }\n\n  }\n}\n","export const labels = [\n  [\n    {txt: \"lukewarm peppermint tea\", x:12, y:11.5},\n    {txt: \"Alexa, listening...\", x:10, y:4},\n    {txt: \"dying house plant\", x:1, y:1},\n    {txt: \"forgotten lunch tupperware\", x:1, y: 10.8},\n  ],\n  [\n    {txt: \"(free) cherry flavored condoms\", x:6.5, y:5},\n    {txt: \"love letters from exes\", x:3, y:4},\n    {txt: \"rat-sized drain hairball\", x:14.4, y:1},\n    {txt: \"8 weeks of laundry\", x:14, y:7},\n  ],\n  [\n    {txt: \"$27,256 in student loan bills\", x:11, y:10},\n    {txt: \"mania meds\", x:14, y:5},\n    {txt: \"box full of green\", x:6.5, y:3},\n    {txt: \"afternoon delight\", x:7, y:2},\n  ]\n]\n\nvar labelsOG = [\n\n  // foyer\n  {txt: \"Foster Wallace books (for looks)\", x:240, y:250, sc: 2},\n  {txt: \"house plant that I overwatered\", x:355, y:90, sc: 2},\n  {txt: \"past-due Amazon return\",x:220, y:200,  sc: 3},\n  {txt: \"forgotten lunch tupperware\", x:380, y:220, sc: 3},\n  {txt: \"decorative jar stolen (taken?) from bougie hotel\", x:350, y:280, sc: 4},\n  {txt: \"$27,256 in student loan bills\", x:220, y:50, sc: 4},\n\n\n  // bedroom\n  {txt: \"lukewarm peppermint tea\", x:210, y:500, sc: 2},\n  {txt: \"favorite earring lost behind dresser\", x:220, y:360, sc: 2},\n  {txt: \"love letters from exes\", x:300, y:330, sc: 3},\n  {txt: \"(free) cherry flavored condoms\", x:380, y:520, sc: 3},\n  {txt: \"period blood-stained undies\", x:350, y:550, sc: 4},\n  {txt: \"mania meds\", x:200, y:400, sc: 4},\n  {txt: \"valuables box: birth certificate, social, passport\", x:380, y:470, sc: 4},\n\n  // bathroom\n  {txt: \"termite dust...\", x:580, y:500, sc: 2},\n  {txt: \"rat-sized drain hairball\", x:580, y:530, sc: 3},\n  {txt: \"15-year-expired laxatives\", x:580, y:410, sc: 4},\n\n  // bathroom 2\n  {txt: \"fungus amungus\", x:1140, y:470, sc: 2},\n  {txt: \"shower blowie\", x:1160, y:550, sc: 3},\n\n  // hall\n  {txt: \"unplugged fire alarm\", x:695, y:365, sc: 2},\n\n  // back porch\n  {txt: \"fat cat sightings\", x:1270, y:330, sc: 2},\n  {txt: \"spliff butts\", x:1255, y:400, sc: 4},\n\n  // front porch\n  {txt: \"3 Amazon packages worth of glitter\", x:50, y:340, sc: 2},\n  {txt: \"not so secret key\", x:55, y:500, sc: 3},\n\n  // kitchen\n  {txt: \"ramen for days\", x:950, y:260, sc: 2},\n  {txt: \"hot glue-able Mardi Gras bedazzlers\", x:1080, y:80, sc: 2},\n  {txt: \"multiple dead cockroaches\", x:900, y:150, sc: 3},\n  {txt: \"pantry moth infestation\", x:1000, y:220, sc: 3},\n  {txt: \"very gassy gumbo\", x:1080, y:260, sc: 4},\n  {txt: \"box full of green\", x:1080, y:140, sc: 4},\n\n  // living\n  {txt: \"color-coordinated textbooks\", x:700, y:250, sc: 2},\n  {txt: \"side-of-the-road chair\", x:590, y:50, sc: 2},\n  {txt: \"plastic World Market succulent\", x:700, y:190, sc: 3},\n  {txt: \"Alexa, listening...\", x:740, y:100, sc: 3},\n  {txt: \"afternoon delight\", x:740, y:170, sc: 4},\n  {txt: \"unused ADT alarm\", x:550, y:270, sc: 4},\n\n  // 2nd bedroom\n  {txt: \"$4.34 in (scattered) change\", x:900, y:460, sc: 2},\n  {txt: \"aspirational jeans\", x:790, y:550, sc: 2},\n  {txt: \"70s porn mags from creepy uncle\", x:940, y:340, sc: 3},\n\n  {txt: \"8 weeks of laundry\", x:840, y:500, sc: 3},\n  {txt: \"magic mushrooms\", x:840, y:420, sc: 4},\n  {txt: \"\", x:920, y:550, sc: 4},\n\n\n];\n\nexport const rooms = [\n  {\"name\": \"foyer\", \"icon\": \"foyer\", \"points\": [0, 0, 0, 0,0,6,6,0,6,6,0,0,0, 0, 0], \"iconPos\": {x: 3, y: 3}},\n  {\"name\": \"living\", \"icon\": \"living\", \"points\": [6, 0,0,6,0,6,14,0, 6, 14,0, 0,6, 0,0], \"iconPos\": {x: 10, y: 3}},\n  {\"name\": \"bathroom\", \"icon\": \"bathroom\", \"points\": [14, 0,0,14,0, 6, 18,0,6, 18,0,0,14, 0,0], \"iconPos\": {x: 16, y: 3}},\n  {\"name\": \"kitchen\", \"icon\": \"kitchen\", \"points\": [0,0,6, 0, 0,12,10,0, 12,10,0, 6,0,0,6], \"iconPos\": {x: 5, y: 9}},\n  {\"name\": \"bedroom\", \"icon\": \"bedroom\", \"points\": [10,0, 6, 10, 0,12, 18,0, 12, 18,0,6,10,0, 6], \"iconPos\": {x: 12, y: 8}},\n  {\"name\": \"back yard\", \"icon\": \"backyard\", \"points\": [], \"iconPos\": {x: 20, y: 8}},\n  {\"name\": \"front porch\", \"icon\": \"frontporch\", \"points\": [], \"iconPos\": {x: -2, y: 3}}\n];\n\nexport const roads = [\n  [-2, 0, 3, 16, 0, 3],\n  [3,0, 3, 3, 0, 8, 5, 0, 9],\n  [10,0, 3, 12, 0, 8, 20, 0, 8]\n];\n\nexport const doors = [\n  [0, 0, 2, 0, 0, 4], //outsideDoor\n  [2, 0, 6, 4, 0, 6], //kitchen\n  [6, 0, 2, 6, 0, 4], // to living\n  [14, 0, 2, 14, 0, 4], // bath\n  [11, 0, 6, 13, 0, 6], // bed\n  [18, 0, 7, 18, 0, 9] // back\n]\n\nexport const roomLines = [\n  [0, 0, 12, 18, 0, 12], // tophoriz\n  [0, 0, 6, 2, 0, 6], // mid horiz\n  [4, 0, 6, 11, 0, 6],\n  [13, 0, 6, 18, 0, 6],\n  [0, 0, 0, 18, 0, 0], // bottom horiz\n  [0, 0, 0, 0, 0, 2], // vert bot left\n  [0, 0, 4, 0, 0, 12],\n  [6, 0, 0, 6, 0, 2],\n  [6, 0, 4, 6, 0, 6],\n  [10, 0, 6, 10, 0, 12],\n  [14, 0, 0, 14, 0, 2],\n  [14, 0, 4, 14, 0, 6],\n  [18, 0, 0, 18, 0, 7],\n  [18, 0, 9, 18, 0, 12],\n]\n","import React, { Component } from \"react\";\nimport ReactDOM from \"react-dom\";\nimport * as THREE from \"three\";\nimport './Oogle.css';\nimport {AnaglyphEffect} from 'three/examples/jsm/effects/AnaglyphEffect';\n// var AnaglyphEffect = require('./assets/AnaglyphEffect')(THREE);\n\nimport { OBJLoader } from 'three/examples/jsm/loaders/OBJLoader.js';\nimport { VertexNormalsHelper } from 'three/examples/jsm/helpers/VertexNormalsHelper.js';\nimport { VertexTangentsHelper } from 'three/examples/jsm/helpers/VertexTangentsHelper.js';\nimport { SVGLoader } from 'three/examples/jsm/loaders/SVGLoader.js';\nimport { BufferGeometryUtils } from 'three/examples/jsm/utils/BufferGeometryUtils.js';\n\nimport { MapControls, OrbitControls } from 'three/examples/jsm/controls/OrbitControls.js';\n\nimport { Line2 } from 'three/examples/jsm/lines/Line2.js';\nimport { LineGeometry } from 'three/examples/jsm/lines/LineGeometry.js';\nimport { LineMaterial } from 'three/examples/jsm/lines/LineMaterial.js';\nimport { Wireframe } from 'three/examples/jsm/lines/Wireframe.js';\nimport { WireframeGeometry2 } from 'three/examples/jsm/lines/WireframeGeometry2.js';\nimport { GeometryUtils } from 'three/examples/jsm/utils/GeometryUtils.js';\n\nimport {rooms, roomLines, roads, doors, labels} from './data';\n\nvar mapR = 0;\n\nclass Oogle extends Component {\n\n  constructor(props) {\n    super(props);\n\n    this.mount = React.createRef();\n    this.canvas = React.createRef();\n  }\n\n  componentDidMount() {\n\n    // for (let i = 0; i < 10; i ++) {\n    //   labels[i].x = points[i].x;\n    //   labels[i].y = points[i].y+3;\n    // }\n\n    var scene, renderer;\n    var effect;\n    var camera, light;\n    var vnh;\n    var vth;\n    // var object;\n    var wireframe, wireframe1;\n    var matLine, matLineBasic, matLineDashed;\n    var controls;\n    var icons = [];\n    // var labelSvgs = [];\n\n    var labelGroups = [[], [], [], []];\n    var roomLabels = [];\n\n    var scaler = 100;\n    var startX = -8*scaler;\n    var startZ = -6*scaler;\n\n    init(this.mount, this.canvas);\n    animate();\n\n    function init(mount, canvas) {\n\n      renderer = new THREE.WebGLRenderer();\n      renderer.setPixelRatio( window.devicePixelRatio );\n      renderer.setSize( window.innerWidth, window.innerHeight );\n      mount.appendChild( renderer.domElement );\n\n      //\n\n\n      // camera.position.x = 9*scaler;\n      // camera.position.y = 6*scaler;\n      // camera.lookAt(new THREE.Vector3(9*scaler,6*scaler,0));\n\n      renderer.setClearColor (0xffff00, 1);\n\n      scene = new THREE.Scene();\n\n\n      camera = new THREE.PerspectiveCamera( 70, window.innerWidth / window.innerHeight, 1, 10000 );\n      // camera.position.z = 1200;\n      camera.position.set(0, 1200, 0);\n      camera.lookAt(scene.position);\n\n      controls = new MapControls( camera, renderer.domElement );\n      // controls.maxPolarAngle = 0;\n      controls.minZoom = .1;\n      // controls.maxZoom = .5;\n      controls.maxDistance = 2000;\n      controls.update();\n\n      light = new THREE.PointLight();\n      light.position.set( 200, 100, 150 );\n      scene.add( light );\n\n      effect = new AnaglyphEffect( renderer);\n      effect.setSize( window.innerWidth, window.innerHeight );\n\n      initRoomIcons();\n      initLabels();\n\n\n      addRooms();\n      // addDoors();\n      addRoads();\n      ///////////// WIREFRAME OBJ\n      // manager\n      const wallH = 400;\n      loadObj(window.AWS+ '/oogle/models/sofa/Sofa_01.obj', {x: 9*scaler, y: -200, z: 1*scaler}, 15, -Math.PI/2);\n      loadObj(window.AWS+ '/oogle/models/toilet/Toilet_01.obj', {x: 17*scaler, y: -200, z: 5*scaler}, 18, Math.PI);\n      loadObj(window.AWS+ '/oogle/models/bed3/Bed_01.obj', {x: 16*scaler, y: -200, z: 10*scaler}, 15, -Math.PI/2);\n      // loadObj('/assets/s3-bucket/oogle/models/window/Window_02.obj', {x: 2*scaler, y: -100, z: 0*scaler}, 10, Math.PI/2);\n      loadObj(window.AWS+ '/oogle/models/window/Window_02.obj', {x: 0*scaler, y: -50, z: 9*scaler}, 10, 0);\n      loadObj(window.AWS+ '/oogle/models/kitchen/cabinets.obj', {x: 7.6*scaler, y: -80, z: 9.5*scaler}, 130, Math.PI);\n      // loadObj('/assets/s3-bucket/oogle/models/door/Door_01.obj', {x: 0*scaler, y: -200, z: 3*scaler}, 45, Math.PI);\n      // loadObj('/assets/s3-bucket/oogle/models/fiddle/RubberFigPottedPlant.obj', {x: 5*scaler, y: -200, z: 5*scaler}, 30, Math.PI);\n\n      drawGrid(12*scaler, {x: 6*scaler, y: -200, z: 6*scaler});\n      drawGrid(6*scaler, {x: 9*scaler+6*scaler, y: -200, z: -3*scaler+6*scaler});\n      drawGrid(6*scaler, {x: 9*scaler+6*scaler, y: -200, z: 3*scaler+6*scaler});\n\n      /////////// WIREFRAME GEOMETRY\n      // Wireframe ( WireframeGeometry2, LineMaterial )\n\n\n      // addSkybox();\n\n      // window.addEventListener( 'resize', onWindowResize, false );\n\n    }\n\n    function initLabels() {\n      let level = 0;\n      for (const labelLevel of labels) {\n        for (let i = 0; i < labelLevel.length; i++) {\n          const label = labelLevel[i];\n          let path = window.AWS + `/oogle/labels/l${level}/${i}.svg`;\n          // let path = `/assets/s3-bucket/oogle/labels/rooms/bathroom.svg`;\n\n          let callback = (group, lev) => {\n            group.position.set(label.x*scaler+startX, -180, label.y*scaler+startZ);\n            group.scale.set(1, 1, 1);\n            labelGroups[lev].push(group);\n            scene.add(group);\n          }\n          let l = level;\n          loadSVG(path, {x:0, y:0, z:0}, Math.PI/2, (group) => callback(group, l));\n        }\n        level++;\n      }\n    }\n\n    function initRoomIcons() {\n      for (const room of rooms) {\n\n\n        let labelCallback = (gl, gi) => {\n          var pivot = new THREE.Object3D();\n          pivot.add( gl );\n          pivot.add(gi);\n          // pivot.scale.multiplyScalar(2 );\n          pivot.position.set(room.iconPos.x*scaler+startX, 0, room.iconPos.y*scaler+startZ);\n          scene.add( pivot );\n          icons.push(pivot);\n          roomLabels.push(gl);\n        }\n        let iconCallback = (group) => {\n          // group.scale.multiplyScalar(2 );\n          let path = window.AWS + \"/oogle/labels/rooms/\" + room.icon + \".svg\";\n          // let path = \"/assets/s3-bucket/oogle/labels/rooms/txt.svg\";\n          loadSVG( path, {x: -20, y: .1, z: 5}, Math.PI/2, (gl) => labelCallback(gl, group) );\n        }\n        let path = window.AWS + \"/oogle/assets/icons/icon2.svg\"; // + points[i].icon + \".svg\"\n        loadSVG( path, {x: -10, y: .1, z: -30}, Math.PI/2, iconCallback );\n      }\n\n    }\n\n    // function onWindowResize() {\n    //\n    //   camera.aspect = window.innerWidth / window.innerHeight;\n    //   camera.updateProjectionMatrix();\n    //\n    //   renderer.setSize( window.innerWidth, window.innerHeight );\n    //\n    // }\n\n    function createCharacterLabelOG( canvas, text, {x, y, z}, level) {\n      // level = 0 is least intimate = biggest text\n      // const sc = (3-(level))*60;\n      const sc = 60;\n      const ctx = canvas.getContext( '2d' );\n\n      // var fs = 130;\n      // if (level === 1) fs = 30;\n      // else if (level === 2) fs = 20;\n      // const font = fs + 'px grobold';\n\n      const font = '24px grobold';\n      ctx.font = font;\n      canvas.width = Math.ceil( ctx.measureText( text ).width + 16 );\n      canvas.height = 34;\n\n      // ctx.strokeStyle = 'none';\n      ctx.lineWidth = 8;\n      ctx.lineJoin = 'miter';\n      ctx.miterLimit = 3;\n      // ctx.strokeText( text, 8, 26 );\n      ctx.fillStyle = 'black';\n      ctx.fillText( text, 8, 26 );\n\n      const spriteMap = new THREE.Texture( ctx.getImageData( 0, 0, canvas.width, canvas.height ) );\n      spriteMap.minFilter = THREE.LinearFilter;\n      spriteMap.generateMipmaps = false;\n      spriteMap.needsUpdate = true;\n\n      const sprite = new THREE.Sprite( new THREE.SpriteMaterial( { map: spriteMap } ) );\n      sprite.scale.set( sc * canvas.width / canvas.height, sc, 1 );\n      sprite.position.set(x, y, z);\n      // console.log(sprite.position)\n      // return sprite;\n      // scene.add(sprite);\n      return sprite;\n    }\n\n    function animate() {\n\n      requestAnimationFrame( animate );\n\n      // camera.rotate.y = mapR;\n      // scene.position.x = Math.cos( mapR );\n      // scene.position.z = Math.sin( mapR );\n      scene.rotation.y = mapR;\n      // scene.position.set(-8*scaler, 0, -6*scaler);\n      var time = 0; //- performance.now() * 0.0003;\n      // camera.position.x = 400 * Math.cos( time );\n      // camera.position.z = 400 * Math.sin( time );\n      // camera.lookAt( scene.position );\n      light.position.x = Math.sin( time * 1.7 ) * 300;\n      light.position.y = Math.cos( time * 1.5 ) * 400;\n      light.position.z = Math.cos( time * 1.3 ) * 300;\n\n\n      setRoomIconTransforms();\n      setLabelTransforms();\n      setVisibleLabels();\n\n      if ( vnh ) vnh.update();\n      if ( vth ) vth.update();\n\n      // renderer will set this eventually\n      // if (matLine) matLine.resolution.set( window.innerWidth, window.innerHeight ); // resolution of the viewport\n      controls.update();\n      effect.render( scene, camera );\n    }\n\n    function setRoomIconTransforms() {\n      for (const group of icons) {\n        group.rotation.y = camera.rotation.z-mapR;\n        // let sc = camera.position.y/500;\n        var scaleVector = new THREE.Vector3();\n        var scaleFactor = 500;\n        var scale = scaleVector.subVectors(scene.position, camera.position).length() / scaleFactor;\n        group.scale.set(scale, scale, scale)\n      }\n    }\n\n    function setLabelTransforms() {\n      let lev = 1;\n      for (const level of labelGroups) {\n        for (const group of level) {\n          group.rotation.z = -camera.rotation.z+mapR;\n          let val = 1;\n          // if (level === 1) val = .7;\n          // else if (val === 2) val = .6;\n          let sc = (camera.position.y-group.position.y)/800*val;\n          var scaleVector = new THREE.Vector3();\n          // var scaleFactor = 600+(lev++)*50;\n          // var scaleFactor = 700;\n          // var scale = scaleVector.subVectors(new THREE.Vector3(camera.position.x, 0, camera.position.z), camera.position).length() / scaleFactor;\n          // group.scale.set(scale, scale, scale)\n          group.scale.set(sc, sc, sc)\n        }\n      }\n    }\n\n    function setVisibleLabels() {\n      setRoomLabels();\n      resetLabelGroups();\n\n      // other labels\n      // reset\n\n      const y = camera.position.y ;\n\n      if (y> 0) {\n        if (y < 900) {\n          for (const lg of labelGroups[0]) {\n            lg.visible = true;\n          }\n        }\n        if (y < 500) {\n          for (const lg of labelGroups[1]) {\n            lg.visible = true;\n          }\n        }\n        if (y < 300) {\n          for (const lg of labelGroups[2]) {\n            lg.visible = true;\n          }\n        }\n\n      }\n\n    }\n\n    function resetLabelGroups() {\n      for (const level of labelGroups) {\n        for (const lg of level) {\n          lg.visible = false;\n        }\n      }\n    }\n\n\n    function setRoomLabels() {\n      const y = camera.position.y ;\n      // room labels\n      for (const g of roomLabels) {\n        if ((y< 1100) && y > 0) {\n          g.visible = true;\n        }\n        else g.visible = false;\n      }\n    }\n\n\n\n\n    function addRooms() {\n      // console.log(\"len\", roomLines.length)\n      for (const room of roomLines) {\n        const roomPoints = room.map(function(x, i) {\n          if ((i-1) %3 == 0) return -200;\n          return x * scaler;\n        });\n        addLine(roomPoints, 0x000000, 2);\n      }\n    }\n\n    function addRoads() {\n      // for (let i = 0; i < 4; i++) {\n      //   const l0 = [points[i].x, 0, points[i].y, points[i+1].x, 0, points[i+1].y];\n      //   addLine(l0);\n      // }\n      for (const road of roads) {\n        const roadPoints = road.map(function(x) { return x * scaler; });\n        addLine(roadPoints);\n      }\n    }\n\n    function addDoors() {\n      for (const door of doors) {\n        const doorPoints = door.map(function(x) {\n          return x * scaler;\n        });\n        addLine(doorPoints, 0xffff00, 8);\n      }\n    }\n\n    // positions needs to be an array of vector3s\n    function addLine(positions, col=0x000000, lW=5) {\n      // OG?\n      //create a blue LineBasicMaterial\n      // var material = new THREE.LineBasicMaterial( { color: 0x0000ff } );\n      // var geometry = new THREE.BufferGeometry().setFromPoints( pts );\n      // var line = new THREE.Line( geometry, material );\n      // scene.add( line );\n\n      var geometry = new LineGeometry();\n      geometry.setPositions( positions );\n      // geometry.setColors( colors );\n\n      matLine = new LineMaterial( {\n        color: col,\n        linewidth: lW, // in pixels\n        vertexColors: false,\n        //resolution:  // to be set by renderer, eventually\n        dashed: false\n\n      } );\n      matLine.resolution.set( window.innerWidth, window.innerHeight );\n\n      var line = new Line2( geometry, matLine );\n      line.position.set(startX, 0, startZ);\n      line.computeLineDistances();\n      line.scale.set( 1, 1, 1 );\n      scene.add( line );\n    }\n\n    function loadSVG( url, {x, y, z}, rot, callback ) {\n      var loader = new SVGLoader();\n      loader.load( url, function ( data ) {\n        var paths = data.paths;\n\n        var group = new THREE.Group();\n\n        group.position.x = x;\n        group.position.y = y;\n        group.position.z = z;\n        // group.scale.y *= - 1;\n        group.rotation.x = rot;\n        // group.rotation.z = Math.PI;\n\n\n\n        for ( var i = 0; i < paths.length; i ++ ) {\n\n          var path = paths[ i ];\n\n          var fillColor = path.userData.style.fill;\n          var drawFills = true;\n          if (drawFills && fillColor !== undefined && fillColor !== 'none' ) {\n\n            var material = new THREE.MeshBasicMaterial( {\n              color: new THREE.Color().setStyle( fillColor ),\n              opacity: path.userData.style.fillOpacity,\n              transparent: path.userData.style.fillOpacity < 1,\n              side: THREE.DoubleSide,\n              depthWrite: false,\n              wireframe: false\n            } );\n\n            var shapes = path.toShapes( true );\n\n            for ( var j = 0; j < shapes.length; j ++ ) {\n\n              var shape = shapes[ j ];\n\n              var geometry = new THREE.ShapeBufferGeometry( shape );\n              var mesh = new THREE.Mesh( geometry, material );\n              // mesh.geometry.translate(0, 0, 0 );\n              group.add( mesh );\n\n            }\n\n          }\n\n          var strokeColor = path.userData.style.stroke;\n          var drawStrokes = true;\n          if ( drawStrokes && strokeColor !== undefined && strokeColor !== 'none' ) {\n\n            var material = new THREE.MeshBasicMaterial( {\n              color: new THREE.Color().setStyle( strokeColor ),\n              opacity: path.userData.style.strokeOpacity,\n              transparent: path.userData.style.strokeOpacity < 1,\n              side: THREE.DoubleSide,\n              depthWrite: false,\n              wireframe: false\n            } );\n\n            for ( var j = 0, jl = path.subPaths.length; j < jl; j ++ ) {\n\n              var subPath = path.subPaths[ j ];\n\n              var geometry = SVGLoader.pointsToStroke( subPath.getPoints(), path.userData.style );\n\n              if ( geometry ) {\n\n                var mesh = new THREE.Mesh( geometry, material );\n\n                group.add( mesh );\n\n              }\n\n            }\n\n          }\n\n        }\n\n        // scene.add( group );\n        callback(group);\n      } );\n\n    }\n\n    function setupAttributes( geometry ) {\n\n      var vectors = [\n        new THREE.Vector3( 1, 0, 0 ),\n        new THREE.Vector3( 0, 1, 0 ),\n        new THREE.Vector3( 0, 0, 1 )\n      ];\n\n      var position = geometry.attributes.position;\n      var centers = new Float32Array( position.count * 3 );\n\n      for ( var i = 0, l = position.count; i < l; i ++ ) {\n\n        vectors[ i % 3 ].toArray( centers, i * 3 );\n\n      }\n\n      geometry.setAttribute( 'center', new THREE.BufferAttribute( centers, 3 ) );\n\n    }\n\n    function vertexShader() {\n      return `\n      attribute vec3 center;\n      varying vec3 vCenter;\n\n      void main() {\n\n        vCenter = center;\n\n        gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\n\n      }`\n    }\n\n    function fragmentShader() {\n      return `uniform float widthFactor;\n\n      varying vec3 vCenter;\n\n      float edgeFactorTri() {\n\n        vec3 d = fwidth( vCenter.xyz );\n\n        vec3 a3 = smoothstep( vec3( 0.0 ), d * widthFactor, vCenter.xyz );\n\n        return min( min( a3.x, a3.y ), a3.z );\n\n      }\n\n      void main() {\n\n        if ( edgeFactorTri() > 0.99 ) discard;\n\n        gl_FragColor = gl_FrontFacing ? vec4( 0.9, 0.9, 1.0, 1.0 ) : vec4( 0.4, 0.4, 0.5, 1.0 );\n\n      }`\n    }\n\n    function drawGrid(w, {x, y, z}) {\n      let div = w/100;\n      var gridHelper = new THREE.GridHelper( w, div, 0x000000, 0x808080 );\n      gridHelper.position.set(x+startX, y, z+startZ);\n      scene.add( gridHelper );\n\n      // var geometry = new THREE.PlaneGeometry( 400, 200, 40, 40 );\n      // var material = new THREE.MeshBasicMaterial( {color: 0xffffff, side: THREE.DoubleSide} );\n      // var plane = new THREE.Mesh( geometry, material );\n      // plane.position.set(-50, -200, 0);\n      // var helper = new THREE.PlaneHelper( plane, 1, 0xffff00 );\n      // scene.add( helper );\n    }\n\n    function drawRoom({w, h, d}, {x, y, z}, opac, color) {\n      var geometry = new THREE.BoxGeometry( w, h, d );\n      const material = new THREE.MeshPhongMaterial({\n        color: color,\n        opacity: opac,\n        transparent: true,\n      });\n      const cube = new THREE.Mesh(geometry, material);\n\n      var geometryL = new WireframeGeometry2( geometry );\n      var matLine = new LineMaterial( {\n        color: 0x4080ad,\n        linewidth: 5, // in pixels\n        //resolution:  // to be set by renderer, eventually\n        dashed: false\n      } );\n      matLine.resolution.set(window.innerWidth, window.innerHeight);\n      var wireframe = new Wireframe( geometryL, matLine );\n      wireframe.computeLineDistances();\n      // wireframe.scale.set( sc, sc, sc );\n      // scene.add( wireframe );\n      scene.add(cube);\n      wireframe.position.set(x, y, z);\n      cube.position.set(x, y, z);\n    }\n\n    function isoLines() {\n      var geo = new THREE.IcosahedronBufferGeometry( 20, 1 );\n      var geometry = new WireframeGeometry2( geo );\n      matLine = new LineMaterial( {\n        color: 0x4080ff,\n        linewidth: 5, // in pixels\n        //resolution:  // to be set by renderer, eventually\n        dashed: false\n      } );\n      wireframe = new Wireframe( geometry, matLine );\n      wireframe.computeLineDistances();\n      wireframe.scale.set( 30, 30, 30 );\n      scene.add( wireframe );\n    }\n\n    function addSkybox() {\n      // skybox\n      var path = window.AWS + \"/hardDrives/skybox/skybox_\";\n      var format = '.jpg';\n      var urls = [\n        path + 'px' + format, path + 'nx' + format,\n        path + 'py' + format, path + 'ny' + format,\n        path + 'pz' + format, path + 'nz' + format\n      ];\n      var textureCube = new THREE.CubeTextureLoader().load( urls );\n      scene.background = textureCube;\n\n    }\n\n    function loadObj(path, {x, y, z}, sc, rot) {\n      var object;\n\n      function loadModel() {\n        object.traverse( function ( child ) {\n          if ( child.isMesh ) {\n\n            // var uniforms = { 'widthFactor': { value: 2 } };\n            //\n            // var material = new THREE.ShaderMaterial( {\n            //   uniforms: uniforms,\n            //   vertexShader: vertexShader(),\n            //   fragmentShader: fragmentShader(),\n            //   side: THREE.DoubleSide\n            //\n            // } );\n            //\n            // material.extensions.derivatives = true;\n            // child.geometry.deleteAttribute( 'normal' );\n            // child.geometry.deleteAttribute( 'uv' );\n            // child.material = material;\n            // setupAttributes( child.geometry );\n\n            const materialT = new THREE.MeshPhongMaterial({\n              color: 0xffffff,\n              opacity: .2,\n              transparent: true,\n              side: THREE.DoubleSide,\n              depthWrite: false\n            });\n            child.material = materialT;\n\n          }\n        } );\n\n        object.position.set(x+startX, y, z+startZ);\n        object.rotation.y = rot;\n        object.scale.set(sc, sc, sc);\n\n        // const materialT = new THREE.MeshPhongMaterial({\n        //   color: 0xffffff,\n        //   opacity: .2,\n        //   transparent: true,\n        // });\n        // var mesh = new THREE.Mesh( object, materialT );\n        // mesh.position.set( x, y, z );\n        //\n        // scene.add( mesh );\n        scene.add( object );\n      }\n      var manager = new THREE.LoadingManager( loadModel );\n      manager.onProgress = function ( item, loaded, total ) {\n        console.log( item, loaded, total );\n      };\n      // model\n      function onProgress( xhr ) {\n        if ( xhr.lengthComputable ) {\n          var percentComplete = xhr.loaded / xhr.total * 100;\n          console.log( 'model ' + Math.round( percentComplete, 2 ) + '% downloaded' );\n        }\n      }\n      function onError() {}\n      var loader = new OBJLoader( manager );\n      loader.load( path, function ( obj ) {\n        object = obj;\n      }, onProgress, onError );\n    }\n  }\n\n  rotateMap = (amt) => {\n    mapR += amt/3;\n  }\n\n  render() {\n    return (\n      <div className=\"Oogle Sketch\">\n        <div className=\"Three\" ref={ref => (this.mount = ref)}></div>\n        <canvas ref={ref => (this.canvas = ref)} />\n        <button className=\"rotateL\" onClick={() => this.rotateMap(-Math.PI/2)}>right</button>\n        <button className=\"rotateR\" onClick={() => this.rotateMap(Math.PI/2)}>left</button>\n      </div>\n    )\n  }\n}\n\nexport default Oogle;\n","import React from 'react';\nimport Frame from '../../../shared/Frame/Frame';\nimport DesktopIcon from '../../../shared/DesktopIcon/DesktopIcon';\n// import FrameSimple from '../../shared/Frame/FrameSimple';\nimport './Dig.css';\n\n\nclass Dig extends React.Component {\n  // https://codepen.io/JohJakob/pen/YPxgwo\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      numFrames: 0\n    }\n\n    this.clicked = this.clicked.bind(this);\n    this.getFrames = this.getFrames.bind(this);\n  }\n\n\n  componentDidMount() {\n    // document.body.classList.add('overflow-all');\n    this.props.addClass(\"overflow-all\");\n\n  }\n\n  componentWillUnmount() {\n  }\n\n\n  mod(a, b) {\n    return (((a % b) + b) % b);\n  }\n\n  onDblClick(i) {\n    console.log(i);\n    let {numFrames} = this.state;\n    numFrames++;\n    this.setState({numFrames});\n  }\n\n  render() {\n\n    let mapDivs = [];\n    const box = {x: 400, y: 400, w: 400, h: 200};\n\n    return (\n      <div className=\"Dig\" ref={this.divRef} >\n\n        <DesktopIcon disableWindow={true} onDblClick={this.onDblClick.bind(this)} x={100} y={220} width={60} height={90} title=\"dive\" box={box}\n          title={\"z-axis\"}\n          content={\n            <img src={window.AWS + \"/loop/folder.png\"} width={80} height={80} />\n          }\n          frameContent={\n            <div className=\"test\">blue pill</div>\n          }\n          />\n\n        {this.getFrames()}\n      </div>\n    );\n  }\n\n  clicked(id) {\n    let {numFrames} = this.state;\n    numFrames++;\n    this.setState({numFrames});\n  }\n\n  getFrames() {\n    const {numFrames} = this.state;\n    let frames = [];\n    for (let i = 0; i < numFrames; i++) {\n      frames[i] = i;\n    }\n\n    return (\n      <div className=\"openedFrames\">\n        {frames.map((frame) => {\n          const framesW = 20;\n          const startX = 100;\n          const direction = Math.floor(frame/framesW);\n          let x = 0;\n          if (direction %2 == 0) x = startX + frame%framesW*20;\n          else x = startX + framesW*20 - frame%framesW*20;\n          return <Frame handle={\".App\"} key={frame} x={x} y={100+frame*20} width={400} height={300} title=\"work\" windowStyle={{background: \"red\"}} content={\n              <div onDblClick={() => {this.clicked(frame)}}>\n                <img src={window.AWS + \"/loop/folder.png\"} width={20} height={20} />\n                <span>go deeper</span>\n              </div>\n            } />\n          })}\n        </div>\n      )\n\n    }\n\n  }\n\n\n\n\n  export default Dig;\n","import React from 'react';\nimport Frame from '../../shared/Frame/Frame';\nimport {getRandomNum} from '../../shared/Helpers/Helpers';\n\n\nclass Window extends React.Component {\n  // https://codepen.io/JohJakob/pen/YPxgwo\n  constructor(props) {\n    super(props);\n\n    const w = 150;\n    const h = 150;\n    const spacing = 20;\n\n    this.state = {\n      currentImg: 1,\n      isClosed: false,\n      randVal0: Math.random(),\n      randVal1: Math.random(),\n      position: {x: this.props.ogPos.x, y: this.props.ogPos.y}\n    }\n  }\n\n\n  componentDidMount() {\n    // this.interval = setInterval(this.changeImg, Math.random()*3000+1500);\n\n    this.interval = setInterval(this.changeImg, 30);\n  }\n\n  componentWillUnmount() {\n    clearInterval(this.interval);\n  }\n\n  changeImg = () => {}\n\n  changeMode = () => {\n    // if (Math.random() > .5) this.setState({currentImg: 0,randVal0: Math.random(), randVal1: Math.random()});\n    // else this.setState({currentImg: 1, randVal0: Math.random(), randVal1: Math.random()});\n\n    var mode = this.props.mode;\n    const WAVE = 0;\n    const SEESAWX = 1;\n    const SEESAWY = 2;\n    const ALL = 3;\n    const RANDOM = 4;\n    var isClosed = false;\n    switch(mode) {\n      case WAVE:\n      var dt = this.props.ogPos.x + this.props.ogPos.y*window.innerWidth;\n      isClosed = Math.sin(new Date()/1000 + dt/1400) < 0?true: false;\n      break;\n\n      case SEESAWX:\n      var open = Math.sin(new Date()/1000) < 0?true: false;\n      isClosed = this.props.ogPos.x < window.innerWidth/2?open:!open;\n      break;\n\n      case SEESAWY:\n      var open = Math.sin(new Date()/1000) < 0?true: false;\n      isClosed = this.props.ogPos.y < window.innerHeight/2?open:!open;\n      break;\n\n      case ALL:\n      // var open = Math.sin(new Date()/1000) < 0?true: false;\n      isClosed = Math.sin(new Date()/1000) < 0?true: false;\n      break;\n\n      case RANDOM:\n      var r = getRandomNum(this.props.id);\n      var open = Math.sin(new Date()/1000 + r*2) < 0?true: false;\n      isClosed = r>.5?open:!open;\n      break;\n    }\n\n    this.setState({isClosed});\n  }\n\n  onDrag = (pos) => {\n    const position = {...this.state.position};\n    position.x = pos.x;\n    position.y = pos.y;\n    this.setState({position});\n  }\n\n  render() {\n    const {z, ogPos, w, h, imgW, imgH, startX, startY, id, newFrameToTop, onDblClick} = this.props;\n    const pos = this.state.position;\n    // const x = pos.x + ogPos.x;\n    // const y = pos.y + ogPos.y;\n    const x = pos.x;\n    const y = pos.y;\n\n\n    var frameImg = window.AWS+ \"/blinds/blinds.png\";\n    const styWind = {backgroundPosition: `${-x+startX}px ${-y+startY}px`, backgroundSize: `${imgW}px ${imgH}px`}; //, backgroundImage: `url(${img})`\n    // const styWind = {backgroundImage: `url(${img})`, backgroundSize: \"100% 100%\"};\n    // onDrag={(position) => this.onDrag(i, position)}\n\n    const dx = this.props.mx - x;\n    // if (this.props.id == 0) console.log(pos, ogPos);\n    const dy = this.props.my - y;\n    const dis = Math.sqrt(dx* dx + dy*dy);\n    const isClosed = dis < 300?false:true;\n\n    return(\n\n      <Frame title=\"\" x={ogPos.x} y={ogPos.y} width={w} height={h} windowStyle={{background: \"transparent\"}} onDrag={this.onDrag} content={\n          <div className=\"windowDiv\">\n            <div className=\"background1 background\" style={styWind}></div>\n            <div className=\"windowFrame\" style={{backgroundImage: `url(${frameImg})`, height: isClosed?0:200}}></div>\n          </div>\n        }\n\n        z={z} newFrameToTop={() => newFrameToTop(id)} onDblClick={() => onDblClick(id)}\n        />\n    );\n\n  }\n}\n\n\n\nexport default Window;\n","import React from 'react';\nimport './Blinds.css';\n\nimport Frame from '../../shared/Frame/Frame';\nimport Window from './Window';\n\nimport {getNewZIndices} from '../../shared/Helpers/Helpers';\n\nclass Blinds extends React.Component {\n  // https://codepen.io/JohJakob/pen/YPxgwo\n  constructor(props) {\n    super(props);\n\n    this.w = 150;\n    this.h = 150;\n    this.spacing = 20;\n    this.numFramesW = Math.floor((window.innerWidth-2*this.spacing)/(this.w+this.spacing));\n    this.numFramesH = Math.floor((window.innerHeight-34-2*this.spacing)/(this.h+24+this.spacing));\n    console.log(this.numFramesW, this.numFramesH)\n    this.startX = (window.innerWidth - this.numFramesW*(this.w+this.spacing))/2 + this.spacing;\n    this.startY = (window.innerHeight-this.numFramesH*(this.h+24+this.spacing))/2;\n\n    this.state = {\n      ogPositions : this.initOgPos(),\n      positions: this.initPos(),\n      zIndicesFrames: initZIndices(),\n      blindMode: 0,\n      mx: 0,\n      my: 0\n    }\n  }\n\n\n  componentDidMount() {\n    this.blindInterval = setInterval(this.changeBlindMode, 8000);\n    // this.props.userSetRoom(\"blind-spot\");\n  }\n\n  componentWillUnmount() {\n    // this.props.userLeaveRoom(\"blind-spot\");\n  }\n\n  handleMouseMove = e => {\n    this.setState({\n      mx: e.clientX,\n      my: e.clientY\n    });\n  };\n\n  changeBlindMode = () => {\n    var blindMode = this.state.blindMode;\n    if (blindMode + 1 > 4) this.setState({blindMode: 0});\n    else this.setState({blindMode: blindMode+1});\n    // this.setState({blindMode: 3});\n  }\n\n\n\n  newFrameToTop = (id) => {\n    const newZ = getNewZIndices(id, this.state.zIndicesFrames);\n    this.setState({zIndicesFrames: newZ});\n    // console.log(\"ZZZ\", this.state.zIndices);\n  }\n\n  onDblClick = (id) => {\n    // console.log(id);\n    this.newFrameToTop(id);\n  }\n\n\n\n\n\n  render() {\n\n    // const xs = [0, 150, 300, 450, 600];\n\n    return (\n      <div className=\"Blinds Sketch\" onMouseMove={this.handleMouseMove}>\n        {this.getFrames()}\n      </div>\n    );\n  }\n\n  getFrames = () => {\n    const w = 130;\n    const h = w;\n    const {zIndicesFrames, ogPositions, positions, mx, my} = this.state;\n    const imgW = (this.w+this.spacing)*4;\n    const imgH = (this.h+24+this.spacing)*4;\n\n    return (\n\n      this.state.positions.map((pos, i) => {\n        // console.log(ogPositions[i]);\n\n        const props = {\n          z: zIndicesFrames[i],\n          ogPos: ogPositions[i],\n          pos: positions[i],\n          w: w,\n          h: h,\n          id: i,\n          imgW: imgW,\n          imgH: imgH,\n          startX: this.startX,\n          startY: this.startY,\n          mx: mx,\n          my: my,\n          newFrameToTop: this.newFrameToTop,\n          onDblClick: this.onDblClick,\n          mode: this.state.blindMode\n        };\n        return <Window key={i} {...props} />\n      })\n    )\n  }\n\n  initOgPos = () => {\n    const positions = [];\n    // let i = 0;\n    for (let x = 0; x < this.numFramesW; x++) {\n      for (let y = 0; y < this.numFramesH; y++) {\n        // const xx = i%2===0?x-spacing/2:x;\n        const xx = this.startX + x*(this.w+this.spacing);\n        const yy = this.startY + y*(this.h + this.spacing + 24);\n        positions.push({x: xx, y: yy})\n        // i++;\n      }\n\n    }\n    return positions;\n  }\n\n  initPos = () => {\n    const positions = [];\n    for (let x = 0; x < this.numFramesW; x++) {\n      for (let y = 0; y < this.numFramesH; y++) {\n        positions.push({x: 0, y: 0})\n      }\n    }\n    return positions;\n  }\n}\n\nfunction initZIndices() {\n  let ind = [];\n  for (let i = 0; i < 100; i++) {\n    ind.push(i);\n  }\n  return ind;\n}\n\n\n\nexport default Blinds;\n","import React from 'react';\nimport \"./ClickMe.css\";\n\nimport { AnaglyphUniversalCamera, HemisphericLight, Vector3, SceneLoader,AssetContainer, StandardMaterial, PhotoDome, CubeTexture, Color3,Mesh, Texture } from 'babylonjs';\nimport BabylonScene from '../../../shared/Babylon.jsx'; // import the component above linking to file we just created.\n\nimport Frame from '../../../shared/Frame/Frame';\n// import FrameSimple from '../../Universal/Frame/FrameSimple';\n\n// import { makeStyles } from '@material-ui/core/styles';\nimport Button from '@material-ui/core/Button';\n\nimport Glasses from '../../../shared/Glasses/Glasses';\n\n// palm https://poly.google.com/view/ficLBIjGliK\n\nvar loaded = false;\nvar face;\n\nclass ClickMe extends React.Component {\n\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      windowWidth: window.innerWidth,\n      windowHeight: window.innerHeight,\n      isLoading: true\n    }\n\n    this.onRender = this.onRender.bind(this);\n    this.onSceneReady = this.onSceneReady.bind(this);\n  }\n\n\n  componentDidMount() {\n    this.updateDimensions();\n    window.addEventListener(\"resize\", this.updateDimensions.bind(this));\n  }\n\n  componentWillUnmount() {\n    window.removeEventListener(\"resize\", this.updateDimensions.bind(this));\n  }\n\n  updateDimensions() {\n    this.setState({ windowWidth: window.innerWidth, windowHeight: window.innerHeight });\n  }\n\n  onSceneReady(scene) {\n    // const camera = new UniversalCamera(\"UniversalCamera\", new Vector3(0, 1, -25), scene);\n    var camera = new AnaglyphUniversalCamera(\"af_cam\", new Vector3(0, 8, -5), 0.033, scene);\n    scene.clearColor = Color3.Black();\n    // scene.fogMode = Scene.FOGMODE_LINEAR;\n    // scene.fogStart = 520.0;\n    // scene.fogEnd = 560.0;\n    // scene.fogColor = new Color3(0);\n\n    camera.setTarget(new Vector3(0, 8, 0));\n\n    const canvas = scene.getEngine().getRenderingCanvas();\n    camera.attachControl(canvas, true);\n    // camera.inputs.clear();\n    // camera.inputs.removeMouse();\n    // camera.inputs.removeByType(\"FreeCameraKeyboardMoveInput\");\n\n    const light = new HemisphericLight(\"light1\", new Vector3(0, 1, 0), scene);\n    light.intensity = 1.7;\n\n\n    ///////////////////////////////////////////////////////////////////////////////\n\n    // Skybox\n    // var dome = new PhotoDome(\"textureName\", \"/textures/metal.jpg\", {resolution: 32, size: 1000}, scene);\n    // dome.fovMultiplier = 2;\n\n    // Ground\n    // var groundTexture = new Texture(\"/textures/grid_blk.jpg\", scene);\n    // groundTexture.vScale = groundTexture.uScale = 20.0;\n    //\n    // var groundMaterial = new StandardMaterial(\"groundMaterial\", scene);\n    // groundMaterial.diffuseTexture = groundTexture;\n    //\n    // var ground = Mesh.CreateGround(\"ground\", 512, 512, 32, scene, false);\n    // ground.position.y = -1;\n    // ground.rotation.y = Math.PI/2;\n    // ground.material = groundMaterial;\n\n\n    // addSkybox(scene);\n    addFace(scene);\n\n  }\n\n\n\n\n\n  onRender(scene) {\n\n    let divFps = document.getElementById(\"fps\");\n    if(divFps) divFps.innerHTML = scene.getEngine().getFps().toFixed() + \" fps\";\n\n    if(face) {\n      console.log(\"ok\")\n      face.rotation.y = Math.PI*.4 * Math.sin((new Date()).getTime()/800)+.3;\n    }\n  }\n\n  getClickMenu() {\n    let hands = [\"\",\"\",\"\",\"\",\"\"];\n    return (\n      <Frame title=\"\" content={\n          <div className=\"hands\">\n            {hands.map((val, i) => {\n              return <Button key={i} className=\"hand\" onClick={this.handChange.bind(this, i)} variant=\"outlined\">{val}</Button>\n            })}\n          </div>\n        }\n        width={80} height={97*hands.length} x={window.innerWidth-100} y={(window.innerHeight-80-97*hands.length)/2}\n        />\n    );\n  }\n\n  handChange(index) {\n    console.log(index);\n  }\n\n\n\n  render() {\n    return (\n      <div className=\"ClickMe\">\n        <div className=\"Frame-box\">\n          <BabylonScene antialias onSceneReady={this.onSceneReady} onRender={this.onRender} id='babylon-canvas' />\n          {this.getClickMenu()}\n        </div>\n        <Glasses />\n      </div>\n    )\n  }\n\n}\n\nfunction addSkybox(scene) {\n  var skybox;\n  skybox = Mesh.CreateBox(\"skyBox\", 1000.0, scene);\n  var skyboxMaterial = new StandardMaterial(\"skyBox\", scene);\n  skyboxMaterial.backFaceCulling = false;\n  skyboxMaterial.reflectionTexture = new CubeTexture(process.env.PUBLIC_URL+\"/textures/skybox/emoji/emoji_wall\", scene);\n  // skyboxMaterial.reflectionTexture = new CubeTexture(\"/textures/skybox/invert/skybox\", scene);\n  skyboxMaterial.reflectionTexture.coordinatesMode = Texture.SKYBOX_MODE;\n  skyboxMaterial.diffuseColor = new Color3(0, 0, 0);\n  skyboxMaterial.specularColor = new Color3(0, 0, 0);\n  skyboxMaterial.disableLighting = true;\n  skybox.material = skyboxMaterial;\n}\n\n\nfunction addFace(scene) {\n\n  var url = process.env.PUBLIC_URL + \"/assets/clickMe/face/\"\n  SceneLoader.LoadAssetContainer(url, \"me2.obj\", scene, function (container) {\n    var meshes = container.meshes;\n\n    face = meshes[0];\n\n    // face.rotation.y = Math.random()*Math.PI*2;\n    face.rotation.x = Math.PI;\n    // face.rotation.z = (-.3+Math.random()*.6);\n\n    face.position.y = 5;\n    face.position.x = 0;\n    face.position.z = 15;\n    face.scaling = new Vector3(50, 50, 50);\n\n    // Create materials\n    var myMaterial = new StandardMaterial(\"myMaterial\", scene);\n    myMaterial.diffuseColor = new Color3(.4, .4, .4);\n    myMaterial.specularColor = new Color3(0.1, 0.1, 1);\n    // myMaterial.emissiveColor = new Color3(1, 1, 1);\n    myMaterial.ambientColor = new Color3(0.5, .5, 0.53);\n\n    face.material = myMaterial;\n    // face.material.wireframe = true;\n\n    container.addAllToScene();  // Adds all elements to the scene\n\n    loaded = true;\n\n  });\n}\n\n\nexport default ClickMe;\n","import React from 'react';\nimport Frame from '../../../shared/Frame/Frame';\n// import './Loop.css';\n// Babylon\nimport { Scene, AnaglyphUniversalCamera, UniversalCamera,PostProcess, Effect, HemisphericLight, Vector3, Vector2, SceneLoader,AssetContainer, MeshBuilder, StandardMaterial,  VideoTexture, CubeTexture, Color3,Color4, Mesh, Texture } from 'babylonjs';\nimport BabylonScene from '../../../shared/Babylon.jsx';\nimport { WaterMaterial } from 'babylonjs-materials';\n\nvar camera, water, waterMesh;\nvar tubes = [];\nvar seed = 1;\n\nclass MoonLight extends React.Component {\n  // https://codepen.io/JohJakob/pen/YPxgwo\n  constructor(props) {\n    super(props);\n\n    // this.imgW = 350;\n\n    this.state = {\n    }\n\n  }\n\n\n  componentDidMount() {\n\n  }\n\n  componentWillUnmount() {\n\n  }\n\n\n  mod(a, b) {\n    return (((a % b) + b) % b);\n  }\n\n  onSceneReady(scene) {\n    // const camera = new UniversalCamera(\"UniversalCamera\", new Vector3(0, 1, -25), scene);\n    camera = new AnaglyphUniversalCamera(\"af_cam\", new Vector3(0,8, -5), 0.033, scene);\n    scene.clearColor = new Color4(0, 0, 0, 0);\n    camera.setTarget(new Vector3(11, 4, -2));\n\n    const canvas = scene.getEngine().getRenderingCanvas();\n    // camera.attachControl(canvas, true);\n\n    const light = new HemisphericLight(\"light1\", new Vector3(0, 1, 0), scene);\n    light.intensity = 0.7;\n\n\n\n    // Water\n    waterMesh = Mesh.CreateGround(\"waterMesh\", 512, 512, 32, scene, false);\n    waterMesh.position.y = -9;\n    water = new WaterMaterial(\"water\", scene, new Vector2(1024, 1024));\n    water.backFaceCulling = true;\n    water.bumpTexture = new Texture(window.AWS+\"/shared/waterbump.png\", scene);\n    water.windForce = -5;\n    water.waveHeight = 0.8;\n    water.bumpHeight = 0.3;\n    water.waveLength = 0.3;\n    water.colorBlendFactor = 0;\n    waterMesh.material = water;\n\n    // Skybox\n    var skyW = 1000;\n    var skybox = Mesh.CreateBox(\"skyBox\", skyW, scene);\n    var skyboxMaterial = new StandardMaterial(\"skyBox\", scene);\n    skyboxMaterial.backFaceCulling = false;\n    skyboxMaterial.reflectionTexture = new CubeTexture(window.AWS+\"/shared/sky/moon/moon\", scene);\n    skyboxMaterial.reflectionTexture.coordinatesMode = Texture.SKYBOX_MODE;\n    skyboxMaterial.diffuseColor = new Color3(0, 0, 0);\n    skyboxMaterial.specularColor = new Color3(0, 0, 0);\n    skyboxMaterial.disableLighting = true;\n    skybox.material = skyboxMaterial;\n    water.addToRenderList(skybox);\n\n\n    // Ground\n    var groundTexture = new Texture(window.AWS+\"/shared/black_sand.jpg\", scene);\n    groundTexture.vScale = groundTexture.uScale = 10;\n    var groundMaterial = new StandardMaterial(\"groundMaterial\", scene);\n    groundMaterial.diffuseTexture = groundTexture;\n    var ground = Mesh.CreateGround(\"ground\", 512, 512, 32, scene, false);\n    ground.position.y = -10;\n    ground.material = groundMaterial;\n    water.addToRenderList(ground);\n\n\n\n    // drain\n    // var drainTex = new BABYLON.Texture(window.AWS+\"/mars/drain1.png\", scene);\n    // addDrain(scene);\n    // loadWhale(scene);\n    // addInnerTubes(4, scene, water);\n    // addSwimmer(scene);\n\n    Effect.ShadersStore[\"customFragmentShader\"] = `\n    #ifdef GL_ES\n    precision highp float;\n    #endif\n\n    // Samplers\n    varying vec2 vUV;\n    uniform sampler2D textureSampler;\n\n    // Parameters\n    uniform vec2 screenSize;\n    uniform float threshold;\n\n    void main(void)\n    {\n      vec2 texelSize = vec2(1.0 / screenSize.x, 1.0 / screenSize.y);\n      vec4 baseColor = texture2D(textureSampler, vUV);\n\n\n      if (baseColor.r < threshold) {\n        gl_FragColor = baseColor;\n      } else {\n        gl_FragColor = vec4(0);\n      }\n    }\n    `;\n\n    var postProcess = new PostProcess(\"My custom post process\", \"custom\", [\"screenSize\", \"threshold\"], null, 0.25, camera);\n    postProcess.onApply = function (effect) {\n      effect.setFloat2(\"screenSize\", postProcess.width, postProcess.height);\n      effect.setFloat(\"threshold\", 0.8);\n    };\n  }\n\n\n  onRender(scene) {\n    let divFps = document.getElementById(\"fps\");\n    if (divFps) divFps.innerHTML = scene.getEngine().getFps().toFixed() + \" fps\";\n  }\n\n\n\n  render() {\n\n    let mapDivs = [];\n\n\n    return (\n      <div className=\"Loop Sketch\" ref={this.divRef} onWheel = {(e) => this.wheel(e)}>\n        {/*   <video ref={this.cloudsRef} autoPlay muted loop className=\"backgroundCover\">\n        <source src={cloudsVid} type=\"video/mp4\" ></source>\n        Your browser does not support HTML5 video.\n        </video>*/}\n\n        { <BabylonScene  className=\"noSelect backgroundCover\" antialias onSceneReady={this.onSceneReady} onRender={this.onRender} id='babylon-canvas' />}\n\n  </div>\n);\n}\n\n}\n\n\n\n\nexport default MoonLight;\n","import React from 'react';\nimport Frame from '../../../shared/Frame/Frame';\nimport './Yosemite.css';\n\nclass Yosemite extends React.Component {\n  // https://codepen.io/JohJakob/pen/YPxgwo\n  constructor(props) {\n    super(props);\n\n    this.state = {\n    }\n\n  }\n\n\n  componentDidMount() {\n  }\n\n  componentWillUnmount() {\n  }\n\n\n  render() {\n    return (\n      <div className=\"Sketch Yosemite\">\n      </div>\n    )\n  }\n\n}\n\n\n\nexport default Yosemite;\n","import React from 'react';\nimport {Link} from 'react-router-dom';\nimport './Pages.css';\n\nfunction About() {\n  return (\n      <div className=\"Page\">\n\n        <div className=\"About Sketch\">\n          <div className=\"container\">\n            <h1>losing my dimension</h1>\n            <h3><a href=\"https://jdeboi.com\">Jenna deBoisblanc</a></h3>\n            <br></br>\n            <h3>Tulane University</h3>\n            <h3>MFA Thesis Exhibition</h3>\n            <h3>April 2021</h3>\n            <h3><a href=\"\">Thesis</a></h3>\n            <h2>Statement</h2>\n            <p>Thinking about the simultaneous collapse / expansion of space during quarantine.</p>\n            <ul>\n              <li>2D & multi-dimensional</li>\n              <li>confined but digitally liberated</li>\n            </ul>\n            <p>Thinking about \"home\" in quarantine. Home pages, home spaces.</p>\n            <ul>\n              <li>safe haven & prison</li>\n            </ul>\n            <p>Thinking about access to digital spaces in quarantine.</p>\n            <ul>\n              <li>\"same boat, different storm\"</li>\n            </ul>\n          </div>\n        </div>\n    </div>\n  );\n}\n\nexport default About;\n","import React from 'react';\nimport {Link} from 'react-router-dom';\nimport './Pages.css';\n\nfunction Credits() {\n  return (\n    <div className=\"Page\">\n      <div className=\"Credits Sketch\">\n        <div className=\"container\">\n          <h1>Credits</h1>\n          <h2><Link to=\"/macbook-air\">Macbook Air</Link></h2>\n          <p>\n            <ul>\n              <li>thanks to Google for the <a href=\"https://poly.google.com/view/8Qwgncb6dJT\">Umbrella Palm Tree</a>, licensed under CC BY 2.0</li>\n              <li>thanks to bhgilad for the <a href=\"https://www.turbosquid.com/3d-models/80s-pool-chair-3d-model-1489585\">pool chair</a></li>\n            </ul>\n          </p>\n          <h2><Link to=\"/hard-drives-on-seashores\">Hard Drives on Seashores</Link></h2>\n          <p>\n            <ul>\n              <li>thanks to Google for the <a href=\"https://poly.google.com/view/8Qwgncb6dJT\">Umbrella Palm Tree</a>, licensed under CC BY 2.0</li>\n              <li>thanks to Slanted Studios for the <a href=\"https://giphy.com/media/l3Uchq9s6Hx0aK8F2/giphy.gif\">bird gif</a></li>\n            </ul>\n          </p>\n          <h2><Link to=\"/jungle-gyms\">Jungle Gyms</Link></h2>\n          <p>\n            <ul>\n              <li>special thanks to <a href=\"https://github.com/1j01/pipes/blob/master/screensaver.js\">Isaiah Odhner for the pipes code</a></li>\n            </ul>\n          </p>\n        </div>\n      </div>\n    </div>\n  );\n}\n\n\nexport default Credits;\n","import React from 'react';\nimport {Link} from 'react-router-dom';\nimport './Pages.css';\n\nfunction Contact() {\n  return (\n      <div className=\"Page\">\n\n        <div className=\"Contact Sketch\">\n          <div className=\"container\">\n            <h1>Contact</h1>\n            <p>Jenna deBoisblanc</p>\n            <p><a href=\"https://www.instagram.com/jdeboi/\">insta</a></p>\n            <p>jdeboi at gmail</p>\n            <p><a href=\"https://jdeboi.com\">jdeboi.com</a></p>\n          </div>\n        </div>\n    </div>\n  );\n}\n\nexport default Contact;\n","import React from 'react';\n\nfunction NotFound() {\n  return (\n    <div>\n      <h1>NotFound</h1>\n    </div>\n  );\n}\n\nexport default NotFound;\n","import React from 'react';\nimport {getEmojis} from '../Welcome/components/Helpers';\nimport Frame from '../Frame/Frame';\nimport './SignIn.css';\nimport './SignInForm.css';\n\n// store\nimport { connect } from 'react-redux';\nimport { setUser } from '../../../store/actions/user';\n\nimport socket from \"../Socket/Socket\";\n\n\nclass SignIn extends React.Component {\n\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      user: {avatar:props.user.avatar, userName:props.user.userName},\n    }\n  }\n\n  // basically, don't re-render this component unless that signin window\n  // has opened?\n  // have to check both nextProps && this props. not exactly sure of\n  // explanation at the moment\n  shouldComponentUpdate(nextProps, nextState) {\n    return (\n      (nextProps.showSignIn !== this.props.showSignIn)\n      || (nextState.user.userName !== this.state.user.userName)\n      || (nextState.user.avatar !== this.state.user.avatar)\n      || (nextState.user.userName !== this.state.user.userName)\n      || (nextProps.hasAvatar !== this.props.hasAvatar)\n      // nextProps.showSignIn || this.props.showSignIn || (nextProps.hasAvatar !== this.props.hasAvatar)\n    );\n  }\n\n  componentDidUpdate(prevProps) {\n    if (prevProps.hasAvatar !== this.props.hasAvatar) {\n      const user = {...this.state.user};\n      user.avatar = this.props.user.avatar;\n      user.userName = this.props.user.userName;\n      this.setState({user});\n    }\n  }\n\n  setAvatarBar = (emoji) => {\n    const user = {...this.state.user};\n    user.avatar = emoji;\n    this.setState({user});\n  }\n\n  setUserName = (evt) => {\n    const user = {...this.state.user};\n    user.userName = evt.target.value;\n    this.setState({user});\n    // this.props.userUpdated()\n  }\n\n\n  onHide = () => {\n    this.handleSubmit();\n    if (this.props.hasAvatar && this.state.user.userName != \"\") this.props.closeSignIn();\n  }\n\n\n  userRegister = ({isUser, user}) => {\n    // if (DEBUG) console.log(\"user register!!!\")\n    if (isUser) {\n      alert(\"username already exists. Please enter a new username.\");\n    }\n    else {\n      this.props.setUser(user.userName, user.avatar);\n      if (this.props.closeSignIn) this.props.closeSignIn();\n      if (this.props.nextStep) this.props.nextStep();\n    }\n  }\n\n  userRegisterCheck = (userName, avatar) => {\n    const userCheck={userName:userName, avatar:avatar};\n    socket.emit(\"registerUser\", userCheck, this.userRegister);\n  }\n\n  handleSubmit = () => {\n    // if (clickedSubmit) {\n    const {avatar, userName} = this.state.user;\n    if (avatar === \"\") {\n      alert(\"Please select an emoji avatar\");\n    }\n    else if (userName === \"\") {\n      alert(\"Please set a user name\");\n    }\n    else if (userName === this.props.user.userName) {\n      // console.log(\"username and props same\", userName);\n      this.props.setUser(userName, avatar);\n    }\n    // else {\n    //   this.props.userSet(avatar, userName);\n    // }alert(\"Username already taken. Please enter a new user name.\");\n    else {\n      // console.log(\"check registering user\", userName);\n      this.userRegisterCheck(userName, avatar);\n\n    }\n  }\n\n  render() {\n    const w = 540;\n    const h = 400;\n    let s;\n    if (this.props.isFrame) s = this.getFrame(w, h);\n    else s = this.getForm(w, h);\n    return (s);\n  }\n\n  getFrame = (w, h) => {\n    return (\n      <div className=\"SignIn\" >\n        <Frame title=\"avatar\" isHidden={!this.props.showSignIn} onHide={this.onHide} content={\n            this.getForm(w, h)\n          }\n          width={w} height={h} x={(window.innerWidth-w)/2} y={(window.innerHeight-h-34-24)/2} z={2000}\n          />\n      </div>\n    )\n  }\n\n  getForm = (w, h) => {\n    let {user} = this.state;\n    let avatar = user.avatar===\"\"?\"\":user.avatar;\n    const emojis = getEmojis();\n\n    return(\n      <div className=\"SignInForm\" >\n\n        <div className=\"SignIn-Box\">\n          <div className=\"SignIn-Content\">\n            <div className=\"userBar\">\n              <div className=\"avatar\">{user.avatar}</div>\n              <input onChange={this.setUserName} value={user.userName} placeholder=\"enter user name\" inputprops={{ 'aria-label': 'user name field' }} />\n            </div>\n            <div className=\"emoji-list\">\n              {\n                emojis.map((emoji, i) => {\n                  return <button key={i} onClick={() => this.setAvatarBar(emoji)}>{emoji}</button>\n                })\n              }\n            </div>\n            {/* <button onClick={() => this.setAvatar(false)}>Cancel</button>*/}\n            {this.getButtons()}\n          </div>\n        </div>\n      </div>\n    )\n  }\n\n  getButtons = () => {\n    let content;\n    if (this.props.isFrame) {\n      content = <div className=\"submit\"><button className=\"standardButton\" onClick={() => this.handleSubmit(true)}>submit</button></div>\n    }\n    else {\n      content =\n      (\n\n        <div className=\"welcome-buttons\">\n          <button className=\"standardButton\" onClick={this.props.prevStep}>back</button>\n          <button className=\"standardButton highlightButton\" onClick={() => this.handleSubmit(true)}>next</button>\n        </div>\n      )\n    }\n    return content;\n  }\n}\n\nconst mapStateToProps = (state) => {\n return {\n   user: state.user\n }\n}\n\nconst mapDispatchToProps = () => {\n return {\n   setUser\n }\n}\n\n\nexport default connect(mapStateToProps, mapDispatchToProps())(SignIn);\n","\nexport function getEmojis() {\n  return [\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\n  \"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\"];\n}\n\nexport function getRandomEmoji() {\n  const emojis = getEmojis();\n  return emojis[Math.floor(Math.random()*emojis.length)];\n}\n","import React from 'react';\nimport './Participants.css';\nimport Frame from '../Frame/Frame';\n\nimport { connect } from 'react-redux';\nimport { hideUserIcons, toggleUserIcons, showChat } from '../../../store/actions/';\nimport { setUserActiveChat, userHoverChatLeave, setUserHoverChat }  from '../../../store/actions/userActiveChat';\n\nclass Participants extends React.Component {\n\n  constructor(props) {\n    super(props);\n\n    this.state = {\n    }\n\n  }\n\n  componentDidUpdate(prevProps) {\n\n  }\n\n  render() {\n\n    return (\n      <Frame title=\"users\" bounded={true} isHidden={this.props.userIconsIsHidden} onHide={this.props.hideUserIcons} className=\"Participants\" windowStyle={{background: \"rgba(0, 0, 0, .8)\"}} content={\n        this.getUsers()\n      }\n      width={300} height={120} x={window.innerWidth-330} y={34+30}\n      />\n    );\n\n\n  }\n\n  userClick = (user) => {\n    this.props.setUserActiveChat(user);\n    this.props.showChat();\n  }\n\n\n  getUsers = () => {\n    const {users} = this.props;\n    if (users) {\n      return users.map((user, i) => {\n        if (i == 0) return null;\n        return (\n          <span\n            key={i}\n            onMouseEnter={() => this.props.setUserHoverChat(user)}\n            onMouseLeave={() => this.props.userHoverChatLeave()}\n            onClick={() => this.userClick(user)}>\n            {user.avatar}\n          </span>\n        )\n      })\n    }\n    return <div></div>;\n\n  }\n}\n\n\nconst mapStateToProps = (state) => {\n return {\n   userIconsIsHidden: state.userIconsIsHidden\n }\n}\n\nconst mapDispatchToProps = () => {\n return {\n   hideUserIcons,\n   toggleUserIcons,\n   setUserActiveChat,\n   setUserHoverChat,\n   userHoverChatLeave,\n   showChat\n }\n}\n\n\nexport default connect(mapStateToProps, mapDispatchToProps())(Participants);\n","import React from 'react';\n\nexport default function MFADeets(props) {\n  return (\n    <div className=\"Welcome-Deets\">\n      <div className=\"MFA-deets\" >\n        <div className=\"MFA-txt\">\n          <div style={{fontSize: \"40px\", paddingBottom: \"0px\"}}>Losing</div>\n          <div style={{fontSize: \"40px\", paddingBottom: \"0px\"}}>My</div>\n          <div style={{fontSize: \"40px\", paddingBottom: \"40px\"}}>Dimension</div>\n\n          <div style={{fontSize: \"20px\", paddingBottom: \"40px\"}}><a href=\"https://www.instagram.com/jdeboi/\">Jenna deBoisblanc</a></div>\n\n          <div style={{fontSize: \"12px\", paddingBottom: \"10px\"}}>Tulane University</div>\n          <div style={{fontSize: \"14px\", paddingBottom: \"20px\"}}>MFA Thesis Exhibition</div>\n          <div style={{fontSize: \"12px\"}}>April 2021</div>\n        </div>\n        <div className=\"welcome-buttons\">\n          <button className=\"standardButton highlightButton\" onClick={props.nextStep}>next</button>\n        </div>\n      </div>\n\n    </div>\n  )\n}\n","import React from 'react';\nimport './FAQ.css';\n\nexport default function FAQ(props) {\n\n  return(\n    <div className=\"Instructions-list\">\n      <div className=\"instruction\">\n        <img src=\"https://lmd-bucket.s3.us-east-2.amazonaws.com/sketches/shared/placeholder_200.jpg\" width=\"200px\" height=\"200px\" />\n        <div className=\"instruction-txt\">\n          <h3>Moving</h3>\n          <p>Press the arrow keys to move around the scene</p>\n        </div>\n      </div>\n      <div className=\"instruction\">\n        <img src=\"https://lmd-bucket.s3.us-east-2.amazonaws.com/sketches/shared/placeholder_200.jpg\" width=\"200px\" height=\"200px\" />\n        <div className=\"instruction-txt\">\n          <h3>Chatting</h3>\n          <p>Click a user to begin a chat</p>\n        </div>\n      </div>\n\n      <div className=\"instruction\">\n        <img src=\"https://lmd-bucket.s3.us-east-2.amazonaws.com/sketches/shared/placeholder_200.jpg\" width=\"200px\" height=\"200px\" />\n        <div className=\"instruction-txt\">\n          <h3>Getting info</h3>\n          <p>Click the info button to bring up this guide</p>\n        </div>\n      </div>\n\n      <div className=\"instruction\">\n        <img src=\"https://lmd-bucket.s3.us-east-2.amazonaws.com/sketches/shared/placeholder_200.jpg\" width=\"200px\" height=\"200px\" />\n        <div className=\"instruction-txt\">\n          <h3>Mini Map</h3>\n          <p>Click the map button to bring up the mini map</p>\n        </div>\n      </div>\n      <div className=\"instruction\">\n        <img src=\"https://lmd-bucket.s3.us-east-2.amazonaws.com/sketches/shared/placeholder_200.jpg\" width=\"200px\" height=\"200px\" />\n        <div className=\"instruction-txt\">\n          <h3>Enter Room</h3>\n          <p>Walk on the stairs to view individual works</p>\n        </div>\n      </div>\n      <div className=\"instruction\">\n        <img src=\"https://lmd-bucket.s3.us-east-2.amazonaws.com/sketches/shared/placeholder_200.jpg\" width=\"200px\" height=\"200px\" />\n        <div className=\"instruction-txt\">\n          <h3>Back to Gallery</h3>\n          <p>Click the browser back button or click the show title, \"Losing My Dimension\"</p>\n        </div>\n      </div>\n    </div>\n  )\n}\n","import React from 'react';\nimport './Instructions.css';\nimport FAQ from '../../FAQ/FAQ';\n\nexport default function Instructions (props) {\n  return (\n    <div className=\"Instructions\">\n      <div></div>\n      <FAQ />\n      <div className=\"welcome-buttons\">\n        <button className=\"standardButton\" onClick={props.prevStep}>back</button>\n        <button className=\"standardButton highlightButton\" onClick={props.closeWelcome}>finish</button>\n      </div>\n    </div>\n  )\n}\n","import React from 'react';\nimport './Welcome.css';\n\nimport MFADeets from './components/MFADeets';\nimport SignIn from '../SignIn/SignIn';\nimport Instructions from './components/Instructions';\nimport {getEmojis} from './components/Helpers';\n\nimport Frame from '../Frame/Frame';\n\nclass Welcome extends React.Component {\n  // https://codepen.io/JohJakob/pen/YPxgwo\n  constructor(props) {\n    super(props);\n\n    // const {avatar, userName} = this.props.user;\n\n    this.state = {\n      step: 0,\n      title: \"Welcome\"\n    }\n\n\n    this.onHide = this.onHide.bind(this);\n  }\n\n  // basically, don't re-render this component unless that signin window\n  // has opened?\n  // have to check both nextProps && this props. not exactly sure of\n  // explanation at the moment\n  // shouldComponentUpdate(nextProps, nextState) {\n  //   return (\n  //     nextProps.showWelcome || this.props.showWelcome || (nextProps.hasAvatar !== this.props.hasAvatar) || (nextState.step !== this.state.step)\n  //   );\n  // }\n\n\n\n\n  onHide() {\n    alert(\"nope\");\n    // this.handleSubmit();\n    // if (this.props.hasAvatar && this.state.user.userName != \"\") this.props.closeSignIn();\n  }\n\n  render() {\n    const w = 540;\n    const h = 400;\n\n    const emojis = getEmojis();\n    const content = this.getWelcomeStep(this.state.step);\n    // const isHidden={!this.props.showSignIn}\n    return (\n      <div className=\"Welcome\" style={{display: this.props.showWelcome?\"block\":\"none\"}}>\n        <Frame title={this.state.title} isHidden={false} onHide={this.onHide} windowStyle={{backgroundColor: \"white\"}} content={\n            content\n          }\n          width={w} height={h} x={(window.innerWidth-w)/2} y={(window.innerHeight-h-34-24)/2} z={2000}\n          />\n      </div>\n    );\n\n\n  }\n\n  getWelcomeStep = (step) => {\n    if (step === 0) return <MFADeets nextStep={this.nextStep} />\n    else if (step === 1) return <SignIn {...this.props} nextStep={this.nextStep} prevStep={this.prevStep} isFrame={false} />;\n    else if (step === 2) return <Instructions prevStep={this.prevStep} closeWelcome={this.props.closeWelcome} />\n    return null;\n  }\n\n\n  prevStep = () => {\n    const step = this.state.step;\n    // var step = this.state.step;\n    // step += 1;\n    var title = \"\";\n    if (step - 1 === 1) title = \"avatar\";\n    else if (step - 1 === 2) title = \"instructions\";\n    this.setState({step: step - 1, title});\n  }\n\n  nextStep = () => {\n    const step = this.state.step;\n    // var step = this.state.step;\n    // step += 1;\n    var title = \"\";\n    if (step + 1 === 1) title = \"avatar\";\n    else if (step + 1 === 2) title = \"instructions\";\n    this.setState({step: step + 1, title});\n  }\n\n}\n\nexport default Welcome;\n","import React from 'react';\nimport Frame from '../Frame/Frame';\nimport FAQ from './FAQ';\nimport './FAQFrame.css';\n\nimport { connect } from 'react-redux';\nimport {hideFaq, toggleFaq } from '../../../store/actions/';\n\n\nclass FAQFrame extends React.Component {\n\n  constructor(props) {\n    super(props);\n\n    this.state = {\n    }\n  }\n\n  onHide = () => {\n    this.props.hideFaq();\n  }\n\n  render() {\n\n    return (\n      <div className=\"FAQ-Background\" style={{visibility: (this.props.faqIsHidden?\"hidden\":\"visible\")}}>\n        <Frame title=\"FAQ\" isHidden={this.props.faqIsHidden} onHide={this.onHide} windowStyle={{background: \"white\"}} content={\n\n            <div className=\"FAQFrame\">\n\n              <FAQ />\n            </div>\n          }\n          width={400} height={300} x={400} y={200}\n          />\n      </div>\n    );\n  }\n\n}\n\nconst mapStateToProps = (state) => {\n  return {\n    faqIsHidden: state.faqIsHidden\n  }\n}\n\nconst mapDispatchToProps = () => {\n  return {\n    hideFaq,\n    toggleFaq\n  }\n}\n\n\nexport default connect(mapStateToProps, mapDispatchToProps())(FAQFrame);\n","import React from 'react';\nimport { Route, Switch, withRouter, useLocation } from \"react-router-dom\";\n\n// import update from 'react-addons-update';\nimport update from 'immutability-helper';\n\nimport './App.css';\nimport Header from '../components/shared/Header/Header';\n// import SideBar from '../components/shared/SideBar/SideBar';\nimport Chat from '../components/shared/Chat/Chat';\nimport Dock from '../components/shared/Dock/Dock';\n\n// cookies\nimport Cookies from 'js-cookie';\n\n// store\nimport { connect } from 'react-redux';\nimport { setUserRoom, setUser, moveUser, setWine, resetWine } from '../store/actions/user';\nimport { addMessage } from '../store/actions/messages';\n\n// sketches\nimport HomePage from '../components/sketches/HomePage/HomePage';\nimport MacbookAir from '../components/sketches/MacbookAir/MacbookAir';\nimport JungleGyms from '../components/sketches/JungleGyms/JungleGyms';\nimport HardDrives from '../components/sketches/HardDrives/HardDrives';\nimport Spacetimes from '../components/sketches/Spacetimes/Spacetimes';\nimport Mars from '../components/sketches/Mars/Mars';\nimport WetStreams from '../components/sketches/WetStreams/WetStreams';\nimport WaveForms from '../components/sketches/WaveForms/WaveForms';\nimport Confessions from '../components/sketches/WaveForms/Confessions';\nimport Loop from '../components/sketches/Loop/Loop';\nimport VorTech from '../components/sketches/VorTech/VorTech';\nimport Oogle from '../components/sketches/Oogle/Oogle';\n\n// under construction\n// import Altar from '../components/sketches/Test/Altar/Altar';\n\n// import Three from '../components/sketches/Test/Three/Three';\n// import Dimension from '../components/sketches/Dimension/Dimension';\n\nimport Dinner from '../components/sketches/Test/Dinner/Dinner';\nimport Dig from '../components/sketches/Test/Dig/Dig';\nimport Blinds from '../components/sketches/Blinds/Blinds';\nimport ClickMe from '../components/sketches/Test/ClickMe/ClickMe';\nimport MoonLight from '../components/sketches/Test/MoonLight/MoonLight';\nimport Yosemite from '../components/sketches/Test/Yosemite/Yosemite';\n\n// pages\nimport About from '../components/pages/About';\nimport Credits from '../components/pages/Credits';\nimport Contact from '../components/pages/Contact';\nimport NotFound from '../components/pages/NotFound';\n\nimport Frame from '../components/shared/Frame/Frame';\nimport SignIn from '../components/shared/SignIn/SignIn';\nimport Participants from '../components/shared/Participants/Participants';\nimport Welcome from '../components/shared/Welcome/Welcome';\nimport FAQFrame from '../components/shared/FAQ/FAQFrame';\n\nimport { MuiThemeProvider, createMuiTheme } from '@material-ui/core/styles';\nimport indigo from '@material-ui/core/colors/indigo';\nimport pink from '@material-ui/core/colors/pink';\nimport red from '@material-ui/core/colors/red';\nimport CssBaseline from '@material-ui/core/CssBaseline';\n\n\nimport socket from \"../components/shared/Socket/Socket\";\n\nimport FPSStats from \"react-fps-stats\";\n\nimport { userNearWine } from './Helpers/Boundaries';\nimport { djLocation, wineLocation } from '../components/sketches/HomePage/constants';\n\n\n\nimport dogicaFont from './assets/fonts/dogica.ttf';\n\nconst DEBUG = true;\n\nconst dogica = {\n  fontFamily: 'dogica',\n  fontStyle: 'normal',\n  fontDisplay: 'swap',\n  fontWeight: 400,\n  src: `\n  local('dogica'),\n  local('dogica-Regular'),\n  url(${dogicaFont}) format('ttf')\n  `,\n  unicodeRange:\n    'U+0000-00FF, U+0131, U+0152-0153, U+02BB-02BC, U+02C6, U+02DA, U+02DC, U+2000-206F, U+2074, U+20AC, U+2122, U+2191, U+2193, U+2212, U+2215, U+FEFF',\n};\n\nwindow.AWS = \"https://lmd-bucket.s3.us-east-2.amazonaws.com/sketches\";\n\n// All the following keys are optional.\n// We try our best to provide a great default value.\nconst theme = createMuiTheme({\n  palette: {\n    // type: 'dark',\n    primary: { main: indigo[300] },\n    secondary: pink,\n    error: red,\n    // Used by `getContrastText()` to maximize the contrast between the background and\n    // the text.\n    contrastThreshold: 3,\n    // Used to shift a color's luminance by approximately\n    // two indexes within its tonal palette.\n    // E.g., shift from Red 500 to Red 300 or Red 700.\n    tonalOffset: 0.2,\n\n  },\n  typography: {\n    fontFamily: 'dogica, Arial',\n    fontSize: 10,\n  },\n  overrides: {\n    // MuiCssBaseline: {\n    //   '@global': {\n    //     '@font-face': [dogica],\n    //   },\n    // },\n  },\n});\n\nclass App extends React.Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      cursor: 0,\n      cursorID: 0,\n      dimensions: { windowWidth: window.innerWidth, windowHeight: window.innerHeight, device: \"desktop\", flipped: false, orientation: \"landscape\" },\n      wOG: window.innerWidth,\n      hOG: window.innerHeight,\n      mx: 0,\n      my: 0,\n      classes: [\"App\"],\n      showSideBar: false,\n      hasAvatar: false,\n      showSignIn: false,\n      showWelcome: false,\n      showDock: true,\n      sessionID: null,\n      usersChange: false,\n      users: null,\n      // userAxctiveChat: null,\n      roomCount: { \"macbook-air\": 0, \"hard-drives-on-seashores\": 0, \"wet-streams\": 0, \"jungle-gyms\": 0, \"cloud-confessional\": 0, \"esc-to-mars\": 0, \"xfinity-depths\": 0, \"wasted-days-are-days-wasted\": 0, \"home\": 0 }\n    };\n\n\n  }\n\n\n  componentDidMount() {\n    // const id = Cookies.get('hand');\n    this.socketSetup();\n    const hasAvatar = Cookies.get('hasAvatar');\n\n    if (hasAvatar) {\n      const userName = Cookies.get('userName');\n      const avatar = Cookies.get('avatar');\n      // const user= {...this.props.user};\n      // user.userName = userName;\n      // user.avatar = avatar;\n      const room = this.getRoom();\n      this.props.setUser(userName, avatar);\n      this.props.setUserRoom(room);\n      this.setState({ hasAvatar: true, showWelcome: false }); // false\n    }\n    else {\n      this.setState({ hasAvatar: false, showWelcome: true });\n    }\n\n\n    this.updateDeviceDimensions();\n    window.addEventListener(\"resize\", this.updateDeviceDimensions);\n\n    this.unlisten = this.props.history.listen((location, action) => this.userSetRoom(location));\n  }\n\n  componentWillUnmount() {\n    window.removeEventListener(\"resize\", this.updateDeviceDimensions);\n    // this.socket.disconnect();\n    this.unlisten();\n  }\n\n\n  componentDidUpdate() {\n    if (this.state.usersChange) this.setState({ usersChange: false })\n  }\n\n\n\n\n  toggleSideBar = () => {\n    // if (DEBUG) console.log(\"TOGGLED\");\n    this.setState(prevState => ({\n      showSideBar: !prevState.showSideBar\n    }));\n  }\n\n  handleDrawerClose = () => {\n    // if (DEBUG) console.log(\"CLOSED\")\n    this.setState({ showSideBar: false });\n  }\n\n  updateDeviceDimensions = () => {\n    var dimensions = {};\n    // width, height\n    dimensions.windowWidth = typeof window !== \"undefined\" ? window.innerWidth : 0;\n    dimensions.windowHeight = typeof window !== \"undefined\" ? window.innerHeight : 0;\n\n    // orientation and flipped\n    let ratio = this.state.wOG / this.state.hOG;\n    dimensions.flipped = false;\n    if (dimensions.windowWidth / dimensions.windowHeight !== ratio) dimensions.flipped = true;\n    dimensions.orientation = dimensions.windowWidth / dimensions.windowHeight > 1 ? \"landscape\" : \"portrait\";\n\n    // device type\n    let minD = Math.min(dimensions.windowWidth, dimensions.windowHeight);\n    // if (DEBUG) console.log(\"minD\", minD, dimensions.windowWidth, dimensions.windowHeight);\n    dimensions.device = \"\";\n    if (minD < 450) dimensions.device = \"mobile\";\n    else if (minD < 700) dimensions.device = \"tablet\";\n    else dimensions.device = \"desktop\";\n\n    this.setState({ dimensions: dimensions });\n  }\n\n  addClass = (classn) => {\n    let classes = [...this.state.classes];\n    classes.push(classn);\n    this.setState({ classes });\n    //\" \" + this.state.cursor\n  }\n\n  removeClass = (classn) => {\n    let classes = [...this.state.classes];\n    let indexOfClass = classes.indexOf(classn);\n    if (indexOfClass > -1) {\n      classes.splice(indexOfClass, 1);\n      this.setState({ classes });\n    }\n  }\n\n  //////////////////////////////////////////////////////////\n  // USERS\n  socketSetup = () => {\n\n    socket.on('connect', () => {\n      const user = this.props.user;\n      this.setState({ sessionID: socket.id });\n      // if (DEBUG) console.log(\"SETUP SOCKET, SET\", user);\n      // socket.emit(\"setUser\", user);\n      socket.emit(\"joinRoom\", user.room);\n      // this.props.setUser()\n      this.addBots();\n    });\n\n\n    socket.on(\"usersUpdate\", data => {\n      var { sessionID } = this.state;\n      var filteredArray = data.filter(function (user) {\n        return user.id != sessionID;\n      });\n      this.setRoomCount();\n      // if (DEBUG) console.log(\"USERS UPDATED\", data);\n      this.setState({ users: filteredArray });\n    });\n\n    socket.on(\"message\", data => {\n      // console.log(\"message received\", data);\n      const message = { ...data }\n      const user = { ...this.props.user };\n      if (message.to === user.room) {\n        message.to = \"room\"\n      }\n      else if (message.to !== \"all\") {\n        message.to = \"me\";\n      }\n      message.from = this.getUserNameById(message.from);\n      // this.addUserMessage(message);\n      this.props.addMessage(message);\n    })\n\n    socket.on(\"userJoined\", data => {\n      const user = { ...this.props.user };\n      this.setState({ usersChange: true });\n      // console.log(\"SOMEONE JOINED\");\n    })\n\n    socket.on(\"userDisconnected\", data => {\n      this.setState({ usersChange: true });\n      // socket.emit(\"leaveRoom\", user.room); // not sure if we need this?\n      // console.log(\"SOMEONE DISCONNECTED\");\n    })\n  }\n\n  addBots = () => {\n    const wineBot0 = { x: wineLocation[0].x + 120, y: wineLocation[0].y + 50, avatar: \"\", room: \"home-page\", userName: \"wineBot\", id: 0 };\n    const wineBot1 = { x: wineLocation[1].x + 120, y: wineLocation[1].y + 50, avatar: \"\", room: \"home-page\", userName: \"wineBot\", id: 1 };\n    const dj = { x: djLocation.x, y: djLocation.y, room: \"home-page\", avatar: \"\", userName: \"DJ\", id: 2 };\n    // const hostBot = {x: 300, y: 600, avatar: \"\", room:\"home\", userName:\"hostBot\", id:1}\n    socket.emit(\"setBot\", wineBot0);\n    socket.emit(\"setBot\", wineBot1);\n    socket.emit(\"setBot\", dj);\n    // socket.emit(\"setBot\", hostBot);\n  }\n\n\n  setRoomCount = () => {\n    const roomCount = { ...this.state.roomCount };\n    // reset it\n    for (var key in roomCount) {\n      if (roomCount.hasOwnProperty(key)) {\n        roomCount[key] = 0;\n      }\n    }\n    if (this.state.users) {\n      for (const usr of this.state.users) {\n        var room = usr.room;\n        if (room in roomCount) roomCount[room]++;\n      }\n      // console.log(\"OK\", roomCount, this.state.users);\n      this.setState({ roomCount })\n    }\n\n  }\n\n  getUserNameById = (id) => {\n    const users = this.state.users;\n    if (users) {\n      let obj = users.find(o => o.id === id);\n      if (obj) return obj.userName;\n    }\n    return \"\";\n  }\n\n  getAvatarById = (id) => {\n    const users = this.state.users;\n    if (users) {\n      let obj = users.find(o => o.id === id);\n      if (obj) return obj.avatar;\n    }\n    return \"\";\n  }\n\n  avatarClicked = () => {\n    if (DEBUG) console.log(\"SHOW AV\")\n    if (!this.state.showWelcome) this.setState({ showSignIn: true });\n  }\n\n\n\n  // userSetActiveChat = (clickedUser) => {\n  //   // const mx = event.mx;\n  //   // const mouseX = mx-window.innerWidth;\n  //   var userActiveChat = null;\n  //   if (clickedUser) userActiveChat = {...clickedUser};\n  //   this.setState({userActiveChat, showSideBar: true});\n  //   // console.log(\"trying to set chat user\", userActiveChat);\n  // }\n\n\n  // addUserMessage = (message) => {\n  //   // const user = {...this.state.user};\n  //   const messages = [...this.state.messages, message];\n  //   // user.messages = messages;\n  //   // var newUser = update(user, { messages:\n  //   //   {$push: [msg]}\n  //   // });\n  //\n  //   // if (DEBUG) console.log(\"USER UDPATE\", newUser);\n  //   this.setState({messages});\n  // }\n\n  // userUpdated = (avatar, userName) => {\n  //   // const newUser = { ...this.state.user }\n  //   // newUser.userName = userName;\n  //   // newUser.avatar = avatar;\n  //   // if (DEBUG) console.log(\"USER UPDATE\", newUser)\n  //   // this.setState({user: newUser});\n  //   this.props.setUser(avatar, userName);\n  // }\n\n  // userMove = (x, y) => {\n  //   // const user = {...this.state.user};\n  //   // user.x = x;\n  //   // user.y = y;\n  //   this.props.moveUser(x, y, wineLocation);\n  //\n  //   // this.setState({user});\n  //   // if (DEBUG) console.log(\"MOVE\", user);\n  //   // socket.emit(\"setUser\", this.props.user);\n  // }\n\n\n  // userSet = (userName, avatar) => {\n  //\n  //   // this.userUpdated(avatar, userName);\n  //\n  //   // const user = { ...this.state.user }\n  //   // user.userName = userName;\n  //   // user.avatar = avatar;\n  //   this.props.setUser(userName, avatar);\n  //   this.setState({hasAvatar:true, showSignIn:false});\n  //   // if (DEBUG) console.log(\"USER SET\", user);\n  //\n  // }\n\n\n\n  userNewRoom = (room) => {\n    // alert(\"door!\");\n    this.props.history.push(room);\n    this.props.setUserRoom(room);\n  }\n\n  userSetRoom = (location, action) => {\n    const nextRoom = this.getRoom(location.pathname);\n    this.props.setUserRoom(nextRoom);\n  }\n\n  getRoom = (path = this.props.location.pathname) => {\n    var rm = path.substring(1, path.length);\n\n    if (rm == \"\") rm = \"home-page\";\n    else if (rm == \"confessions\") rm = \"cloud-confessional\";\n\n    const pages = [\"home-page\", \"macbook-air\", \"wet-streams\", \"hard-drives-on-seashores\", \"blind-spot\", \"cloud-confessional\", \"xfinity-depths\", \"esc-to-mars\", \"jungle-gyms\"];\n    if (!pages.includes(rm)) rm = \"\";\n\n    return rm;\n  }\n\n\n\n\n\n  closeSignIn = () => {\n    this.setState({ showSignIn: false })\n  }\n\n  closeWelcome = () => {\n    this.setState({ showWelcome: false })\n  }\n\n  getStringClasses = () => {\n    var str = \"\";\n    for (const classn of this.state.classes) {\n      str += classn + \" \";\n    }\n    str = str.substring(0, str.length - 1);\n    return str;\n  }\n\n  handleMouseMove = e => {\n    let showDock = this.state.showDock;\n    if (showDock) {\n      if (e.clientY < window.innerHeight - 100) {\n        this.setState({ showDock: false });\n      }\n    }\n    else if (e.clientY > window.innerHeight - 25) {\n      this.setState({ showDock: true });\n    }\n  };\n\n  render() {\n    // const counter = useSelector(state => state.counterReducer);\n    // console.log(counter);\n    const { dimensions } = this.state;\n    // console.log(\"app\", this.state.user.room);\n    return (\n      <div className={this.getStringClasses()}>\n        <MuiThemeProvider theme={theme}>\n          {/* <CssBaseline />*/}\n          <div className=\"App-Header\">\n            <div className=\"BackHeader\"></div>\n            <Header dimensions={dimensions} currentPage={\"home-page\"} toggleSideBar={this.toggleSideBar} user={this.props.user} userSet={this.userSet} avatarClicked={this.avatarClicked} />\n          </div>\n          <div className=\"App-Content inner-outline\" onMouseMove={this.handleMouseMove}>\n            <Switch>\n              <Route exact path=\"/\" render={() => (<HomePage dimensions={dimensions} users={this.state.users} userNewRoom={this.userNewRoom} roomCount={this.state.roomCount} showDock={this.state.showDock} />)} />\n              <Route path=\"/macbook-air\" render={() => (<MacbookAir dimensions={dimensions} />)} />\n              <Route path=\"/jungle-gyms\" render={() => (<JungleGyms />)} />\n              <Route path=\"/hard-drives-on-seashores\" render={() => (<HardDrives />)} />\n              <Route path=\"/wasted-days-are-days-wasted\" render={() => (<Spacetimes dimensions={dimensions} />)} />\n              <Route path=\"/esc-to-mars\" render={() => (<Mars addClass={this.addClass} removeClass={this.removeClass} dimensions={dimensions} />)} />\n              <Route path=\"/wet-streams\" render={() => (<WetStreams />)} />\n              <Route path=\"/xfinity-depths\" render={() => (<Loop dimensions={dimensions} />)} />\n              <Route path=\"/cloud-confessional\" render={() => (<WaveForms cursor={this.state.cursorID} />)} />\n              <Route path=\"/confessions\" render={() => (<Confessions />)} />\n              <Route path=\"/flush\" render={() => (<VorTech />)} />\n              <Route path=\"/house-view\" render={() => (<Oogle />)} />\n              <Route path=\"/blind-eye\" render={() => (<Blinds />)} />\n\n              <Route path=\"/dig\" render={() => (<Dig addClass={this.addClass} />)} />\n              {<Route path=\"/moon-light\" component={MoonLight} />}\n              <Route path=\"/yosemite\" component={Yosemite} />\n              {/*<Route  path=\"/three\" component={Three} />*/}\n              <Route path=\"/credits\" render={() => (<Credits />)} />\n              <Route path=\"/about\" render={() => (<About />)} />\n              <Route path=\"/contact\" render={() => (<Contact />)} />\n              <Route component={NotFound} />\n            </Switch>\n            {/*<div id=\"fps\">0</div> */}\n\n          </div>\n          {<FPSStats top={window.innerHeight - 55} left={10} />}\n          {/* <SideBar room={this.state.user.room} user={this.state.user} users={this.state.users} usersChange={this.state.usersChange} showSideBar={this.state.showSideBar} handleDrawerClose={this.handleDrawerClose.bind(this)} messages={this.state.messages} addUserMessage={this.addUserMessage} userActiveChat={this.state.userActiveChat} userSetActiveChat={this.userSetActiveChat}  />*/}\n          <Chat users={this.state.users} usersChange={this.state.usersChange} />\n          <Participants users={this.state.users} />\n          <FAQFrame />\n          <SignIn hasAvatar={this.state.hasAvatar} showSignIn={this.state.showSignIn} closeSignIn={this.closeSignIn} isFrame={true} />\n          <Welcome user={this.props.user} hasAvatar={this.state.hasAvatar} showWelcome={this.state.showWelcome} closeWelcome={this.closeWelcome} />\n          {/* <Dock showDock={this.state.showDock} />*/}\n        </MuiThemeProvider>\n      </div>\n    );\n  }\n\n\n}\n\nconst mapStateToProps = (state) => {\n  return {\n    user: state.user\n  }\n}\n\nconst mapDispatchToProps = () => {\n  return {\n    setUserRoom,\n    setUser,\n    moveUser,\n    setWine,\n    addMessage\n  }\n}\n//\n\nexport default withRouter(connect(mapStateToProps, mapDispatchToProps())(App));\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' }\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import { SETUSERROOM,SETUSER,MOVEUSER,REGISTERUSER, SETWINE, RESETWINE, ADDWINE  } from '../actions/user';\n\nimport Cookies from 'js-cookie';\nimport socket from \"../../components/shared/Socket/Socket\";\n\n// reducer (check what to do with action)\nconst initState = { avatar:\"\", userName:\"\", room:\"home-page\", x: 0, y: 0, hasWine: null, needsWine: false};\n\nconst userReducer = (state=initState, action) => {\n  const user =  {...state };\n\n  switch(action.type) {\n\n    case SETUSERROOM:\n    const prevRoom = user.room;\n    const nextRoom = action.payload.room;\n    user.room = nextRoom;\n    socket.emit(\"leaveRoom\", prevRoom);\n    socket.emit(\"joinRoom\", nextRoom);\n    socket.emit(\"setUser\", user);\n    return user;\n\n    case SETUSER:\n    user.avatar = action.payload.avatar;\n    user.userName = action.payload.userName;\n    Cookies.set(\"hasAvatar\", true);\n    Cookies.set(\"avatar\", user.avatar);\n    Cookies.set(\"userName\", user.userName);\n    socket.emit(\"setUser\", user);\n    return user;\n\n    case MOVEUSER:\n    user.x = action.payload.x;\n    user.y = action.payload.y;\n    var wineLocation = action.payload.wineLocation;\n    if ((userNearWine(user, wineLocation[0]) || userNearWine(user, wineLocation[1])) && user.needsWine) {\n      user.needsWine = false;\n      user.hasWine = new Date();\n    }\n    socket.emit(\"setUser\", user);\n    return user;\n\n    case ADDWINE:\n    user.needsWine = true;\n    var wineLocation = action.payload.wineLocation;\n    console.log(\"WINE\", wineLocation);\n    if (userNearWine(user, wineLocation[0]) || userNearWine(user, wineLocation[1])) {\n      user.needsWine = false;\n      user.hasWine = new Date();\n    }\n    socket.emit(\"setUser\", user);\n    return user;\n\n    case SETWINE:\n    user.needsWine = action.payload.needsWine;\n    user.hasWine = action.payload.hasWine;\n    socket.emit(\"setUser\", user);\n    return user;\n\n    case RESETWINE:\n    user.hasWine = false;\n    user.needsWine = false;\n    socket.emit(\"setUser\", user);\n    return user;\n\n    default:\n    return state;\n  }\n}\n\n\nfunction userNearWine (user, wineLocation) {\n  var dx = user.x - (wineLocation.x+wineLocation.w/2);\n  var dy = user.y - (wineLocation.y+wineLocation.h/2);\n  var dis = Math.sqrt(dx*dx + dy*dy);\n  // console.log(\"DIS\", dis < 200);\n  return dis < 200;\n}\n\n\nexport default userReducer;\n","import { ADDMESSAGE } from '../actions/messages';\n\n// reducer (check what to do with action)\nconst messagesReducer = (state=[], action) => {\n  switch(action.type) {\n    case ADDMESSAGE:\n      const messages = [...state, action.payload.message];\n      return messages;\n    default:\n      return state;\n  }\n}\n\nexport default messagesReducer;\n","import { SHOWMAP, HIDEMAP, TOGGLEMAP } from '../actions/';\n\n// reducer (check what to do with action)\nconst mapReducer = (state=false, action) => {\n  switch(action.type) {\n    case SHOWMAP:\n      return false;\n    case HIDEMAP:\n      return true;\n    case TOGGLEMAP:\n      return !state;\n    default:\n      return state;\n  }\n}\n\nexport default mapReducer;\n","import { SHOWFAQ, HIDEFAQ, TOGGLEFAQ } from '../actions/';\n\n// reducer (check what to do with action)\nconst faqReducer = (state=true, action) => {\n  switch(action.type) {\n    case SHOWFAQ:\n      return false;\n    case HIDEFAQ:\n      return true;\n    case TOGGLEFAQ:\n      return !state;\n    default:\n      return state;\n  }\n}\n\nexport default faqReducer;\n","import { SHOWCHAT, HIDECHAT, TOGGLECHAT } from '../actions/';\n\n// reducer (check what to do with action)\nconst chatReducer = (state=true, action) => {\n  switch(action.type) {\n    case SHOWCHAT:\n      return false;\n    case HIDECHAT:\n      return true;\n    case TOGGLECHAT:\n      return !state;\n    default:\n      return state;\n  }\n}\n\nexport default chatReducer;\n","import { SHOWUSERICONS, HIDEUSERICONS, TOGGLEUSERICONS } from '../actions/';\n\n// reducer (check what to do with action)\nconst userIconsReducer = (state=true, action) => {\n  switch(action.type) {\n    case SHOWUSERICONS:\n      return false;\n    case HIDEUSERICONS:\n      return true;\n    case TOGGLEUSERICONS:\n      return !state;\n    default:\n      return state;\n  }\n}\n\nexport default userIconsReducer;\n","import { SETUSERACTIVECHAT  } from '../actions/userActiveChat';\n\nconst userActiveChatReducer = (state=null, action) => {\n  switch(action.type) {\n    case SETUSERACTIVECHAT:\n    const user = {...action.payload.user};\n    return user;\n    default:\n    return state;\n  }\n}\n\nexport default userActiveChatReducer;\n","import { SETUSERHOVERCHAT,  USERHOVERCHATLEAVE } from '../actions/userActiveChat';\n\nconst userActiveChatReducer = (state=null, action) => {\n  switch(action.type) {\n    case SETUSERHOVERCHAT:\n    const user = {...action.payload.user};\n    return user;\n\n    case USERHOVERCHATLEAVE:\n    return null;\n\n    default:\n    return state;\n  }\n}\n\nexport default userActiveChatReducer;\n","/*\nReducers modify state, and set default state\nstore is created from reducers; it's what holds state\n*/\n\nimport {combineReducers} from 'redux';\nimport userReducer from './user';\nimport messagesReducer from './messages';\nimport mapReducer from './map';\nimport faqReducer from './faq';\nimport chatReducer from './chat';\nimport userIconsReducer from './userIcons';\nimport userActiveChatReducer from './userActiveChat';\nimport userHoverChatReducer from './userHoverChat';\n\nconst allReducers = combineReducers({\n  user: userReducer,\n  messages: messagesReducer,\n  mapIsHidden: mapReducer,\n  faqIsHidden: faqReducer,\n  chatIsHidden: chatReducer,\n  userIconsIsHidden: userIconsReducer,\n  userActiveChat: userActiveChatReducer,\n  userHoverChat: userHoverChatReducer\n})\n\nexport default allReducers;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App/App';\nimport {BrowserRouter}  from 'react-router-dom';\nimport * as serviceWorker from './serviceWorker';\n\nimport { createStore } from 'redux';\nimport { Provider } from 'react-redux';\nimport allReducers from './store/reducers/';\nlet store = createStore(allReducers, window.__REDUX_DEVTOOLS_EXTENSION__ && window.__REDUX_DEVTOOLS_EXTENSION__());\n\n\nReactDOM.render(\n  <React.StrictMode>\n    <Provider store={store} >\n      <BrowserRouter>\n        <App />\n      </BrowserRouter>\n    </Provider>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}