{"version":3,"sources":["App/assets/fonts/dogica.ttf","components/sketches/WetStreams/assets/showerHeads sync /^/.//.*/.png$","components/sketches/WetStreams/assets/showerHeads/0.png","components/sketches/WetStreams/assets/showerHeads/1.png","components/sketches/WetStreams/assets/showerHeads/10.png","components/sketches/WetStreams/assets/showerHeads/11.png","components/sketches/WetStreams/assets/showerHeads/2.png","components/sketches/WetStreams/assets/showerHeads/3.png","components/sketches/WetStreams/assets/showerHeads/4.png","components/sketches/WetStreams/assets/showerHeads/5.png","components/sketches/WetStreams/assets/showerHeads/6.png","components/sketches/WetStreams/assets/showerHeads/7.png","components/sketches/WetStreams/assets/showerHeads/8.png","components/sketches/WetStreams/assets/showerHeads/9.png","components/sketches/Three/assets/AnaglyphEffect.js","components/shared/Header/ListItem.js","components/shared/Header/FinderSubmenu.js","components/shared/Header/Clock.js","components/shared/Header/Header.js","components/shared/Frame/Toolbar.js","components/shared/Frame/Frame.js","components/shared/SideBar/Tabs/Chat/ComboBox.js","components/shared/SideBar/Tabs/Chat/Messages.js","components/shared/Socket/Socket.js","components/shared/SideBar/Tabs/Chat/Chat.js","components/shared/SideBar/Tabs/Critique/Critique.js","components/shared/SideBar/Tabs/Help.js","components/shared/SideBar/Tabs/TabPanel.js","components/sketches/HomePage/HomeSketch.js","components/shared/SideBar/SideBar.js","components/shared/Glasses/Glasses.js","components/sketches/HomePage/components/Helpers.js","components/sketches/HomePage/components/ToolTip.js","components/sketches/HomePage/components/OtherAvatar.js","components/sketches/HomePage/components/OtherAvatars.js","components/sketches/HomePage/components/Avatar.js","components/shared/DesktopIcon/DesktopIcon.js","components/sketches/HomePage/components/Folders.js","components/sketches/HomePage/components/Welcome.js","components/sketches/HomePage/components/WineBar.js","components/sketches/HomePage/HomePage.js","components/shared/Babylon.jsx","components/shared/Frame/FrameSimple.js","components/sketches/Dimension/components/Stair.js","components/sketches/Dimension/components/Castle.js","components/sketches/Dimension/Dimension.js","components/sketches/MacbookAir/MacbookAir.js","components/sketches/ClickMe/ClickMe.js","components/sketches/JungleGyms/Pipe.js","components/sketches/JungleGyms/JungleGyms.js","components/sketches/HardDrives/HardDrives.js","components/sketches/HardDrives/Birds.js","components/sketches/Spacetimes/Spacetimes.js","components/sketches/Mars/Mars.js","components/shared/Helpers/Helpers.js","components/sketches/WetStreams/wetSketch.js","components/sketches/WetStreams/WetStreams.js","components/sketches/WaveForms/components/Emojis.js","components/sketches/WaveForms/components/BottomBar.js","components/sketches/WaveForms/components/LiveBar.js","components/sketches/WaveForms/WaveForms.js","components/sketches/WaveForms/components/Helpers.js","components/sketches/WaveForms/components/Tweet.js","components/sketches/WaveForms/components/Confession.js","components/sketches/WaveForms/Confessions.js","components/sketches/Altar/Altar.js","components/sketches/MoonLight/MoonLight.js","components/sketches/Loop/Loop.js","components/sketches/Dinner/Dinner.js","components/sketches/Three/Three.js","components/sketches/Dig/Dig.js","components/pages/About.js","components/pages/Credits.js","components/pages/NotFound.js","components/shared/SignIn/SignIn.js","App/Helpers/Boundaries.js","App/App.js","serviceWorker.js","index.js"],"names":["module","exports","map","webpackContext","req","id","webpackContextResolve","__webpack_require__","o","e","Error","code","keys","Object","resolve","THREE","path","renderer","width","height","this","colorMatrixLeft","Matrix3","fromArray","colorMatrixRight","_camera","OrthographicCamera","_scene","Scene","_sceneBG","_cameraBG","_stereo","StereoCamera","eyeSep","_params","minFilter","LinearFilter","magFilter","NearestFilter","format","RGBAFormat","undefined","_renderTargetL","WebGLRenderTarget","_renderTargetR","_renderTargetBG","_material","ShaderMaterial","uniforms","value","texture","vertexShader","join","fragmentShader","_mesh","Mesh","PlaneBufferGeometry","add","_texBG","TextureLoader","load","_materialBG","MeshBasicMaterial","color","_meshBG","setSize","pixelRatio","getPixelRatio","render","scene","camera","currentRenderTarget","getRenderTarget","updateMatrixWorld","parent","update","setRenderTarget","clear","cameraL","cameraR","dispose","geometry","ListItem","props","title","link","dimensions","callback","shortcut","DOMParser","parseFromString","body","innerHTML","getShortcut","windowWidth","classn","device","to","key","className","onClick","React","PureComponent","FinderSubmenu","state","isVisible","toggleHidden","bind","setWrapperRef","handleClickOutside","document","addEventListener","removeEventListener","node","wrapperRef","event","contains","target","setState","prevState","icon","specialClass","ulSpecialClass","listItems","ref","item","Clock","currentTimeString","updateClock","interval","setInterval","clearInterval","currentTime","Date","currentHours","getHours","currentMinutes","getMinutes","timeOfDay","getDay","Header","showSideBar","getRightMenus","handleClick","getAvatar","console","log","avatarClicked","toggleSideBar","user","avatar","Component","Toolbar","toggleClosed","toggleMinimzed","toggleMaximized","Frame","onControlledDrag","position","x","y","controlledPosition","onControlledDragStop","onStop","eventLogger","data","onStart","activeDrags","handleStart","newFrameToTop","toolBarH","origCoords","isMinimized","deltaPosition","wrapper","createRef","prevProps","dx","dy","onHide","onMinimized","parser","isHidden","isMaximized","contentVisibility","display","frameH","bounds","bounded","axis","handle","defaultPosition","positionOffset","grid","scale","cancel","onDrag","handleStop","nodeRef","style","zIndex","z","window","windowStyle","content","ComboBox","getInitialUserNames","names","initialUsers","push","userName","setInputValue","newInputValue","inputValue","getUserListInRoom","users","i","length","room","getLabel","getUsersInRoomTrunc","getUsersInRoom","filter","setValue","newValue","setRecipient","userActiveChat","label","listID","find","classes","Autocomplete","onChange","onInputChange","options","getOptionLabel","option","getOptionSelected","fullWidth","renderInput","params","InputProps","type","placeholder","inputProps","Messages","getUserById","getUserNameById","obj","scrollToBottom","messagesEnd","scrollIntoView","behavior","messages","message","classN","from","avatarHidden","messageToCol","float","el","socket","io","Chat","handleTextBoxChange","textBox","buttonDisabled","userSetActiveChat","sendToOne","txt","socketId","time","connected","emit","addUserMessage","sendToRoom","sendToAll","sendToHostBot","sendToWineBot","setTimeout","wineBotRespond","wineBotJustAsked","lc","toLowerCase","phrase","indexOf","addWine","onSubmit","sendMessage","handleKeyDown","setUserHover","userHover","setUserHoverLeave","onKeyDown","disabled","withStyles","theme","root","textField","backgroundColor","withTheme","Critique","getPublicRoomCritiques","critiques","crit","public","handleCheckClick","checked","alert","isPublic","requestOptions","method","headers","JSON","stringify","fetch","then","response","json","catch","error","fetchRoomCritiques","on","url","initialRes","crits","reverse","name","htmlFor","slice","opac","Math","max","opacity","Help","TabPanel","children","index","other","role","hidden","aria-labelledby","a11yProps","useStyles","makeStyles","flex","flexDirection","AppBarMe","background","fontFamily","borderColor","AppBar","AntTab","textTransform","minWidth","fontWeight","typography","fontWeightRegular","marginRight","spacing","fontWeightMedium","selected","Tab","disableRipple","ScrollableTabsButtonPrevent","useState","Tabs","scrollButtons","aria-label","indicatorColor","textColor","centered","fontSize","floorTex","createMuiTheme","palette","primary","blue","secondary","overrides","SideBar","sty","ThemeProvider","Glasses","visibility","start","getTime","innerHeight","innerWidth","walls","doors","drawWalls","p5","beginShape","textureWrap","REPEAT","vertex","endShape","strokeWeight","stroke","line","drawDoors","x0","y0","x1","y1","setup","canvasParentRef","createCanvas","WEBGL","loadImage","draw","translate","pop","showWine","hasWine","ToolTip","top","left","OtherAvatar","otherUser","avatarW","loc","getOtherUserLocation","showWineEmoji","onMouseEnter","onMouseLeave","OtherAvatars","Avatar","DesktopIcon","onDblClick","newIconToTop","zIcon","onDoubleClick","disableWindow","getFrame","box","zFrame","w","h","frameContent","z0","src","AWS","z1","z2","paddingBottom","href","HomePage","element","keyDown","keyCode","userMove","handleKeyUp","enterRoom","history","OGW","OGH","userSetRoom","userLeaveRoom","wineLocation","onKeyUp","Welcome","WineBar","Folders","reactCanvas","useRef","antialias","engineOptions","adaptToDeviceRatio","sceneOptions","onRender","rest","onSceneReady","useEffect","current","engine","Engine","isReady","onReadyObservable","addOnce","runRenderLoop","resize","getEngine","FrameSimple","floor","px","py","notAbsolute","getStairContent","numSteps","stepW","stepH","stepDown","steps","val","bgpos","bgsize","backgroundImage","backgroundPosition","backgroundSize","Stair","random","end","in_min","in_max","out_min","out_max","Castle","castleBox","gridsize","size","min","positions","heights","stairinfos","windowinfos","initTerrain","initWindows","initStairs","ColorPalette","Color3","n","ii","pos","Vector3","t","ceil","index1","index2","index3","h1","h2","h3","maxnum","myparent","material","StandardMaterial","col","Lerp","shadow","light","diffuseColor","MeshBuilder","CreateBox","depth","checkCollisions","stairinfo","drawStairByIndex","dir","stepsize","rotY","PI","boxX","boxY","boxZ","rotation","Dimension","ContinuousSlider","orientation","Grid","container","xs","Slider","step","defaultValue","MacbookAir","face","videoSpeed","sliderOG","mainOG","cloudsRef","setSpeed","getDimensions","getMainWindow","getSliderWindow","resetPlayer","speed","playbackRate","windowHeight","originalDim","aspectRatio","minSpacing","windowAspectRatio","getPortraitDimensions","windowDim","sliderDim","vertical","availableHeight","availableWidth","spacingFinal","buffer","getLandscapeDimensions","flipped","playing","muted","loop","frameDimensions","autoPlay","ClickMe","Pipe","nodes","pipeRadius","ballJointRadius","gridBounds","currentPosition","randomInteger","object3d","addTexture","setAt","makeBallJoint","fromPoint","toPoint","deltaVector","subVectors","arrow","clone","normalize","mesh","setFromQuaternion","quaternion","addVectors","multiplyScalar","updateMatrix","ball","copy","fromPosition","toPosition","tangentVector","elball","texUrl","pipeTexture","wrapS","wrapT","repeat","set","emissive","specular","shininess","lastPosition","lastDirectionVector","directionVector","chooseFrom","newPosition","containsPoint","getAt","equals","makeCylinderBetweenPoints","values","x2","round","chance","JungleGyms","water","handleWindowResize","aspect","updateProjectionMatrix","setupScene","alpha","mount","appendChild","domElement","effect","AnaglyphEffect","controls","OrbitControls","minDistance","maxDistance","ambientLight","addLight","addScreenCube","videoGym","videoSwings","pipes","vines","addWallPaper","addVines","look","startAnimationLoop","sin","requestID","requestAnimationFrame","reset","remove","intensity","video","pW","pH","fac","rot","boxLen","videoTex","play","side","plane","transparent","cube","edges","linewidth","wall","self","modelPath","onProgress","xhr","lengthComputable","percentComplete","loaded","total","onError","manager","addHandler","DDSLoader","MTLLoader","setPath","model","materials","preload","OBJLoader","setMaterials","vine","newVine","newVine2","firstLoad","vector","angle","matrix","makeRotationAxis","applyMatrix4","center","lookAt","cancelAnimationFrame","gymUrl","crossOrigin","Birds","initBirds","birdInitialsX","birdInitialsY","num","flyDirection","updateBirds","maxW","flyIndex","numVisibleBirds","getBird","bird","getBirdLocation","trees","bottles","changed","seed","getRandom","HardDrives","island","urlIndex","svFrame","controller","updateDimensions","AnaglyphUniversalCamera","clearColor","Black","setTarget","canvas","getRenderingCanvas","attachControl","inputs","removeByType","HemisphericLight","AssetContainer","SceneLoader","LoadAssetContainer","meshes","scaling","addAllToScene","addToRenderList","instantiateModelsToScene","rootNodes","addPalms","groundTexture","Texture","vScale","uScale","groundMaterial","diffuseTexture","ground","CreateGround","waterMesh","WaterMaterial","Vector2","backFaceCulling","bumpTexture","windForce","waveHeight","bumpHeight","waveLength","waterColor","colorBlendFactor","skybox","skyboxMaterial","reflectionTexture","CubeTexture","coordinatesMode","SKYBOX_MODE","specularColor","disableLighting","addSkybox","bottle","bottleVectors","addBottles","sign","divFps","getElementById","getFps","toFixed","islandIndex","beaches","Babylon","frameBorder","allowFullScreen","aria-hidden","tabIndex","GridFrame","dimW","alt","dimX","dimY","Spacetimes","startTime","currentFrame","increasing","currentText","gridNum","setFrame","setText","heightBuffer","words","intervalFrames","wordIndex","word","toUpperCase","fr","fs","grids","factor","dimH","getRandomNum","getNewZIndices","indexToTop","array","prevVal","maxVal","newArr","Mars","emoji","poolVid0","poolVid1","poolVid2","poolVid3","chairY","radioValue","poolVid","swimmerPos","buttonClick","chairUpdate","handleRadioChange","getSwimmerLanes","changeSwimLane","numSwimmers","chairInterval","swimInterval","addClass","Color4","vids","pool","chairs","smallCrater","bab","board","umbrellas","tank","chairStyle","swimmer","dir0","dir1","lanes","lane0","lane1","lane0Class","lane1Class","emojisTransparent","sketch","p","ps","percent","img","createEmojisTransparent","myCustomRedrawAccordingToNewPropsHandler","origins","offsets","ParticleSystem","createVector","velocities","velX","velY","degrees","isPlaying","initParticles","deltas","origin","createGraphics","tint","image","forEach","sys","run","Particle","deg","acceleration","gravity","velocity","positionOG","lifespan","r","launched","mult","isDead","noStroke","fill","textSize","rotate","radians","launch","particles","numParticle","launchIndex","addParticle","launchParticle","setPercent","particle","WetStreams","handleDrag","ui","deltaX","deltaY","dps","deltaPositions","dp","startW","startH","showerFrame","dim","isPlaying0","isPlaying1","percent0","percent1","playingStreams","playStreamReset","toggleHandler","startX","startY","offset","scaler","dragHandler","require","getShower","Emojis","getEmojis","emojis","BottomBar","updateEmojis","splice","addEmoji","intervalEmoji","Button","variant","faVideo","faMicrophoneAlt","LiveBar","timeInc","sec","hr","updateTime","updateWatchers","watchers","intervalTimer","intervalWatcher","faEye","WaveForms","minVol","videoConstraints","facingMode","tweetW","winX","winY","windowX","windowY","tweetX","tweetY","webX","webY","earCursor","cursor","volume","timePeriod","prayTo","handleChange","memberRef0","videoBack","videoMain","player","audioPlayer","multiline","withRouter","processString","initZIndicesIcons","zind","initZIndicesFrames","Tweet","getTweet","tweet","text","username","likes","rts","replies","tweetID","tweetUri","profileUrl","substring","faComment","faRetweet","faHeart","confession","Confessions","addTweet","tweetObj","string","tweets","regex","fn","result","hashtag","hashtagUrl","profile_image_url","public_metrics","like_count","retweet_count","reply_count","newZ","zIndicesFrames","zIndicesIcons","confessions","fetchTweets","now","includes","author_id","findUserByID","Confession","Altar","MoonLight","a","b","Effect","ShadersStore","postProcess","PostProcess","onApply","setFloat2","setFloat","divRef","onWheel","wheel","Loop","setImages","imageIndex","mapDivs","numFrames","mod","imgW","numImages","imgH","preventDefault","balloonX","isControlled","Three","spheres","init","urls","textureCube","envMap","init2","animate","timer","il","sphere","cos","Dinner","Dig","clicked","getFrames","frames","frame","About","Credits","NotFound","SignIn","setAvatarBar","setUserName","handleSubmit","nextProps","showSignIn","hasAvatar","evt","userSet","userRegisterCheck","closeSignIn","Input","intersects","l0x","l0y","l1x","l1y","v","sqrt","l2","dist2","distToSegmentSquared","distToSegment","sqr","dogicaFont","main","indigo","pink","red","contrastThreshold","tonalOffset","App","handleDrawerClose","updateDeviceDimensions","ratio","wOG","hOG","minD","socketSetup","sessionID","addBots","filteredArray","usersChange","wineBot","needsWine","userNearWine","getAvatarById","clickedUser","userUpdated","newUser","nextPos","d","doorCrossing","points","boundaryCrossing","centerPoints","Cookies","userRegister","isUser","userCheck","cursorID","centerW","get","exact","component","Boolean","location","hostname","match","ReactDOM","StrictMode","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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BAAO,eAAK,2BAAO,2BAAO,2BAAO,2BAAO,2BAAO,eAAK,2BAAO,2BAAO,2BAAO,2BAAO,2BAAO,eAAK,2BAAO,2BAAO,2BAAO,2BAAO,2BAAO,eAAK,2BAAO,2BAAO,2BAAO,2BAAO,2BAAO,eAAK,2BAAO,2BAAO,2BAAO,2BAAO,2BAAO,eAAK,2BAAO,2BAAO,2BAAO,2BAAO,2BAAO,eAAK,2BAAO,2BAAO,2BAAO,2BAAO,2BAAO,eAAK,2BAAO,2BAAO,2BAAO,2BAAO,2BAAO,eAAK,mDAAW,mDAAW,eAAK,qEAAc,qEAAc,eAAK,2BAAO,2BAAO,2BAAO,2BAAO,2BAAO,eAAK,2BAAO,2BAAO,2BAAO,2BAAO,2BAAO,eAAK,2BAAO,2BAAO,2BAAO,2BAAO,2BAAO,eAAK,eAAK,2BAAO,2BAAO,2BAAO,2BAAO,2BAAO,eAAK,eAAK,eAAK,eAAK,2BAAO,2BAAO,2BAAO,2BAAO,2BAAO,eAAK,2BAAO,2BAAO,2BAAO,2BAAO,2BAAO,eAAK,2BAAO,2BAAO,2BAAO,2BAAO,2BAAO,eAAK,2BAAO,2BAAO,2BAAO,2BAAO,2BAAO,SAAI,qBAAM,qBAAM,qBAAM,qBAAM,qBAAM,eAAK,2BAAO,2BAAO,2BAAO,2BAAO,2BAAO,eAAK,2BAAO,2BAAO,2BAAO,2BAAO,2BAAO,eAAK,2BAAO,2BAAO,2BAAO,2BAAO,2BAAO,eAAK,2BAAO,2BAAO,2BAAO,2BAAO,2BAAO,eAAK,2BAAO,2BAAO,2BAAO,2BAAO,2BAAO,SAAI,qBAAM,qBAAM,qBAAM,qBAAM,qBAAM,eAAK,2BAAO,2BAAO,2BAAO,2BAAO,2BAAO,SAAI,qBAAM,qBAAM,qBAAM,qBAAM,qBAAM,SAAI,qBAAM,qBAAM,qBAAM,qBAAM,qBAAM,eAAK,2BAAO,2BAAO,2BAAO,2BAAO,2BAAO,eAAK,2BAAO,2BAAO,2BAAO,2BAAO,2BAAO,eAAK,2BAAO,2BAAO,2BAAO,2BAAO,2BAAO,eAAK,eAAK,eAAK,eAAK,eAAK,eAAK,eAAK,eAAK,eAAK,eAAK,eAAK,eAAK,eAAK,eAAK,eAAK,eAAK,eAAK,eAAK,eAAK,eAAK,eAAK,eAAK,eAAK,eAAK,eAAK,eAAK,eAAK,eAAK,eAAK,eAAK,eAAK,eAAK,eAAK,eAAK,eAAK,eAAK,eAAK,eAAK,eAAK,eAAK,eAAK,eAAK,eAAK,eAAK,eAAK,eAAK,eAAK,eAAK,eAAK,eAAK,eAAK,eAAK,eAAK,eAAK,eAAK,eAAK,eAAK,eAAK,eAAK,eAAK,eAAK,eAAK,eAAK,eAAK,eAAK,eAAK,eAAK,eAAK,eAAK,eAAK,eAAK,eAAK,eAAK,eAAK,eAAK,eAAK,eAAK,eAAK,eAAK,eAAK,eAAK,eAAK,eAAK,eAAK,eAAK,eAAK,eAAK,eAAK,eAAK,eAAK,eAAK,eAAK,eAAK,eAAK,eAAK,eAAK,eAAK,eAAK,eAAK,eAAK,eAAK,eAAK,eAAK,eAAK,eAAK,eAAK,eAAK,eAAK,eAAK,eAAK,eAAK,eAAK,eAAK,eAAK,eAAK,eAAK,eAAK,eAAK,eAAK,eAAK,eAAK,eAAK,eAAK,eAAK,eAAK,eAAK,eAAK,eAAK,eAAK,eAAK,eAAK,eAAK,eAAK,eAAK,eAAK,eAAK,eAAK,eAAK,eAAK,eAAK,eAAK,eAAK,eAAK,eAAK,eAAK,eAAK,eAAK,eAAK,eAAK,eAAK,eAAK,eAAK,eAAK,eAAK,eAAK,eAAK,eAAK,eAAK,eAAK,eAAK,eAAK,eAAK,eAAK,eAAK,eAAK,eAAK,eAAK,eAAK,eAAK,eAAK,eAAK,eAAK,eAAK,eAAK,eAAK,eAAK,eAAK,eAAK,eAAK,eAAK,eAAK,eAAK,eAAK,eAAK,eAAK,eAAK,eAAK,eAAK,eAAK,eAAK,eAAK,eAAK,eAAK,eAAK,eAAK,eAAK,eAAK,SAAI,eAAK,eAAK,eAAK,eAAK,eAAK,eAAK,eAAK,eAAK,eAAK,eAAK,eAAK,eAAK,eAAK,eAAK,eAAK,eAAK,eAAK,eAAK,eAAK,eAAK,eAAK,eAAK,eAAK,eAAK,eAAK,2BAAO,2BAAO,2BAAO,2BAAO,2BAAO,eAAK,2BAAO,2BAAO,2BAAO,2BAAO,2BAAO,eAAK,2BAAO,2BAAO,2BAAO,2BAAO,2BAAO,eAAK,2BAAO,2BAAO,2BAAO,2BAAO,2BAAO,eAAK,2BAAO,2BAAO,2BAAO,2BAAO,2BAAO,eAAK,2BAAO,2BAAO,2BAAO,2BAAO,2BAAO,eAAK,2BAAO,2BAAO,2BAAO,2BAAO,2BAAO,eAAK,eAAK,eAAK,eAAK,2BAAO,2BAAO,2BAAO,2BAAO,2BAAO,eAAK,2BAAO,2BAAO,2BAAO,2BAAO,2BAAO,eAAK,2BAAO,2BAAO,2BAAO,2BAAO,2BAAO,eAAK,eAAK,eAAK,eAAK,eAAK,eAAK,eAAK,eAAK,eAAK,eAAK,eAAK,eAAK,eAAK,eAAK,eAAK,eAAK,eAAK,eAAK,eAAK,eAAK,eAAK,eAAK,eAAK,eAAK,eAAK,eAAK,eAAK,eAAK,eAAK,eAAK,eAAK,eAAK,eAAK,eAAK,eAAK,eAAK,qBAAM,eAAK,eAAK,eAAK,eAAK,eAAK,eAAK,eAAK,eAAK,eAAK,eAAK,eAAK,eAAK,eAAK,eAAK,eAAK,eAAK,eAAK,eAAK,eAAK,eAAK,eAAK,eAAK,eAAK,eAAK,eAAK,eAAK,eAAK,eAAK,eAAK,eAAK,eAAK,eAAK,eAAK,eAAK,eAAK,eAAK,eAAK,eAAK,eAAK,eAAK,eAAK,eAAK,eAAK,eAAK,eAAK,eAAK,eAAK,eAAK,eAAK,eAAK,eAAK,eAAK,eAAK,eAAK,eAAK,eAAK,eAAK,eAAK,eAAK,eAAK,eAAK,eAAK,eAAK,eAAK,eAAK,eAAK,eAAK,eAAK,eAAK,eAAK,eAAK,eAAK,eAAK,eAAK,eAAK,eAAK,eAAK,eAAK,eAAK,eAAK,eAAK,eAAK,eAAK,2BAAO,2BAAO,2BAAO,2BAAO,2BAAO,2BAAO,2BAAO,2BAAO,2BAAO,2BAAO,2BAAO,2BAAO,2BAAO,2BAAO,2BAAO,2BAAO,2BAAO,2BAAO,2BAAO,2BAAO,2BAAO,2BAAO,2BAAO,2BAAO,2BAAO,2BAAO,2BAAO,2BAAO,2BAAO,2BAAO,2BAAO,2BAAO,2BAAO,2BAAO,2BAAO,2BAAO,2BAAO,2BAAO,2BAAO,2BAAO,2BAAO,2BAAO,eAAK,eAAK,eAAK,eAAK,SAAI,SAAI,eAAK,eAAK,eAAK,eAAK,eAAK,eAAK,eAAK,eAAK,eAAK,eAAK,eAAK,eAAK,eAAK,eAAK,eAAK,eAAK,eAAK,eAAK,eAAK,eAAK,eAAK,eAAK,eAAK,eAAK,eAAK,eAAK,eAAK,eAAK,eAAK,eAAK,eAAK,eAAK,eAAK,eAA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","file":"static/js/main.5e4aa505.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/dogica.57d7ce13.ttf\";","var map = {\n\t\"./0.png\": 237,\n\t\"./1.png\": 238,\n\t\"./10.png\": 239,\n\t\"./11.png\": 240,\n\t\"./2.png\": 241,\n\t\"./3.png\": 242,\n\t\"./4.png\": 243,\n\t\"./5.png\": 244,\n\t\"./6.png\": 245,\n\t\"./7.png\": 246,\n\t\"./8.png\": 247,\n\t\"./9.png\": 248\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn map[req];\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = 236;","module.exports = __webpack_public_path__ + \"static/media/0.32b7aa62.png\";","module.exports = __webpack_public_path__ + \"static/media/1.47599ef2.png\";","module.exports = __webpack_public_path__ + \"static/media/10.1e6a8e72.png\";","module.exports = __webpack_public_path__ + \"static/media/11.6e21d3da.png\";","module.exports = __webpack_public_path__ + \"static/media/2.f93fc873.png\";","module.exports = __webpack_public_path__ + \"static/media/3.e64897a9.png\";","module.exports = __webpack_public_path__ + \"static/media/4.b692a53e.png\";","module.exports = __webpack_public_path__ + \"static/media/5.a1b7768d.png\";","module.exports = __webpack_public_path__ + \"static/media/6.490c6cbe.png\";","module.exports = __webpack_public_path__ + \"static/media/7.5f8cc232.png\";","module.exports = __webpack_public_path__ + \"static/media/8.27fedc65.png\";","module.exports = __webpack_public_path__ + \"static/media/9.13ccb29c.png\";","\nmodule.exports = function( THREE, path ) {\n\t/**\n\t* @author mrdoob / http://mrdoob.com/\n\t* @author marklundin / http://mark-lundin.com/\n\t* @author alteredq / http://alteredqualia.com/\n\t* @author tschw\n\t*/\n\n\n\n\tvar AnaglyphEffect = function ( renderer, path, width, height ) {\n\t\t// Matrices generated with angler.js https://github.com/tschw/angler.js/\n\t\t// (in column-major element order, as accepted by WebGL)\n\n\t\tthis.colorMatrixLeft = new THREE.Matrix3().fromArray( [\n\n\t\t\t1.0671679973602295, - 0.0016435992438346148, 0.0001777536963345483, // r out\n\t\t\t- 0.028107794001698494, - 0.00019593400065787137, - 0.0002875397040043026, // g out\n\t\t\t- 0.04279090091586113, 0.000015809757314855233, - 0.00024287120322696865 // b out\n\n\t\t] );\n\n\t\t//\t\tred\t\t\t\t\t\tgreen \t\t\t\t\t\tblue  \t\t\t\t\t\tin\n\n\t\tthis.colorMatrixRight = new THREE.Matrix3().fromArray( [\n\n\t\t\t- 0.0355340838432312, - 0.06440307199954987, 0.018319187685847282, // r out\n\t\t\t- 0.10269022732973099, 0.8079727292060852, - 0.04835830628871918, // g out\n\t\t\t0.0001224992738571018, - 0.009558862075209618, 0.567823588848114 // b out\n\n\t\t] );\n\n\t\tvar _camera = new THREE.OrthographicCamera( - 1, 1, 1, - 1, 0, 1 );\n\t\tvar _scene = new THREE.Scene();\n\n\t\tvar _sceneBG = new THREE.Scene();\n\t\tvar _cameraBG = new THREE.OrthographicCamera( - 1, 1, 1, - 1, 0, 1 );\n\n\t\tvar _stereo = new THREE.StereoCamera();\n\t\t_stereo.eyeSep = .4; //default .064\n\n\t\tvar _params = { minFilter: THREE.LinearFilter, magFilter: THREE.NearestFilter, format: THREE.RGBAFormat };\n\n\t\tif ( width === undefined ) width = 512;\n\t\tif ( height === undefined ) height = 512;\n\n\t\tvar _renderTargetL = new THREE.WebGLRenderTarget( width, height, _params );\n\t\tvar _renderTargetR = new THREE.WebGLRenderTarget( width, height, _params );\n\t\tvar _renderTargetBG = new THREE.WebGLRenderTarget( width, height, _params );\n\n\t\tvar _material = new THREE.ShaderMaterial( {\n\n\t\t\tuniforms: {\n\n\t\t\t\t\"mapLeft\": { value: _renderTargetL.texture },\n\t\t\t\t\"mapRight\": { value: _renderTargetR.texture },\n\t\t\t\t\"mapBG\": { value: _renderTargetBG.texture },\n\n\t\t\t\t\"colorMatrixLeft\": { value: this.colorMatrixLeft },\n\t\t\t\t\"colorMatrixRight\": { value: this.colorMatrixRight }\n\n\t\t\t},\n\n\t\t\tvertexShader: [\n\n\t\t\t\t\"varying vec2 vUv;\",\n\n\t\t\t\t\"void main() {\",\n\n\t\t\t\t\"\tvUv = vec2( uv.x, uv.y );\",\n\t\t\t\t\"\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\",\n\n\t\t\t\t\"}\"\n\n\t\t\t].join( \"\\n\" ),\n\n\t\t\tfragmentShader: [\n\n\t\t\t\t\"uniform sampler2D mapLeft;\",\n\t\t\t\t\"uniform sampler2D mapRight;\",\n\t\t\t\t\"uniform sampler2D mapBG;\",\n\t\t\t\t\"varying vec2 vUv;\",\n\n\t\t\t\t\"uniform mat3 colorMatrixLeft;\",\n\t\t\t\t\"uniform mat3 colorMatrixRight;\",\n\n\t\t\t\t// These functions implement sRGB linearization and gamma correction\n\n\t\t\t\t\"float lin( float c ) {\",\n\t\t\t\t\"\treturn c <= 0.04045 ? c * 0.0773993808 :\",\n\t\t\t\t\"\t\t\tpow( c * 0.9478672986 + 0.0521327014, 2.4 );\",\n\t\t\t\t\"}\",\n\n\t\t\t\t\"vec4 lin( vec4 c ) {\",\n\t\t\t\t\"\treturn vec4( lin( c.r ), lin( c.g ), lin( c.b ), c.a );\",\n\t\t\t\t\"}\",\n\n\t\t\t\t\"float dev( float c ) {\",\n\t\t\t\t\"\treturn c <= 0.0031308 ? c * 12.92\",\n\t\t\t\t\"\t\t\t: pow( c, 0.41666 ) * 1.055 - 0.055;\",\n\t\t\t\t\"}\",\n\n\n\t\t\t\t\"void main() {\",\n\n\t\t\t\t\"\tvec2 uv = vUv;\",\n\n\t\t\t\t\"\tvec4 colorL = lin( texture2D( mapLeft, uv ) );\",\n\t\t\t\t\"\tvec4 colorR = lin( texture2D( mapRight, uv ) );\",\n\t\t\t\t\" vec4 colorBG = lin( texture2D( mapBG, uv ) );\",\n\n\t\t\t\t// \"if (colorL[0] == 0. && colorL[1] == 0. && colorL[2] == 0.) {\",\n\t\t\t\t\"if (colorL[3] == 0.) {\",\n\t\t\t\t\t// \"colorL = vec4(1.0, 0., 1.0, 1.);\",\n\t\t\t\t\t\"colorL = colorBG;\",\n\t\t\t\t\"}\",\n\n\t\t\t\t// \"if (colorR[0] == 0. && colorR[1] == 0. && colorR[2] == 0.a) {\",\n\t\t\t\t\"if (colorR[3] == 0.) {\",\n\t\t\t\t\t// \"colorR = vec4(1.0, 1.0, .0, 1.);\",\n\t\t\t\t\t\"colorR = colorBG;\",\n\t\t\t\t\"}\",\n\n\t\t\t\t\"\tvec3 color = clamp(\",\n\t\t\t\t\"\t\t\tcolorMatrixLeft * colorL.rgb +\",\n\t\t\t\t\"\t\t\tcolorMatrixRight * colorR.rgb, 0., 1. );\",\n\n\t\t\t\t\"\tgl_FragColor = vec4(\",\n\t\t\t\t\"\t\t\tdev( color.r ), dev( color.g ), dev( color.b ),\",\n\t\t\t\t\"\t\t\tmax( colorL.a, colorR.a ) );\",\n\n\t\t\t\t\"}\"\n\n\t\t\t].join( \"\\n\" )\n\n\t\t} );\n\n\t\tvar _mesh = new THREE.Mesh( new THREE.PlaneBufferGeometry( 2, 2 ), _material );\n\t\t_scene.add( _mesh );\n\n\t\t// background\n    var _texBG = new THREE.TextureLoader().load(path);\n\t\tvar _materialBG = new THREE.MeshBasicMaterial( { color: 0xffffff, map: _texBG } );\n\t\tvar _meshBG = new THREE.Mesh( new THREE.PlaneBufferGeometry( 2, 2 ), _materialBG );\n\t\t_sceneBG.add( _meshBG );\n\n\n\n\t\tthis.setSize = function ( width, height ) {\n\n\t\t\trenderer.setSize( width, height );\n\n\t\t\tvar pixelRatio = renderer.getPixelRatio();\n\n\t\t\t_renderTargetL.setSize( width * pixelRatio, height * pixelRatio );\n\t\t\t_renderTargetR.setSize( width * pixelRatio, height * pixelRatio );\n\t\t\t_renderTargetBG.setSize( width * pixelRatio, height * pixelRatio );\n\n\t\t};\n\n\t\tthis.render = function ( scene, camera ) {\n\n\t\t\t// A render target is a buffer where the video card draws pixels for a scene that is being rendered in the background.\n\t\t\tvar currentRenderTarget = renderer.getRenderTarget();\n\n\t\t\tscene.updateMatrixWorld();\n\n\t\t\tif ( camera.parent === null ) camera.updateMatrixWorld();\n\n\t\t\t_stereo.update( camera );\n\n\t\t\t// background\n\t\t\trenderer.setRenderTarget( _renderTargetBG );\n\t\t\trenderer.clear();\n\t\t\trenderer.render( _sceneBG, _cameraBG );\n\n\t\t\t// red\n\t\t\trenderer.setRenderTarget( _renderTargetL );\n\t\t\trenderer.clear();\n\t\t\trenderer.render( scene, _stereo.cameraL );\n\n\t\t\t// blue\n\t\t\trenderer.setRenderTarget( _renderTargetR );\n\t\t\trenderer.clear();\n\t\t\trenderer.render( scene, _stereo.cameraR );\n\n\n\n\t\t\t// When null is given, the canvas is set as the active render target instead.\n\t\t\trenderer.setRenderTarget( null );\n\t\t\trenderer.render( _scene, _camera );\n\n\t\t\trenderer.setRenderTarget( currentRenderTarget );\n\n\t\t};\n\n\t\tthis.dispose = function () {\n\n\t\t\tif ( _renderTargetL ) _renderTargetL.dispose();\n\t\t\tif ( _renderTargetR ) _renderTargetR.dispose();\n\t\t\tif ( _mesh ) _mesh.geometry.dispose();\n\t\t\tif ( _material ) _material.dispose();\n\n\t\t\tif ( _renderTargetBG ) _renderTargetBG.dispose();\n\t\t\tif ( _materialBG ) _materialBG.dispose();\n\t\t\tif ( _meshBG ) _meshBG.geometry.dispose();\n\t\t\tif ( _texBG ) _texBG.dispose();\n\n\t\t};\n\n\t};\n\n\treturn AnaglyphEffect;\n}\n","import React from 'react';\nimport {Link} from 'react-router-dom';\n\nclass ListItem extends React.PureComponent {\n\n  constructor(props) {\n    super(props);\n  }\n\n  render() {\n    const {title, link, dimensions, callback} = this.props;\n    const shortcut = getShortcut(this.props.shortcut, dimensions.windowWidth);\n    let classn = (shortcut === '' || shortcut === null || dimensions.device === \"mobile\") ? 'noShortcut': 'shortcut';\n\n    // if (dimensions.windowWidth < 500) {\n    //   classn += \" lined\";\n    // }\n\n    if (link && link !== '') {\n      return (\n        <Link to={link}>\n        <li key={title} className={classn} shortcut={shortcut}>{title}</li>\n        </Link>\n      );\n    }\n\n    return (\n      <li key={title} className={classn} onClick={callback} shortcut={shortcut}>{title}</li>\n    );\n  }\n}\n\nfunction getShortcut(shortcut, width) {\n  if (shortcut === null || shortcut === \"\" || width < 500) return null;\n  const parser = new DOMParser();\n  const parsedString = parser.parseFromString(shortcut, 'text/html');\n  return parsedString.body.innerHTML;\n}\n\nexport default ListItem\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport ListItem from './ListItem';\n\nclass FinderSubmenu extends React.PureComponent {\n\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      isVisible: false\n    }\n\n    this.toggleHidden = this.toggleHidden.bind(this);\n    this.setWrapperRef = this.setWrapperRef.bind(this);\n    this.handleClickOutside = this.handleClickOutside.bind(this);\n  }\n\n  componentDidMount() {\n    document.addEventListener('mousedown', this.handleClickOutside);\n  }\n\n  componentWillUnmount() {\n    document.removeEventListener('mousedown', this.handleClickOutside);\n  }\n\n  setWrapperRef(node) {\n    this.wrapperRef = node;\n  }\n\n  handleClickOutside(event) {\n    if (this.wrapperRef && !this.wrapperRef.contains(event.target)) {\n      this.setState({\n        isVisible: false\n      })\n    }\n  }\n\n  toggleHidden () {\n    this.setState(prevState => ({\n      isVisible: !prevState.isVisible\n    }));\n  }\n\n  render() {\n    var title = this.props.title;\n    var icon= \"\";\n    if (title === \"\") {\n      icon = <i className={this.props.icon}></i>\n    }\n    // const cursor = this.props.cursor;\n    const specialClass = this.props.specialClass;\n    let ulSpecialClass = this.props.ulSpecialClass;\n    if (this.props.dimensions.device === \"mobile\") ulSpecialClass += \" mobile\";\n    const listItems = this.props.listItems;\n\n    let style = {};\n    return (\n      <li className={`expandable ${specialClass} ${this.state.isVisible ? 'selected': ''}`} onClick={this.toggleHidden} ref={this.setWrapperRef}><span id=\"pageTitle\">{title}</span>\n      {icon}\n      <div className={`submenu ${this.state.isVisible ? 'visible': ''}`}>\n        <ul className={ulSpecialClass}>\n          {listItems.map((item) => {\n            return(\n              <ListItem key={item.title} dimensions={this.props.dimensions} shortcut={item.shortcut} title={item.title} link={item.link} callback={item.callback} />)}\n              )\n            }  </ul>\n          </div>\n        </li>\n      );\n    }\n\n\n  }\n\n\n  FinderSubmenu.propTypes = {\n    name: PropTypes.string,\n    title: PropTypes.string,\n    icon: PropTypes.string,\n    specialClass: PropTypes.string,\n    listitems: PropTypes.array\n  };\n\n  export default FinderSubmenu\n","import React from 'react';\n\nclass Clock extends React.PureComponent {\n\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      currentTimeString: 0\n    }\n\n    this.updateClock = this.updateClock.bind(this);\n  }\n\n  componentDidMount() {\n    this.updateClock();\n    this.interval = setInterval(this.updateClock, 1000);\n  }\n\n  componentWillUnmount() {\n    clearInterval(this.interval);\n  }\n\n\n  updateClock() {\n    var currentTime = new Date();\n    var currentHours = currentTime.getHours();\n    var currentMinutes = currentTime.getMinutes();\n    currentMinutes = (currentMinutes < 10 ? \"0\" : \"\") + currentMinutes;\n\n    // var currentSeconds = currentTime.getSeconds();\n    // currentSeconds = (currentSeconds < 10 ? \"0\" : \"\") + currentSeconds;\n\n    var timeOfDay = (currentHours < 12) ? \"AM\" : \"PM\";\n    currentHours = (currentHours > 12) ? currentHours - 12 : currentHours;\n    currentHours = (currentHours === 0) ? 12 : currentHours;\n\n    var shortDays = [\n      'Sun', //Sunday starts at 0\n      'Mon',\n      'Tue',\n      'Wed',\n      'Thu',\n      'Fri',\n      'Sat'\n    ];\n    var x = currentTime.getDay(); //This returns a number, starting with 0 for Sunday\n    var day = (shortDays[x]);\n\n    var currentTimeString = day + \" \" + currentHours + \":\" + currentMinutes + \" \" + timeOfDay;\n\n    this.setState({currentTimeString: currentTimeString});\n  }\n\n\n  render() {\n    return(\n      <span id=\"clock\">{this.state.currentTimeString}</span>\n    )\n  }\n\n\n}\n\n\nexport default Clock;\n","import React from 'react';\nimport './Header.css';\nimport FinderSubmenu from './FinderSubmenu';\nimport {Link} from 'react-router-dom';\nimport Clock from './Clock';\nimport AccountCircleIcon from '@material-ui/icons/AccountCircle';\n\n/*\nReact.PureComponents shouldComponentUpdate() only shallowly compares\nthe objects. If these contain complex data structures, it may produce\nfalse-negatives for deeper differences. Only extend PureComponent when\nyou expect to have simple props and state, or use forceUpdate() when you\nknow deep data structures have changed. Or, consider\nusing immutable objects to facilitate fast comparisons of nested data.\nhttps://reactjs.org/docs/react-api.html#reactpurecomponent\n*/\nclass Header extends React.Component {\n\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      currentTimeString: 0,\n      showSideBar: true\n    }\n\n    this.getRightMenus = this.getRightMenus.bind(this);\n    this.handleClick = this.handleClick.bind(this);\n    this.getAvatar = this.getAvatar.bind(this);\n\n  }\n\n  // shouldComponentUpdate(nextProps) {\n  //   const shouldRender = nextProps.dimensions.windowWidth !== this.props.dimensions.windowWidth\n  //   || nextProps.dimensions.windowHeight !== this.props.dimensions.windowHeight\n  //   || nextProps.dimensions.device !== this.props.dimensions.device\n  //   || nextProps.user.avatar !== this.props.user.avatar;\n  //   console.log(nextProps.dimensions.windowWidth, this.props.dimensions.windowWidth);\n  //\n  //   return (\n  //     shouldRender\n  //   );\n  // }\n\n\n  handleClick(id) {\n    console.log(id);\n  }\n\n\n  render() {\n\n    const finderMenuItems = [\n      {title: \"homepage\", link:\"/\", shortcut: \"&#x2318;0\"},\n      {title: \"macbook air\", link:\"/macbook-air\", shortcut: \"&#x2318;1\"},\n      {title: \"wet streams\", link:\"/wet-streams\", shortcut: \"&#x2318;2\"},\n      {title: \"hard drives on seashores\", link:\"/hard-drives-on-seashores\", shortcut: \"&#x2318;3\"},\n      {title: \"jungle gyms\", link:\"/jungle-gyms\", shortcut: \"&#x2318;4\"},\n      {title: \"wasted days are days wasted\", link:\"/wasted-days-are-days-wasted\", shortcut: \"&#x2318;5\"},\n      {title: \"esc to mars\", link:\"/esc-to-mars\", shortcut: \"&#x2318;6\"},\n      {title: \"xfinity depths\", link:\"/xfinity-depths\", shortcut: \"&#x2318;7\"},\n      {title: \"cloud confessional\", link:\"/cloud-confessional\", shortcut: \"&#x2318;8\"},\n      // {title: \"i got the feels\", link:\"/i-got-the-feels\", shortcut: \"&#x2318;8\"},\n      // {title: \"losing my dimension\", link:\"/losing-my-dimension\", shortcut: \"&#x2318;9\"},\n    ];\n\n    const hamburgerMenuItems = [\n      {title: \"statement\", link:\"/words\", shortcut: \"&#128222\"},\n      {title: \"thesis\", link:\"/words\", shortcut: \"&#128222\"},\n      // {title: \"cookies\", link:\"/words\", shortcut: \"\"},\n      {title: \"credits\", link:\"/credits\", shortcut: \"\"},\n      {title: \"help\", link:\"/words\", shortcut: \"&#128222\"},\n    ];\n\n\n    return (\n\n      <header className=\"Header menuTheme\">\n        <ul className=\"left\">\n          {/*<FinderSubmenu cursor={`cursor-${this.state.hand}`} dimensions={this.props.dimensions} title=\"\" icon=\"fa fa-cube\" specialClass=\"apple\" listItems={hamburgerMenuItems} /> */}\n          <FinderSubmenu dimensions={this.props.dimensions} title=\"\" icon=\"fa fa-cube\" specialClass=\"apple\" listItems={hamburgerMenuItems} />\n          <FinderSubmenu dimensions={this.props.dimensions} title=\"losing my dimension\" icon=\"\" specialClass=\"bold\" listItems={finderMenuItems} />\n          {/*<li className={`expandable`}><Link to=\"/\"><span id=\"pageTitle\">Losing My Dimension</span></Link></li>*/}\n        </ul>\n        {this.props.dimensions.device===\"desktop\"?this.getRightMenus():<div></div>}\n      </header>\n    );\n  }\n\n  getRightMenus() {\n    //<button className=\"hamburger-button\">\n    return(\n      <ul className=\"right\">\n        <li><Clock /></li>\n        <li className=\"header-avatar expandable\" onClick={this.props.avatarClicked}>{this.getAvatar()}</li>\n\n        <li className=\"expandable\" onClick={this.props.toggleSideBar}><i className=\"fas fa-bars\"></i></li>\n      </ul>\n    );\n  }\n\n  getAvatar() {\n    const {user} = this.props;\n    if (user) {\n      return (user.avatar);\n    }\n    return(\n      <AccountCircleIcon />\n    );\n  }\n\n\n}\n\nexport default Header\n","import React from 'react';\n\nfunction Toolbar(props) {\n  return(\n    <div className=\"titlebar menuTheme handle\">\n      <div className=\"buttons\">\n        <div className=\"close circleButton\" onClick={props.toggleClosed}>\n          <div className=\"closebutton\"><div className=\"innerC\"></div></div>\n\n        </div>\n        <div className=\"minimize circleButton\" onClick={props.toggleMinimzed}>\n          <div className=\"minimizebutton\"><div className=\"innerC\"></div></div>\n\n        </div>\n        <div className=\"zoom circleButton\" onClick={props.toggleMaximized}>\n          <div className=\"zoombutton\"><div className=\"innerC\"></div></div>\n\n        </div>\n      </div>\n      <div className=\"titleTxtContainer\">{props.title}</div>\n\n\n    </div>\n  );\n}\n\nexport default Toolbar\n","import React from 'react';\nimport './Frame.css';\nimport Draggable from 'react-draggable';\nimport Toolbar from './Toolbar';\n\nimport PropTypes from 'prop-types';\n\n\nclass Frame extends React.Component {\n  // https://codepen.io/JohJakob/pen/YPxgwo\n  constructor(props) {\n    super(props);\n\n    this.toolBarH = 26;\n\n\n    const {x, y} = this.props;\n    this.origCoords = {\n      x: x,\n      y: y\n    };\n\n    // this.start = this.props.x;\n    this.state = {\n      isVisible : true,\n      isMinimized: false,\n      deltaPosition: {\n        x: 0, y: 0\n      },\n      controlledPosition: {\n        x: x, y: y\n      }\n    }\n\n\n\n\n    this.toggleMaximized = this.toggleMaximized.bind(this);\n    this.toggleMinimzed = this.toggleMinimzed.bind(this);\n    this.toggleClosed = this.toggleClosed.bind(this);\n    // this.customDrag = this.customDrag.bind(this);\n\n    this.wrapper = React.createRef();\n  }\n\n\n  // For controlled component\n  // adjustXPos = (e) => {\n  //   e.preventDefault();\n  //   e.stopPropagation();\n  //   const {x, y} = this.state.controlledPosition;\n  //   this.setState({controlledPosition: {x: x - 10, y}});\n  // };\n  //\n  // adjustYPos = (e) => {\n  //   e.preventDefault();\n  //   e.stopPropagation();\n  //   const {controlledPosition} = this.state;\n  //   const {x, y} = controlledPosition;\n  //   this.setState({controlledPosition: {x, y: y - 10}});\n  // };\n\n  componentDidUpdate(prevProps) {\n    if (this.props.x !== prevProps.x || this.props.y !== prevProps.y) {\n      const dx = this.props.x - prevProps.x;\n      const dy = this.props.y - prevProps.y;\n      const controlledPosition = {...this.state.controlledPosition}\n      this.setState({controlledPosition: {x: controlledPosition.x + dx, y: controlledPosition.y + dy}});\n    }\n  }\n\n  onControlledDrag = (e, position) => {\n    const {x, y} = position;\n    this.setState({controlledPosition: {x, y}});\n  };\n\n  onControlledDragStop = (e, position) => {\n    this.onControlledDrag(e, position);\n    this.onStop();\n  };\n\n  eventLogger = (e: MouseEvent, data: Object) => {\n    console.log('Event: ', e);\n    console.log('Data: ', data);\n  };\n\n  toggleClosed() {\n    console.log(\"CLOSE\")\n    this.setState({\n      isVisible: false\n    })\n\n    if (this.props.onHide) this.props.onHide();\n  }\n\n  toggleMinimzed() {\n    this.setState(prevState => ({\n      isMinimized: !prevState.isMinimized\n    }), () => {\n      if (this.props.onMinimized) this.props.onMinimized();\n    });\n\n\n  }\n\n  toggleMaximized() {\n    const controlledPosition = {...this.state.controlledPosition};\n    controlledPosition.x = this.origCoords.x;\n    controlledPosition.y = this.origCoords.y;\n    this.setState({controlledPosition}, () => {});\n  }\n\n\n\n  onStart = () => {\n    this.setState({activeDrags: this.state.activeDrags+1});\n    if (this.props.onStart) this.props.onStart();\n  };\n\n  onStop = () => {\n    this.setState({activeDrags: this.state.activeDrags-1});\n    if (this.props.onStop) this.props.onStop();\n  };\n\n  handleStart = () => {\n    if (this.props.newFrameToTop) this.props.newFrameToTop();\n  }\n\n  handleClick = () => {\n    if (this.props.newFrameToTop) this.props.newFrameToTop();\n  }\n\n\n  // returnOriginalCoords() {\n  //   // e.preventDefault();\n  //   // e.stopPropagation();\n  //   const {controlledPosition} = this.state;\n  //   const {x, y} = controlledPosition;\n  //   console.log(controlledPosition);\n  //   this.setState({controlledPosition: {x: this.origCoords.x, y: this.origCoords.y}});\n  // }\n\n  render() {\n    const parser = new DOMParser();\n    var title = this.props.title;\n    const dragHandlers = {onStart: this.onStart, onStop: this.onStop};\n    const {deltaPosition, controlledPosition} = this.state;\n    // const cP = {x: controlledPosition.x, y: controlledPosition.y};\n    // cP.x += (this.props.x - this.origCoords.x);\n    // cP.y += (this.props.y - this.origCoords.y);\n\n    if (title === \"\") {\n      const parsedString = parser.parseFromString(this.props.icon, 'text/html');\n      title = parsedString.body.innerHTML;\n    }\n\n    var classn = \"Frame\";\n    if (this.props.isHidden == null && !this.state.isVisible) {\n      classn += \" hidden\";\n    }\n    else if (this.props.isHidden ) {\n      classn += \" hidden\";\n    }\n    else if (this.props.isMinimized | this.state.isMinimized) {\n      classn += \" minimized\";\n    }\n\n    if (this.state.isMaximized) {\n      classn += \" maximized\";\n    }\n\n    if (this.props.className) classn += \" \" + this.props.className;\n\n\n    var contentVisibility = {\n      display: this.state.isMinimized ? \"none\" : \"block\",\n      height: this.props.height+ \"px\",\n      width: this.props.width + \"px\"\n    }\n\n    //https://github.com/STRML/react-draggable\n\n    // position = {...} makes it have a specific location. when you want direct control.\n    // let pos = this.state.controlledPosition;\n    // let off = this.props.dx ? {x: this.props.dx, y: this.props.dy}: null;\n    let frameH = this.toolBarH + (this.state.isMinimized?0:this.props.height);\n    // so if we make pos null, it stays where it is dragged to\n    // however, it doesn't update when the page width / height changes\n    // if we let pos be equal to props.px/ props.py, it changes location\n\n    // let onDrag = this.props.onDrag?this.customDrag:this.handleDrag;\n    const bounds = this.props.bounded?\".App-Content\":null;\n\n    return (\n\n      <Draggable\n        axis=\"both\"\n        handle={this.props.handle?\".handle, \" + this.props.handle: \".handle\"}\n        defaultPosition={{x: this.props.x, y: this.props.y}}\n        position={controlledPosition}\n        positionOffset={null}\n        grid={[1, 1]}\n        scale={1}\n        bounds={bounds}\n        cancel=\".close, .minimize, .zoom\"\n        onStart={this.handleStart}\n        onDrag={this.onControlledDrag}\n        onStop={this.handleStop}\n        nodeRef={this.wrapper}\n        >\n        <div ref={this.wrapper} onClick={this.handleClick} className={classn} style={{width: this.props.width + 2 + \"px\",height: frameH + \"px\", zIndex: this.props.z?this.props.z:0}} >\n          <div className={this.props.window?\"window \" + this.props.window:\"window\"} style={this.props.windowStyle}>\n            <Toolbar title={this.props.title} toggleClosed={this.toggleClosed} toggleMinimzed={this.toggleMinimzed} toggleMaximized={this.toggleMaximized} />\n            <div className=\"content\" style={contentVisibility}>\n              {this.props.content}\n            </div>\n          </div>\n        </div>\n      </Draggable>\n\n    );\n  }\n\n  closeFrame() {\n\n  }\n}\n\nFrame.propTypes = {\n  name: PropTypes.string,\n  title: PropTypes.string,\n  icon: PropTypes.string,\n  className: PropTypes.string,\n  handle: PropTypes.string,\n  window: PropTypes.string,\n  bounded:PropTypes.bool,\n\n  windowStyle: PropTypes.object,\n\n  x: PropTypes.number.isRequired,\n  y: PropTypes.number.isRequired,\n  z: PropTypes.number,\n  height: PropTypes.number.isRequired,\n  width: PropTypes.number.isRequired,\n  content: PropTypes.node.isRequired,\n\n\n  isHidden: PropTypes.bool,\n  isMinimized: PropTypes.bool,\n\n  onHide: PropTypes.func,\n  onMinimized: PropTypes.func,\n  onStart: PropTypes.func,\n  onStop: PropTypes.func,\n};\n\nexport default Frame\n","/* eslint-disable no-use-before-define */\nimport React from 'react';\nimport TextField from '@material-ui/core/TextField';\nimport Autocomplete from '@material-ui/lab/Autocomplete';\n\n// import { makeStyles, withStyles } from '@material-ui/core/styles';\n//\n// const styles = theme => ({\n//   root: {\n//     textField: {\n//       '& .MuiInput-underline': {\n//         borderBottom: '2px solid blue'\n//       },\n//       '& .MuiInput-underline:after': {\n//         borderBottom: '3px solid yellow'\n//       },\n//       '& .MuiInput-underline:hover': {\n//         borderBottom: '3px solid red'\n//       },\n//     }\n//\n//   },\n// });\n\n\nclass ComboBox extends React.Component {\n\n  // really I only think this needs to rerender if someone joins/leaves a ROOM\n  // or registers/ connects / disconnects\n\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      // value: null,\n      inputValue: \"\",\n    }\n\n\n    this.initialUsers = [{userName: \"Everyone\", avatar: \"\"}, {userName: \"Room\", avatar: \"\"}];\n\n    // if (this.props.room === \"home\") {\n    //   const wineBot = {};\n    //   const hostBot = {};\n    //   this.initialUsers.push(wineBot);\n    //   this.initialUsers.push(hostBot);\n    // }\n\n\n\n  }\n\n  componentDidUpdate(prevProps) {\n    // console.log(\"setting new chat user\", this.props.userActiveChat);\n    if (prevProps.userActiveChat !== this.props.userActiveChat) {\n      // this.updateAndNotify();\n      var label = \"\";\n      if (this.props.userActiveChat) label = this.getLabel(this.props.userActiveChat);\n      this.setState({inputValue: label});\n      // this.setValue(this.props.userActiveChat);\n    }\n  }\n\n  getInitialUserNames = () => {\n    const names = [];\n    for (const user of this.initialUsers) {\n      names.push(user.userName);\n    }\n    return names;\n  }\n\n  getLabel(user) {\n    if (!user) return \"\";\n    return `${user.avatar} ${user.userName}`;\n  }\n\n  // CHANGES WHEN TYPING INPUT\n  setInputValue = (newInputValue) => {\n    if (newInputValue) {\n      this.setState({inputValue: newInputValue});\n    }\n    else {\n      this.setState({inputValue: \"\"});\n    }\n  }\n\n  getUserListInRoom = () => {\n    var users = this.getInitialUserNames();\n    if (this.props.users) {\n      for (let i = 0; i < this.props.users.length; i++) {\n        const user = {...this.props.users[i]};\n        if (user.room === this.props.room) {\n          users.push(this.getLabel(user));\n        }\n      }\n    }\n    return users;\n  }\n\n  getUsersInRoomTrunc = () => {\n    var users = this.initialUsers;\n    if (this.props.users) {\n      for (let i = 0; i < this.props.users.length; i++) {\n        const user = {...this.props.users[i]};\n        if (user.room === this.props.room) {\n          users.push({avatar: user.avatar, userName: user.userName});\n        }\n      }\n    }\n    return users;\n  }\n\n  getUsersInRoom = () => {\n    // console.log(\"USERS\", users)\n    var users = this.initialUsers;\n    if (this.props.users) users = [...users, ...this.props.users];\n    let usersInRoom = users.filter((user, i) => {\n      return (i < 2) || (user.room === this.props.room);\n    })\n    // console.log(\"ROOM USERS\", usersInRoom)\n    return usersInRoom;\n  }\n\n  getUserObjectByListID(listID) {\n    var users = this.initialUsers;\n    if (this.props.users) users = [...users, ...this.props.users];\n    let obj = users.find(user => listID === this.getLabel(user));\n    return obj;\n  }\n\n  // CHANGES WHEN HIT RETURN, CLICK,\n  // I.E. SELECTED FROM LIST\n  setValue = (newValue) => {\n    // this.setState({value: newValue});\n\n    this.props.setRecipient(newValue);\n  }\n\n  render() {\n    // const userList = this.getUserListInRoom();\n    const users = this.getUsersInRoom();\n\n    const {inputValue} = this.state;\n    const {userActiveChat} = this.props;\n    const { classes } = this.props;\n\n    return (\n      <Autocomplete\n        id=\"combo-box-demo\"\n        className=\"autocomplete\"\n        value={userActiveChat}\n        onChange={(event, newValue) => {\n          this.setValue(newValue);\n        }}\n        inputValue={inputValue}\n        onInputChange={(event, newInputValue) => {\n          this.setInputValue(newInputValue);\n        }}\n        options={users}\n        getOptionLabel={(option) => this.getLabel(option)}\n        getOptionSelected={(option, value) => this.getLabel(option) === this.getLabel(value)}\n        fullWidth\n        renderInput={(params) => (\n          <div ref={params.InputProps.ref}>\n            <input className=\"autocomplete-input .blueOutline\" style={{}} type=\"text\" placeholder=\"select recipient\" {...params.inputProps} />\n          </div>\n        )}\n        />\n    );\n  }\n}\n//    // style={{ border: '1px solid white'}}\n\nexport default ComboBox;\n","import React from 'react';\n\nclass Messages extends React.Component {\n\n  constructor(props) {\n    super(props);\n\n    this.state = {\n    }\n  }\n\n  componentDidMount() {\n    this.scrollToBottom();\n  }\n\n  componentDidUpdate() {\n    this.scrollToBottom();\n  }\n\n  getUserById = (id) => {\n    const users = this.state.users;\n    if (users) return users.find(o => o.id === id);\n    return null;\n  }\n\n  getUserNameById = (id) => {\n    const users = this.state.users;\n    if (users) {\n      let obj = users.find(o => o.id === id);\n      if (obj) return obj.userName;\n    }\n    return \"\";\n  }\n\n  scrollToBottom = () => {\n    this.messagesEnd.scrollIntoView({ behavior: \"smooth\" });\n  }\n\n  render() {\n    // const avatar = this.props.avatar;\n    return (\n      <div className=\"Chat-messages-box blueOutline\">\n        <div className=\"Chat-messages-inner-box\">\n          {this.props.messages.map((message, i) => {\n            let classN = \"chat-from-\" + (message.from===\"me\"?\"me\":\"other\");\n            // console.log(\"MESSAGE\", message);\n            let avatarHidden = message.from===\"me\"?\"hidden\":\"\";\n            let messageToCol = message.to===\"room\"||message.to===\"all\"?\"message-to-red\":\"message-to\";\n            return (\n              <div key={i} className={\"bubbleContainer \" + classN }>\n                <div className={\"avatar\" + \" \" + avatarHidden}>{message.avatar}</div>\n                <div className={\"bubble\"} key={i}>\n                  <div className=\"message-deets\"><span className=\"message-from\">{message.from}</span> <span className={messageToCol}>(to {message.to})</span>:</div>\n                  <div className=\"message-txt\">{message.message}</div>\n                </div>\n\n              </div>\n            )\n          })}\n          <div className=\"dummyText\" style={{ float:\"left\", clear: \"both\" }}\n            ref={(el) => { this.messagesEnd = el; }}>\n          </div>\n        </div>\n      </div>\n    );\n  }\n\n}\n\nexport default Messages;\n","import io from \"socket.io-client\";\nlet socket = io(\"http://localhost:5000/\");\nexport default socket;\n","import React from 'react';\nimport ComboBox from './ComboBox';\nimport Messages from './Messages';\nimport Button from '@material-ui/core/Button';\nimport { makeStyles, withStyles } from '@material-ui/core/styles';\nimport Icon from '@material-ui/core/Icon';\nimport IconButton from '@material-ui/core/IconButton';\nimport SendIcon from '@material-ui/icons/Send';\n\n\nimport './Chat.css';\n\nimport TextField from '@material-ui/core/TextField';\n\nimport socket from \"../../../Socket/Socket\";\n\n\n\nconst styles = theme => ({\n  root: {\n    // display: 'flex',\n    // flexWrap: 'wrap',\n  },\n  textField: {\n    backgroundColor: 'yellow',\n\n    // marginLeft: theme.spacing(1),\n    // marginRight: theme.spacing(1),\n    // width: '25ch',\n  },\n});\n\nclass Chat extends React.Component {\n\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      textBox: \"\",\n      // currentRecipient: null,\n      userHover: null,\n      buttonDisabled: true,\n      wineBotJustAsked: false\n    }\n  }\n\n  handleTextBoxChange = (event) => {\n    const textBox = event.target.value;\n    // const recip = this.state.currentRecipient;\n    const {userActiveChat} = this.props;\n    if (userActiveChat && textBox !== \"\") {\n      this.setState({textBox, buttonDisabled: false});\n    }\n    else {\n      this.setState({textBox, buttonDisabled: true});\n    }\n  };\n\n  setRecipient = (user) => {\n    const textBox = this.state.textBox;\n    if (user && textBox !== \"\") {\n      // this.setState({currentRecipient: user, buttonDisabled: false});\n      this.setState({buttonDisabled: false});\n      this.props.userSetActiveChat(user);\n    }\n    else {\n      this.setState({buttonDisabled: true});\n      this.props.userSetActiveChat(user);\n    }\n  }\n\n  sendToOne = (txt, socketId) => {\n    console.log(\"send to one\", socketId, \"msg:\", txt);\n    const {userActiveChat} = this.props;\n    const message = {socketId: socketId, message: txt, time: new Date(), avatar:this.props.user.avatar};\n    if (socket.connected) socket.emit('messageUser', message); //sending to individual socketid\n    this.props.addUserMessage({from: \"me\", to: userActiveChat.userName, message: txt, time: new Date()});\n  }\n\n  sendToRoom = (txt) => {\n    console.log(\"send to room \", this.props.room)\n    const message = {room: this.props.room, message: txt, time: new Date(), avatar:this.props.user.avatar};\n    if (socket.connected) socket.emit('messageRoom', message);\n    this.props.addUserMessage({to: \"room\", from: \"me\", message: txt, time: new Date()});\n  }\n\n  sendToAll = (txt) => {\n    console.log(\"send to all\");\n    const message = {message: txt, room: this.props.room, time: new Date(), avatar:this.props.user.avatar};\n    if (socket.connected) socket.emit('messageAll', message);\n    this.props.addUserMessage({to: \"all\", from: \"me\", message: txt, time: new Date()});\n  }\n\n  // u: \"hello?\"\n  // wb: \"hi, would you like some wine? Y/N.\"\n  // u: \"yes\"\n  // wb: \"enjoy!\"\n  // u: \"what are you?\"\n  // wb: \"hi, would you like some wine? I only understand yes and no.\"\n\n  sendToHostBot = (txt) => {\n\n  }\n\n  sendToWineBot = (txt) => {\n    const message = {to: \"wineBot\", from: \"me\", message: txt, time: new Date()};\n    // console.log(\"MESSAGE\", message);\n    this.props.addUserMessage(message);\n    setTimeout(() => this.wineBotRespond(txt), 1000);\n  }\n\n  wineBotRespond = (txt) => {\n    // console.log(\"winebot responding!\");\n    const wineBotJustAsked = this.state.wineBotJustAsked;\n    const {userActiveChat} = this.props;\n    if (!wineBotJustAsked) {\n      const phrase= \"hi, would you like some wine? Y/N.\";\n      this.props.addUserMessage({to: \"me\", from: \"wineBot\", message: phrase, time: new Date(), avatar: userActiveChat.avatar});\n      this.setState({wineBotJustAsked: true});\n    }\n    else {\n      const lc = txt.toLowerCase();\n      let phrase = \"\";\n      if (lc === \"y\" || lc.indexOf(\"yes\") > -1) {\n        phrase= \"Stop by the bar to pick up your glass.\";\n        this.props.addWine();\n      }\n      else {\n        phrase= \"Cool, I don't drink either.\";\n      }\n      this.props.addUserMessage({to: \"me\", from: \"wineBot\", message: phrase, time: new Date(), avatar: userActiveChat.avatar});\n      this.setState({wineBotJustAsked: false});\n    }\n  }\n\n  onSubmit = () => {\n    const {userActiveChat} = this.props;\n    if (userActiveChat && this.state.textBox !== \"\") {\n      this.sendMessage(this.state.textBox);\n      this.setState({textBox: \"\", buttonDisabled: true});\n    }\n  }\n\n\n  handleKeyDown = (e) => {\n    if (e.key === 'Enter') {\n      this.onSubmit();\n    }\n  }\n\n\n  sendMessage = (message) => {\n    // const {currentRecipient} = this.state;\n    const {userActiveChat} = this.props;\n    if (message && userActiveChat) {\n      if (userActiveChat.userName === \"Everyone\") {\n        this.sendToAll(message);\n      }\n      else if (userActiveChat.userName === \"Room\") {\n        this.sendToRoom(message);\n      }\n      else if (userActiveChat.userName === \"wineBot\") {\n        this.sendToWineBot(message);\n      }\n      else if (userActiveChat.userName === \"hostBot\") {\n        this.sendToHostBot(message);\n      }\n      else {\n        this.sendToOne(message, userActiveChat.id);\n      }\n    }\n  }\n\n  setUserHover = (user) => {\n    this.setState({userHover: user})\n  }\n\n  setUserHoverLeave = () => {\n    this.setState({userHover: null})\n  }\n\n  render() {\n    var users = this.props.users;\n    if (!users) users = [];\n    const {userHover} = this.state;\n\n    const { classes } = this.props;\n\n    return (\n      <div className=\"Chat Panel\">\n\n        <div className=\"Chat-messages\">\n          <div className=\"Chat-title\">\n            <div className=\"Panel-title\">chat</div>\n          </div>\n          <Messages messages={this.props.messages} addUserMessage={this.props.addUserMessage} />\n          <div className=\"Chat-form\">\n            <div className=\"to-form\">\n              <div className=\"to-div\">To: </div>\n              <ComboBox {...this.props} setRecipient={this.setRecipient}  />\n            </div>\n            <div className=\"Chat-send\">\n              <div className=\"Chat-send-item\">\n                <input\n                  label=\"\"\n                  id=\"margin-dense\"\n                  className={\"form-item blueOutline\"}\n                  placeholder=\"message\"\n                  value={this.state.textBox}\n                  onChange={this.handleTextBoxChange}\n                  onKeyDown={this.handleKeyDown}\n                  />\n              </div>\n              <button className=\"form-item blueOutline\" disabled={this.state.buttonDisabled} onClick={this.onSubmit}><SendIcon disabled={this.state.buttonDisabled} /></button>\n            </div>\n          </div>\n\n        </div>\n      </div>\n    );\n  }\n\n}\n\nexport default withStyles(styles, { withTheme: true })(Chat);\n","import React from 'react';\n\nimport './Critique.css';\n\nimport Button from '@material-ui/core/Button';\nimport CheckIcon from '@material-ui/icons/Check';\nimport ToggleButton from '@material-ui/lab/ToggleButton';\nimport TextField from '@material-ui/core/TextField';\nimport SendIcon from '@material-ui/icons/Send';\n\nimport socket from \"../../../Socket/Socket\";\n\nclass Critique extends React.Component {\n\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      isPublic: true,\n      textBox: \"\",\n      buttonDisabled: true,\n      critiques: [],\n      checked: true\n    }\n  }\n\n  componentDidMount() {\n    this.fetchRoomCritiques();\n\n    socket.on(\"critique\", data => {\n      // console.log(\"CRIT ADDDED\", this.state.critiques, data);\n      const critiques = [...this.state.critiques, data];\n      this.setState({critiques});\n      // socket.emit(\"leaveRoom\", user.room); // not sure if we need this?\n\n    })\n  }\n\n  async fetchRoomCritiques() {\n    // const query = encodeURI(\"\\#confession\");\n    // console.log(\"WERERE\", query);\n    // console.log(\"FETCHING FROM\", this.props.room);\n    const url = `/api/get/critiques/${this.props.room}`;\n    const response = await fetch(url);\n    const initialRes = await response.json();\n\n    if (initialRes) {\n      // console.log(\"crits\", initialRes);\n      const critiques = [...this.state.critiques, ...initialRes];\n      this.setState({critiques});\n    }\n    else {\n      console.log(\"NO crits\");\n    }\n  }\n\n  getPublicRoomCritiques = () => {\n    const crits = this.state.critiques;\n    const roomCrits = crits.filter(crit => crit.room === this.props.room && crit.public);\n    return roomCrits;\n  }\n\n  handleCheckClick = () => {\n    this.setState(prevState => ({\n      checked: !prevState.checked\n    }));\n  }\n\n  handleTextBoxChange = (event) => {\n    const textBox = event.target.value;\n    this.setState({textBox, buttonDisabled: textBox===\"\"});\n  };\n\n  onSubmit = () => {\n    if (this.state.textBox === \"\") {\n      alert (\"please enter a crit\");\n    }\n    else {\n      // Simple POST request with a JSON body using fetch\n      const crit = { from: this.props.user.userName, room: this.props.room, crit:this.state.textBox, public: this.state.isPublic, time: new Date() };\n      const requestOptions = {\n        method: 'POST',\n        headers: { 'Content-Type': 'application/json' },\n        body: JSON.stringify(crit)\n      };\n      fetch(\"/api/post/critique\", requestOptions)\n      .then(response => response.json())\n      .then(data => {\n        // console.log(\"RESONSE\", data);\n        // this.sendCritique(data)\n        this.setState({textBox: \"\"})\n      })\n      .catch((error) => {\n        console.error('Error:', error);\n      });\n    }\n  }\n\n\n  handleKeyDown = (e) => {\n    if (e.key === 'Enter') {\n      this.onSubmit();\n    }\n  }\n\n  render() {\n    const crits = this.getPublicRoomCritiques().reverse();\n    return (\n      <div className=\"Critique Panel\">\n        <div className=\"Critique-Box\">\n          <div className=\"Critique-title\">\n            <div className=\"Panel-title\">submit crit</div>\n            <div className=\"checkbox\">\n              <input type=\"checkbox\" id=\"public\" name=\"public\" checked={this.state.checked} onChange={this.handleCheckClick} />\n              <label htmlFor=\"public\">Public</label>\n            </div>\n          </div>\n          <div className=\"Critique-text\">\n            <div className=\"Critique-text-inner blueOutline\">\n              <textarea\n                label=\"\"\n                className={\"form-item\"}\n                placeholder=\"enter a critique\"\n                value={this.state.textBox}\n                onChange={this.handleTextBoxChange}\n                />\n            </div>\n          </div>\n          <button className=\"\" id=\"critButton\" disabled={this.state.buttonDisabled} onClick={this.onSubmit}><SendIcon disabled={this.state.buttonDisabled} /></button>\n        </div>\n        <div className=\"Critiques\">\n          <div className=\"Panel-title\">public critiques</div>\n          <div className=\"crits\">\n            {crits.slice(0, 5).map((crit, i) => {\n              let opac = 1-(i/4);\n              opac = Math.max(opac, 0);\n              return (\n                <div key={i} className=\"crit\">\n                  <div className=\"crit-inner\" style={{opacity: opac}}>\n                    <div>from: {crit.from}</div>\n                    <div>{crit.crit}</div>\n                  </div>\n                </div>\n              )\n            })}\n          </div>\n        </div>\n      </div>\n    );\n  }\n\n}\n\nexport default Critique;\n","import React from 'react';\n\n\nexport default function Help(props) {\n\n  return (\n    <div>\n    Help\n    </div>\n  );\n}\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { makeStyles, withStyles } from '@material-ui/core/styles';\nimport AppBar from '@material-ui/core/AppBar';\nimport Tabs from '@material-ui/core/Tabs';\nimport Tab from '@material-ui/core/Tab';\n\nimport SmsOutlinedIcon from '@material-ui/icons/SmsOutlined';\nimport EditOutlinedIcon from '@material-ui/icons/EditOutlined';\nimport VisibilityOutlinedIcon from '@material-ui/icons/VisibilityOutlined';\nimport HelpOutlineOutlinedIcon from '@material-ui/icons/HelpOutlineOutlined';\n\nimport Typography from '@material-ui/core/Typography';\nimport Box from '@material-ui/core/Box';\n\nimport Chat from './Chat/Chat';\nimport Critique from './Critique/Critique';\nimport Help from './Help';\n\nfunction TabPanel(props) {\n  const { children, value, index, ...other } = props;\n\n  return (\n    <div\n      className={value !== index?\"inactive-tabs-panel\":\"active-tabs-panel\"}\n      role=\"tabpanel\"\n      hidden={value !== index}\n      id={`scrollable-prevent-tabpanel-${index}`}\n      aria-labelledby={`scrollable-prevent-tab-${index}`}\n      {...other}\n      >\n      {value === index && (\n        <div className=\"tabs\">{children}</div>\n      )}\n    </div>\n  );\n}\n\nTabPanel.propTypes = {\n  children: PropTypes.node,\n  index: PropTypes.any.isRequired,\n  value: PropTypes.any.isRequired,\n};\n\nfunction a11yProps(index) {\n  return {\n    id: `scrollable-prevent-tab-${index}`,\n    'aria-controls': `scrollable-prevent-tabpanel-${index}`,\n  };\n}\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n\n    // height: \"100%\",\n    width: '100%',\n    display: \"flex\",\n\n    flex: 1,\n    flexDirection: \"column\",\n    backgroundColor: \"#000000dd\" //theme.palette.background.paper,\n  },\n}));\n\nconst appBlue = \"#335ef6\";\nconst appPink = \"#fc03ad\";\nconst appLightBlue = \"#03cefc\";\nconst AppBarMe = withStyles((theme) => ({\n  root: {\n    flex: \"0 0 auto\",\n    height: \"50px\",\n    background: `linear-gradient(${appBlue}, #1000ff);`,\n    zIndex: 0,\n    fontFamily: [\n      'Arial',\n      'sans-serif'\n    ].join(','),\n    '&:hover': {\n    },\n    '&$selected': {\n      borderColor: \"green\"\n    },\n    '&:focus': {\n    },\n  }\n}))((props) => <AppBar {...props} />);\n\n\nconst AntTab = withStyles((theme) => ({\n  root: {\n    textTransform: 'none',\n    minWidth: 72,\n    fontWeight: theme.typography.fontWeightRegular,\n    marginRight: theme.spacing(4),\n    fontFamily: [\n      '-apple-system',\n      'BlinkMacSystemFont',\n      '\"Segoe UI\"',\n      'Roboto',\n      '\"Helvetica Neue\"',\n      'Arial',\n      'sans-serif',\n      '\"Apple Color Emoji\"',\n      '\"Segoe UI Emoji\"',\n      '\"Segoe UI Symbol\"',\n    ].join(','),\n    '&:hover': {\n      color: 'white',\n      opacity: 1,\n    },\n    '&$selected': {\n      color: 'white',\n      fontWeight: theme.typography.fontWeightMedium,\n    },\n    '&:focus': {\n      color: 'white',\n    },\n  },\n  selected: {},\n}))((props) => <Tab disableRipple {...props} />);\n\n\nexport default function ScrollableTabsButtonPrevent(props) {\n  const classes = useStyles();\n  const [value, setValue] = React.useState(0);\n\n  const handleChange = (event, newValue) => {\n    setValue(newValue);\n  };\n\n  return (\n    <div className={classes.root}>\n      <AppBarMe position=\"static\">\n        <Tabs\n          value={value}\n          onChange={handleChange}\n          scrollButtons=\"off\"\n          aria-label=\"scrollable prevent tabs example\"\n          indicatorColor=\"primary\"\n          textColor=\"primary\"\n          centered\n          >\n          <AntTab icon={<SmsOutlinedIcon fontSize=\"large\" />} aria-label=\"chat\" {...a11yProps(0)} />\n          <AntTab icon={<EditOutlinedIcon fontSize=\"large\" />} aria-label=\"leave critique\" {...a11yProps(1)} />\n          <AntTab icon={<HelpOutlineOutlinedIcon fontSize=\"large\" />} aria-label=\"help\" {...a11yProps(2)} />\n\n        </Tabs>\n      </AppBarMe>\n      <TabPanel value={value} index={0}>\n        <Chat {...props} />\n      </TabPanel>\n      <TabPanel value={value} index={1}>\n        <Critique user={props.user} room={props.room} />\n      </TabPanel>\n      <TabPanel value={value} index={2}>\n      </TabPanel>\n      <TabPanel value={value} index={3}>\n        <Help />\n      </TabPanel>\n    </div>\n  );\n}\n","import React from \"react\";\nimport Sketch from \"react-p5\";\nvar floorTex;\n\nexport default (props) => {\n  let x = 50;\n  const y = 50;\n  const user = props.user;\n  const users = props.users;\n  const walls = props.walls;\n  const doors = props.doors;\n\n\n\n  const setup = (p5, canvasParentRef) => {\n    // use parent to render the canvas in this ref\n    // (without that p5 will render the canvas outside of your component)\n    p5.createCanvas(window.innerWidth, window.innerHeight, p5.WEBGL).parent(canvasParentRef);\n    // img = p5.loadImage(\"https://lmd-bucket.s3.us-east-2.amazonaws.com/sketches/jungleGyms/wallpaper3.jpg\",\n    // img => {p5.image(img, 0, 0);},\n    // (err) => { console.log(\"ERR\", err)}\n\n    const wallpaper = \"https://lmd-bucket.s3.us-east-2.amazonaws.com/sketches/jungleGyms/wallpaper3.jpg\";\n    const floor = \"/assets/s3-bucket/homePage/wood-512.jpg\";\n    floorTex = p5.loadImage(floor);\n  };\n\n  const draw = (p5) => {\n    p5.clear();\n\n    // NOTE: Do not use setState in the draw function or in functions that are executed\n    // in the draw function...\n    // please use normal variables or class properties for these purposes\n\n    p5.push();\n    p5.translate(-user.x, -user.y);\n    // p5.translate(p5.windowWidth/2, p5.windowHeight/2);\n    // if (img) p5.image(img, 0, 0);\n\n    drawWalls(p5);\n    drawDoors(p5);\n\n    p5.pop();\n\n  };\n\n\n  const drawWalls = (p5) => {\n    p5.beginShape();\n    p5.textureWrap(p5.REPEAT);\n    p5.texture(floorTex);\n    // p5.vertex(0, 0, 0, 0);\n    // p5.vertex(200, 0, 200, 0);\n    // p5.vertex(200, 200, 200, 200);\n    // p5.vertex(0, 200, 0, 200);\n    for (let i = 0; i < walls.length; i++) {\n      p5.vertex(walls[i].x, walls[i].y,walls[i].x, walls[i].y);\n    }\n    p5.endShape();\n\n    // lines\n    p5.strokeWeight(5);\n    p5.stroke(255);\n    for (let i = 0; i < walls.length-1; i++) {\n      p5.line(walls[i].x, walls[i].y, walls[i+1].x, walls[i+1].y);\n    }\n  }\n\n  const drawDoors = (p5) => {\n    p5.strokeWeight(10);\n    p5.stroke(255, 0, 0);\n    for (let i = 0; i < doors.length; i++) {\n      p5.line(doors[i].x0, doors[i].y0, doors[i].x1, doors[i].y1);\n    }\n  }\n\n  return <Sketch setup={setup} draw={draw} />;\n};\n","\n\nimport React from 'react';\nimport './SideBar.css';\n\nimport Frame from '../Frame/Frame';\nimport TabPanel from './Tabs/TabPanel';\n\nimport Input from '@material-ui/core/Input';\nimport Button from '@material-ui/core/Button';\nimport { makeStyles, withStyles,   ThemeProvider,  createMuiTheme, } from '@material-ui/core/styles';\nimport { green, blue } from '@material-ui/core/colors';\n\nconst theme = createMuiTheme({\n  palette: {\n    primary: blue,\n    secondary: blue,\n    type: 'dark'\n  },\n  typography: {\n    fontFamily: 'dogica, Arial',\n    fontSize: 10,\n  },\n  overrides: {\n  \n  }\n});\n\nclass SideBar extends React.PureComponent {\n  // https://codepen.io/JohJakob/pen/YPxgwo\n  constructor(props) {\n    super(props);\n\n    this.state = {\n    }\n\n  }\n\n  componentDidUpdate(prevProps) {\n\n  }\n\n  render() {\n    const amt = this.props.showSideBar?\"400px\":\"0px\";\n    const disp = this.props.showSideBar?\"block\":\"none\";\n    const sty={width: amt, display: disp};\n\n    return (\n      <div className=\"SideBar\" style={sty}>\n        <ThemeProvider theme={theme}>\n          <div className=\"SideBar-Flex\">\n            <div className=\"SideBar-Space\"></div>\n            <div className=\"SideBar-Content\">\n              <TabPanel {...this.props} />\n            </div>\n          </div>\n        </ThemeProvider>\n      </div>\n    );\n\n\n  }\n}\n\nexport default SideBar\n","import React from 'react';\nimport Frame from '../Frame/Frame';\nimport './Glasses.css';\n\nclass Glasses extends React.Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      windowStyle: {\n        opacity: 1,\n        visibility: \"visible\"\n      },\n      start: new Date()\n    };\n\n  }\n  componentDidMount() {\n    this.interval = setInterval(() => {\n      if (new Date().getTime() - this.state.start.getTime() > 4000) {\n        let {opacity, visibility} = this.state.windowStyle;\n        opacity -= .01;\n        let clear = false;\n        if (opacity <= 0) {\n          opacity = 0;\n          visibility = \"hidden\";\n          clear = true;\n        }\n        this.setState({windowStyle: {opacity: opacity, visibility: visibility}});\n        if (clear) clearInterval(this.interval);\n      }\n    }, 10);\n  }\n\n  componentWillUnmount() {\n    clearInterval(this.interval)\n  }\n\n  render() {\n    let y = this.props.y?this.props.y:(window.innerHeight - 26 - 40 - 70);\n    let x = this.props.x?this.props.x:(window.innerWidth-100-30);\n    return (\n      <Frame\n      windowStyle={this.state.windowStyle}\n      className=\"glassesFrame\"\n      content={<div className=\"glassesIcon\"></div>}\n      width={100}\n      height={40}\n      x={x}\n      y={y}\n      />\n    )\n  }\n\n}\n\nexport default Glasses;\n","\nexport function getOtherUserLocation(user, otherUser, avatarW) {\n  const y = otherUser.y+window.innerHeight/2-user.y-avatarW/2;\n  const x = otherUser.x+window.innerWidth/2-user.x-avatarW/2;\n  return {x: x, y: y};\n}\n\nexport function showWine(user) {\n  return user.hasWine && (new Date() - user.hasWine < 15000);\n}\n","import React from 'react';\nimport {getOtherUserLocation} from './Helpers';\n\nfunction ToolTip(props) {\n  const {userName, userHover} = props;\n  // if (userHover) {\n    const sty = {top: -20, left: 0};\n    return (\n      <div className=\"tooltip\" style={sty}>{userName}</div>\n    );\n  // }\n  // return (\n  //   <div></div>\n  // );\n}\n\n\n\nexport default ToolTip;\n","import React from 'react';\nimport {getOtherUserLocation, showWine} from './Helpers';\nimport ToolTip from './ToolTip';\n\nclass OtherAvatar extends React.Component {\n\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      userHover: false\n    }\n  }\n\n\n  setUserHover = () => {\n    this.setState({userHover: true})\n  }\n\n  setUserHoverLeave = () => {\n    this.setState({userHover: false})\n  }\n\n  render() {\n    const {otherUser, user, avatarW} = this.props;\n    const {userHover} = this.state;\n    const loc = getOtherUserLocation(user, otherUser, avatarW);\n    const sty = {top: loc.y, left: loc.x};\n\n    const showWineEmoji = showWine(otherUser);\n    // console.log(showWine);\n\n    return (\n      <div className=\"otherAvatar\" onMouseEnter={this.setUserHover} onMouseLeave={this.setUserHoverLeave} onClick={() => this.props.userSetActiveChat(otherUser)} style={sty}>\n        <div className=\"emoji\">{otherUser.avatar}</div>\n        <div className={\"emoji-wine\" + (showWineEmoji?\"\":\" hidden\")} ></div>\n        <ToolTip userName={otherUser.userName} userHover={userHover} />\n      </div>\n    )\n\n  }\n\n}\n\nexport default OtherAvatar;\n","import React from 'react';\nimport OtherAvatar from './OtherAvatar';\n\nclass OtherAvatars extends React.Component {\n\n  constructor(props) {\n    super(props);\n  }\n\n\n  render() {\n    const {users, user, userSetActiveChat, avatarW} = this.props;\n    if (users) {\n      return (\n        <div className=\"otherAvatars\">\n        {users.map((otherUser, i) => {\n          return (\n            <OtherAvatar key={i} user={user} otherUser={otherUser} avatarW={avatarW} userSetActiveChat={userSetActiveChat} />\n          )\n        })}\n        </div>\n      );\n    }\n    return <div className=\"otherAvatars\"></div>\n  }\n\n}\n\nexport default OtherAvatars;\n","\nimport React from 'react';\nimport {showWine} from './Helpers';\n\nfunction Avatar(props) {\n  const {user, avatarW} = props;\n  const showWineEmoji = showWine(user);\n  return (\n    <div className=\"userAvatar\" style={{top: window.innerHeight/2-avatarW/2, left: window.innerWidth/2-avatarW/2}}>\n      <div>{user.avatar}</div>\n      <div className={\"emoji-wine\" + (showWineEmoji?\"\":\" hidden\")}></div>\n    </div>\n  )\n}\n\nexport default Avatar;\n","import React from 'react';\nimport './DesktopIcon.css';\n\nimport Frame from '../Frame/Frame';\nimport Draggable from 'react-draggable';\n\n\nclass DesktopIcon extends React.Component {\n  //https://github.com/STRML/react-draggable\n  // https://codepen.io/JohJakob/pen/YPxgwo\n  constructor(props) {\n    super(props);\n\n\n    this.state = {\n      isHidden: true,\n      controlledPosition : {x: props.x, y: props.y}\n    }\n\n    this.wrapper = React.createRef();\n    // this.onDblClick = this.onDblClick.bind(this);\n  }\n\n  componentDidUpdate(prevProps) {\n    if (this.props.x !== prevProps.x || this.props.y !== prevProps.y) {\n      const dx = this.props.x - prevProps.x;\n      const dy = this.props.y - prevProps.y;\n      const controlledPosition = {...this.state.controlledPosition}\n\n      this.setState({controlledPosition: {x: controlledPosition.x + dx, y: controlledPosition.y + dy}});\n    }\n  }\n\n  onControlledDrag = (e, position) => {\n    const {x, y} = position;\n    this.setState({controlledPosition: {x, y}});\n  };\n\n  onControlledDragStop = (e, position) => {\n    this.onControlledDrag(e, position);\n    this.onStop();\n  };\n\n  onDblClick = () => {\n    // let {isHidden} = this.state;\n    // isHidden = !isHidden;\n    this.setState({isHidden: false});\n    this.props.onDblClick(this.props.id);\n  }\n\n  onClick = () => {\n    if(this.props.newIconToTop) this.props.newIconToTop();\n  }\n\n  onHide = () => {\n    this.setState({isHidden: true});\n  }\n\n\n  render() {\n    const {controlledPosition, isHidden} = this.state;\n\n    const parser = new DOMParser();\n    var title = this.props.title;\n\n    var classn = \"DesktopIcon\";\n    if (this.props.className) classn += \" \" + this.props.className;\n\n\n\n    // position = {...} makes it have a specific location. when you want direct control.\n    // let pos = this.state.controlledPosition;\n    let frameH = this.toolBarH + (this.state.isMinimized?0:this.props.height);\n    // so if we make pos null, it stays where it is dragged to\n    // however, it doesn't update when the page width / height changes\n    // if we let pos be equal to props.px/ props.py, it changes location\n    const bounded = this.props.bounded?\".App-Content\":null;\n    return (\n      <div className=\"DesktopDiv\" style={{zIndex: this.props.zIcon?this.props.zIcon:0}} >\n        <Draggable\n          axis=\"both\"\n          handle={\".DesktopIcon\"}\n          defaultPosition={{x: this.props.x, y: this.props.y}}\n          position={controlledPosition}\n          grid={[1, 1]}\n          scale={1}\n          bounds={bounded}\n          cancel=\".close, .minimize, .zoom\"\n          onStart={this.handleStart}\n          onDrag={this.onControlledDrag}\n          onStop={this.handleStop}\n          nodeRef={this.wrapper}\n          >\n          <div ref={this.wrapper} onDoubleClick={this.onDblClick} onClick={this.onClick} className={classn} style={{width: this.props.width + \"px\",height: this.props.height + \"px\"}} >\n            <div className=\"content\">\n              {this.props.content}\n            </div>\n            <div className=\"desktop-text\">{this.props.title}</div>\n          </div>\n        </Draggable>\n        {!this.props.disableWindow?this.getFrame():<div></div>}\n      </div>\n    );\n\n\n  }\n\n  getFrame() {\n    const {isHidden} = this.state;\n\n    return(\n      <Frame className=\"FolderOpenFrame\" title={this.props.title} isHidden={isHidden} onHide={this.onHide.bind(this)} x={this.props.box.x} y={this.props.box.y} z={this.props.zFrame?this.props.zFrame:0} width={this.props.box.w} height={this.props.box.h} content={this.props.frameContent} newFrameToTop={this.props.newFrameToTop} />\n\n    )\n  }\n}\n\nexport default DesktopIcon\n","import React from 'react';\nimport DesktopIcon from '../../../shared/DesktopIcon/DesktopIcon';\n\nexport default function(props) {\n  const box = {x: 100, y: 100, w: 100, h: 100};\n  return (\n    <div className=\"folders\">\n      <DesktopIcon title={\"statement\"} onDblClick={props.onDblClick} x={props.x} y={props.y} z={props.z0} bounded={false} box={box}\n        content={\n          <img src={window.AWS+\"/waveforms/txt.png\"} width={80} height={80} />\n        }\n        frameContent={\n          <div className=\"txt\">about</div>\n        }\n        />\n      <DesktopIcon title={\"thesis\"} onDblClick={props.onDblClick} x={props.x+80} y={props.y+100} z={props.z1} bounded={false} box={box}\n        content={\n          <img src={window.AWS+\"/waveforms/txt.png\"} width={80} height={80} />\n        }\n        frameContent={\n          <div className=\"txt\">about</div>\n        }\n        />\n      <DesktopIcon title={\"instagram\"} onDblClick={props.onDblClick} x={props.x+30} y={props.y+250} z={props.z2} box={box} bounded={false}\n        content={\n          <img src={window.AWS+\"/homePage/instagram.png\"} width={80} height={80} />\n        }\n        frameContent={\n          <div className=\"txt\">about</div>\n        }\n        />\n    </div>\n  )\n\n}\n","import React from 'react';\nimport Frame from '../../../shared/Frame/Frame';\n\nexport default function(props) {\n  return (\n    <Frame title=\"Welcome\" windowStyle={{backgroundColor: \"white\"}} content={\n        <div className=\"MFA-deets\" >\n          <div style={{fontSize: \"40px\", paddingBottom: \"0px\"}}>Losing</div>\n          <div style={{fontSize: \"40px\", paddingBottom: \"0px\"}}>My</div>\n          <div style={{fontSize: \"40px\", paddingBottom: \"40px\"}}>Dimension</div>\n\n          <div style={{fontSize: \"20px\", paddingBottom: \"40px\"}}><a href=\"https://www.instagram.com/jdeboi/\">Jenna deBoisblanc</a></div>\n\n          <div style={{fontSize: \"12px\", paddingBottom: \"10px\"}}>Tulane University</div>\n          <div style={{fontSize: \"14px\", paddingBottom: \"20px\"}}>MFA Thesis Exhibition</div>\n          <div style={{fontSize: \"12px\"}}>April 2021</div>\n        </div>\n      }\n      width={props.w} height={props.h} x={props.x} y={props.y} bounded={false}\n      />\n  )\n}\n","import React from 'react';\nimport Frame from '../../../shared/Frame/Frame';\n\nexport default function(props) {\n  return (\n    <Frame title=\"\" windowStyle={{backgroundColor: \"white\"}} content={\n        <div className=\"WineBar\" >\n          <div></div>\n          <div></div>\n          <div></div>\n          <div></div>\n        </div>\n      }\n      width={props.w} height={props.h} x={props.x} y={props.y} bounded={false}\n      />\n  )\n}\n","import React from 'react';\nimport \"./HomePage.css\";\n\nimport Frame from '../../shared/Frame/Frame';\nimport Glasses from '../../shared/Glasses/Glasses';\n\nimport P5Wrapper from 'react-p5-wrapper';\n// import sketch from './HomeSketch';\nimport Sketch from './HomeSketch';\n\nimport OtherAvatars from './components/OtherAvatars';\nimport Avatar from './components/Avatar';\n\nimport Folders from './components/Folders';\nimport Welcome from './components/Welcome';\nimport WineBar from './components/WineBar';\n\nimport ArrowKeysReact from 'arrow-keys-react';\n\nclass HomePage extends React.Component {\n\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      keyDown: false,\n      zIndex: [0, 1, 2, 3],\n      OGW: window.innerWidth/2,\n      OGH: window.innerHeight/2\n    }\n\n    this.avatarW = 34;\n\n  }\n\n  componentDidMount() {\n    window.addEventListener(\"keydown\", this.handleKeyDown);\n    window.addEventListener(\"keyup\", this.handleKeyUp);\n    this.props.userSetRoom(\"home\");\n\n  }\n\n  componentWillUnmount() {\n    window.removeEventListener(\"keydown\", this.handleKeyDown);\n    window.removeEventListener(\"keyup\", this.handleKeyUp);\n    this.props.userLeaveRoom(\"home\");\n  }\n\n  // at id = 1\n  // 3, 2, 1, 0\n  // 2, 3, 1, 0\n\n  // at id = 3\n  // 1, 2, 3, 0\n  // 0, 1, 2, 3\n\n  onDblClick = (id) => {\n    console.log(\"yeah clicked\", id)\n    const zIndex = [...this.state.zIndex];\n    const prevId = zIndex[id];\n    let max = zIndex.length-1;\n    zIndex.map(function(element){\n      if (element > max) return element - 1;\n      return element;\n    });\n    // this.setState({zIndex});\n  }\n\n\n  userSetActiveChat = (user) => {\n\n    this.props.userSetActiveChat(user);\n  }\n\n\n\n  handleKeyDown = (e) => {\n    var {keyDown} = this.state;\n\n    if (!keyDown) {\n      e = e || window.event;\n      if (e.keyCode == '38') {\n        // up\n        this.props.userMove(0, -1, new Date());\n      }\n      else if (e.keyCode == '40') {\n        // down\n        this.props.userMove(0, 1, new Date());\n      }\n      else if (e.keyCode == '37') {\n        // left\n        this.props.userMove(-1, 0, new Date());\n      }\n      else if (e.keyCode == '39') {\n        // right\n        this.props.userMove(1, 0, new Date());\n      }\n      this.setState({keyDown: true});\n    }\n\n  }\n\n  handleKeyUp = (e) => {\n    this.setState({keyDown: false});\n  }\n\n  enterRoom = (room) => {\n    this.props.history.push(room);\n  }\n\n  render() {\n    const {users, user, walls, doors, wineLocation} = this.props;\n    const {zIndex} = this.state;\n\n    return (\n      <div className=\"HomePage Sketch\" onKeyDown={this.handleKeyDown} onKeyUp={this.handleKeyUp} >\n\n        <Sketch\n          className=\"p5sketch\"\n          user={user}\n          users={users}\n          walls={walls}\n          doors={doors}\n          />\n\n\n        <Welcome w={500} h={400} z={zIndex[0]} x={-250-user.x+ this.state.OGW} y={-250-user.y+ this.state.OGH} />\n        <WineBar x={wineLocation.x-user.x + this.state.OGW} y={wineLocation.y-user.y+ this.state.OGH} w={wineLocation.w} h={wineLocation.h} />\n        <Folders x={300-user.x+ this.state.OGW} y={-330-user.y+ this.state.OGH} z0={zIndex[1]} z1={zIndex[2]} z2={zIndex[3]} onDblClick={this.onDblClick} />\n        <div className=\"avatars\">\n          <OtherAvatars users={users} user={user} avatarW={this.avatarW} userSetActiveChat={this.userSetActiveChat}  />\n          <Avatar user={user} avatarW={this.avatarW} />\n        </div>\n        <Glasses />\n      </div>\n    )\n  }\n}\n\n\n\n\nexport default HomePage;\n","import { Engine, Scene } from 'babylonjs'\nimport React, { useEffect, useRef, useState } from 'react'\n\nexport default (props) => {\n  const reactCanvas = useRef(null);\n  const { antialias, engineOptions, adaptToDeviceRatio, sceneOptions, onRender, onSceneReady, ...rest } = props;\n\n  useEffect(() => {\n    if(reactCanvas.current) {\n      const engine = new Engine(reactCanvas.current, antialias, engineOptions, adaptToDeviceRatio);\n      const scene = new Scene(engine, sceneOptions);\n      if (scene.isReady()) {\n        props.onSceneReady(scene)\n      } else {\n        scene.onReadyObservable.addOnce((scene) => props.onSceneReady(scene));\n      }\n\n      engine.runRenderLoop(() => {\n        if (typeof onRender === 'function') {\n          onRender(scene);\n        }\n        scene.render();\n      })\n\n      const resize = () => {\n        scene.getEngine().resize();\n      }\n\n      if (window) {\n        window.addEventListener('resize', resize);\n      }\n\n      return () => {\n        scene.getEngine().dispose();\n\n        if (window) {\n          window.removeEventListener('resize', resize);\n        }\n      }\n    }\n  }, [reactCanvas])\n\n  return (\n    <canvas ref={reactCanvas} {...rest} />\n  );\n}\n","import React from 'react';\nimport './Frame.css';\nimport Toolbar from './Toolbar';\n// import Draggable from 'react-draggable';\n\nclass FrameSimple extends React.Component {\n  // https://codepen.io/JohJakob/pen/YPxgwo\n\n  // constructor(props) {\n  //   super(props);\n  //   this.state = {\n  //     isMinimized: false,\n  //     isClosed: false\n  //   }\n  //\n  //   this.toggleClosed = this.toggleClosed.bind(this);\n  //\n  // }\n\n  render() {\n    let toolBarH = 30;\n\n    // var title = this.props.title;\n\n    let x = Math.floor(this.props.px);\n    let y = Math.floor(this.props.py);\n    var sty = {\n      width: this.props.width,\n      height: this.props.height + toolBarH,\n      left: x,\n      top: y,\n      // display: this.state.isClosed?\"none\":\"block\"\n    }\n\n    let classN = \"Frame FrameSimple\";\n    if (this.props.notAbsolute) classN += \" static\"\n\n    // so i guess x/y in <FrameSimple x={..} ...} doesn't do anything?\n    // but px={} py={} does?\n    // how does this differ from <Frame ..> ?\n    // oh frame simple isn't draggable.. doi\n\n     return (\n      <div className={classN} style={sty}>\n        <div className=\"window\" style={this.props.windowStyle}>\n          <Toolbar title={this.props.title} toggleClosed={this.toggleClosed} toggleMinimzed={this.toggleMinimzed} toggleMaximized={this.toggleMaximized} />\n\n          <div className=\"content\">\n            {this.props.content}\n          </div>\n\n        </div>\n      </div>\n\n    );\n  }\n\n  toggleMinimzed() {\n    //ok...\n  }\n\n  toggleClosed() {\n    // this.setState({isClosed: true});\n  }\n}\n\n\n\nexport default FrameSimple\n","import React from 'react';\nimport \"./Stair.css\";\nimport Frame from '../../../shared/Frame/Frame';\n\nfunction Stair(props) {\n\n  return (\n    <div className=\"Stair\">\n    <Frame title=\"\" content={getStairContent(props)}\n      width={props.stepW+24} height={10} x={props.x} y={props.y} window={\"stair-window\"} handle={\".step\"}\n      />\n    </div>\n  );\n}\n\nfunction getStairContent(props) {\n  let numSteps = props.numSteps;\n  let stepW = props.stepW;\n  let stepH = props.stepH;\n  let stepDown = props.stepDown;\n  let steps = [];\n\n  for(let i = 0; i < numSteps; i++) {\n    steps.push(i);\n  }\n  return (steps.map((val, i) => {\n    let classN = \"step\";\n    if (i == 0) classN += \" firstStep\"\n    if (i == numSteps -1) classN += \" lastStep\"\n    let num = i;\n\n\n    let factor = 1;\n    let oneImage = false;\n    let bgpos, bgsize;\n    if (oneImage) {\n       bgpos =   (-i*stepW) + \"px \" + (-i*stepDown) + \"px\";\n       bgsize= (stepW*numSteps*factor) + \"px \" + ((stepH + stepDown*numSteps)*factor) + \"px\";\n    }\n    else {\n      bgpos = \"0px 0px\";\n      bgsize = stepW + \"px \" + stepH + \"px\";\n    }\n\n    // let bgsize = \"500px 500px\"//\"auto \" + (stepH + (stepH-stepDown)*numSteps) + \" px\";\n    return (\n      <div className={classN} key={i} style={{width: stepW, height: stepH, top: -30+stepDown*i, left: stepW*i, backgroundImage: `url(${props.url})`, backgroundPosition: bgpos, backgroundSize: bgsize}}></div>\n    );\n  }));\n}\nexport default Stair;\n","\nimport { Color3, Vector3, Vector2, MeshBuilder, StandardMaterial } from 'babylonjs';\n\n\nclass Castle {\n\n  constructor(gridsize, width, height){\n    // let gridsize = 30; //floor(random(10, 20));\n    this.size = Math.min(height, width) / gridsize * 1.7;\n    this.x = gridsize;\n    this.y = gridsize;\n\n    this.positions = [];\n    this.heights = [];\n    this.stairinfos = [];\n    this.windowinfos = [];\n\n    this.initTerrain();\n    this.initWindows();\n    this.initStairs();\n\n    this.ColorPalette = {\n      \"dark\": new Color3(0, 0, 0),\n      \"light\": new Color3(.4, .4, .8),\n      \"shadow\": new Color3(0, 0, 0),\n      \"shade\" : new Color3(.2, .2, .4),\n      \"white\" : new Color3(1, 1, 1),\n    };\n\n\n  }\n\n  initTerrain() {\n    for(let n=0; n<this.y; n++){\n      let ii = 1;\n      for(let i=0; i<this.x; i++){\n        let pos = new Vector3(i * this.size, 0, n * this.size);\n        this.positions.push(pos);\n        if(Math.random() < 0.5){\n          ii+=1;\n        }\n        // what percentage of the move back (z or n) are we? Farther back, more mult\n        let t = n / (this.y - 1.0);\n        // t = pow(t, 0.5);\n        this.heights.push(this.size * Math.ceil(ii * t));\n      }\n    }\n  }\n\n  initWindows() {\n    // windows\n    for(let n=0; n<this.y-1; n++){\n      for(let i=0; i<this.x-1; i++){\n        let index1 = n * this.x + i;\n        let index2 = n * this.x + i + 1; //right\n        let index3 = (n + 1) * this.x + i; //in front\n        let h1 = this.heights[index1];\n        let h2 = this.heights[index2];\n        let h3 = this.heights[index3];\n\n        // windows\n        let maxnum = 6;\n        if(h1 < h2){\n          for(let t=h1; t<h2-1; t+= this.size){\n            if(random() < 0.3){\n              let size = map(Math.floor(random(1, maxnum)), 1, maxnum-1, 0.2, 0.4);\n              this.windowinfos.push([index1, 1, t, size]);\n            }\n          }\n        }\n        if(h1 < h3){\n          for(let t=h1; t<h3-1; t+= this.size){\n            if(random() < 0.3){\n              let size = map(Math.floor(random(1, maxnum)), 1, maxnum-1, 0.2, 0.4);\n              this.windowinfos.push([index1, 0, t, size]);\n            }\n          }\n        }\n      }\n    }\n\n  }\n\n  initStairs() {\n    // stairs\n    for(let n=0; n<this.y-1; n++){\n      for(let i=0; i<this.x-1; i++){\n        let index1 = n * this.x + i;\n        let index2 = n * this.x + i + 1; //right\n        let index3 = (n + 1) * this.x + i; //in front\n        let h1 = this.heights[index1];\n        let h2 = this.heights[index2];\n        let h3 = this.heights[index3];\n\n        //adding stairs\n        if(random() < 0.5){\n          if(h1 + this.size == h2) {\n            this.stairinfos.push([index1, 1, random()]);\n          }\n          else if(h1 + this.size == h3){\n            this.stairinfos.push([index1, 0, random()]);\n          }\n        }\n      }\n    }\n\n  }\n\n  render(scene, myparent) {\n\n    for(let i=0; i<this.positions.length; i++){\n      let pos = this.positions[i];\n      let h = this.heights[i];\n      let val = h / (this.y * this.size * 0.5);\n\n      let material = new StandardMaterial(\"stairMaterial\", scene);\n      let col = Color3.Lerp(this.ColorPalette.shadow, this.ColorPalette.light, val);\n      material.diffuseColor = col;\n      // material.specularColor = new Color3(0.5, 0.6, 0.87);\n      // material.emissiveColor = new Color3(.1, .1, .1);\n      // material.ambientColor = new Color3(0.23, 0.98, 0.93);\n      // material.alpha = 0.8;\n\n      let box = MeshBuilder.CreateBox(\"box\", {width: this.size, height: h, depth: this.size}, scene);\n      box.position = new Vector3(pos.x, pos.y+h*.5, pos.z);\n      box.material = material;\n      box.checkCollisions = true;\n      box.parent = myparent;\n\n      // this.drawStairs(scene, myparent);\n    }\n  }\n\n  drawStairs(scene, myparent) {\n    for(let i=0; i<1; i++){\n      let stairinfo = this.stairinfos[i];\n      this.drawStairByIndex(scene, myparent, stairinfo);\n    }\n  }\n\n  drawStairByIndex(scene, myparent, stairinfo){\n    let index = stairinfo[0];\n    let dir = stairinfo[1];\n    let shift = stairinfo[2];\n    let pos = this.positions[index];\n    let h = this.heights[index];\n    let val = h / (this.y * this.size * 0.5);\n    let num = 5;\n    let stepsize = this.size / num;\n    let col = Color3.Lerp(this.ColorPalette.shadow, this.ColorPalette.light, val);\n    let x = pos.x;\n    let y = pos.h + pos.y;\n    let z = pos.z;\n    let rotY = Math.PI/2*dir;\n\n    // translate(0,0,-this.size * 0.5);\n    z -= this.size*.5;\n\n    for(let i=1; i<num; i++){\n      let minval = -0.5;\n      let maxval = 0.5;\n\n      // let sanim = map(constrain(Math.sin(radians(frameCount * 1) + shift * TWO_PI), minval, maxval), minval, maxval, 0, 1.0);\n      // sanim = Math.max(0.0001, easeInOutQuart(sanim));\n      let sanim = 1;\n      let boxX = x;\n      let boxY = y + stepsize * i * 0.5 * sanim;\n      let boxZ = stepsize * 0.5 + stepsize * i;\n\n      let box = MeshBuilder.CreateBox(\"box\", {width: this.size, height: stepsize * i * sanim, depth: stepsize}, scene);\n      box.position = new Vector3(boxX, boxY, boxZ);\n      box.rotation.y = rotY;\n\n      let material = new StandardMaterial(\"stairMaterial\", scene);\n      material.diffuseColor = col;\n      box.material = material;\n      box.parent = myparent;\n    }\n  }\n\n}\n\nfunction constrain(val, min, max) {\n  if (val < min) return min;\n  if (val > max) return max;\n  return val;\n}\n\nfunction radians(deg) {\n  return deg/180*Math.PI;\n}\n\nfunction random(start=0, end=1) {\n  return Math.random()*(end-start)+start;\n}\n\nfunction map(in_min, in_max, out_min, out_max) {\n  return (this - in_min) * (out_max - out_min) / (in_max - in_min) + out_min;\n}\n\nexport default Castle;\n","import React from 'react';\nimport \"./Dimension.css\";\n\nimport { AnaglyphUniversalCamera, HemisphericLight, MeshBuilder, PhotoDome, Vector3, Vector2, AssetContainer, SceneLoader, StandardMaterial, CubeTexture, Color3, Mesh, Texture } from 'babylonjs';\nimport BabylonScene from '../../shared/Babylon.jsx'; // import the component above linking to file we just created.\nimport { WaterMaterial } from 'babylonjs-materials';\nimport 'babylonjs-loaders';\n\nimport Frame from '../../shared/Frame/Frame';\nimport FrameSimple from '../../shared/Frame/FrameSimple';\nimport Stair from './components/Stair';\n\nimport Castle from './components/Castle';\n\nimport Glasses from '../../shared/Glasses/Glasses';\n\n// palm https://poly.google.com/view/ficLBIjGliK\n\nvar camera;\nvar water;\nvar castleBox;\nvar seed = 13;\n\nclass Dimension extends React.Component {\n\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      windowWidth: window.innerWidth,\n      windowHeight: window.innerHeight,\n    }\n\n\n    this.onRender = this.onRender.bind(this);\n\n  }\n\n\n  componentDidMount() {\n    this.updateDimensions();\n    window.addEventListener(\"resize\", this.updateDimensions.bind(this));\n  }\n\n  componentWillUnmount() {\n    window.removeEventListener(\"resize\", this.updateDimensions.bind(this));\n  }\n\n  updateDimensions() {\n    this.setState({ windowWidth: window.innerWidth, windowHeight: window.innerHeight });\n  }\n\n  onSceneReady(scene) {\n    // const camera = new UniversalCamera(\"UniversalCamera\", new Vector3(0, 1, -25), scene);\n    camera = new AnaglyphUniversalCamera(\"af_cam\", new Vector3(-10, 30, 20), 0.033, scene);\n    scene.clearColor = Color3.Black();\n    scene.collisionsEnabled = true;\n    camera.setTarget(new Vector3(20, 20, 30));\n\n    const canvas = scene.getEngine().getRenderingCanvas();\n    camera.attachControl(canvas, true);\n    // camera.inputs.clear();\n    // camera.inputs.removeMouse();\n    // camera.inputs.removeByType(\"FreeCameraKeyboardMoveInput\");\n\n    const light = new HemisphericLight(\"light1\", new Vector3(0, 1, 0), scene);\n    // light.diffuse = new Color3(1, 0, 0);\n    // light.specular = new Color3(0, 1, 0);\n    // light.groundColor = new Color3(0, 1, 0);\n    // light.intensity = 2.7;\n\n    // addWater(scene);\n    addSkybox(scene);\n    // addGround(scene);\n\n    let castle = new Castle(30, window.innerWidth/30, window.innerHeight/30);\n    castleBox = new Mesh.CreateBox(\"myparent\", 1, scene);\n    castleBox.position = new Vector3(0, 0, 0);\n    castle.render(scene, castleBox);\n  }\n\n\n  onRender(scene) {\n    castleBox.position.y = 1*Math.sin(new Date().getTime()/500);\n    let divFps = document.getElementById(\"fps\");\n    if (divFps) divFps.innerHTML = scene.getEngine().getFps().toFixed() + \" fps\";\n  }\n\n  render() {\n    let stairS = 100;\n    let stairsURL = \"https://media.giphy.com/media/13i9MA8PmVZMzu/giphy.gif\";\n    return (\n      <div className=\"Dimension\">\n        <div className=\"Frame-box\">\n          <BabylonScene antialias onSceneReady={this.onSceneReady} onRender={this.onRender} id='babylon-canvas' />\n          <Frame title=\"dimension\" content={<div>test</div>}\n            width={260} height={100} x={100} y={100}\n            />\n          <Stair x={200} y={300} stepW={stairS} stepH={stairS} numSteps={5} stepDown={stairS*.75} url={stairsURL} />\n          <Stair x={200} y={100} stepW={stairS} stepH={stairS*.7} numSteps={5} stepDown={stairS*.75} url={stairsURL} />\n\n        </div>\n        <Glasses />\n      </div>\n    )\n  }\n\n}\n\n\n\nfunction addWater(scene) {\n  var waterMesh = Mesh.CreateGround(\"waterMesh\", 512, 512, 32, scene, false);\n  water = new WaterMaterial(\"water\", scene, new Vector2(1024, 1024));\n  water.backFaceCulling = true;\n  water.bumpTexture = new Texture(window.AWS+\"/shared/waterbump.png\", scene);\n  water.windForce = -5;\n  water.waveHeight = 0.8;\n  water.bumpHeight = 0.3;\n  water.waveLength = 0.3;\n  // water.colorBlendFactor = 0;\n  water.waterColor = new Color3(0, 0, .1);\n  water.colorBlendFactor = 0;\n  // water.addToRenderList();\n  waterMesh.material = water;\n}\n\nfunction addSkybox(scene) {\n  var skybox = Mesh.CreateBox(\"skyBox\", 1000.0, scene);\n  var skyboxMaterial = new StandardMaterial(\"skyBox\", scene);\n  skyboxMaterial.backFaceCulling = false;\n  // skyboxMaterial.reflectionTexture = new CubeTexture(process.env.PUBLIC_URL+\"/textures/skybox/TropicalSunnyDay\", scene);\n  skyboxMaterial.reflectionTexture = new CubeTexture(window.AWS+\"/shared/sky/galaxy/galaxy\", scene);\n  skyboxMaterial.reflectionTexture.coordinatesMode = Texture.SKYBOX_MODE;\n  skyboxMaterial.diffuseColor = new Color3(0, 0, 0);\n  skyboxMaterial.specularColor = new Color3(0, 0, 0);\n  skyboxMaterial.disableLighting = true;\n  skybox.material = skyboxMaterial;\n\n  // var dome = new PhotoDome(\"textureName\", window.AWS+\"/shared/sky/dome/hubble2.png\", {resolution: 32, size: 1000}, scene);\n}\n\nfunction addGround(scene) {\n  var groundTexture = new Texture(window.AWS+\"/shared/grid.jpg\", scene);\n  groundTexture.vScale = groundTexture.uScale = 2.0;\n\n  var groundMaterial = new StandardMaterial(\"groundMaterial\", scene);\n  groundMaterial.diffuseTexture = groundTexture;\n\n  var ground = Mesh.CreateGround(\"ground\", 512, 512, 32, scene, false);\n  ground.position.y = -1;\n  ground.rotation.y = Math.PI/2;\n  ground.material = groundMaterial;\n}\n\nfunction getRandomNum(val) {\n  var x = Math.sin(val) * 10000;\n  return x - Math.floor(x);\n}\n\nexport default Dimension;\n","import React from 'react';\nimport Frame from '../../shared/Frame/Frame';\nimport './MacbookAir.css';\n\nimport Grid from '@material-ui/core/Grid';\nimport Slider from '@material-ui/core/Slider';\n// import indigo from '@material-ui/core/colors/indigo';\n\nimport ReactPlayer from 'react-player'\n// import mainVid from  \"./assets/noframe.mp4\";\n// import cloudsVid from  \"./assets/clouds3d.mp4\";\n\nimport Glasses from '../../shared/Glasses/Glasses';\n\nclass MacbookAir extends React.Component {\n  // https://codepen.io/JohJakob/pen/YPxgwo\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      videoSpeed : 1.0,\n\n\n    }\n\n    this.sliderOG= {x: 0, y: 0};\n    this.mainOG= {x: 0, y: 0};\n\n    this.cloudsRef = React.createRef();\n\n    this.setSpeed = this.setSpeed.bind(this);\n    this.getDimensions = this.getDimensions.bind(this);\n    this.getMainWindow = this.getMainWindow.bind(this);\n    this.getSliderWindow = this.getSliderWindow.bind(this);\n  }\n\n  componentDidMount() {\n    this.interval = setInterval(this.resetPlayer, 22000);\n    this.props.userSetRoom(\"macbook-air\");\n    console.log(window.AWS + \"/macbookAir/noframe.mp4\");\n    // window.addEventListener(\"resize\", this.updateDimensions);\n  }\n\n  componentWillUnmount() {\n    // window.removeEventListener(\"resize\", this.updateDimensions.bind(this));\n    clearInterval(this.interval);\n    this.props.userLeaveRoom(\"macbook-air\");\n  }\n\n  setSpeed(speed) {\n    this.cloudsRef.current.playbackRate = speed;\n    this.setState({videoSpeed: speed});\n  }\n\n  getDimensions() {\n    var headerH = 34;\n    var toolbarH = 28;\n    var {windowWidth, device, windowHeight} = this.props.dimensions;\n    // var {} = this.props.dimensions;\n    windowHeight -= headerH;\n\n    const originalDim = {w: 840, h: 540};\n    const aspectRatio = originalDim.w/originalDim.h;\n    let minSpacing = Math.min(windowWidth*.05, 50);//windowWidth*.05;\n    const windowAspectRatio = window.innerWidth/window.innerHeight;\n    if (device === \"desktop\") return getPortraitDimensions();\n    // else if (availableHeight >= originalDim.h) return getPortraitDimensions();\n    else if (windowAspectRatio < 1) return getPortraitDimensions();\n    else return getLandscapeDimensions();\n\n\n    function getLandscapeDimensions() {\n      windowHeight-=toolbarH;\n      let windowDim = {w: originalDim.w, h: originalDim.h, x:0, y: 0};\n      let sliderDim = {w: 80, h: windowDim.h, x: 0, y: 0, vertical:true};\n      let availableHeight = windowHeight-minSpacing*2;\n      let availableWidth = windowWidth - minSpacing*3 - sliderDim.w; // width of slider\n      const windowAspectRatio = availableWidth/availableHeight;\n      // should we max out the height or width in the available space?\n      if (windowAspectRatio > aspectRatio) {\n        // max device height out\n        windowDim.h = availableHeight;\n        windowDim.w = originalDim.w * windowDim.h/originalDim.h;\n      } else {\n        // max device height width\n        windowDim.w = availableWidth;\n        windowDim.h = originalDim.h * windowDim.w/originalDim.w;\n      }\n      let spacingFinal = (windowHeight-windowDim.h)/2;\n      windowDim.x = (windowWidth - windowDim.w-sliderDim.w)/3;\n      windowDim.y = spacingFinal; //(windowHeight - windowDim.h - 21 - 30)/2-5;\n\n      // slider\n      sliderDim.h = windowDim.h;\n      let remainingSpace = windowWidth - windowDim.w - windowDim.x;\n      let buffer = (remainingSpace - sliderDim.w)/2;\n      sliderDim.x = windowDim.w + windowDim.x + buffer;\n      sliderDim.y = windowDim.y;//(windowHeight-30- sliderDim.h-21)/2;\n\n      return [windowDim, sliderDim];\n    }\n    function getPortraitDimensions() {\n      windowHeight-= 2*toolbarH;\n      let sliderDim = {w: 250, h: 64, x: 0, y: 0, vertical:false};\n      // let availableHeight = windowHeight-60-85-minSpacing*3;\n      let availableHeight = windowHeight-sliderDim.h-minSpacing*3;\n      let availableWidth = windowWidth - minSpacing*2;\n      let windowAspectRatio = availableWidth/availableHeight;\n\n      let windowDim = {w: originalDim.w, h: originalDim.h, x:0, y: 0};\n\n      if (windowAspectRatio > aspectRatio) {\n        // max device height out\n        windowDim.h = Math.min(availableHeight, originalDim.h);\n        windowDim.w = Math.min(originalDim.w * windowDim.h/originalDim.h, originalDim.w);\n      } else {\n        // max device height width\n        windowDim.w = Math.min(availableWidth, originalDim.w);\n        windowDim.h = Math.min(originalDim.h * windowDim.w/originalDim.w, originalDim.h);\n      }\n\n      let spacingFinal = (windowHeight-sliderDim.h-windowDim.h)/3;\n      // console.log(sliderDim.h, sliderspacingFinal)\n      windowDim.x = windowWidth/2 - windowDim.w/2-2;\n      windowDim.y = spacingFinal;//(windowHeight - windowDim.h)/4;\n\n      // slider\n      sliderDim.x = (windowWidth - sliderDim.w)/2;\n      // let remainingSpace = windowHeight - windowDim.h - windowDim.y;\n      // let buffer = (remainingSpace - sliderDim.h - 21)/2;\n      sliderDim.y = windowDim.y + windowDim.h + toolbarH + spacingFinal;\n\n      return [windowDim, sliderDim];\n    }\n  }\n\n\n  getMainWindow(windowDim) {\n    let dx = this.props.dimensions.flipped?-this.mainOG.x + windowDim.x: 0;\n    let dy =  this.props.dimensions.flipped?-this.mainOG.y + windowDim.y: 0;\n\n    if (this.props.dimensions.windowWidth <= 0 || windowDim.w <= 0) {\n      return (<div></div>);\n    }\n    else {\n      if (this.mainOG.x === 0) {\n        this.mainOG.x = windowDim.x;\n        this.mainOG.y = windowDim.y;\n      }\n      return (\n        <Frame title=\"macbook air\" content={\n            /*<video width={dimW-2} height={dimH} muted loop autoPlay><source src={videoDimURL} type=\"video/mp4\"></source></video>*/\n            <ReactPlayer\n              className={\"react-player mainContent\"}\n              playing\n              muted\n              loop\n              width={windowDim.w}\n              height={windowDim.h}\n              url={window.AWS + \"/macbookAir/noframe.mp4\"}\n              playbackRate={this.state.videoSpeed}\n              />\n          }\n          width={windowDim.w+2} height={windowDim.h} x={windowDim.x} y={windowDim.y} px={windowDim.x} py={windowDim.y}\n          />\n      )\n    }\n  }\n\n  getSliderWindow(sliderDim) {\n\n    // let offsetMain = {\n    let dx = this.props.dimensions.flipped?100: 0;\n    let dy =  this.props.dimensions.flipped?400: 0;\n\n\n    // }\n    if (this.props.dimensions.windowWidth <= 0) {\n      return(<div></div>);\n    }\n    else {\n      return(\n        <Frame title=\"\" icon=\"&#58160;\" content={<div className=\"sliderBox\"><ContinuousSlider callback={this.setSpeed} orientation={sliderDim.w<200?\"vertical\":\"horizontal\"} /></div>}\n          width={sliderDim.w} height={sliderDim.h} x={sliderDim.x} y={sliderDim.y} px={sliderDim.x} py={sliderDim.y}\n          />\n      );\n    }\n\n  }\n\n  render() {\n\n    const frameDimensions = this.getDimensions();\n    const windowDim = frameDimensions[0];\n    const sliderDim = frameDimensions[1];\n\n    return (\n      <div className=\"MacbookAir Sketch\">\n          {/*<ReactPlayer\n            className={\"react-player backgroundCover\"}\n            playing\n            muted\n            loop\n            width=\"100%\"\n            height=\"100%\"\n            url={cloudsVid}\n            playbackRate={this.state.videoSpeed}\n            />*/}\n            <video ref={this.cloudsRef} autoPlay muted loop className=\"backgroundCover\">\n              <source src={window.AWS + \"/macbookAir/clouds3d.mp4\"} type=\"video/mp4\" ></source>\n              Your browser does not support HTML5 video.\n            </video>\n            {this.getMainWindow(windowDim)}\n            {this.getSliderWindow(sliderDim)}\n          <Glasses />\n        </div>\n      );\n    }\n\n  }\n\n\n  function ContinuousSlider(props) {\n    // const classes = useStyles();\n    const [value, setValue] = React.useState(1.0);\n\n    const handleChange = (event, newValue) => {\n      setValue(newValue);\n      props.callback(newValue);\n    };\n\n    let style = {};\n    style.height = props.orientation===\"vertical\"?\"80px\":\"auto\";\n    style.width = props.orientation===\"vertical\"?\"auto\":\"100px\";\n\n    return (\n      <div className=\"Slider\">\n        <Grid container spacing={2}>\n          <Grid item className=\"emoji-slider\">\n            <div className=\"cloud-emoji\" aria-label=\"cloud\"></div>\n          </Grid>\n          <Grid item xs>\n            <Slider value={value} onChange={handleChange} orientation={props.orientation} style={style} color='primary' aria-labelledby=\"continuous-slider\" step={0.1} min={0.0} max={2.0} defaultValue={1.0} />\n          </Grid>\n          <Grid item className=\"emoji-slider\">\n            <div className=\"gust-emoji\" aria-label=\"dashing away\"></div>\n          </Grid>\n        </Grid>\n      </div>\n    );\n  }\n\n  export default MacbookAir;\n","import React from 'react';\nimport \"./ClickMe.css\";\n\nimport { AnaglyphUniversalCamera, HemisphericLight, Vector3, SceneLoader,AssetContainer, StandardMaterial, PhotoDome, CubeTexture, Color3,Mesh, Texture } from 'babylonjs';\nimport BabylonScene from '../../shared/Babylon.jsx'; // import the component above linking to file we just created.\n\nimport Frame from '../../shared/Frame/Frame';\n// import FrameSimple from '../../Universal/Frame/FrameSimple';\n\n// import { makeStyles } from '@material-ui/core/styles';\nimport Button from '@material-ui/core/Button';\n\nimport Glasses from '../../shared/Glasses/Glasses';\n\n// palm https://poly.google.com/view/ficLBIjGliK\n\nvar loaded = false;\nvar face;\n\nclass ClickMe extends React.Component {\n\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      windowWidth: window.innerWidth,\n      windowHeight: window.innerHeight,\n      isLoading: true\n    }\n\n    this.onRender = this.onRender.bind(this);\n    this.onSceneReady = this.onSceneReady.bind(this);\n  }\n\n\n  componentDidMount() {\n    this.updateDimensions();\n    window.addEventListener(\"resize\", this.updateDimensions.bind(this));\n  }\n\n  componentWillUnmount() {\n    window.removeEventListener(\"resize\", this.updateDimensions.bind(this));\n  }\n\n  updateDimensions() {\n    this.setState({ windowWidth: window.innerWidth, windowHeight: window.innerHeight });\n  }\n\n  onSceneReady(scene) {\n    // const camera = new UniversalCamera(\"UniversalCamera\", new Vector3(0, 1, -25), scene);\n    var camera = new AnaglyphUniversalCamera(\"af_cam\", new Vector3(0, 8, -5), 0.033, scene);\n    scene.clearColor = Color3.Black();\n    // scene.fogMode = Scene.FOGMODE_LINEAR;\n    // scene.fogStart = 520.0;\n    // scene.fogEnd = 560.0;\n    // scene.fogColor = new Color3(0);\n\n    camera.setTarget(new Vector3(0, 8, 0));\n\n    const canvas = scene.getEngine().getRenderingCanvas();\n    camera.attachControl(canvas, true);\n    // camera.inputs.clear();\n    // camera.inputs.removeMouse();\n    // camera.inputs.removeByType(\"FreeCameraKeyboardMoveInput\");\n\n    const light = new HemisphericLight(\"light1\", new Vector3(0, 1, 0), scene);\n    light.intensity = 1.7;\n\n\n    ///////////////////////////////////////////////////////////////////////////////\n\n    // Skybox\n    // var dome = new PhotoDome(\"textureName\", \"/textures/metal.jpg\", {resolution: 32, size: 1000}, scene);\n    // dome.fovMultiplier = 2;\n\n    // Ground\n    // var groundTexture = new Texture(\"/textures/grid_blk.jpg\", scene);\n    // groundTexture.vScale = groundTexture.uScale = 20.0;\n    //\n    // var groundMaterial = new StandardMaterial(\"groundMaterial\", scene);\n    // groundMaterial.diffuseTexture = groundTexture;\n    //\n    // var ground = Mesh.CreateGround(\"ground\", 512, 512, 32, scene, false);\n    // ground.position.y = -1;\n    // ground.rotation.y = Math.PI/2;\n    // ground.material = groundMaterial;\n\n\n    // addSkybox(scene);\n    addFace(scene);\n\n  }\n\n\n\n\n\n  onRender(scene) {\n\n    let divFps = document.getElementById(\"fps\");\n    if(divFps) divFps.innerHTML = scene.getEngine().getFps().toFixed() + \" fps\";\n\n    if(face) {\n      console.log(\"ok\")\n      face.rotation.y = Math.PI*.4 * Math.sin((new Date()).getTime()/800)+.3;\n    }\n  }\n\n  getClickMenu() {\n    let hands = [\"\",\"\",\"\",\"\",\"\"];\n    return (\n      <Frame title=\"\" content={\n          <div className=\"hands\">\n            {hands.map((val, i) => {\n              return <Button key={i} className=\"hand\" onClick={this.handChange.bind(this, i)} variant=\"outlined\">{val}</Button>\n            })}\n          </div>\n        }\n        width={80} height={97*hands.length} x={window.innerWidth-100} y={(window.innerHeight-80-97*hands.length)/2}\n        />\n    );\n  }\n\n  handChange(index) {\n    console.log(index);\n  }\n\n\n\n  render() {\n    return (\n      <div className=\"ClickMe\">\n        <div className=\"Frame-box\">\n          <BabylonScene antialias onSceneReady={this.onSceneReady} onRender={this.onRender} id='babylon-canvas' />\n          {this.getClickMenu()}\n        </div>\n        <Glasses />\n      </div>\n    )\n  }\n\n}\n\nfunction addSkybox(scene) {\n  var skybox;\n  skybox = Mesh.CreateBox(\"skyBox\", 1000.0, scene);\n  var skyboxMaterial = new StandardMaterial(\"skyBox\", scene);\n  skyboxMaterial.backFaceCulling = false;\n  skyboxMaterial.reflectionTexture = new CubeTexture(process.env.PUBLIC_URL+\"/textures/skybox/emoji/emoji_wall\", scene);\n  // skyboxMaterial.reflectionTexture = new CubeTexture(\"/textures/skybox/invert/skybox\", scene);\n  skyboxMaterial.reflectionTexture.coordinatesMode = Texture.SKYBOX_MODE;\n  skyboxMaterial.diffuseColor = new Color3(0, 0, 0);\n  skyboxMaterial.specularColor = new Color3(0, 0, 0);\n  skyboxMaterial.disableLighting = true;\n  skybox.material = skyboxMaterial;\n}\n\n\nfunction addFace(scene) {\n\n  var url = process.env.PUBLIC_URL + \"/assets/clickMe/face/\"\n  SceneLoader.LoadAssetContainer(url, \"me2.obj\", scene, function (container) {\n    var meshes = container.meshes;\n\n    face = meshes[0];\n\n    // face.rotation.y = Math.random()*Math.PI*2;\n    face.rotation.x = Math.PI;\n    // face.rotation.z = (-.3+Math.random()*.6);\n\n    face.position.y = 5;\n    face.position.x = 0;\n    face.position.z = 15;\n    face.scaling = new Vector3(50, 50, 50);\n\n    // Create materials\n    var myMaterial = new StandardMaterial(\"myMaterial\", scene);\n    myMaterial.diffuseColor = new Color3(.4, .4, .4);\n    myMaterial.specularColor = new Color3(0.1, 0.1, 1);\n    // myMaterial.emissiveColor = new Color3(1, 1, 1);\n    myMaterial.ambientColor = new Color3(0.5, .5, 0.53);\n\n    face.material = myMaterial;\n    // face.material.wireframe = true;\n\n    container.addAllToScene();  // Adds all elements to the scene\n\n    loaded = true;\n\n  });\n}\n\n\nexport default ClickMe;\n","import * as THREE from \"three\";\n\nexport default class Pipe {\n  constructor(nodes, scene) {\n\n    this.pipeRadius = 0.2;\n    this.ballJointRadius = this.pipeRadius * 1.5;\n    this.gridBounds = new THREE.Box3(\n      new THREE.Vector3(-10, -10, -10),\n      new THREE.Vector3(10, 10, 10)\n    );\n\n    this.scene = scene;\n    this.nodes = nodes;\n\n    this.currentPosition = randomIntegerVector3WithinBox(this.gridBounds);\n    this.positions = [this.currentPosition];\n    this.object3d = new THREE.Object3D();\n\n    this.scene.add(this.object3d);\n    this.addTexture();\n    this.setAt(nodes, this.currentPosition, this);\n    this.makeBallJoint(this.currentPosition);\n  }\n\n  makeCylinderBetweenPoints(fromPoint, toPoint, material) {\n    var deltaVector = new THREE.Vector3().subVectors(toPoint, fromPoint);\n    var arrow = new THREE.ArrowHelper(\n      deltaVector.clone().normalize(),\n      fromPoint\n    );\n    var geometry = new THREE.CylinderGeometry(\n      this.pipeRadius,\n      this.pipeRadius,\n      deltaVector.length(),\n      10,\n      4,\n      true\n    );\n    var mesh = new THREE.Mesh(geometry, material);\n\n    mesh.rotation.setFromQuaternion(arrow.quaternion);\n    mesh.position.addVectors(fromPoint, deltaVector.multiplyScalar(0.5));\n    mesh.updateMatrix();\n\n    this.object3d.add(mesh);\n  };\n\n  makeBallJoint(position) {\n    var ball = new THREE.Mesh(\n      new THREE.SphereGeometry(this.ballJointRadius, 8, 8),\n      this.material\n    );\n    ball.position.copy(position);\n    this.object3d.add(ball);\n  };\n\n  makeElbowJoint(fromPosition, toPosition, tangentVector) {\n    var elball = new THREE.Mesh(\n      new THREE.SphereGeometry(this.pipeRadius, 8, 8),\n      this.material\n    );\n    elball.position.copy(fromPosition);\n    this.object3d.add(elball);\n  };\n\n  addTexture() {\n    const texUrl = window.AWS + \"/jungleGyms/caution.jpg\";\n    var pipeTexture = new THREE.TextureLoader().load(  texUrl );//THREE.ImageUtils.loadTexture(texUrl);\n    pipeTexture.wrapS = pipeTexture.wrapT = THREE.RepeatWrapping;\n    pipeTexture.repeat.set(.2, .2);\n    if (pipeTexture) {\n      this.material = new THREE.MeshLambertMaterial({\n        map: pipeTexture,\n      });\n    } else {\n      var color = 0x00441f //randomInteger(0, 0xffffff);\n      var emissive = new THREE.Color(color).multiplyScalar(0.3);\n      this.material = new THREE.MeshPhongMaterial({\n        specular: 0xa9fcff,\n        color: color,\n        emissive: emissive,\n        shininess: 100,\n      });\n    }\n  }\n\n  update() {\n    if (this.positions.length > 1) {\n      var lastPosition = this.positions[this.positions.length - 2];\n      var lastDirectionVector = new THREE.Vector3().subVectors(\n        this.currentPosition,\n        lastPosition\n      );\n    }\n    if (Math.random>.5 && lastDirectionVector) {\n      var directionVector = lastDirectionVector;\n    } else {\n      var directionVector = new THREE.Vector3();\n      directionVector[chooseFrom(\"xyz\")] += chooseFrom([+1, -1]);\n    }\n    var newPosition = new THREE.Vector3().addVectors(\n      this.currentPosition,\n      directionVector\n    );\n\n    // TODO: try other possibilities\n    // ideally, have a pool of the 6 possible directions and try them in random order, removing them from the bag\n    // (and if there's truly nowhere to go, maybe make a ball joint)\n    if (!this.gridBounds.containsPoint(newPosition)) {\n      return;\n    }\n    if (this.getAt(newPosition)) {\n      return;\n    }\n    this.setAt(newPosition, this);\n\n    // joint\n    // (initial ball joint is handled elsewhere)\n    if (lastDirectionVector && !lastDirectionVector.equals(directionVector)) {\n      this.makeBallJoint(this.currentPosition);\n    }\n\n    // pipe\n    this.makeCylinderBetweenPoints(this.currentPosition, newPosition, this.material);\n\n    // update\n    this.currentPosition = newPosition;\n    this.positions.push(newPosition);\n  };\n\n  setAt(position, value) {\n    this.nodes[\"(\" + position.x + \", \" + position.y + \", \" + position.z + \")\"] = value;\n  }\n\n  getAt(position, value) {\n    return this.nodes[\"(\" + position.x + \", \" + position.y + \", \" + position.z + \")\"];\n  }\n\n};\n\n//////////////\n// HELPERS\nfunction chooseFrom(values) {\n  return values[Math.floor(Math.random() * values.length)];\n}\nfunction random(x1, x2) {\n  return Math.random() * (x2 - x1) + x1;\n}\nfunction randomInteger(x1, x2) {\n  return Math.round(random(x1, x2));\n}\nfunction randomIntegerVector3WithinBox(box) {\n  return new THREE.Vector3(\n    randomInteger(box.min.x, box.max.x),\n    randomInteger(box.min.y, box.max.y),\n    randomInteger(box.min.z, box.max.z)\n  );\n}\n","import React from 'react';\nimport ReactDOM from \"react-dom\";\nimport \"./JungleGyms.css\";\n\nimport * as THREE from \"three\";\nimport { AnaglyphEffect } from 'three/examples/jsm/effects/AnaglyphEffect.js';\nimport { ImprovedNoise } from 'three/examples/jsm/math/ImprovedNoise.js'\nimport {OBJLoader} from 'three/examples/jsm/loaders/OBJLoader.js';\nimport { MTLLoader } from 'three/examples/jsm/loaders/MTLLoader.js';\nimport {DDSLoader} from 'three/examples/jsm/loaders/DDSLoader.js';\nimport {OrbitControls} from 'three/examples/jsm/controls/OrbitControls.js';\n\nimport Frame from '../../shared/Frame/Frame';\nimport ReactPlayer from 'react-player';\nimport Glasses from '../../shared/Glasses/Glasses';\n\nimport Pipe from './Pipe';\n\n\n\nclass JungleGyms extends React.Component {\n\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      firstLoad: true\n    }\n  }\n\n  componentDidMount() {\n    this.interval = setInterval(this.reset, 20000);\n    window.addEventListener('resize', this.handleWindowResize);\n\n    this.setupScene();\n    this.startAnimationLoop();\n\n    this.props.userSetRoom(\"jungle-gyms\");\n  }\n\n  componentWillUnmount() {\n    window.removeEventListener('resize', this.handleWindowResize);\n    window.cancelAnimationFrame(this.requestID);\n    this.controls.dispose();\n    clearInterval(this.interval);\n    this.props.userLeaveRoom(\"jungle-gyms\");\n  }\n\n  handleWindowResize = () => {\n    const width = window.innerWidth; //this.el.clientWidth;\n    const height = window.innerHeight; //this.el.clientHeight;\n    this.renderer.setSize( width, height );\n    this.camera.aspect = width / height;\n    this.camera.updateProjectionMatrix();\n  };\n\n  setupScene = () => {\n    this.scene = new THREE.Scene();\n    this.camera = new THREE.PerspectiveCamera(45, window.innerWidth / window.innerHeight, 1, 100000);\n    this.renderer = new THREE.WebGLRenderer({ alpha: true, antialias: true,});\n    this.renderer.setSize(window.innerWidth, window.innerHeight);\n    // document.body.appendChild( renderer.domElement );\n    // use ref as a mount point of the Three.js scene instead of the document.body\n    this.mount.appendChild( this.renderer.domElement );\n\n\n    this.effect = new AnaglyphEffect( this.renderer );\n    this.effect.setSize( window.innerWidth, window.innerHeight );\n\n    this.controls = new OrbitControls(this.camera, this.renderer.domElement);\n    this.controls.minDistance = 1;\n    this.controls.maxDistance = 80;\n\n    var ambientLight = new THREE.AmbientLight(0xaaaaaa);\n    this.scene.add(ambientLight);\n    this.addLight(-10, 2, 4);\n    this.addLight(1, -10, -2);\n\n    this.addScreenCube(this.videoGym, 1920, 1080, .01, [0, 0, -8], [0, 0, 0], 47);\n    this.addScreenCube(this.videoSwings, 1080, 1920, .01, [6, 0, -20], [0, -Math.PI/2, 0], 20);\n\n    this.pipes = [];\n    this.vines = [];\n    this.nodes = {};\n\n    this.addWallPaper();\n    this.addVines();\n    this.look();\n  }\n\n  startAnimationLoop = () => {\n    // this.renderer.render( this.scene, this.camera );\n    for (var i = 0; i < this.pipes.length; i++) {\n      this.pipes[i].update();\n    }\n    if (this.pipes.length === 0) {\n      for (var i = 0; i < 1 + (1 + chance(1 / 10)); i++) {\n        this.pipes.push(new Pipe(this.nodes, this.scene));\n      }\n    }\n    for (let i = 0; i < 3; i++) {\n      if (this.vines[i]) this.vines[i].position.y = -10 -i*5+ Math.sin(new Date().getTime()/1000);\n    }\n\n    if (this.controls) this.controls.update();\n    this.effect.render( this.scene, this.camera);\n    this.requestID = window.requestAnimationFrame(this.startAnimationLoop);\n\n  };\n\n\n  reset = () => {\n    // const {pipes} = this.state;\n    this.renderer.clear();\n    for (var i = 0; i < this.pipes.length; i++) {\n      this.scene.remove(this.pipes[i].object3d);\n    }\n    this.pipes = [];\n    this.nodes = {};\n    this.look();\n  }\n\n  addLight = (...pos) => {\n    const color = 0xFFFFFF;\n    const intensity = 1;\n    const light = new THREE.DirectionalLight(color, intensity);\n    light.position.set(...pos);\n    this.scene.add(light);\n  }\n\n  addScreenCube = (video, pW, pH, fac, pos, rot, boxLen) => {\n    var videoTex = new THREE.VideoTexture( video );\n    pW *= fac;\n    pH  *= fac;\n\n    video.play();\n    videoTex.minFilter = THREE.LinearFilter;\n    videoTex.magFilter = THREE.LinearFilter;\n    videoTex.format = THREE.RGBFormat;\n    var geometry = new THREE.PlaneGeometry(pW, pH, 1 );\n    var material = new THREE.MeshBasicMaterial( {color: 0xffff00, side: THREE.DoubleSide, map: videoTex} );\n    var plane = new THREE.Mesh( geometry, material );\n    plane.position.set(...pos);\n    plane.rotation.set(...rot);\n    this.scene.add( plane );\n\n\n    var geometry = new THREE.BoxGeometry( pW, pH, boxLen );\n    var material = new THREE.MeshPhongMaterial( {color: 0x00aa00,  opacity: .3, transparent: true, side:THREE.DoubleSide} ); //\n    var cube = new THREE.Mesh( geometry, material );\n    cube.position.set(...pos);\n    cube.rotation.set(...rot);\n    this.scene.add( cube );\n\n    var geometry = new THREE.BoxBufferGeometry( pW, pH, boxLen );\n    var edges = new THREE.EdgesGeometry( geometry );\n    var line = new THREE.LineSegments( edges, new THREE.LineBasicMaterial( { color: 0x00ff00, linewidth: 24 } ) );\n    line.position.set(...pos);\n    line.rotation.set(...rot);\n    this.scene.add( line );\n  }\n\n  addWallPaper = () => {\n    const url = window.AWS+\"/jungleGyms/wallpaper3.jpg\";\n    var wall = new THREE.TextureLoader().load(  url );\n    wall.wrapS = THREE.RepeatWrapping;\n    wall.wrapT = THREE.RepeatWrapping;\n    wall.repeat.set( 4, 4 );\n    var geometry = new THREE.PlaneGeometry(200, 100, 1 );\n    var material = new THREE.MeshBasicMaterial( {color: 0xffff00, side: THREE.DoubleSide, map: wall} );\n    var plane = new THREE.Mesh( geometry, material );\n    plane.position.set(0, 0, -14);\n    // scene.add( plane );\n    this.scene.background = wall;\n  }\n\n  addVines = () => {\n    var self = this;\n    var modelPath = window.AWS + \"/jungleGyms/vines/\";\n    var model = \"Vines\";\n    var onProgress = function ( xhr ) {\n      if ( xhr.lengthComputable ) {\n        var percentComplete = xhr.loaded / xhr.total * 100;\n        console.log( Math.round( percentComplete, 2 ) + '% downloaded' );\n      }\n    }\n    var onError = function () { };\n    var manager = new THREE.LoadingManager();\n    manager.addHandler( /\\.dds$/i, new DDSLoader() );\n    new MTLLoader( manager )\n    .setPath( modelPath )\n    .load( model + '.mtl', function ( materials ) {\n\n      materials.preload();\n\n      new OBJLoader( manager )\n      .setMaterials( materials )\n      .setPath( modelPath )\n      .load( model + '.obj', function ( vine ) {\n        vine.rotation.set(0, Math.PI, 0);\n        vine.position.set(-10, -10, -10);\n        vine.scale.set(5, 5, 5);\n        self.vines.push(vine);\n\n        var newVine = vine.clone();\n        newVine.position.set(0, -15, 0);\n        vine.rotation.set(0, 0,0);\n        self.vines.push(newVine);\n\n        var newVine2 = vine.clone();\n        newVine2.rotation.set(0, -Math.PI/2, 0);\n        self.vines.push(newVine2);\n        self.scene.add( vine );\n        self.scene.add(newVine);\n        self.scene.add(newVine2);\n\n      }, onProgress, onError );\n\n    } );\n\n    //\n  }\n\n  look = () => {\n    // TODO: never don't change the view (except maybe while clearing)\n    if (this.state.firstLoad || chance(1 / 2)) {\n      // head-on view\n\n      this.camera.position.set(0, 0, 14);\n      this.setState({firstLoad: false});\n    } else {\n      // random view\n\n      var vector = new THREE.Vector3(30, 0, 0);\n\n      var axis = new THREE.Vector3(random(-1, 1), random(-1, 1), random(-1, 1));\n      var angle = Math.PI / 2;\n      var matrix = new THREE.Matrix4().makeRotationAxis(axis, angle);\n\n      vector.applyMatrix4(matrix);\n      this.camera.position.copy(vector);\n    }\n    // camera.position.set(0, 0, 14);\n    var center = new THREE.Vector3(0, 0, 0);\n    this.camera.lookAt(center);\n    // camera.updateProjectionMatrix(); // maybe?\n    this.controls.update();\n  }\n\n  render() {\n    const gymUrl = window.AWS+\"/jungleGyms/gym.mp4\"\n    return (\n      <div className=\"JungleGyms Sketch\">\n        <div className=\"threeCanvas\" ref={ref => (this.mount = ref)} />\n        <video crossOrigin=\"anonymous\" ref={ref => (this.videoGym = ref)} autoPlay muted loop className=\"gym\" >\n          <source src={gymUrl} type=\"video/mp4\" ></source>\n          Your browser does not support HTML5 video.\n        </video>\n        <video crossOrigin=\"anonymous\" ref={ref => (this.videoSwings = ref)} autoPlay muted loop className=\"gym\" >\n          <source src={window.AWS+\"/jungleGyms/swings.mp4\"} type=\"video/mp4\" ></source>\n          Your browser does not support HTML5 video.\n        </video>\n\n        <Glasses />\n      </div>\n    )\n  }\n}\n\nfunction random(x1, x2) {\n  return Math.random() * (x2 - x1) + x1;\n}\nfunction chance(value) {\n  return Math.random() < value;\n}\n\nfunction shuffleArrayInPlace(array) {\n  for (var i = array.length - 1; i > 0; i--) {\n    var j = Math.floor(Math.random() * (i + 1));\n    var temp = array[i];\n    array[i] = array[j];\n    array[j] = temp;\n  }\n}\n\nfunction showElementsIf(selector, condition) {\n  Array.from(document.querySelectorAll(selector)).forEach(function(el) {\n    if (condition) {\n      el.removeAttribute(\"hidden\");\n    } else {\n      el.setAttribute(\"hidden\", \"hidden\");\n    }\n  });\n}\n\nfunction getFrame(dimW, dimH, dimX, dimY, tit, vid) {\n  return (\n    <Frame title={tit} content={\n        <ReactPlayer\n          className={\"react-player gym\"}\n          playing\n          muted\n          loop\n          width={Math.floor(dimW) + \"px\"}\n          height={Math.floor(dimH+1) + \"px\"}\n          url={vid}\n          />\n      }\n      width={dimW+2} height={dimH} x={dimX} y={dimY}\n      />\n  )\n}\n\nexport default JungleGyms;\n","import React from 'react';\nimport \"./HardDrives.css\";\n\nimport { AnaglyphUniversalCamera, HemisphericLight, Axis, Effect, PostProcess, Space, MeshBuilder, Vector3, Vector2, AssetContainer, SceneLoader, StandardMaterial, CubeTexture, Color3, Mesh, Texture } from 'babylonjs';\nimport BabylonScene from '../../shared/Babylon.jsx'; // import the component above linking to file we just created.\nimport { WaterMaterial } from 'babylonjs-materials';\nimport 'babylonjs-loaders';\n\nimport Frame from '../../shared/Frame/Frame';\nimport Glasses from '../../shared/Glasses/Glasses';\n\nimport Birds from './Birds';\n\nimport socket from '../../shared/Socket/Socket';\n\n// palm https://poly.google.com/view/ficLBIjGliK\n\nvar trees = [];\nvar bottles = [];\nvar camera;\nvar water;\n\nvar start;\nvar changed = false;\n\nvar scaler = 4;\nvar seed = 13;\n\nclass HardDrives extends React.Component {\n\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      island : \"https://www.google.com/maps/embed?pb=!4v1591730465198!6m8!1m7!1sCAoSLEFGMVFpcFBTYW9SYVFBMmR0QjhoeTVaSUs5R3lQaGJBNVB5dVhFQ2o0UVdW!2m2!1d-17.3611139!2d177.1339841!3f99.14217177224654!4f16.212409154729073!5f0.5970117501821992\",\n      windowWidth: window.innerWidth,\n      windowHeight: window.innerHeight,\n      urlIndex: 0,\n\n    }\n\n    this.svFrame = {};\n    const f = .8;\n    this.svFrame.w = 600*f;\n    this.svFrame.h = 450*.8*f;\n    this.svFrame.x = (window.innerWidth - this.svFrame.w)*.3;\n    this.svFrame.y = (window.innerHeight - this.svFrame.h-30)*.4;\n\n    this.controller = {};\n    this.controller.w = 250;// 350;\n    this.controller.h = 60;\n    // let bottomRemaining = window.innerHeight - (this.svFrame.y + this.svFrame.h);\n    this.controller.y = this.svFrame.h + this.svFrame.y + 30; //this.svFrame.y + this.svFrame.h + (bottomRemaining-(this.controller.h+20))/2;\n    this.controller.x =  (window.innerWidth - this.controller.w)/2;\n\n    this.onRender = this.onRender.bind(this);\n\n  }\n\n\n  componentDidMount() {\n    this.updateDimensions();\n\n    window.addEventListener(\"resize\", this.updateDimensions.bind(this));\n    this.props.userSetRoom(\"hard-drives\");\n\n\n    // console.log(\"Thanks to Jarlan Perez for the lime: https://poly.google.com/view/4Ddq9357jQ-\");\n    console.log(\"https://poly.google.com/view/3NwnG7YRk7A\")\n    console.log(\"Thanks to Slanted Studios for the bird gif: https://giphy.com/media/l3Uchq9s6Hx0aK8F2/giphy.gif\");\n  }\n\n  componentWillUnmount() {\n    window.removeEventListener(\"resize\", this.updateDimensions.bind(this));\n    this.props.userLeaveRoom(\"hard-drives\");\n  }\n\n  updateDimensions() {\n    this.setState({ windowWidth: window.innerWidth, windowHeight: window.innerHeight });\n  }\n\n  onSceneReady(scene) {\n    start = new Date();\n    // const camera = new UniversalCamera(\"UniversalCamera\", new Vector3(0, 1, -25), scene);\n    camera = new AnaglyphUniversalCamera(\"af_cam\", new Vector3(0, 8*scaler, -5*scaler), 0.033, scene);\n    scene.clearColor = Color3.Black();\n    camera.setTarget(new Vector3(0, 8*scaler, 0));\n\n    const canvas = scene.getEngine().getRenderingCanvas();\n    camera.attachControl(canvas, true);\n    // camera.inputs.clear();\n    // camera.inputs.removeMouse();\n    camera.inputs.removeByType(\"FreeCameraKeyboardMoveInput\");\n\n    const light = new HemisphericLight(\"light1\", new Vector3(0, 1, 0), scene);\n    light.intensity = 1.7;\n\n\n    ///////////////////////////////////////////////////////////////////////////////\n    addPalms(scene);\n\n    // Ground\n    var groundTexture = new Texture(window.AWS+\"/shared/black_sand.jpg\", scene);\n    groundTexture.vScale = groundTexture.uScale = 20.0;\n\n    var groundMaterial = new StandardMaterial(\"groundMaterial\", scene);\n    groundMaterial.diffuseTexture = groundTexture;\n\n    var ground = Mesh.CreateGround(\"ground\", 512, 512, 32, scene, false);\n    ground.position.y = -1;\n    ground.rotation.y = Math.PI/2;\n    ground.material = groundMaterial;\n\n    // Water\n    var waterMesh = Mesh.CreateGround(\"waterMesh\", 512*scaler, 512*scaler, 32, scene, false);\n    water = new WaterMaterial(\"water\", scene, new Vector2(1024, 1024));\n    water.backFaceCulling = true;\n    water.bumpTexture = new Texture(window.AWS+\"/shared/waterbump.png\", scene);\n    water.windForce = -5;\n    water.waveHeight = 0.8;\n    water.bumpHeight = 0.3;\n    water.waveLength = 0.3;\n    // water.colorBlendFactor = 0;\n    water.waterColor = new Color3(0, 0, .1);\n    water.colorBlendFactor = 0;\n    water.addToRenderList(ground);\n    // water.addToRenderList();\n\n    waterMesh.material = water;\n\n    addSkybox(scene);\n\n    addBottles(scene, water);\n\n  }\n\n\n  onRender(scene) {\n\n    for (let i = 0; i < trees.length; i++) {\n      var sign = i % 2=== 0 ? 1 : -1;\n      trees[i].rotation.y += .005 * sign;\n    }\n\n    let t = new Date();\n    if (!changed && t - start > 5000) {\n      // onInsta();\n      changed = true;\n    }\n\n    let divFps = document.getElementById(\"fps\");\n    if(divFps) divFps.innerHTML = scene.getEngine().getFps().toFixed() + \" fps\";\n  }\n\n  nextIsland() {\n    let islandIndex = this.state.urlIndex;\n    islandIndex++;\n    islandIndex %= this.beaches.length;\n    console.log(\"beaches\", this.beaches[islandIndex], islandIndex)\n    this.setState({urlIndex: islandIndex, island: this.beaches[islandIndex]});\n  }\n\n  render() {\n    return (\n      <div className=\"HardDrives Sketch\">\n        <BabylonScene antialias onSceneReady={this.onSceneReady} onRender={this.onRender} id='babylon-canvas' />\n\n        <Frame title=\"hard drives on seashores\" content={\n            <iframe title=\"island view\" src={this.state.island} width={this.svFrame.w} height={this.svFrame.h} frameBorder=\"0\" allowFullScreen=\"\" aria-hidden=\"false\" tabIndex=\"0\"></iframe>\n          }\n          width={this.svFrame.w} height={this.svFrame.h} x={this.svFrame.x} y={this.svFrame.y}\n          />\n        <Birds />\n        <Glasses />\n      </div>\n    )\n  }\n\n}\n\nfunction addSkybox(scene) {\n  // Skybox\n  var skybox;\n  skybox = Mesh.CreateBox(\"skyBox\", 1000.0, scene);\n  var skyboxMaterial = new StandardMaterial(\"skyBox\", scene);\n  skyboxMaterial.backFaceCulling = false;\n  // skyboxMaterial.reflectionTexture = new CubeTexture(process.env.PUBLIC_URL+\"/textures/skybox/TropicalSunnyDay\", scene);\n  skyboxMaterial.reflectionTexture = new CubeTexture(window.AWS+\"/hardDrives/skybox/skybox\", scene);\n  skyboxMaterial.reflectionTexture.coordinatesMode = Texture.SKYBOX_MODE;\n  skyboxMaterial.diffuseColor = new Color3(0, 0, 0);\n  skyboxMaterial.specularColor = new Color3(0, 0, 0);\n  skyboxMaterial.disableLighting = true;\n  skybox.material = skyboxMaterial;\n  if (skybox) water.addToRenderList(skybox);\n  // var dome = new PhotoDome(\"textureName\", process.env.PUBLIC_URL+\"/textures/skybox/sky-10.png\", {resolution: 32, size: 1000}, scene);\n\n}\nfunction printBottles(bottles) {\n  let bots = [];\n  for (let i = 0; i< bottles.length; i++) {\n    let bottle = bottles[i];\n    let {x, y, z} = bottle.position;\n    let pos = {x: x, y:y, z: z};\n\n    let rot ={x: bottle.rotation.x, y:bottle.rotation.y, z: bottle.rotation.z};\n    bots.push({id: i, pos:  pos, rot: rot});\n  }\n  console.log(JSON.stringify(bots));\n}\n\nfunction getRandom() {\n  var x = Math.sin(seed++) * 10000;\n  return x - Math.floor(x);\n}\nfunction getRandomNum(val) {\n  var x = Math.sin(val) * 10000;\n  return x - Math.floor(x);\n}\n\nfunction addBottles(scene, water) {\n  // var container = new AssetContainer(scene);\n  var url = window.AWS + \"/hardDrives/Corona/\"\n  SceneLoader.LoadAssetContainer(url, \"Corona2.obj\", scene, function (container) {\n    var meshes = container.meshes;\n    // var materials = container.materials;\n\n    // console.log(\"meshes\", meshes);\n\n    var bottle = meshes[1];\n    var diam = 280;\n    // bottle.rotation.y = Math.random()*Math.PI*2;\n    // bottle.rotation.x = Math.PI;\n    // bottle.rotation.z = (-.3+Math.random()*.6);\n    // bottle.position.y = 2//Math.abs((Math.sin(((x / 0.05) + time * water.waveSpeed)) * water.waveHeight * water.windDirection.x * 5.0) + (Math.cos(((z / 0.05) +  time * water.waveSpeed)) * water.waveHeight * water.windDirection.y * 5.0));\n    // bottle.position.x = Math.random()*diam-diam/2;\n    // bottle.position.z = Math.random()*diam-diam/2;\n    // bottle.scaling = new Vector3(.15, .15, .15);\n    // bottles.push(bottle);\n\n    container.addAllToScene();  // Adds all elements to the scene\n    water.addToRenderList(bottle);\n\n    let bottleVectors = [\n      {},\n      {\"id\":0,\"pos\":{\"x\":88,\"y\":0,\"z\":128},\"rot\":{\"x\":0,\"y\":0,\"z\":0}},\n      {\"id\":1,\"pos\":{\"x\":38,\"y\":0,\"z\":78},\"rot\":{\"x\":0,\"y\":0,\"z\":0}},\n      {\"id\":2,\"pos\":{\"x\":68,\"y\":0,\"z\":108},\"rot\":{\"x\":0,\"y\":0,\"z\":0}},\n      {\"id\":3,\"pos\":{\"x\":0,\"y\":0,\"z\":108},\"rot\":{\"x\":0,\"y\":0,\"z\":0}},\n      {\"id\":4,\"pos\":{\"x\":-88,\"y\":0,\"z\":98},\"rot\":{\"x\":0,\"y\":0,\"z\":0}},\n      {\"id\":5,\"pos\":{\"x\":-78,\"y\":0,\"z\":68},\"rot\":{\"x\":0,\"y\":0,\"z\":0}},\n      {\"id\":6,\"pos\":{\"x\":3,\"y\":0,\"z\":148},\"rot\":{\"x\":0,\"y\":0,\"z\":0}},\n      {\"id\":7,\"pos\":{\"x\":4,\"y\":0,\"z\":28},\"rot\":{\"x\":0,\"y\":0,\"z\":0}},\n      {\"id\":8,\"pos\":{\"x\":-40,\"y\":0,\"z\":-98},\"rot\":{\"x\":0,\"y\":0,\"z\":0}}, // back\n      {\"id\":8,\"pos\":{\"x\":-70,\"y\":0,\"z\":98},\"rot\":{\"x\":0,\"y\":0,\"z\":0}},\n\n      // back (repeat)\n      {\"id\":0,\"pos\":{\"x\":88,\"y\":0,\"z\":-128},\"rot\":{\"x\":0,\"y\":0,\"z\":0}},\n      {\"id\":1,\"pos\":{\"x\":38,\"y\":0,\"z\":-78},\"rot\":{\"x\":0,\"y\":0,\"z\":0}},\n      {\"id\":2,\"pos\":{\"x\":68,\"y\":0,\"z\":-108},\"rot\":{\"x\":0,\"y\":0,\"z\":0}},\n      {\"id\":3,\"pos\":{\"x\":0,\"y\":0,\"z\":-108},\"rot\":{\"x\":0,\"y\":0,\"z\":0}},\n      {\"id\":4,\"pos\":{\"x\":-88,\"y\":0,\"z\":-98},\"rot\":{\"x\":0,\"y\":0,\"z\":0}},\n      {\"id\":5,\"pos\":{\"x\":-78,\"y\":0,\"z\":-68},\"rot\":{\"x\":0,\"y\":0,\"z\":0}},\n      {\"id\":6,\"pos\":{\"x\":3,\"y\":0,\"z\":-148},\"rot\":{\"x\":0,\"y\":0,\"z\":0}},\n\n\n      // left\n      {\"id\":0,\"pos\":{\"x\":188,\"y\":0,\"z\":48},\"rot\":{\"x\":0,\"y\":0,\"z\":0}},\n      {\"id\":1,\"pos\":{\"x\":138,\"y\":0,\"z\":28},\"rot\":{\"x\":0,\"y\":0,\"z\":0}},\n      {\"id\":2,\"pos\":{\"x\":168,\"y\":0,\"z\":0},\"rot\":{\"x\":0,\"y\":0,\"z\":0}},\n      {\"id\":3,\"pos\":{\"x\":100,\"y\":0,\"z\":-20},\"rot\":{\"x\":0,\"y\":0,\"z\":0}},\n\n\n      // right\n      {\"id\":0,\"pos\":{\"x\":-188,\"y\":0,\"z\":30},\"rot\":{\"x\":0,\"y\":0,\"z\":0}},\n      {\"id\":1,\"pos\":{\"x\":-138,\"y\":0,\"z\":20},\"rot\":{\"x\":0,\"y\":0,\"z\":0}},\n      {\"id\":2,\"pos\":{\"x\":-168,\"y\":0,\"z\":0},\"rot\":{\"x\":0,\"y\":0,\"z\":0}},\n      {\"id\":3,\"pos\":{\"x\":-100,\"y\":0,\"z\":-18},\"rot\":{\"x\":0,\"y\":0,\"z\":0}},\n    ]\n\n\n\n\n\n    for (let i = 1; i < bottleVectors.length; i++) {\n      let copy = container.instantiateModelsToScene().rootNodes[0];\n      copy.rotation.y = getRandom()*Math.PI*2;\n      copy.rotation.x = Math.PI;\n      copy.rotation.z = (-.3+getRandom()*.6);\n      copy.position.y = 2; //Math.abs((Math.sin(((x / 0.05) + time * water.waveSpeed)) * water.waveHeight * water.windDirection.x * 5.0) + (Math.cos(((z / 0.05) +  time * water.waveSpeed)) * water.waveHeight * water.windDirection.y * 5.0));\n      // copy.position.x = getRandom()*diam-diam/2;\n      // copy.position.z = getRandom()*diam-diam/2;\n\n      // copy.rotation.x = bottleVectors[i].rot.x;\n      // copy.rotation.y = bottleVectors[i].rot.y;\n      // copy.rotation.z = bottleVectors[i].rot.z;\n      copy.position.x = bottleVectors[i].pos.x;\n      // copy.position.y = bottleVectors[i].pos.y;\n      copy.position.z = bottleVectors[i].pos.z;\n\n      bottles.push(copy);\n      water.addToRenderList(copy);\n    }\n\n    // printBottles(bottles);\n  });\n\n}\n\nfunction addPalms(scene) {\n  var container = new AssetContainer(scene);\n  var url = window.AWS + \"/hardDrives/palm/\";\n  SceneLoader.LoadAssetContainer(url, \"QueenPalmTree.obj\", scene, function (container) {\n    var meshes = container.meshes;\n\n    let positions = [{x: -5, y: 0, z: -2},{x: 5, y: 0, z: -2}, {x: 4, y: 0, z: -10}, {x: -4, y: 0, z: -10}]\n\n    meshes[1].rotation.y = 0;\n    meshes[1].scaling = new Vector3(scaler, scaler, scaler);\n    meshes[1].position.x = positions[0].x*scaler;\n    meshes[1].position.y = positions[0].y*scaler;\n    meshes[1].position.z = positions[0].z*scaler;\n\n    trees.push(meshes[1]);\n\n    container.addAllToScene();  // Adds all elements to the scene\n    water.addToRenderList(trees[0]);\n\n    for (let i = 1; i < positions.length; i++) {\n      let copy = container.instantiateModelsToScene().rootNodes[1];\n      copy.rotation.y = Math.PI*1.5;\n      copy.position.x = positions[i].x*scaler;\n      copy.position.z = positions[i].z*scaler;\n      trees.push(copy);\n      water.addToRenderList(copy);\n    }\n\n  });\n\n}\n\n\nexport default HardDrives;\n","import React from 'react';\nimport FrameSimple from '../../shared/Frame/FrameSimple';\n\nclass Birds extends React.Component {\n\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      birdInitialsX: [],\n      birdInitialsY: [],\n      numVisibleBirds : 4,\n      flyIndex: 0,\n      flyDirection: true\n    }\n  }\n\n  componentDidMount() {\n    this.initBirds();\n    this.interval = setInterval(this.updateBirds, 50);\n  }\n\n  componentWillUnmount() {\n    clearInterval(this.interval);\n  }\n\n  render() {\n    return (\n      <div className=\"birds\">\n        {this.state.birdInitialsX.map((pos, index) => {\n          return (this.getBird(index))\n        })}\n      </div>\n    )\n  }\n\n  initBirds = () => {\n    let birds = [];\n    let xSpace = 100;\n    let ySpace = 80;\n    // let num = Math.floor(4*Math.random()+2);\n    // let d =  Math.random();\n    const dir = true;\n    const birdInitialsX = [];\n    const birdInitialsY = [];\n    const num = 5;\n    for (var i = 0; i < num; i++) {\n      let mid = num/2;\n\n      let dx = i * xSpace + Math.random()*30;\n      if (i >= mid) dx = (num - i) * xSpace + Math.random()*30;\n      if (num%2 == 0 && i>= mid) dx += xSpace/2;\n\n      let dy = i * ySpace + Math.random()*10;\n\n      let x0 = dx-300;\n      let y0 = dy;\n      birdInitialsX[i] = x0;\n      birdInitialsY[i] = y0;\n    }\n    this.setState({birdInitialsX, birdInitialsY, flyDirection: dir});\n  }\n\n  updateBirds = () => {\n    const maxW = this.state.windowWidth+600;\n    const {flyIndex, flyDirection} = this.state;\n    if (flyIndex > maxW) {\n      this.setState(prevState => ({\n        flyDirection: Math.random()>.5?true:false,\n        flyIndex: 0,\n        numVisibleBirds: Math.floor(4*Math.random()+2)\n      }));\n    }\n    else {\n      const inc = 5;\n      this.setState({flyIndex: this.state.flyIndex+inc});\n    }\n  }\n\n  getBird = (index) => {\n    const bird = this.getBirdLocation(index);\n    return (\n      <FrameSimple title=\"\" content={\n          <div className={\"bird \" + (this.state.flyDirection?\"flippedX\":\"\")}></div>\n        }\n        width={78+2} key={index} windowStyle={{background: \"transparent\"}} height={60} px={bird.x} py={bird.y}\n        />\n    )\n  }\n\n  getBirdLocation = (index) => {\n    const {numVisibleBirds, flyIndex, flyDirection, birdInitialsX, birdInitialsY, windowWidth} = this.state;\n    const bird = {};\n    if (index < numVisibleBirds) {\n      if (flyDirection) {\n        bird.x = flyIndex + birdInitialsX[index];\n        bird.y = birdInitialsY[index]+50*Math.sin(bird.x/100);\n        bird.y = Math.floor(bird.y);\n      } else {\n        bird.x = (windowWidth+100) - (flyIndex + birdInitialsX[index]);\n        bird.y = birdInitialsY[index]+50*Math.sin(bird.x/100);\n        bird.y = Math.floor(bird.y);\n      }\n    }\n    else {\n      bird.x = -1000;\n      bird.y = -1000;\n    }\n    return bird;\n  }\n\n\n}\n\nexport default Birds;\n","import React from 'react';\nimport Frame from '../../shared/Frame/Frame';\n// import FrameSimple from '../../shared/Frame/FrameSimple';\nimport './Spacetimes.css';\n\n\nclass Spacetimes extends React.Component {\n  // https://codepen.io/JohJakob/pen/YPxgwo\n  constructor(props) {\n    super(props);\n\n    this.startTime = 0;\n\n    this.state = {\n      currentFrame : 14,\n      increasing: true,\n      windowWidth: window.innerWidth,\n      windowHeight: window.innerHeight,\n      currentText: \"wasted\"\n    }\n\n    this.gridNum = 8;\n    this.setFrame = this.setFrame.bind(this);\n    this.setText = this.setText.bind(this);\n    this.heightBuffer = 70;\n\n\n    this.words = [\"wasted\", \"days\", \"are\", \"days\", \"wasted\"];\n\n  }\n\n\n  componentDidMount() {\n    this.updateDimensions();\n    this.startTime = new Date();\n    window.addEventListener(\"resize\", this.updateDimensions.bind(this));\n\n    this.intervalFrames = setInterval(this.setFrame, 200);\n\n    this.props.userSetRoom(\"wasted-days\");\n  }\n\n  componentWillUnmount() {\n    window.removeEventListener(\"resize\", this.updateDimensions.bind(this));\n    clearInterval(this.intervalFrames);\n    this.props.userLeaveRoom(\"wasted-days\");\n  }\n\n  updateDimensions() {\n    this.setState({ windowWidth: window.innerWidth, windowHeight: window.innerHeight });\n  }\n\n  setText() {\n\n    var wordIndex = Math.floor((this.state.currentFrame+1)/2);\n    if (wordIndex >= this.words.length) wordIndex = this.words.length-1;\n    else if(wordIndex < 0) wordIndex = 0;\n    var word = this.words[wordIndex];\n    if (word) word = word.toUpperCase();\n    this.setState({currentText : word});\n  }\n\n  setFrame() {\n    // if (new Date() - this.startTime > 4000) {\n    //   let r =  Math.floor(Math.random()*8);\n    //   this.setState({currentFrame: r});\n    //   console.log(r);\n    // }\n    // else {\n    var fr = this.state.currentFrame;\n    if (this.state.increasing) {\n      fr++;\n      if (fr > this.gridNum) {\n        fr = this.gridNum;\n        this.setState({increasing: false});\n      }\n    } else {\n      fr--;\n      if (fr < -2) {\n        fr = -1;\n        this.setState({increasing: true});\n      }\n    }\n    this.setState({currentFrame: fr});\n    this.setText();\n    // }\n\n  }\n\n  render() {\n    const {windowWidth, windowHeight} = this.state;\n    var fs = windowWidth/10;\n    if (fs > 180) fs = 180;\n\n    var grids = [];\n    for (var i = 0; i < this.gridNum; i++) {\n      grids.push(i);\n    }\n\n    return (\n      <div className=\"Spacetimes Sketch\">\n        { <div className=\"palindrome\" style={{visibility: \"visible\", fontSize: fs}}>{this.state.currentText}</div>}\n\n\n          {grids.map((i) => {\n            let factor = windowWidth/1000;\n            if (factor > 1) factor = 1;\n            else if (factor < .8) factor = .5;\n            const val = (980 - 100*i)*factor;\n            const x = windowWidth/2-val/2;\n            const y = (windowHeight-this.heightBuffer)/2-val/2;\n            let title = this.words[(7-i)%(this.words.length-1)];\n\n            // console.log(windowHeight, y, val);\n            if (val < 150) title = \"...\";\n\n            return (<GridFrame title={title} isMinimized={false} isHidden={this.state.currentFrame < i ? true : false}\n              dimW={val} dimH={val} key={i} src={ window.AWS+\"/spacetimes/parrot.png\"} dimX={x} dimY={y} />);\n\n            }\n\n          )}\n      </div>\n    );\n  }\n\n}\n\nfunction GridFrame(props) {\n  // if (props.dimX <= 0) {\n  //   return (<div></div>)\n  // }\n  return (\n    <Frame title={props.title}\n      isMinimized={props.isMinimized}\n      isHidden={props.isHidden}\n      content={\n        <img\n          className={\"grid-img\"}\n          width={props.dimW+\"px\"}\n          height={props.dimW+\"px\"}\n          src={props.src}\n          alt=\"3d grid background\"\n          />\n      }\n      width={props.dimW} height={props.dimW} x={props.dimX} y={props.dimY}\n      />\n  )\n\n}\n\n\n\nexport default Spacetimes;\n","import React from 'react';\nimport \"./Mars.css\";\nimport Frame from '../../shared/Frame/Frame';\n\n// Babylon\nimport { Scene, AnaglyphUniversalCamera, UniversalCamera,PBRMaterial, HemisphericLight, Vector3, Vector2, SceneLoader,AssetContainer, MeshBuilder, StandardMaterial,  VideoTexture, CubeTexture, Color3,Color4, Mesh, Texture } from 'babylonjs';\nimport BabylonScene from '../../shared/Babylon.jsx';\nimport { WaterMaterial } from 'babylonjs-materials';\n\nimport Slider from '@material-ui/core/Slider';\nimport Radio from '@material-ui/core/Radio';\nimport RadioGroup from '@material-ui/core/RadioGroup';\nimport FormControlLabel from '@material-ui/core/FormControlLabel';\nimport FormControl from '@material-ui/core/FormControl';\nimport FormLabel from '@material-ui/core/FormLabel';\n\nimport {getRandomNum} from '../../shared/Helpers/Helpers';\n\n\n// import poolVid0 from './assets/pool/mars_0.mp4';\n// import poolVid1 from './assets/pool/mars_1.mp4';\n// import poolVid2 from './assets/pool/mars_2.mp4';\n// import poolVid3 from './assets/pool/mars_3.mp4';\n// Other components\n// import Frame from '../../Universal/Frame/Frame';\n// import FrameSimple from '../../Universal/Frame/FrameSimple';\n\n// Material UI\n// import { makeStyles } from '@material-ui/core/styles';\n// import Grid from '@material-ui/core/Grid';\n// import TextField from '@material-ui/core/TextField';\n// import Button from '@material-ui/core/Button';\n\nimport Glasses from '../../shared/Glasses/Glasses';\n\n// https://media.giphy.com/media/3oEdv9ViYMxVPngmCA/source.gif\n// import bubbles from './assets/Canned/bubbles3.gif';\n\nvar camera, water, waterMesh;\nvar tubes = [];\nvar seed = 1;\n\nclass Mars extends React.Component {\n\n  constructor(props) {\n    super(props);\n\n    this.poolVid0 = window.AWS+\"/mars/pool/mars_0.mp4\"\n    this.poolVid1 = window.AWS+\"/mars/pool/mars_1.mp4\"\n    this.poolVid2 = window.AWS+\"/mars/pool/mars_2.mp4\"\n    this.poolVid3 = window.AWS+\"/mars/pool/mars_3.mp4\"\n\n    this.state = {\n      windowWidth: window.innerWidth,\n      windowHeight: window.innerHeight,\n      chairY: 0,\n      radioValue: \"5ft\",\n      poolVid: this.poolVid1,\n      swimmerPos: [{y:3, dir:1}, {y:2, dir:-1}]\n    }\n\n    this.buttonClick = this.buttonClick.bind(this);\n    this.chairUpdate = this.chairUpdate.bind(this);\n    this.handleRadioChange = this.handleRadioChange.bind(this);\n\n    this.getSwimmerLanes = this.getSwimmerLanes.bind(this);\n    this.changeSwimLane = this.changeSwimLane.bind(this);\n\n    this.numSwimmers = 8;\n\n  }\n\n\n  componentDidMount() {\n    // this.updateDimensions();\n    // window.addEventListener(\"resize\", this.updateDimensions.bind(this));\n    this.chairInterval = setInterval(this.chairUpdate, 50);\n    this.swimInterval = setInterval(this.changeSwimLane, 400);\n\n    this.props.addClass(\"overflow-all\");\n    this.props.userSetRoom(\"esc-to-mars\");\n  }\n\n  componentWillUnmount() {\n    // window.removeEventListener(\"resize\", this.updateDimensions.bind(this));\n    clearInterval(this.chairInterval);\n    clearInterval(this.swimInterval);\n    this.props.userLeaveRoom(\"esc-to-mars\");\n  }\n\n  // updateDimensions() {\n  //   this.setState({ windowWidth: window.innerWidth, windowHeight: window.innerHeight });\n  // }\n\n  chairUpdate() {\n    this.setState({chairY: this.state.chairY+2});\n  }\n\n\n  onSceneReady(scene) {\n    // const camera = new UniversalCamera(\"UniversalCamera\", new Vector3(0, 1, -25), scene);\n    camera = new AnaglyphUniversalCamera(\"af_cam\", new Vector3(0, 8, -5), 0.033, scene);\n    scene.clearColor = new Color4(0, 0, 0, 0);\n    camera.setTarget(new Vector3(4, -8, -2));\n\n    const canvas = scene.getEngine().getRenderingCanvas();\n    camera.attachControl(canvas, true);\n\n    const light = new HemisphericLight(\"light1\", new Vector3(0, 1, 0), scene);\n    light.intensity = 0.7;\n\n    // Skybox\n    var skyW = 1000;\n    var skybox = Mesh.CreateBox(\"skyBox\", skyW, scene);\n    var skyboxMaterial = new StandardMaterial(\"skyBox\", scene);\n    skyboxMaterial.backFaceCulling = false;\n    skyboxMaterial.reflectionTexture = new CubeTexture(window.AWS+\"/mars/skybox/grid\", scene);\n    skyboxMaterial.reflectionTexture.coordinatesMode = Texture.SKYBOX_MODE;\n    skyboxMaterial.diffuseColor = new Color3(0, 0, 0);\n    skyboxMaterial.specularColor = new Color3(0, 0, 0);\n    skyboxMaterial.disableLighting = true;\n    skybox.material = skyboxMaterial;\n\n    // Water\n    waterMesh = Mesh.CreateGround(\"waterMesh\", 512, 512, 32, scene, false);\n    waterMesh.position.y = -9;\n    water = new WaterMaterial(\"water\", scene, new Vector2(1024, 1024));\n    water.backFaceCulling = true;\n    water.bumpTexture = new Texture(window.AWS+\"/shared/waterbump.png\", scene);\n    waterGo();\n    water.colorBlendFactor = 0;\n    water.addToRenderList(skybox);\n    waterMesh.material = water;\n\n    // drain\n    // var drainTex = new BABYLON.Texture(window.AWS+\"/mars/drain1.png\", scene);\n    // addDrain(scene);\n    // loadWhale(scene);\n    // addInnerTubes(4, scene, water);\n    // addSwimmer(scene);\n  }\n\n\n  buttonClick(num) {\n    let vids = [this.poolVid0, this.poolVid1, this.poolVid2, this.poolVid3];\n    this.setState({poolVid: vids[num]});\n  }\n\n  onRender(scene) {\n    let divFps = document.getElementById(\"fps\");\n    if (divFps) divFps.innerHTML = scene.getEngine().getFps().toFixed() + \" fps\";\n  }\n\n  render() {\n    const toolbarH = 26;\n    const spacing = 25;\n\n    const dimensions = this.props.dimensions;\n\n    const startX = Math.max((window.innerWidth-1275)/2, 0);\n\n    const pool = {\n      x: startX,\n      h:  640,//Math.max(window.innerHeight-30-toolbarH-spacing*2, 500),\n      y: spacing,\n      w: 0\n    };\n    pool.w =  548/1080 * pool.h;\n\n    const chairs = {\n      w: 600,\n      h: 200,\n      x: pool.x + pool.w + spacing,\n      y: pool.y\n    };\n    const smallCrater = {\n      w: 300,\n      h: 300,\n      x: chairs.x + chairs.w + spacing,\n      y: pool.y\n    };\n    const bab = {\n      w: chairs.w,//500,\n      h: pool.h - chairs.h - spacing - toolbarH,\n      y: chairs.y + chairs.h + toolbarH + spacing,\n      x: pool.x + pool.w + spacing//chairs.x + chairs.w - 500\n    };\n    const board = {\n      w: 500,\n      h: 152,\n      x: smallCrater.x + smallCrater.w - 500,\n      y: pool.y + pool.h - 152\n    };\n    const umbrellas = {\n      w: 80,\n      h: 36*8.8,//bab.h,\n      x: bab.x + 30,//pool.x + pool.w + spacing,\n      y: bab.y + 50//chairs.y + chairs.h + toolbarH + spacing\n    };\n\n    // console.log(pool.w + chairs.w + smallCrater.w + spacing*2);\n\n    this.numSwimmers = Math.ceil(umbrellas.h/36.9);\n\n    // const umbrellas2 = {\n    //   w: umbrellas.w,\n    //   h: bab.h - umbrellas.h - spacing - toolbarH,\n    //   x: umbrellas.x,\n    //   y: umbrellas.y + umbrellas.h + toolbarH + spacing\n    // };\n\n    const tank ={\n      w: smallCrater.w,\n      h: pool.h-smallCrater.h - board.h-2*toolbarH-2*spacing,\n      x: smallCrater.x,\n      y: smallCrater.h + smallCrater.y + toolbarH + spacing\n    }\n\n\n    // const xStart = window.innerWidth-wPool-spacing*2;\n    // <div className=\"smallCrater\"></div>\n    let {chairY} = this.state;\n    // const chairStyle = {color: \"red\", backgroundPosition: `0px ${chairY}px`};\n    const chairStyle = {color: \"red\", backgroundPosition: `${chairY}px 0`};\n    return (\n      <div className=\"Mars Sketch\">\n      <Frame title=\"esc to mars\" content={\n        <div className=\"bigCrater\" style={{height: `${pool.h}px`, backgroundSize: `${pool.w}px ${pool.h}px`}}>\n        <video className=\"poolVid\" key={this.state.poolVid} style={{height: `${pool.h}px`, width: `${pool.w}px`}} autoPlay muted loop>\n        <source src={this.state.poolVid} type=\"video/mp4\" ></source>\n        Your browser does not support HTML5 video.\n        </video>\n        </div>\n      }\n      width={pool.w} height={pool.h} x={pool.x} y={pool.y}\n      />\n      <Frame title=\"\" content={\n        <div className=\"smallCrater\"><div className=\"bubbles\"><img src={window.AWS+\"/mars/bubbles3.gif\"} width={smallCrater.w} height={smallCrater.h} /></div></div>\n      }\n      width={smallCrater.w} height={smallCrater.h} x={smallCrater.x} y={smallCrater.y}\n      />\n      <Frame title=\"\" content={\n        <div className=\"tank\">\n        <button onClick={() => {this.buttonClick(3)}}><span className=\"swimSign\">0</span>ft</button>\n        <button onClick={() => {this.buttonClick(2)}}><span className=\"swimSign\">3</span>ft</button>\n        <button onClick={() => {this.buttonClick(1)}}><span className=\"swimSign\">5</span>ft</button>\n        <button onClick={() => {this.buttonClick(0)}}><span className=\"swimSign\">8</span>ft</button>\n        </div>\n      }\n      width={tank.w} height={tank.h} x={tank.x} y={tank.y}\n      />\n      <Frame title=\"\" content={<div className=\"blueChair\" style={chairStyle}></div>} width={chairs.w} height={chairs.h} x={chairs.x} y={chairs.y}  />\n      <Frame title=\"\" content={\n        <BabylonScene  className=\"noSelect fullContent\" antialias onSceneReady={this.onSceneReady} onRender={this.onRender} id='babylon-canvas' />\n      }\n      width={bab.w} height={bab.h} x={bab.x} y={bab.y}\n      />\n      <Frame title=\"\" content={\n        <div className=\"diving\"></div>\n      }\n      width={board.w} height={board.h} x={board.x} y={board.y}\n      />\n      <Frame title=\"\" content={\n        <div className=\"umbrellas\">\n        {this.getSwimmerLanes()}\n        <div className=\"waterCover\"></div>\n        </div>\n      }\n      width={umbrellas.w} height={umbrellas.h} windowStyle={{background: \"black\"}} x={umbrellas.x} y={umbrellas.y}\n      />\n      {/*<Frame title=\"\" content={\n        <div className=\"umbrellas2\"></div>\n      }\n      width={umbrellas2.w} height={umbrellas2.h} windowStyle={{background: \"white\"}} x={umbrellas2.x} y={umbrellas2.y}\n      />*/}\n      <Glasses />\n      </div>\n    )\n  }\n\n  changeSwimLane() {\n\n    const swimmerPos = [...this.state.swimmerPos];\n    for (let i = 0; i < swimmerPos.length; i++) {\n      const swimmer = {...swimmerPos[i]};\n      if (swimmer.dir === 1) {\n        swimmer.y++;\n        if (swimmer.y >= this.numSwimmers) {\n          swimmer.y = this.numSwimmers-1;\n          swimmer.dir = -1;\n        }\n      }\n      else {\n        swimmer.y--;\n        if (swimmer.y < 0) {\n          swimmer.y = 0;\n          swimmer.dir = 1;\n        }\n\n      }\n      swimmerPos[i] = swimmer;\n    }\n\n    this.setState({swimmerPos});\n  }\n\n  getSwimmerLanes() {\n    const {swimmerPos} = this.state;\n    const y0 = swimmerPos[0].y;\n    const dir0 = swimmerPos[0].dir;\n    const y1 = swimmerPos[1].y;\n    const dir1 = swimmerPos[1].dir;\n    const lanes = [];\n    for (let i = 0; i < this.numSwimmers; i++) {\n      lanes[i] = i;\n    }\n    return (\n      <div className=\"lanes\">\n      {lanes.map((i) => {\n        let lane0 = \"\";\n        let lane1 = \"\";//\n        let lane0Class =\"water\";\n        let lane1Class=\"water\";\n        if (i == y0) {\n          lane0=<img height={40} width={40} src={window.AWS+\"/mars/womanswim.png\"} />;\n          if (dir0 === 1) lane0Class=\"rot\";\n          else lane0Class=\"rotNeg90\";\n        }\n        if (i == y1) {\n          lane1=<img height={40} width={40} src={window.AWS+\"/mars/manswim.png\"} />;\n          if (dir1 === 1) lane1Class=\"rot90\";\n          else lane1Class=\"rotNeg90\";\n        }\n        return (\n          <div key={i} className=\"swimRow\"><span className={lane0Class} >{lane0}</span><span className={lane1Class} >{lane1}</span></div>\n        )\n      })}\n      </div>\n    )\n  }\n\n  getLabel(num) {\n    return <div><span className=\"swimSign\">{num}</span>ft</div>;\n  }\n\n  handleRadioChange(event) {\n    this.setState({radioValue: event.target.value});\n    console.log(event.target.value);\n  };\n}\n\nfunction waterGo() {\n  water.windForce = -5;\n  water.waveHeight = 0.8;\n  water.bumpHeight = 0.3;\n  water.waveLength = 0.3;\n}\n\nfunction waterStop() {\n  // water.windForce*=2;\n  water.waveHeight=0;\n  water.bumpHeight*=2;\n  // water.waveLength *=2;\n}\n\nfunction addSwimmer(scene) {\n  for (let i = 0; i < 2; i++) {\n    var scaler = 3;\n    var swimmer = MeshBuilder.CreatePlane(\"plane\", {}, scene);\n    // var disc = MeshBuilder.CreateSphere(\"sphere\", {}, scene);\n    swimmer.scaling = new Vector3(scaler, scaler, scaler);\n    swimmer.position.x = 11-i*6;\n    swimmer.position.y = -14;\n    swimmer.position.z = -4+i*4;\n    swimmer.rotation.x = Math.PI/2;\n    var tex = new Texture(window.AWS+\"/mars/swimmers/swimmer\" + (i+1) + \".png\", scene);\n    swimmer.material  = new StandardMaterial(\"myMaterial\", scene);\n    // swimmer.material.diffuseColor = new Color3(1,1,1);\n    swimmer.material.diffuseTexture = tex;\n    swimmer.material.diffuseTexture.hasAlpha = true;\n    // disc.material.ambientColor = new Color3(1,1,1);\n    water.addToRenderList(swimmer);\n  }\n\n}\n\nfunction addDrainBottom(scene) {\n\n  var disc = MeshBuilder.CreateDisc(\"disc\", scene);\n  var scaler = 8.5;\n  // var disc = MeshBuilder.CreateSphere(\"sphere\", {}, scene);\n  disc.scaling = new Vector3(scaler, scaler, scaler);\n  disc.position.x = 11;\n  disc.position.y = -14;\n  disc.position.z = -4;\n  disc.rotation.x = Math.PI/2;\n  disc.material  = new StandardMaterial(\"myMaterial\", scene);\n  disc.material.diffuseColor = new Color3(1,1,1);\n  // disc.material.ambientColor = new Color3(1,1,1);\n  water.addToRenderList(disc);\n}\n\nfunction loadWhale(scene) {\n  var container = new AssetContainer(scene);\n\n  var url = process.env.PUBLIC_URL + \"/assets/mars/Whale/\";\n  SceneLoader.LoadAssetContainer(url, \"Whale.glb\", scene, function (container) {\n    var meshes = container.meshes;\n    console.log(meshes);\n    var scaler = .5;\n    for (const mesh of meshes) {\n      mesh.scaling = new Vector3(scaler, scaler, scaler);\n      // mesh.position.x = positions[0].x*scaler;\n      mesh.position.y = -5;\n      var material = new StandardMaterial(\"whale\", scene);\n      material.diffuseColor = new Color3(0, 0, 1);\n      mesh.material = material;\n      //   mesh.position.z = positions[0].z*scaler;\n      water.addToRenderList(mesh);\n    }\n    // var mesh = meshes[1];\n\n    // water.addToRenderList(meshes[1]);\n\n    // }\n    container.addAllToScene();  // Adds all elements to the scene\n\n\n\n  });\n}\n\nfunction addDrain(scene) {\n  var container = new AssetContainer(scene);\n\n  var url = process.env.PUBLIC_URL + \"/assets/mars/Drain/\";\n  SceneLoader.LoadAssetContainer(url, \"FloorDrain.obj\", scene, function (container) {\n    var meshes = container.meshes;\n    var scaler = 4;\n    let positions = [{x: 2.5, y: -3, z: -1}];\n    // 9\n    for (var mesh of meshes) {\n      // var mesh = meshes[9];\n      mesh.rotation.y = 0;\n      mesh.scaling = new Vector3(scaler, scaler, scaler);\n      mesh.position.x = positions[0].x*scaler;\n      mesh.position.y = positions[0].y*scaler;\n      mesh.position.z = positions[0].z*scaler;\n      water.addToRenderList(mesh);\n    }\n\n    addDrainBottom(scene);\n    container.addAllToScene();  // Adds all elements to the scene\n\n\n\n  });\n\n\n}\n\nfunction addInnerTubes(num, scene, water) {\n  for (let i = 0; i < num; i++) {\n\n    var tubeMat = new StandardMaterial(\"groundMaterial\", scene);\n    tubeMat.diffuseColor = new Color3(getRandomNum(i+2), getRandomNum(i+3), getRandomNum(i+4));\n    tubeMat.specularColor = new Color3(0.5, 0.6, 0.87);\n    tubeMat.emissiveColor = new Color3(.1, .1, .1);\n    tubeMat.ambientColor = new Color3(0.23, 0.98, 0.53);\n    tubeMat.alpha = 0.8;\n\n    // texture\n    // var tubeTex = new Texture(window.AWS+\"/shared/black_sand.jpg\", scene);\n    // tubeTex.vScale = groundTexture.uScale = 20.0;\n    // tubeMat.diffuseTexture = groundTexture;\n\n    var tube = MeshBuilder.CreateTorus(\"torus\", {diameter: 6/3, thickness: 2/3}, scene);\n    tube.position.y = 2;\n    tube.rotation.y = Math.PI/2;\n    tube.position.x = getRandomNum(50+i)*20-10;\n    tube.position.z = getRandomNum(10+i)*20-10;\n    tube.material = tubeMat;\n    water.addToRenderList(tube);\n\n    tubes.push(tube);\n  }\n\n}\n\n\n\nexport default Mars;\n","\nexport function getRandomNum(val) {\n  var x = Math.sin(val) * 10000;\n  return x - Math.floor(x);\n}\n\n// index 2 goes to top\n// 3 , 2, 1, 0\n//-> 2, 1, 3, 0\nexport function getNewZIndices(indexToTop, array) {\n  let prevVal = array[indexToTop];\n  let maxVal = 0;\n  let newArr = [];\n  for (let i = 0; i < array.length; i++) {\n    if (array[i] > maxVal) maxVal = array[i];\n    if (array[i] > prevVal) newArr[i] = array[i]-1;\n    else newArr[i] = array[i];\n  }\n  newArr[indexToTop] = maxVal;\n  return newArr;\n}\n","var emoji;\nvar emojisTransparent = [];\n\nexport default function sketch (p) {;\n\n  let ps = [];\n  let percent = 0;\n  let emojiS = 34;\n\n\n  p.setup = function () {\n    p.createCanvas(p.windowWidth, p.windowHeight); //, p.WEBGL\n\n    emoji = p.loadImage(\"https://lmd-bucket.s3.us-east-2.amazonaws.com/sketches/wetStreams/wateremoji.png\", (img) => p.createEmojisTransparent());\n  };\n\n  p.myCustomRedrawAccordingToNewPropsHandler = function (props) {\n    if (props.origins) {\n      if (ps.length === 0) {\n        for (let i = 0; i < props.origins.length; i++) {\n          let x = props.origins[i].x + props.offsets[i].x;\n          let y = props.origins[i].y + props.offsets[i].y;\n          ps[i] = new ParticleSystem(p, p.createVector(x, y), props.velocities[i].velX, props.velocities[i].velY, props.degrees[i], props.isPlaying[i]);\n          ps[i].initParticles(40);\n        }\n      }\n      else {\n        for (let i = 0; i < ps.length; i++) {\n          //\n          let x =  props.origins[i].x + props.offsets[i].x + props.deltas[i].x;\n          let y =  props.origins[i].y + props.offsets[i].y+ props.deltas[i].y;\n          let isPlaying = props.isPlaying[i];\n          ps[i].origin.set(x, y, 0);\n          ps[i].isPlaying = isPlaying;\n        }\n\n      }\n    }\n  };\n\n  p.createEmojisTransparent = function() {\n    for (let i = 0; i < 5; i++) {\n      emojisTransparent[i] = p.createGraphics(emojiS, emojiS);\n      emojisTransparent[i].clear();\n      emojisTransparent[i].tint(255, p.map(i, -1, 4,0,255));\n      emojisTransparent[i].image(emoji, 0, 0, emojiS, emojiS);\n    }\n  }\n\n  p.draw = function () {\n    percent += .1;\n\n    p.clear();\n    if (ps.length > 0) {\n      ps.forEach((sys) => {\n        sys.run(percent);\n      })\n    }\n\n\n    // p.fill(255);\n    // p.noStroke();\n    // p.rect(50, 50, 50, 50);\n    // p.fill(0);\n    // p.textSize(30);\n    // p.text(p.round(p.frameRate()), 50, 80);\n\n  };\n};\n\n// The Nature of Code\n// Daniel Shiffman\n// http://natureofcode.com\n\n// Simple Particle System\n\nfunction Particle(p, origin, id, velX, velY, deg) {\n  this.p5 = p;\n  this.acceleration = this.p5.createVector(0,0);\n  this.gravity = this.p5.createVector(0,0.1);\n  // this.isLeft = isLeft;\n  this.velX = velX;\n  this.velY = velY;\n  this.deg = deg;\n  this.velocity = this.p5.createVector(this.p5.random(velX.min,velX.max),this.p5.random(velY.min,velY.max));\n  // if (isLeft) this.velocity = this.p5.createVector(this.p5.random(-.8,5),this.p5.random(0,.5));\n  // else this.velocity = this.p5.createVector(this.p5.random(-5,.8),this.p5.random(0,.5));\n  this.positionOG = this.p5.createVector(origin.x, origin.y);\n  this.position = this.p5.createVector(origin.x, origin.y);\n  this.lifespan = 0;\n  this.r = Math.random()*15+8;\n  this.id = id;\n  this.launched = false;\n\n  this.run = function(percent, origin) {\n    this.update(percent, origin);\n    this.display(percent);\n  }\n\n  // Method to update position\n\n\n  this.update = function(percent, origin) {\n    if (this.launched) {\n      this.acceleration.add(this.gravity);\n      this.velocity.add(this.acceleration);\n\n      this.position.add(this.velocity);\n\n      // let bufferX = 50;\n      // if (this.position.y > window.innerHeight-100) {\n      //   this.velocity.y *= -1*Math.random()*.3-.1;\n      //   this.position.y = window.innerHeight-100;\n      // }\n      // if (this.position.x < bufferX) {\n      //   this.position.x = bufferX;\n      //   this.velocity.x *= -1;\n      // }\n      // if (this.position.x > window.innerWidth-bufferX) {\n      //   this.position.x = window.innerWidth-bufferX;\n      //   this.velocity.x *= -1;\n      // }\n\n      this.acceleration.mult(0);\n      this.lifespan += 1;\n\n      this.isDead(origin);\n    }\n    // let c = 0.02;\n    // let friction = this.p5.createVector(this.velocity.x,this.velocity.y,this.velocity.z);\n    // friction.mult(-1);\n    // friction.normalize();\n    // friction.mult(c);\n    // this.acceleration.add(friction);\n\n  }\n\n\n  // Method to display\n  this.display = function(percent) {\n    if(this.launched) {\n      this.p5.noStroke();\n      let alpha = this.p5.map(this.lifespan, 0, 60, 255, 0);\n      this.p5.fill(0, alpha);\n      this.p5.textSize(30);\n      this.p5.push();\n      this.p5.translate(this.position.x,this.position.y);\n      this.p5.rotate(this.p5.radians(this.deg))\n      // this.p5.tint(alpha);\n\n      let index = this.p5.map(this.lifespan, 40, 0, 0, emojisTransparent.length-1);\n      index = this.p5.floor(index);\n      if (emoji && emojisTransparent[index]) {\n        // this.p5.image(emoji, 0, -24, 30, 30);\n\n        this.p5.image(emojisTransparent[index], 0, -24);\n      }\n      // this.p5.noTint();\n      this.p5.pop();\n      // this.p5.ellipse(this.position.x,this.position.y,this.r,this.r);\n    }\n\n  }\n\n  // Is the particle still useful?\n  this.isDead = function(origin) {\n    if (this.lifespan > 40) {\n      this.launched = false;\n    }\n  }\n\n  this.launch = function(origin) {\n    if (!this.launched) {\n      this.lifespan = 0;\n      this.launched = true;\n      this.positionOG = this.p5.createVector(origin.x, origin.y);\n      this.position = this.p5.createVector(origin.x, origin.y);\n      // if (this.isLeft) this.velocity = this.p5.createVector(this.p5.random(-.8,5),this.p5.random(0,.5));\n      // else this.velocity = this.p5.createVector(this.p5.random(-5,.8),this.p5.random(0,.5));\n      this.velocity = this.p5.createVector(this.p5.random(velX.min,velX.max),this.p5.random(velY.min,velY.max));\n      return true;\n    }\n    return false;\n  }\n}\n\n// function percentBar(p5, x, y, w) {\n//   this.x = x;\n//   this.y = y;\n//   this.w = w;\n//   this.p5 = p5;\n//\n//   this.display = function(percent) {\n//     let swimmer = \"\";\n//     let posX = this.p5.map(percent, 0, 100, this.x, this.x + this.w);\n//     let posY = this.y + 10*this.p5.sin(this.p5.frameCount/10);\n//\n//     this.p5.textSize(40);\n//     this.p5.push();\n//     this.p5.scale(-1, 0);\n//     this.p5.translate(this.p5.textWidth(swimmer) + this.x, this.y);\n//     this.p5.text(swimmer, 0, 0);\n//     this.p5.pop();\n//   }\n// }\n\nfunction ParticleSystem(p, position, velX, velY, deg, isPlaying) {\n  this.p5 = p;\n  this.particles = [];\n  this.numParticle = 0;\n  this.origin = this.p5.createVector(position.x, position.y);\n  this.percent = 0;\n  // this.isLeft = true; //isLeft;\n  this.launchIndex = 0;\n  this.velX = velX;\n  this.velY = velY;\n  this.deg = deg;\n  this.isPlaying = isPlaying;\n\n  this.initParticles = function(num) {\n    for (let i =0; i < num; i++) {\n      this.addParticle(i);\n    }\n  }\n\n  this.launchParticle = function() {\n    let p = this.particles[this.launchIndex%this.particles.length];\n    if (p.launch(this.origin)) this.launchIndex++;\n  }\n\n  this.setPercent = function(percent) {\n    this.percent = percent;\n  }\n\n  this.addParticle = function(id) {\n    this.particles.push(new Particle(this.p5, this.origin, id, this.velX, this.velY, this.deg));\n  }\n\n  this.run = function(percent) {\n    // if (this.percent > 100) this.percent = 100;\n    // this.percent = this.p5.mouseX/10; //this.p5.map(this.p5.mouseX, 0, window.innerWidth, 0, 100);\n    this.particles.forEach((particle) => {\n      particle.run(percent, this.origin);\n    });\n    if (this.isPlaying) {\n      this.launchParticle();\n    }\n  }\n}\n","import React from 'react';\nimport \"./WetStreams.css\";\n\n///////////////////// Babylon\n// import { Scene, AnaglyphUniversalCamera, UniversalCamera,PBRMaterial, HemisphericLight, Vector3, Vector2, SceneLoader,AssetContainer, MeshBuilder, StandardMaterial,  VideoTexture, CubeTexture, Color3,Color4, Mesh, Texture } from 'babylonjs';\n// import BabylonScene from '../../Universal/Babylon.jsx'; // import the component above linking to file we just created.\n// import { WaterMaterial } from 'babylonjs-materials';\n\n///////////////////// other components\nimport Frame from '../../shared/Frame/Frame';\n// import FrameSimple from '../../shared/Frame/FrameSimple';\n// import ReactPlayer from 'react-player';\n// import Playbar from \"./Playbar\";\n\n///////////////////// p5.js\nimport P5Wrapper from 'react-p5-wrapper';\nimport sketch from './wetSketch';\n// import Stair from './Stair';\n\n// palm https://poly.google.com/view/ficLBIjGliK\nimport Glasses from '../../shared/Glasses/Glasses';\n\nclass WetStreams extends React.Component {\n\n  constructor(props) {\n    super(props);\n\n    this.startW = window.innerWidth;\n    this.startH = window.innerHeight;\n\n    // this.spacing = 15;\n    // const availH = window.innerHeight -34 -2*26-3*this.spacing;\n    const dim = 300; //Math.max(availH/2, 300);\n    this.spacing = 15; //(window.innerHeight -30 -2*26-dim*2)/3;\n    this.state = {\n      windowWidth: window.innerWidth,\n      windowHeight: window.innerHeight,\n      showerFrame: {\n        w: dim,\n        h: dim,\n        x: (window.innerWidth-dim*3 - this.spacing*2)/2,\n        y: Math.max((window.innerHeight -34 -2*26-dim*2-this.spacing)/2, this.spacing)\n\n      },\n      deltaPositions: [\n        {x: 0, y: 0},\n        {x: 0, y: 0},\n        {x: 0, y: 0},\n        {x: 0, y: 0},\n        {x: 0, y: 0},\n        {x: 0, y: 0}\n      ],\n      isPlaying0: true,\n      isPlaying1: true,\n      percent0: 0,\n      percent1: 1,\n      playingStreams: [true, true, true, true, true, true]\n    }\n    // this.onRender = this.onRender.bind(this);\n    this.handleDrag = this.handleDrag.bind(this);\n    this.playStreamReset = this.playStreamReset.bind(this);\n    this.toggleHandler = this.toggleHandler.bind(this);\n  }\n\n  handleDrag = (index, ui) => {\n    let dx = ui.deltaX;\n    let dy = ui.deltaY;\n    // 1. Make a shallow copy of the items\n    let dps = [...this.state.deltaPositions];\n    // 2. Make a shallow copy of the item you want to mutate\n    let dp = {...dps[index]};\n    // 3. Replace the property you're intested in\n    dp.x += dx;\n    dp.y += dy;\n    // 4. Put it back into our array. N.B. we *are* mutating the array here, but that's why we made a copy first\n    dps[index] = dp;\n    // 5. Set the state to our new copy\n    this.setState({deltaPositions:dps});\n  };\n\n\n  componentDidMount() {\n    this.updateDimensions();\n    window.addEventListener(\"resize\", this.updateDimensions.bind(this));\n    this.interval = setInterval(this.playStreamReset, 4000);\n    this.props.userSetRoom(\"wet-streams\");\n  }\n\n  componentWillUnmount() {\n    window.removeEventListener(\"resize\", this.updateDimensions.bind(this));\n    clearInterval(this.interval);\n    this.props.userLeaveRoom(\"wet-streams\");\n  }\n\n  updateDimensions() {\n    let {showerFrame} = this.state;\n    // const availH = window.innerHeight -30 -2*26-3*this.spacing;\n    // const dim = Math.max(availH/2, 300);\n    // showerFrame.w = dim;\n    // showerFrame.h = dim;\n    showerFrame.x = (window.innerWidth-showerFrame.w*3 - this.spacing*2)/2\n    showerFrame.y = Math.max((window.innerHeight -34 -2*26-showerFrame.h*2-this.spacing)/2, this.spacing)\n\n    this.setState({ windowWidth: window.innerWidth, windowHeight: window.innerHeight });\n    this.setState({showerFrame: showerFrame});\n  }\n\n  playStreamReset() {\n    const {playingStreams} = this.state;\n    for (let i = 0; i < playingStreams.length; i++) {\n      playingStreams[i] = Math.random()>.5;\n    }\n    this.setState({playingStreams})\n  }\n\n  toggleHandler(id, state) {\n    let {playingStreams} = this.state;\n    playingStreams[id] = state;\n    this.setState({playingStreams});\n  }\n\n  render() {\n    let {windowWidth, windowHeight, showerFrame, playingStreams} = this.state;\n    let origins = [];\n    // let space = 40;\n    let startX = showerFrame.x;\n    // if (startX < 0) startX = 0;\n\n    // let spaceV = 40;\n    let startY = showerFrame.y; //(windowHeight-60-2*showerFrame.h-spaceV)/2;\n    // if (startY < 0) startY = 0;\n\n    for (let i = 0; i < 3; i++) {\n      origins[i] = {x: startX + i*(showerFrame.w + this.spacing), y: startY};\n      origins[i+3] = {x: startX + i*(showerFrame.w + this.spacing), y: startY + showerFrame.h + this.spacing + 26};\n    }\n\n    let imgs = [7, 1, 3, 4, 8, 10];\n    let offsets = [{x:215,y:328}, {x:215,y:215}, {x:50,y:195}, {x:132,y:254}, {x:260,y:335}, {x:285,y:330}];\n    for (const offset of offsets) {\n      const scaler = showerFrame.w/400;\n      offset.x *= scaler;\n      offset.y *= scaler;\n    }\n    let velocities = [\n      {velX: {min: -.8, max:5}, velY: {min: -.5, max:0}},\n      {velX: {min: -5, max:2}, velY: {min: -.5, max:0}},\n      {velX: {min: -5, max:.8}, velY: {min: -.5, max:0}},\n      {velX: {min: -5, max:.8}, velY: {min: -.5, max:0}},\n      {velX: {min: -5, max:5}, velY: {min: -.5, max:0}},\n      {velX: {min: -.5, max:5}, velY: {min: -.5, max:0}}\n    ];\n    let degrees = [0, 60, 90, 80, 40, 0];\n\n    return (\n      <div className=\"WetStreams Sketch\">\n\n\n        {/* https://media.giphy.com/media/Kk4f3yrTot95K/giphy.gif*/}\n\n\n        {imgs.map((img, i) => {\n          let title = \"\";\n          if (i === 1) title = \"wet streams\";\n          let dx = (this.state.windowWidth - this.startW)/2;\n          let dy = (this.state.windowHeight - this.startH)/2;\n          const isPlaying = playingStreams[i];\n          return getShower(i, origins[i].x, origins[i].y, dx, dy, showerFrame.w, showerFrame.h, img, this.handleDrag, (state) => {this.toggleHandler(i, state)}, title, isPlaying);\n        })};\n\n\n        <P5Wrapper className=\"p5sketch\" sketch={sketch}\n          origins={origins}\n          offsets={offsets}\n          velocities={velocities}\n          deltas={this.state.deltaPositions}\n          degrees={degrees}\n          isPlaying={playingStreams}\n          />\n\n        <Glasses />\n      </div>\n    )\n  }\n}\n\nfunction getShower(id, x, y,dx, dy, w, h, img, dragHandler, toggleHandler, title, isPlaying ) {\n  //\"./assets/images/tub/\" + img + \".png\"\n\n  return(\n    <Frame key={id} id={id} onDrag={dragHandler} title={title} content={\n        <div className={id===5?\"showerhead flippedX\":\"showerhead\"}>\n          <img src={require(\"./assets/showerHeads/\" + img + \".png\")} style={{width:w +\"px\", height:h+\"px\"}} alt=\"shower head\" />\n          {/*<Playbar isPlaying={isPlaying} onToggle={toggleHandler} /> */}\n        </div>\n      }\n      width={w} height={h} x={x} y={y} dx={dx} dy={dy}\n      />\n  )\n\n}\n\n\n\n\nexport default WetStreams;\n","import React from 'react';\n\n\nclass Emojis extends React.Component {\n  // https://codepen.io/JohJakob/pen/YPxgwo\n  constructor(props) {\n    super(props);\n  }\n\n  render() {\n    const {emojis} = this.props;\n    return (\n      <div className=\"emojis\">\n      {emojis?this.getEmojis():<div></div>}\n      </div>\n    );\n  }\n\n  getEmojis = () => {\n\n    const {emojis} = this.props;\n\n\n    return (\n      emojis.map((emoji, i) => {\n        const id = emoji.id;\n        const imgs = [\"prayer\", \"communion\", \"praise\", \"open\", \"halo\"];\n        const url = window.AWS + \"/waveforms/emojis/\" + imgs[id] + \".png\" ;\n        return (\n          <img key={i} src={url} style={{top:`${emoji.y}px`, left:`${emoji.x}px`, opacity: emoji.opacity}} />\n        )\n      })\n    )\n  }\n}\n\n\n\nexport default Emojis;\n","import React from 'react';\nimport Button from '@material-ui/core/Button';\nimport { faEye,faRetweet, faVideo, faMicrophoneAlt, faMicrophoneAltSlash } from \"@fortawesome/free-solid-svg-icons\";\nimport { faComment, faHeart } from \"@fortawesome/free-regular-svg-icons\";\nimport { faTwitter } from \"@fortawesome/free-brands-svg-icons\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport Emojis from './Emojis';\n\nclass BottomBar extends React.Component {\n  // https://codepen.io/JohJakob/pen/YPxgwo\n  constructor(props) {\n    super(props);\n\n    this.state ={\n      emojis: [],\n    }\n  }\n\n  componentDidMount() {\n    this.intervalEmoji = setInterval(this.updateEmojis, 50);\n  }\n\n  componentWillUnmount() {\n    clearInterval(this.intervalEmoji);\n  }\n\n  updateEmojis = () => {\n    const t = new Date();\n    const emojis = [...this.state.emojis];\n    if (emojis.length > 0) {\n      for (let i = 0; i < emojis.length; i++) {\n        const emoji = {...emojis[i]};\n        emojis[i] = emoji; // is this proper immutability? I think so...?\n        if (emoji) {\n          emoji.y -= 12;\n          if (emoji.y < 0) {\n            emojis.splice(i, 1);\n            i--;\n          }\n          else {\n            emoji.x = emoji.startX + 30*Math.sin(emoji.y/70);\n            emoji.opacity = (emoji.y-80) / window.innerHeight;\n            if (emoji.opacity < 0) emoji.opacity = 0;\n            else if (emoji.opacity > 1) emoji.opacity = 1;\n          }\n        }\n      }\n      this.setState({emojis});\n      // console.log(new Date() - t, \"ms\");\n    }\n  }\n\n  addEmoji = (id) => {\n    console.log(\"ADD EMOJI\", id);\n    const emoji = {startX: Math.random()*window.innerWidth, x: 0, y: window.innerHeight - 50, opacity: 1, id: id};\n    this.setState(prevState => ({\n      emojis: [...prevState.emojis, emoji]\n    }))\n  }\n\n\n  render() {\n    const emojis = this.state.emojis;\n    return (\n      <div>\n      <div className=\"bottomBar\">\n      <div className=\"bar-vid\">\n      <Button variant=\"contained\"><FontAwesomeIcon icon={faVideo} /></Button>\n      <Button variant=\"contained\"><FontAwesomeIcon icon={faMicrophoneAlt} /></Button>\n      </div>\n      <div className=\"bar-emojis\">\n      <Button variant=\"contained\" onClick={() => this.addEmoji(0)}><img src={window.AWS + \"/waveforms/emojis/prayer.png\"} /></Button>\n      <Button variant=\"contained\" onClick={() => this.addEmoji(1)}><img src={window.AWS + \"/waveforms/emojis/communion.png\"} /></Button>\n      <Button variant=\"contained\" onClick={() => this.addEmoji(2)}><img src={window.AWS + \"/waveforms/emojis/praise.png\"} /></Button>\n\n      <Button variant=\"contained\" onClick={() => this.addEmoji(3)}><img src={window.AWS + \"/waveforms/emojis/open.png\"} /></Button>\n      </div>\n      <div className=\"bar-good-bad\">\n      <Button variant=\"contained\" ><img src={window.AWS + \"/waveforms/emojis/halo.png\"} /></Button>\n      <Button variant=\"contained\" ><img src={window.AWS + \"/waveforms/emojis/devil.png\"} /></Button>\n      </div>\n      </div>\n      <Emojis emojis={emojis} />\n      </div>\n    );\n  }\n\n}\n\n\n\nexport default BottomBar;\n","import React from 'react';\nimport { faEye} from \"@fortawesome/free-solid-svg-icons\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\n\nclass LiveBar extends React.Component {\n  // https://codepen.io/JohJakob/pen/YPxgwo\n  constructor(props) {\n    super(props);\n\n      const timeInc = Math.floor(Math.random()*300);\n\n      this.state = {\n        timeInc: timeInc,\n        time: this.getTime(timeInc),\n        watchers: Math.floor(Math.random()*200),\n      }\n  }\n\n  componentDidMount() {\n    this.intervalTimer = setInterval(this.updateTime, 1000);\n    this.intervalWatcher = setInterval(this.updateWatchers, 2200);\n  }\n\n  componentWillUnmount() {\n    clearInterval(this.intervalTimer);\n    clearInterval(this.intervalWatcher);\n  }\n\n  render() {\n    const {time, watchers} = this.state;\n    return (\n      <div className=\"liveStream\"><span className=\"live\">LIVE</span><span className=\"time\">{time}</span><span className=\"eye\"><FontAwesomeIcon icon={faEye} /> {watchers}</span></div>\n    );\n  }\n\n\n  getTime = (timeInc) => {\n    let sec = timeInc %60;\n    let min = Math.floor(timeInc/60);\n    let hr = Math.floor(min/60);\n    // if (min < 10) min = \"0\" + min;\n    if (hr < 10) hr = \"0\" + hr;\n    if (sec < 10) sec = \"0\" + sec;\n\n    let time = min + \":\" + sec;\n    return time;\n  }\n\n  updateTime = () => {\n    // let {time, timeInc} = this.state;\n    // timeInc++;\n    const timeInc = this.state.timeInc + 1;\n    const time = this.getTime(timeInc);\n    this.setState({time, timeInc});\n  }\n\n  updateWatchers = () => {\n    const watchers = this.state.watchers;\n    if (Math.random() < .3) {\n      this.setState({watchers: watchers+1})\n    }\n    else if (Math.random() < .6) {\n      if (watchers-1 < 1) this.setState({watchers: 1});\n      else this.setState({watchers: watchers-1})\n    }\n  }\n}\n\n\n\nexport default LiveBar;\n","import React from 'react';\nimport {withRouter} from 'react-router-dom';\nimport Frame from '../../shared/Frame/Frame';\nimport DesktopIcon from '../../shared/DesktopIcon/DesktopIcon';\n// import FrameSimple from '../../shared/Frame/FrameSimple';\nimport './WaveForms.css';\nimport ReactPlayer from 'react-player'\n// import Moment from 'react-moment';\n\n// import { AnaglyphUniversalCamera, HemisphericLight, PhotoDome, Vector3, Vector2, AssetContainer, SceneLoader, StandardMaterial, CubeTexture, Color3, Mesh, Texture } from 'babylonjs';\n// import BabylonScene from '../../shared/Babylon.jsx'; // import the component above linking to file we just created.\n// import { WaterMaterial, SkyMaterial } from 'babylonjs-materials';\n// import 'babylonjs-loaders';\n\nimport Button from '@material-ui/core/Button';\nimport InputLabel from '@material-ui/core/InputLabel';\nimport MenuItem from '@material-ui/core/MenuItem';\nimport FormHelperText from '@material-ui/core/FormHelperText';\nimport FormControl from '@material-ui/core/FormControl';\nimport Select from '@material-ui/core/Select';\nimport TextField from '@material-ui/core/TextField';\n\nimport ReactAudioPlayer from 'react-audio-player';\n\n// import mainVid from  \"./assets/waves2_lines.mp4\";\n// import dove from  \"./assets/dove_t.gif\";\n// import shellSound from \"./assets/shell_sound.wav\";\n\nimport Glasses from '../../shared/Glasses/Glasses';\n\nimport { faEye,faRetweet, faVideo, faMicrophoneAlt, faMicrophoneAltSlash } from \"@fortawesome/free-solid-svg-icons\";\nimport { faComment, faHeart } from \"@fortawesome/free-regular-svg-icons\";\nimport { faTwitter } from \"@fortawesome/free-brands-svg-icons\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\n\n\n// import communion from './assets/emojis/communion.png';\n// import praise from './assets/emojis/praise.png';\n// import prayer from './assets/emojis/prayer.png';\n// import open from './assets/emojis/open.png';\n// import halo from './assets/emojis/halo.png';\n\n// import { TwitterTimelineEmbed, TwitterShareButton, TwitterFollowButton, TwitterHashtagButton, TwitterMentionButton, TwitterTweetEmbed, TwitterMomentShare, TwitterDMButton, TwitterVideoEmbed, TwitterOnAirButton } from 'react-twitter-embed';\nimport Webcam from \"react-webcam\";\n\n\nimport BottomBar from './components/BottomBar';\nimport LiveBar from './components/LiveBar';\n\nconst processString = require('react-process-string');\n\n\nclass WaveForms extends React.Component {\n  // https://codepen.io/JohJakob/pen/YPxgwo\n  constructor(props) {\n    super(props);\n\n    let factor = .3;\n    this.dimW = 1584*factor;\n    this.dimH = 1588*factor;\n\n    this.minVol = .01;\n\n\n\n    factor = 1.4;\n    this.videoConstraints = {\n      width: 230*factor,\n      height: 130*factor,\n      facingMode: \"user\"\n    };\n\n    const bottomBar = 60;\n    const spacing = 120;\n    this.tweetW = 400;\n    const winX = Math.max((window.innerWidth - this.dimW - this.tweetW - spacing)/2, 50)\n    const winY = (window.innerHeight - this.dimH - 26 - 30 -bottomBar)/2+30;\n\n    // const webY = winY -50;\n    // const webX = tX;\n    // const webH = 200;\n\n\n\n\n    this.state = {\n      windowWidth: window.innerWidth,\n      windowHeight: window.innerHeight,\n      windowX: winX,//(window.innerWidth - this.dimW)/2,\n      windowY: winY,//(window.innerHeight - this.dimH-80)/2,\n      tweetX: winX+this.dimW + 100,\n      tweetY: winY + 20,\n      webX: winX+this.dimW + 100,\n      webY: winY - 50,\n      earCursor: this.props.cursor,\n      volume: this.minVol,\n      timePeriod: \"days\",\n      prayTo: \"Kanye\"\n    };\n\n\n\n\n    factor = 0.1;\n    // this.shellW = 1600*factor;\n    // this.shellH = 1038*factor;\n    // this.shellW = 100;\n    // this.shellH = 100;\n    // this.shellX =  (window.innerWidth - this.shellW)/2; //this.state.windowX + this.dimW/2 - this.shellW/2;\n    // this.shellY = (window.innerHeight - this.shellH-80)/2;\n\n    this.updateDimensions = this.updateDimensions.bind(this);\n    this.resetPlayer = this.resetPlayer.bind(this);\n    // this.earChange = this.earChange.bind(this);\n    // this.updateTime = this.updateTime.bind(this);\n    // this.updateWatchers = this.updateWatchers.bind(this);\n\n    // this.updateEmojis = this.updateEmojis.bind(this);\n    // this.setTweet = this.setTweet.bind(this);\n    // this.fetchTweets = this.fetchTweets.bind(this);\n    // this.getTweet = this.getTweet.bind(this);\n    // this.addTweet = this.addTweet.bind(this);\n    this.handleChange = this.handleChange.bind(this);\n\n    // this.renderForm = this.renderForm.bind(this);\n    // this.renderConfessions = this.renderConfessions.bind(this);\n\n\n    this.memberRef0 = React.createRef();\n\n    // this.moveConfessions = this.moveConfessions.bind(this);\n  }\n\n\n  componentDidMount() {\n\n    window.addEventListener(\"resize\", this.updateDimensions);\n    this.interval = setInterval(this.resetPlayer, 22000);\n    this.props.userSetRoom(\"confessions\");\n  }\n\n  componentWillUnmount() {\n    window.removeEventListener(\"resize\", this.updateDimensions);\n    clearInterval(this.interval);\n    this.props.userLeaveRoom(\"confessions\");\n  }\n\n  updateDimensions() {\n  }\n\n  handleChange(event) {\n    this.setState({timePeriod: event.target.value});\n  };\n\n\n\n  resetPlayer() {\n    if (this.videoBack && this.videoMain) {\n      this.videoBack.currentTime = 0;\n      this.videoMain.currentTime = .50;\n    }\n  }\n\n  onSubmit = () => {\n    alert(\"thanks for your submission. uploading to the cloud\");\n    this.props.history.push(\"/confessions\");\n  }\n\n  render() {\n    const {timePeriod, prayTo} = this.state;\n\n    return(\n      <div className=\"WaveForms Sketch\">\n        <div className=\"confessions-form\">\n          <Frame className=\"stairway\" title=\"cloud confessional\" content={\n              /*<video width={dimW-2} height={dimH} muted loop autoPlay><source src={videoDimURL} type=\"video/mp4\"></source></video>*/\n              <div>\n                <video autoPlay muted loop\n                  ref={video => {this.videoMain = video;}}\n                  className={\"react-player mainContent\"}\n                  width={this.dimW}\n                  height={this.dimH}\n                  >\n                  <source src={window.AWS + \"/waveforms/waves2_lines.mp4\"} type=\"video/mp4\" ></source>\n                </video>\n                <LiveBar />\n              </div>\n            }\n            width={this.dimW} height={this.dimH} x={this.state.windowX} y={this.state.windowY}\n            />\n\n          <Frame className=\"doveFrame\" title=\"\" windowStyle={{background: \"transparent\"}} content={\n              <img src={window.AWS + \"/waveforms/dove_t.gif\"} width={90} height={90} />\n            }\n            width={90} height={90} x={this.state.windowX+this.dimW/2-45} y={this.state.windowY+this.dimH/2-45}\n            />\n\n          <div className=\"member\" ref={this.memberRef0}>\n            <Frame className=\"static\" content={\n                /* <img height={130} width={230} src=\"https://media4.giphy.com/media/UiwxIx9BElaVi/giphy.gif?cid=ecf05e47a8bbe3d9385a466e6febc98bd9d83fe2e23ed054&rid=giphy.gif\" />*/\n                <div>\n                  <Webcam videoConstraints={this.videoConstraints} />\n                  <img src={window.AWS + \"/waveforms/divine.gif\"} width={\"100%\"} height={\"100%\"} style={{opacity:.3, position: \"absolute\", top: 0, left:0}} />\n                </div>\n              }\n              x={this.state.webX} y={this.state.webY} width={this.videoConstraints.width} height={this.videoConstraints.height}\n              />\n          </div>\n          {/*this.getEarMenu()*/}\n          <ReactAudioPlayer\n            src={window.AWS + \"/waveforms/shell_sound.wav\"}\n            autoPlay={true}\n            volume={this.state.volume}\n            controls={false}\n            loop={true}\n            ref={player => {\n              this.audioPlayer = player;\n            }}\n            />\n          {/* </div>*/}\n\n          <Frame title=\"\" windowStyle={{background: \"transparent\"}} content={\n              <div className=\"confessional\">\n                <div className=\"text-line0\">Bless me</div>\n                <select value={this.state.prayTo} onChange={this.handleChange}>\n                  <option value=\"RBG\">RBG</option>\n                  <option value=\"Father\">Father</option>\n                  <option value=\"Mitch McConnel\">Mitch McConnel</option>\n                  <option value=\"Kanye\">Kanye</option>\n                </select>\n                <div>for I have sinned. It has been:</div>\n\n                <div className=\"confessional-time\">\n                  <div className=\"confessional-box\">\n                    <input type=\"number\" placeholder=\"number\" />\n                  </div>\n\n                  <select value={this.state.timePeriod} onChange={this.handleChange}>\n                    <option value=\"days\">days</option>\n                    <option value=\"months\">months</option>\n                    <option value=\"years\">years</option>\n                    <option value=\"never\">never</option>\n                  </select>\n                </div>\n                <div className=\"text-line1\">since I last went to confession.</div>\n\n                <div className=\"multitext confessional-box\">\n                  <textarea\n                    id=\"outlined-multiline-static\"\n                    label=\"\"\n                    multiline\n                    placeholder=\"confession\"\n                    className=\"box text-line2\"\n                    />\n                </div>\n                <button className=\"confessional-box\" onClick={this.onSubmit}>submit</button>\n              </div>\n            }\n            width={this.tweetW} height={280}  x={this.state.tweetX} y={this.state.tweetY}\n            />\n          <BottomBar />\n        </div>\n\n        <Glasses y={30} />\n      </div>\n    );\n\n  }\n\n\n}\n\nfunction getTweetContent(string) {\n  let config = [\n    {\n      // / delimits start/end\n      // parentheses creates capturing group\n      // [has any of these symbols]\n\n      // match @ []\n      // \\escape\n      // second set of parens apparently stops it. added |\\: to get retweet colon\n      regex: /\\@([a-z0-9_\\-]+?)( |\\,|$|\\.|\\:)/gim, //regex to match a username\n      fn: (key, result) => {\n        let username = result[0];\n        const profileUrl = \"https://twitter.com/\" + username.substring(1, username.length);\n        return <a key={key} href={profileUrl} target=\"_blank\">{username}</a>;\n        }},\n        {\n          regex: /(http|https):\\/\\/(\\S+)\\.([a-z]{2,}?)(.*?)( |\\,|$|\\.)/gim,\n          fn: (key, result) => <span key={key}>\n          <a target=\"_blank\" href={`${result[1]}://${result[2]}.${result[3]}${result[4]}`}>{result[2]}.{result[3]}{result[4]}</a>{result[5]}\n          </span>\n        },\n        {\n          regex: /\\#([a-z0-9_\\-]+?)( |\\,|$|\\.|\\:)/gim, //regex to match a hashtag\n          fn: (key, result) => {\n            let hashtag = result[0];\n            const hashtagUrl = `https://twitter.com/hashtag/${hashtag.substring(1, hashtag.length)}?src=hashtag_click`;\n            return <a key={key} href={hashtagUrl} target=\"_blank\">{hashtag}</a>;\n            }\n          },\n          {\n            regex: /\\&amp/,\n            fn: (key, result) => {\n              let amp = result;\n              return \"&\";\n            }\n          }];\n\n          let processed = processString(config)(string);\n          return processed;\n        }\n\n        function getMostEngagement(mode, tweets) {\n          let max = 0;\n          let id = 0;\n          let maxId = 0;\n\n          for (const tweet of tweets) {\n            let likes = tweet.public_metrics.like_count;\n            let rts = tweet.public_metrics.retweet_count;\n            let replies = tweet.public_metrics.reply_count;\n            let metrics = [likes, rts, replies];\n\n            if (metrics[mode] > max) {\n              max = likes;\n              maxId = id;\n            }\n            id++;\n          }\n          return maxId;\n        }\n\n        function mapVal(val, in_min, in_max, out_min, out_max) {\n          return (val - in_min) * (out_max - out_min) / (in_max - in_min) + out_min;\n        }\n\n        function getTweetTime(tweet_created_at) {\n          // const dateToFormat = new Date('1976-04-19T12:59-0500');\n          // const created_time = isoStringToDate(tweet_created_at);\n          // var timeDiff = new Date() - created_time;\n          // timeDiff /= 1000;\n          // var seconds = Math.round(timeDiff);\n          // console.log(created_time, timeDiff, seconds);\n          // return seconds + \"s\";\n          return \"5s\";\n        }\n\n        function isoStringToDate(s) {\n          var b = s.split(/[-t:+]/ig);\n          return new Date(Date.UTC(b[0], --b[1], b[2], b[3], b[4], b[5]));\n        }\n        //\n        // function urlify(text) {\n        //   var urlRegex = /(https?:\\/\\/[^\\s]+)/g;\n        //   return text.replace(urlRegex, function(url) {\n        //     return '<a href=\"' + url + '\">' + url + '</a>';\n        //   })\n        // }\n\n        export default withRouter(WaveForms);\n","import React from 'react';\nconst processString = require('react-process-string');\n\nexport function initConfessions() {\n  let confessions = [\n    {txt: \"I am not thinking about my partner during sex.\"},\n    {txt: \"I said I love you but I didn't mean it.\"},\n    {txt: \"I took a macbook mouse from work\"},\n    {txt: \"I cursed at God because honestly, what is going on here.\"},\n    {txt: \"I told my neighbors they were little brats\"},\n    {txt: \"I said I hoped my boss would burn in hell.\"},\n    {txt: \"When I was diagnosed I was angry. It just felt so unfair. I blamed my husband, my myself, my kids. But most of all, I blamed God.\"},\n    {txt: \"No body tells you what's right. I mean, I guess God is supposed to do that, but I've lost hope that anyone's on the receiving end. If he'd just give me a sign or something maybe I wouldn't have so many doubts.\"}\n  ];\n  return confessions;\n}\n\nexport function initZIndicesIcons() {\n  const zind = [];\n  for (let i = 0; i < 8; i++) {\n    zind[i] = i; // icons\n  }\n  return zind;\n}\n\nexport function initZIndicesFrames() {\n  const zind = [];\n  for (let i = 0; i < 8; i++) {\n    zind[i] = i+100; // icons\n  }\n  return zind;\n}\n\nexport function getTweetContent(string) {\n  let config = [\n    {\n      // / delimits start/end\n      // parentheses creates capturing group\n      // [has any of these symbols]\n\n      // match @ []\n      // \\escape\n      // second set of parens apparently stops it. added |\\: to get retweet colon\n      regex: /\\@([a-z0-9_\\-]+?)( |\\,|$|\\.|\\:)/gim, //regex to match a username\n      fn: (key, result) =>  {\n        let username = result[0];\n        const profileUrl = \"https://twitter.com/\" + username.substring(1, username.length);\n        return <a key={key} href={profileUrl} target=\"_blank\">{username}</a>;\n        }\n      },\n      {\n        regex: /(http|https):\\/\\/(\\S+)\\.([a-z]{2,}?)(.*?)( |\\,|$|\\.)/gim,\n        fn: (key, result) => <span key={key}>\n        <a target=\"_blank\" href={`${result[1]}://${result[2]}.${result[3]}${result[4]}`}>{result[2]}.{result[3]}{result[4]}</a>{result[5]}\n        </span>\n      },\n      {\n        regex: /\\#([a-z0-9_\\-]+?)( |\\,|$|\\.|\\:)/gim, //regex to match a hashtag\n        fn: (key, result) => {\n          let hashtag = result[0];\n          const hashtagUrl = `https://twitter.com/hashtag/${hashtag.substring(1, hashtag.length)}?src=hashtag_click`;\n          return <a key={key} href={hashtagUrl} target=\"_blank\">{hashtag}</a>;\n          }\n        },\n        {\n          regex: /\\&amp/,\n          fn: (key, result) => {\n            let amp = result;\n            return \"&\";\n          }\n        }\n      ];\n\n      let processed = processString(config)(string);\n      return processed;\n    }\n","import React from 'react';\nimport { faRetweet } from \"@fortawesome/free-solid-svg-icons\";\nimport { faComment, faHeart } from \"@fortawesome/free-regular-svg-icons\";\nimport { faTwitter } from \"@fortawesome/free-brands-svg-icons\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\n\nclass Tweet extends React.Component {\n  // https://codepen.io/JohJakob/pen/YPxgwo\n  constructor(props) {\n    super(props);\n\n  }\n\n  render() {\n    console.log(\"rendering tweeet\");\n    if (this.props.tweet) {\n      return this.getTweet(this.props.tweet);\n    }\n    return <div>{this.props.confession.txt}</div>\n  }\n\n  getTweet = (tweet) => {\n    const {text, username, url, likes, rts, replies, time, tweetID} = tweet;\n    const tweetUri = `twitter.com/${username}/status/${tweetID}`;\n    const profileUrl = \"https://twitter.com/\" + username;\n    const tweetUriA = <a href={\"https://\"+tweetUri} target=\"_blank\">{tweetUri.substring(0, 15) + \"...\"}</a>;\n      var name = tweet.name;\n      if (name.length > 24) name = name.substring(0, 24) + \"...\";\n      return (\n        <div className=\"tweet\">\n          <div className=\"tweet-top\">\n            <div className=\"tweeter-icon\" style={{backgroundImage: `url(${url})`}}><div className=\"inner\"></div></div>\n            <div className=\"tweeter\">\n              <div className=\"person\"><a href={profileUrl} target=\"_blank\">{name}</a></div>\n              <div className=\"tweet-handle\"><a href={profileUrl} target=\"_blank\">@{username}</a></div>\n            </div>\n            <div className=\"tweet-time\"> {time}</div>\n          </div>\n          <div className=\"tweet-content\">{text}</div>\n          <div><hr /></div>\n          <div className=\"tweet-metrics\">\n            <div className=\"comments\"><FontAwesomeIcon icon={faComment} /><span>{likes}</span></div>\n            <div className=\"retweets\"><FontAwesomeIcon icon={faRetweet} /><span>{rts}</span></div>\n            <div className=\"likes\"><FontAwesomeIcon icon={faHeart} /><span>{replies}</span></div>\n          </div>\n        </div>\n      )\n    }\n\n  }\n\n  export default Tweet;\n","import React from 'react';\nimport {getRandom, getRandomNum} from '../../../shared/Helpers/Helpers';\nimport DesktopIcon from '../../../shared/DesktopIcon/DesktopIcon';\nimport Tweet from './Tweet';\n// import txt from '../assets/Canned/txt-ligher.png';\n\nexport default function(props) {\n  const {i, time, confession, tweet, onDblClick, zIcon, zFrame, newFrameToTop, newIconToTop} = props;\n  const x = getRandomNum(i+30)*(window.innerWidth-100);\n  const y = 15*Math.sin(time/400 + x/100)+getRandomNum(i+3)*(window.innerHeight-200);\n  const box={x: 100+i*20, y:100+i*20, w:400};\n  box.y = 15*Math.sin(time/400 + box.x/100)+box.y;\n\n  return (\n    <DesktopIcon key={i} title={\"#confession\"} onDblClick={() => onDblClick(i+1)} newFrameToTop={() => {newFrameToTop(i)}} newIconToTop={() => {newIconToTop(i)}} x={x} y={y} zIcon={zIcon} zFrame={zFrame} box={box}\n    content={\n      <img src={window.AWS+\"/waveforms/txt-ligher.png\"} width={80} height={80} />\n    }\n    frameContent={\n      <div className=\"confession-txt\"><Tweet confession={confession} tweet={tweet} /></div>\n    }\n    />\n  )\n}\n","import React from 'react';\nimport Frame from '../../shared/Frame/Frame';\n\n// import FrameSimple from '../../shared/Frame/FrameSimple';\nimport './WaveForms.css';\nimport ReactPlayer from 'react-player'\n\nimport ReactAudioPlayer from 'react-audio-player';\n\nimport {getRandomNum, getNewZIndices} from '../../shared/Helpers/Helpers';\nimport {getTweetContent, initConfessions, initZIndicesIcons, initZIndicesFrames} from './components/Helpers';\nimport Confession from './components/Confession';\n// import mainVid from  \"./assets/waves2_lines.mp4\";\n// import dove from  \"./assets/dove_t.gif\";\n// import shellSound from \"./assets/shell_sound.wav\";\n\nimport Glasses from '../../shared/Glasses/Glasses';\n\n\n\n// import txt from './assets/Canned/txt.png';\n\nimport { faEye,faRetweet, faVideo, faMicrophoneAlt, faMicrophoneAltSlash } from \"@fortawesome/free-solid-svg-icons\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\n\n\nclass Confessions extends React.Component {\n  // https://codepen.io/JohJakob/pen/YPxgwo\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      confessions: initConfessions(),\n      tweets: [],\n      time: 0,\n      zIndicesIcons: initZIndicesIcons(),\n      zIndicesFrames: initZIndicesFrames()\n    };\n\n\n    this.fetchTweets = this.fetchTweets.bind(this);\n    this.addTweet = this.addTweet.bind(this);\n  }\n\n\n  componentDidMount() {\n    this.interval = setInterval(() => this.setState({ time: Date.now() }), 30);\n    this.fetchTweets();\n    this.props.userSetRoom(\"confessions\");\n  }\n\n  componentWillUnmount() {\n    clearInterval(this.interval);\n    this.props.userLeaveRoom(\"confessions\");\n  }\n\n\n  async fetchTweets() {\n    // const query = encodeURI(\"\\#confession\");\n    // console.log(\"WERERE\", query);\n    const url = `/api/get/tweets/%23confession`;\n    const response = await fetch(url);\n    const initialRes = await response.json();\n\n    if (initialRes.tweets.data) {\n      // const mode = Math.floor(Math.random()*3);\n      // let id = 0;//getMostEngagement(mode, initialRes.tweets.data); //Math.floor(Math.random()*10);\n      // const tweet = initialRes.tweets.data[id];\n      // const user = initialRes.tweets.includes.users[id];\n      // this.addTweet(tweet, user);\n      let i = 0;\n      const users = initialRes.tweets.includes.users;\n\n      console.log(\"USERS\", users);\n      for (const tweet of initialRes.tweets.data) {\n        const id = tweet.author_id;\n        const findUserByID = users.filter(user => {\n          return user.id == id\n        })\n        if (findUserByID[0] && tweet) this.addTweet(i++, tweet, findUserByID[0]);\n      }\n\n    }\n    else {\n      console.log(\"NO TWEETS\");\n    }\n\n    console.log(\"DONE\", this.state.tweets);\n  }\n\n\n\n\n  addTweet = (i, tweetObj, user) => {\n    // console.log(\"TWEET\", tweetObj);\n    // console.log(\"USER\", user);\n\n    let tweets = [...this.state.tweets];\n    const tweet = {};\n    tweet.text = getTweetContent(tweetObj.text);\n    tweet.time = \"5s\"; //getTweetTime(tweetObj.created_at);\n    tweet.tweetID = tweetObj.id;\n    tweet.name = user.name;\n    tweet.url = user.profile_image_url;\n    tweet.username = user.username;\n    tweet.likes = tweetObj.public_metrics.like_count;\n    tweet.rts = tweetObj.public_metrics.retweet_count;\n    tweet.replies = tweetObj.public_metrics.reply_count;\n    if (i === 0) tweets[0] = tweet;\n    else tweets.push(tweet);\n    this.setState({tweets});\n  }\n\n\n  newFrameToTop = (id) => {\n    const newZ = getNewZIndices(id, this.state.zIndicesFrames);\n    this.setState({zIndicesFrames: newZ});\n    // console.log(\"ZZZ\", this.state.zIndices);\n  }\n\n  newIconToTop = (id) => {\n    console.log(\"id\", id)\n    const newZ = getNewZIndices(id, this.state.zIndicesIcons);\n    this.setState({zIndicesIcons: newZ});\n    // console.log(\"ZZZ\", this.state.zIndices);\n  }\n\n  onDblClick = (id) => {\n    // console.log(id);\n    this.newFrameToTop(id);\n  }\n\n  render() {\n    const {confessions, tweets, time, zIndicesIcons, zIndicesFrames} = this.state;\n\n    return (\n      <div className=\"WaveForms Sketch\">\n        {\n          confessions.map((confession, i) => {\n            const props = {\n              zIcon: zIndicesIcons[i],\n              zFrame: zIndicesFrames[i],\n              time: time,\n              tweet: tweets[i],\n              confession: confessions[i],\n              onDblClick: this.onDblClick,\n              newFrameToTop: this.newFrameToTop,\n              newIconToTop: this.newIconToTop,\n            }\n            return(<Confession key={i} i={i}  {...props}/>)\n          })\n        }\n        <Glasses y={30} />\n      </div>\n    );\n  }\n}\n\n\n\nexport default Confessions;\n","import React from 'react';\nimport Frame from '../../shared/Frame/Frame';\nimport './Altar.css';\n\n// import leftImg from \"./assets/zoom/left.png\";\n// import midImg from \"./assets/zoom/mid.png\"\n\nimport ReactPlayer from 'react-player'\n\n// import mainVid from './assets/wave_tunnel.mp4';\n// import dove from './assets/dove2.gif';\n// import altar from './assets/altars/altar.jpg';\n// import redWine from './assets/redwine.gif';\n\n\nimport Webcam from \"react-webcam\";\n\nclass Altar extends React.Component {\n  // https://codepen.io/JohJakob/pen/YPxgwo\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      windowWidth: window.innerWidth,\n      windowHeight: window.innerHeight\n    }\n\n    this.videoConstraints = {\n      width: 128,\n      height: 72,\n      facingMode: \"user\"\n    };\n    this.memberRef0 = React.createRef();\n    this.memberRef1 = React.createRef();\n    this.memberRef2 = React.createRef();\n    this.mainRef = React.createRef();\n\n\n  }\n\n\n\n\n  render() {\n\n    return (\n      <div className=\"Altar Sketch\">\n        <div className=\"topVids\">\n          <div className=\"member\" ref={this.memberRef0}>\n            <Frame className=\"static\" content={\n                <Webcam videoConstraints={this.videoConstraints} />\n              }\n              x={0} y={0} width={230} height={130}\n              />\n          </div>\n          <div className=\"member\" ref={this.memberRef0}>\n            <Frame className=\"static\" content={\n                /* <img height={130} width={230} src=\"https://media4.giphy.com/media/UiwxIx9BElaVi/giphy.gif?cid=ecf05e47a8bbe3d9385a466e6febc98bd9d83fe2e23ed054&rid=giphy.gif\" />*/\n                <Webcam videoConstraints={this.videoConstraints} />\n              }\n              x={0} y={0} width={230} height={130}\n              />\n          </div>\n          <div className=\"member\">\n            <Frame className=\"static\" content={\n\n                <Webcam videoConstraints={this.videoConstraints} />\n\n              }\n              x={0} y={0} width={230} height={130}\n              />\n\n          </div>\n        </div>\n        <div className=\"mainVid\">\n          <Frame className=\"static\" content={\n              /*<img src={altar} height={370} width={600} />*/\n              <Webcam videoConstraints={this.videoConstraints} />\n            }\n            x={0} y={0} width={600} height={370}\n            />\n\n        </div>\n        {getFooter()}\n      </div>\n    );\n  }\n\n}\n\nfunction getFooter() {\n  return(\n    <footer>\n      {/* <img className=\"zoom-left\" src={leftImg} />\n    <img className=\"zoom-mid\" src={midImg} />*/}\n  </footer>\n);\n}\n\n\nexport default Altar;\n","import React from 'react';\nimport Frame from '../../shared/Frame/Frame';\n// import './Loop.css';\n// Babylon\nimport { Scene, AnaglyphUniversalCamera, UniversalCamera,PostProcess, Effect, HemisphericLight, Vector3, Vector2, SceneLoader,AssetContainer, MeshBuilder, StandardMaterial,  VideoTexture, CubeTexture, Color3,Color4, Mesh, Texture } from 'babylonjs';\nimport BabylonScene from '../../shared/Babylon.jsx';\nimport { WaterMaterial } from 'babylonjs-materials';\n\nvar camera, water, waterMesh;\nvar tubes = [];\nvar seed = 1;\n\nclass MoonLight extends React.Component {\n  // https://codepen.io/JohJakob/pen/YPxgwo\n  constructor(props) {\n    super(props);\n\n    // this.imgW = 350;\n\n    this.state = {\n    }\n\n  }\n\n\n  componentDidMount() {\n\n  }\n\n  componentWillUnmount() {\n\n  }\n\n\n  mod(a, b) {\n    return (((a % b) + b) % b);\n  }\n\n  onSceneReady(scene) {\n    // const camera = new UniversalCamera(\"UniversalCamera\", new Vector3(0, 1, -25), scene);\n    camera = new AnaglyphUniversalCamera(\"af_cam\", new Vector3(0,8, -5), 0.033, scene);\n    scene.clearColor = new Color4(0, 0, 0, 0);\n    camera.setTarget(new Vector3(11, 4, -2));\n\n    const canvas = scene.getEngine().getRenderingCanvas();\n    // camera.attachControl(canvas, true);\n\n    const light = new HemisphericLight(\"light1\", new Vector3(0, 1, 0), scene);\n    light.intensity = 0.7;\n\n\n\n    // Water\n    waterMesh = Mesh.CreateGround(\"waterMesh\", 512, 512, 32, scene, false);\n    waterMesh.position.y = -9;\n    water = new WaterMaterial(\"water\", scene, new Vector2(1024, 1024));\n    water.backFaceCulling = true;\n    water.bumpTexture = new Texture(window.AWS+\"/shared/waterbump.png\", scene);\n    water.windForce = -5;\n    water.waveHeight = 0.8;\n    water.bumpHeight = 0.3;\n    water.waveLength = 0.3;\n    water.colorBlendFactor = 0;\n    waterMesh.material = water;\n\n    // Skybox\n    var skyW = 1000;\n    var skybox = Mesh.CreateBox(\"skyBox\", skyW, scene);\n    var skyboxMaterial = new StandardMaterial(\"skyBox\", scene);\n    skyboxMaterial.backFaceCulling = false;\n    skyboxMaterial.reflectionTexture = new CubeTexture(window.AWS+\"/shared/sky/moon/moon\", scene);\n    skyboxMaterial.reflectionTexture.coordinatesMode = Texture.SKYBOX_MODE;\n    skyboxMaterial.diffuseColor = new Color3(0, 0, 0);\n    skyboxMaterial.specularColor = new Color3(0, 0, 0);\n    skyboxMaterial.disableLighting = true;\n    skybox.material = skyboxMaterial;\n    water.addToRenderList(skybox);\n\n\n    // Ground\n    var groundTexture = new Texture(window.AWS+\"/shared/black_sand.jpg\", scene);\n    groundTexture.vScale = groundTexture.uScale = 10;\n    var groundMaterial = new StandardMaterial(\"groundMaterial\", scene);\n    groundMaterial.diffuseTexture = groundTexture;\n    var ground = Mesh.CreateGround(\"ground\", 512, 512, 32, scene, false);\n    ground.position.y = -10;\n    ground.material = groundMaterial;\n    water.addToRenderList(ground);\n\n\n\n    // drain\n    // var drainTex = new BABYLON.Texture(window.AWS+\"/mars/drain1.png\", scene);\n    // addDrain(scene);\n    // loadWhale(scene);\n    // addInnerTubes(4, scene, water);\n    // addSwimmer(scene);\n\n    Effect.ShadersStore[\"customFragmentShader\"] = `\n    #ifdef GL_ES\n    precision highp float;\n    #endif\n\n    // Samplers\n    varying vec2 vUV;\n    uniform sampler2D textureSampler;\n\n    // Parameters\n    uniform vec2 screenSize;\n    uniform float threshold;\n\n    void main(void)\n    {\n      vec2 texelSize = vec2(1.0 / screenSize.x, 1.0 / screenSize.y);\n      vec4 baseColor = texture2D(textureSampler, vUV);\n\n\n      if (baseColor.r < threshold) {\n        gl_FragColor = baseColor;\n      } else {\n        gl_FragColor = vec4(0);\n      }\n    }\n    `;\n\n    var postProcess = new PostProcess(\"My custom post process\", \"custom\", [\"screenSize\", \"threshold\"], null, 0.25, camera);\n    postProcess.onApply = function (effect) {\n      effect.setFloat2(\"screenSize\", postProcess.width, postProcess.height);\n      effect.setFloat(\"threshold\", 0.8);\n    };\n  }\n\n\n  onRender(scene) {\n    let divFps = document.getElementById(\"fps\");\n    if (divFps) divFps.innerHTML = scene.getEngine().getFps().toFixed() + \" fps\";\n  }\n\n\n\n  render() {\n\n    let mapDivs = [];\n\n\n    return (\n      <div className=\"Loop Sketch\" ref={this.divRef} onWheel = {(e) => this.wheel(e)}>\n        {/*   <video ref={this.cloudsRef} autoPlay muted loop className=\"backgroundCover\">\n        <source src={cloudsVid} type=\"video/mp4\" ></source>\n        Your browser does not support HTML5 video.\n        </video>*/}\n\n        { <BabylonScene  className=\"noSelect backgroundCover\" antialias onSceneReady={this.onSceneReady} onRender={this.onRender} id='babylon-canvas' />}\n\n  </div>\n);\n}\n\n}\n\n\n\n\nexport default MoonLight;\n","import React from 'react';\nimport Frame from '../../shared/Frame/Frame';\nimport DesktopIcon from '../../shared/DesktopIcon/DesktopIcon';\n// import FrameSimple from '../../shared/Frame/FrameSimple';\nimport './Loop.css';\n// import ReactScrollWheelHandler from \"react-scroll-wheel-handler\";\n// import Balloon from './assets/balloonsprite.png';\n// import cloudsVid from  \"../MacbookAir/assets/clouds3d.mp4\";\n// import folder from  \"./assets/folder.png\";\n\n// Babylon\nimport { Scene, AnaglyphUniversalCamera, UniversalCamera,PostProcess, Effect, HemisphericLight, Vector3, Vector2, SceneLoader,AssetContainer, MeshBuilder, StandardMaterial,  VideoTexture, CubeTexture, Color3,Color4, Mesh, Texture } from 'babylonjs';\nimport BabylonScene from '../../shared/Babylon.jsx';\nimport { WaterMaterial } from 'babylonjs-materials';\n\n\nvar camera, water, waterMesh;\nvar tubes = [];\nvar seed = 1;\n\n\n\nclass Loop extends React.Component {\n  // https://codepen.io/JohJakob/pen/YPxgwo\n  constructor(props) {\n    super(props);\n\n    // this.imgW = 350;\n    this.numFrames = 15;\n    this.imgW = 450;\n    this.imgH = 254;\n    this.state = {\n      deltaX: 0,\n      deltaY: 0,\n      startX: (window.innerWidth-this.numFrames*15-this.imgW*1-50)/2,\n      startY: (window.innerHeight-this.numFrames*15+50)/2,\n      imageIndex: 0,\n      mapDivs: []\n    }\n\n    this.divRef = React.createRef();\n    this.preventDefault = e => e.preventDefault()\n\n    this.numImages = 51;\n\n    this.wheel = this.wheel.bind(this);\n    // this.setImages = this.setImages.bind(this);\n  }\n\n\n  componentDidMount() {\n    this.divRef.current.addEventListener('wheel', this.preventDefault);\n    this.setImages();\n\n    this.props.userSetRoom(\"xfinity-depths\");\n  }\n\n  componentWillUnmount() {\n    this.divRef.current.removeEventListener('wheel', this.preventDefault);\n    this.props.userLeaveRoom(\"xfinity-depths\");\n  }\n\n\n  setImages = () => {\n    const {imageIndex} = this.state;\n    const mapDivs = [...this.state.mapDivs];\n    for (let i = 0; i < this.numFrames; i++) {\n      mapDivs[i] = this.mod((imageIndex+i*2)* this.imgW, this.imgW*this.numImages);\n    }\n    this.setState({mapDivs});\n  }\n\n  wheel(e) {\n    var deltaY = this.state.deltaY + e.deltaY;\n\n    var imageIndex = deltaY / 40;\n    imageIndex = Math.floor(imageIndex);\n    imageIndex = this.mod(imageIndex, this.numImages);\n\n    const mapDivs = [...this.state.mapDivs];\n    for (let i = 0; i < this.numFrames; i++) {\n      mapDivs[i] = this.mod((imageIndex+i*2)* this.imgW, this.imgW*this.numImages);\n    }\n\n    this.setState({deltaY, imageIndex, mapDivs});\n    // this.setImages();\n\n    // console.log(imageIndex);\n    return false;\n  }\n\n  mod(a, b) {\n    return (((a % b) + b) % b);\n  }\n\n  onSceneReady(scene) {\n    // const camera = new UniversalCamera(\"UniversalCamera\", new Vector3(0, 1, -25), scene);\n    camera = new AnaglyphUniversalCamera(\"af_cam\", new Vector3(0,8, -5), 0.033, scene);\n    scene.clearColor = new Color4(0, 0, 0, 0);\n    camera.setTarget(new Vector3(11, 3, -2));\n\n    const canvas = scene.getEngine().getRenderingCanvas();\n    // camera.attachControl(canvas, true);\n\n    const light = new HemisphericLight(\"light1\", new Vector3(0, 1, 0), scene);\n    light.intensity = 0.7;\n\n\n\n    // Water\n    waterMesh = Mesh.CreateGround(\"waterMesh\", 512, 512, 32, scene, false);\n    waterMesh.position.y = -9;\n    water = new WaterMaterial(\"water\", scene, new Vector2(1024, 1024));\n    water.backFaceCulling = true;\n    water.bumpTexture = new Texture(window.AWS+\"/shared/waterbump.png\", scene);\n    water.windForce = -5;\n    water.waveHeight = 0.8;\n    water.bumpHeight = 0.3;\n    water.waveLength = 0.3;\n    water.colorBlendFactor = 0;\n    waterMesh.material = water;\n\n    // Skybox\n    // var skyW = 1000;\n    // var skybox = Mesh.CreateBox(\"skyBox\", skyW, scene);\n    // var skyboxMaterial = new StandardMaterial(\"skyBox\", scene);\n    // skyboxMaterial.backFaceCulling = false;\n    // skyboxMaterial.reflectionTexture = new CubeTexture(window.AWS+\"/shared/sky/moon/moon\", scene);\n    // skyboxMaterial.reflectionTexture.coordinatesMode = Texture.SKYBOX_MODE;\n    // skyboxMaterial.diffuseColor = new Color3(0, 0, 0);\n    // skyboxMaterial.specularColor = new Color3(0, 0, 0);\n    // skyboxMaterial.disableLighting = true;\n    // skybox.material = skyboxMaterial;\n    // water.addToRenderList(skybox);\n\n\n    // Ground\n    var groundTexture = new Texture(window.AWS+\"/shared/sand2.jpg\", scene);\n    groundTexture.vScale = groundTexture.uScale = 10;\n    var groundMaterial = new StandardMaterial(\"groundMaterial\", scene);\n    groundMaterial.diffuseTexture = groundTexture;\n    var ground = Mesh.CreateGround(\"ground\", 512, 512, 32, scene, false);\n    ground.position.y = -10;\n    ground.material = groundMaterial;\n    water.addToRenderList(ground);\n\n\n\n    // drain\n    // var drainTex = new BABYLON.Texture(window.AWS+\"/mars/drain1.png\", scene);\n    // addDrain(scene);\n    // loadWhale(scene);\n    // addInnerTubes(4, scene, water);\n    // addSwimmer(scene);\n\n    // Effect.ShadersStore[\"customFragmentShader\"] = `\n    // #ifdef GL_ES\n    // precision highp float;\n    // #endif\n    //\n    // // Samplers\n    // varying vec2 vUV;\n    // uniform sampler2D textureSampler;\n    //\n    // // Parameters\n    // uniform vec2 screenSize;\n    // uniform float threshold;\n    //\n    // void main(void)\n    // {\n    //   vec2 texelSize = vec2(1.0 / screenSize.x, 1.0 / screenSize.y);\n    //   vec4 baseColor = texture2D(textureSampler, vUV);\n    //\n    //\n    //   if (baseColor.r < threshold) {\n    //     gl_FragColor = baseColor;\n    //   } else {\n    //     gl_FragColor = vec4(0);\n    //   }\n    // }\n    // `;\n    //\n    // var postProcess = new PostProcess(\"My custom post process\", \"custom\", [\"screenSize\", \"threshold\"], null, 0.25, camera);\n    // postProcess.onApply = function (effect) {\n    //   effect.setFloat2(\"screenSize\", postProcess.width, postProcess.height);\n    //   effect.setFloat(\"threshold\", 0.8);\n    // };\n  }\n\n\n  onRender(scene) {\n    let divFps = document.getElementById(\"fps\");\n    if (divFps) divFps.innerHTML = scene.getEngine().getFps().toFixed() + \" fps\";\n  }\n\n\n\n  render() {\n\n\n    return (\n      <div className=\"Loop Sketch\" ref={this.divRef} onWheel = {(e) => this.wheel(e)}>\n        {/*   <video ref={this.cloudsRef} autoPlay muted loop className=\"backgroundCover\">\n        <source src={cloudsVid} type=\"video/mp4\" ></source>\n        Your browser does not support HTML5 video.\n        </video>*/}\n\n        { <BabylonScene  className=\"noSelect backgroundCover\" antialias onSceneReady={this.onSceneReady} onRender={this.onRender} id='babylon-canvas' />}\n\n\n        {this.state.mapDivs.map((balloonX, i) => {\n          const opac = (i+1)*(1/this.numFrames);\n          // console.log();\n          const val = this.state.imageIndex * this.imgW;\n          return(<Frame windowStyle={{opacity:opac}} content={\n            <div className=\"balloon\" style={{backgroundPosition: `${val}px 0px`, width: this.imgW, height:this.imgH}}></div>\n          }\n          key={i} width={this.imgW} height={this.imgH} isControlled={false} x={this.state.startX+i*15} y={this.state.startY-i*15} z={1}\n          />\n      );\n\n    })}\n\n    {/*   <DesktopIcon x={100} y={100} width={60} height={90} title=\"dip\" content={\n      <img src={folder} width={60} height={60} />\n      }\n      />\n      <DesktopIcon x={100} y={220} width={60} height={90} title=\"dive\" content={\n      <img src={folder} width={60} height={60} />\n      }\n      />\n\n      <DesktopIcon x={100} y={340} width={60} height={90} title=\"descend\" content={\n      <img src={folder} width={60} height={60} />\n      }\n      />*/}\n    </div>\n  );\n}\n\n}\n\n\n\n\nexport default Loop;\n","// note to self\n// table for two\n// bunch of faces, different times, times scatter around.\n// young again\n//try taking pic of dining room setup\n\n// can you see my now?\n// confessions of a narcisist\n\n// body, flat face, replaced with texture. arms robotic drinking wine\nimport React from 'react';\nimport Frame from '../../shared/Frame/Frame';\n// import DesktopIcon from '../../shared/DesktopIcon/DesktopIcon';\n// import './Loop.css';\n// Babylon\nimport { Scene, AnaglyphUniversalCamera, UniversalCamera,PostProcess, Effect, HemisphericLight, Vector3, Vector2, SceneLoader,AssetContainer, MeshBuilder, StandardMaterial,  VideoTexture, CubeTexture, Color3,Color4, Mesh, Texture } from 'babylonjs';\nimport BabylonScene from '../../shared/Babylon.jsx';\n\n// import candles0 from './assets/candles0.gif';\n// import candles1 from './assets/candles1.gif';\n\nvar camera;\nvar seed = 1;\nvar bottle;\nvar bottles = [];\n\nclass Dinner extends React.Component {\n  // https://codepen.io/JohJakob/pen/YPxgwo\n  constructor(props) {\n    super(props);\n\n    this.state = {\n    }\n  }\n\n\n  componentDidMount() {\n  }\n\n  componentWillUnmount() {\n  }\n\n\n  mod(a, b) {\n    return (((a % b) + b) % b);\n  }\n\n  onSceneReady(scene) {\n    // const camera = new UniversalCamera(\"UniversalCamera\", new Vector3(0, 1, -25), scene);\n    camera = new AnaglyphUniversalCamera(\"af_cam\", new Vector3(0,2, 0), 0.033, scene);\n    scene.clearColor = new Color4(0, 0, 0, 0);\n    camera.setTarget(new Vector3(0, 1, 10));\n\n    const canvas = scene.getEngine().getRenderingCanvas();\n    camera.attachControl(canvas, true);\n\n    const light = new HemisphericLight(\"light1\", new Vector3(0, 1, 0), scene);\n    light.intensity = 0.7;\n\n\n\n    // Skybox\n    var skyW = 500;\n    var skybox = Mesh.CreateBox(\"skyBox\", skyW, scene);\n    var skyboxMaterial = new StandardMaterial(\"skyBox\", scene);\n    skyboxMaterial.backFaceCulling = false;\n    skyboxMaterial.reflectionTexture = new CubeTexture(window.AWS+\"/dinner/skybox/dinner\", scene);\n    skyboxMaterial.reflectionTexture.coordinatesMode = Texture.SKYBOX_MODE;\n    skyboxMaterial.diffuseColor = new Color3(0, 0, 0);\n    skyboxMaterial.specularColor = new Color3(0, 0, 0);\n    skyboxMaterial.disableLighting = true;\n    skybox.material = skyboxMaterial;\n\n\n    // Ground\n    var groundTexture = new Texture(window.AWS+\"/dinner/table.jpg\", scene);\n    groundTexture.vScale = groundTexture.uScale = 1;\n    var groundMaterial = new StandardMaterial(\"groundMaterial\", scene);\n    groundMaterial.diffuseTexture = groundTexture;\n    var ground = Mesh.CreateGround(\"ground\", 12, 8, 32, scene, false);\n    ground.position.y = -1;\n    ground.position.z = 10;\n    ground.material = groundMaterial;\n\n\n    var planeTop = Mesh.CreatePlane(\"sphere1\", {width:5, height:1}, scene);\n    planeTop.rotation.z = Math.PI;\n    planeTop.rotation.y = -Math.PI/2;\n    planeTop.position.x = -2;\n    planeTop.position.z = 10;\n    planeTop.position.y = 2;\n    var matTop = new StandardMaterial(\"mat\", scene);\n    matTop.diffuseColor = new Color3(0, 0, 0);\n    planeTop.material = matTop;\n\n    var plane = Mesh.CreatePlane(\"sphere1\", 5, scene);\n    plane.rotation.z = Math.PI;\n    plane.rotation.y = -Math.PI/2;\n    plane.position.x = -5;\n    plane.position.z = 10;\n    plane.position.y = 2;\n\n    var plane2 = Mesh.CreatePlane(\"sphere2\", 5, scene);\n    plane2.rotation.z = Math.PI;\n    plane2.rotation.y = Math.PI/2;\n    plane2.position.x = 5;\n    plane2.position.z = 10;\n    plane2.position.y = 2;\n\n    // Move the sphere upward 1/2 its height\n\n    var mat = new StandardMaterial(\"mat\", scene);\n    mat.diffuseColor = new Color3(.1, .1, .1);\n    VideoTexture.CreateFromWebCam(scene, function(videoTexture) {\n      // videoTexture.scaling.x = -1;\n      mat.emissiveTexture = videoTexture;\n      console.log(videoTexture);\n      plane.material = mat;\n      plane2.material = mat;\n      plane2.scaling.x = -1;\n    }, { maxWidth: 256, maxHeight: 256 });\n\n\n    addBottles(scene);\n  }\n\n\n  onRender(scene) {\n    let divFps = document.getElementById(\"fps\");\n    if (divFps) divFps.innerHTML = scene.getEngine().getFps().toFixed() + \" fps\";\n  }\n\n\n\n  render() {\n\n    var candles=[1, 1, 1, 1, 1,1];\n    return (\n      <div className=\"Dinner Sketch\" >\n      {/*   <video ref={this.cloudsRef} autoPlay muted loop className=\"backgroundCover\">\n      <source src={cloudsVid} type=\"video/mp4\" ></source>\n      Your browser does not support HTML5 video.\n      </video>*/}\n\n      { <BabylonScene  className=\"noSelect backgroundCover\" antialias onSceneReady={this.onSceneReady} onRender={this.onRender} id='babylon-canvas' />}\n      <Frame title=\"\" x={400} y={400} width={400} content={\n        <img src={window.AWS+\"/dinner/candles0.gif\"} width={\"100%\"} height={\"100%\"} />\n      }\n\n      />\n\n      {candles.map((id, i) => {\n        let y = 500+50*Math.sin(i*Math.PI/5);\n        console.log(i, y);\n        let w = 100 + 80*Math.sin(i*Math.PI/5);\n        return (\n          <Frame key={i} title=\"\" x={500+i*80} y={y} width={100} content={\n            <img src={window.AWS+\"/dinner/candles0.gif\"} width={\"100%\"} height={\"100%\"} />\n          }\n\n          />\n        );\n      })}\n\n\n      </div>\n    );\n  }\n\n}\n\n\nfunction addBottles(scene) {\n  var container = new AssetContainer(scene);\n  var url = process.env.PUBLIC_URL + \"/assets/dinner/bottle/\"\n  SceneLoader.LoadAssetContainer(url, \"Wine_Bottle_Red.obj\", scene, function (container) {\n    var meshes = container.meshes;\n    var materials = container.materials;\n\n    bottle = meshes[0];\n    bottle.scaling = new Vector3(4.0, 4.0, 4.0);\n\n    container.addAllToScene();\n\n    // var mat = new StandardMaterial(\"sphereMaterial\", scene);\n    // mat.specularTexture = new Texture(\"/textures/specularglossymap.png\", scene);\n    // mat.specularPower = 64;\n    // mat.useGlossinessFromSpecularMapAlpha = true;\n    // mat.diffuseColor = Color3.Black();\n    // mat.roughness = 3;\n    // mat.alpha = .7;\n\n    // var skyReflect = new CubeTexture(\"/textures/TropicalSunnyDay\", scene);\n    // mat.reflectionTexture = skyReflect;\n\n    // var mat = new StandardMaterial(\"blueMat\", scene);\n    // mat.diffuseColor = new Color3(1, 1, 1);\n    // mat.alpha = 1;\n    // bottle.material = mat;\n\n\n    var newInstance = bottle.createInstance(\"0\");\n    newInstance.position.x = 0;\n    newInstance.position.y = 1;\n    newInstance.position.z = 3;\n    // newInstance.rotation.y = Math.random()*Math.PI*2;\n    // newInstance.rotation.x = 0;\n    // newInstance.rotation.z = Math.PI/2;//+ (-.3+Math.random()*.6);\n    bottles.push(newInstance);\n  });\n\n}\n\n\nexport default Dinner;\n","import React, { Component } from \"react\";\nimport ReactDOM from \"react-dom\";\nimport * as THREE from \"three\";\nimport './Three.css';\n\nvar AnaglyphEffect = require('./assets/AnaglyphEffect')(THREE);\n\n\n\nclass Three extends Component {\n\n  constructor(props) {\n    super(props);\n\n    this.mount = React.createRef();\n  }\n\n  componentDidMount() {\n    // === THREE.JS CODE START ===\n\n    var scene, camera, renderer, effect;\n    var spheres = [];\n\n    var init = function(mount) {\n      scene = new THREE.Scene();\n\n      // var width = 812; //window.innerWidth || 2;\n      // var height = 612; //window.innerHeight || 2;\n      var width = window.innerWidth || 2;\n      var height = window.innerHeight || 2;\n\n      camera = new THREE.PerspectiveCamera( 75, width/height, 0.1, 1000 );\n      renderer = new THREE.WebGLRenderer();\n      renderer.setSize( width, height );\n      mount.appendChild( renderer.domElement );\n\n\n      const path = window.AWS+\"/three/3D/hole.jpg\";\n      effect = new AnaglyphEffect( renderer, path, width, height);\n      effect.setSize( width, height );\n      // effect.setSize( 512, 512 );\n\n      // TODO effect.setSize( window.innerWidth, window.innerHeight );\n    }\n\n    var init2 = function() {\n      var path = process.env.PUBLIC_URL + \"/assets/three/pisa/\";\n      var format = '.png';\n      var urls = [\n        path + 'px' + format, path + 'nx' + format,\n        path + 'py' + format, path + 'ny' + format,\n        path + 'pz' + format, path + 'nz' + format\n      ];\n\n      var textureCube = new THREE.CubeTextureLoader().load( urls );\n      var geometry = new THREE.SphereBufferGeometry( 0.1, 32, 16 );\n      var material = new THREE.MeshBasicMaterial( { color: 0xffffff, envMap: textureCube } );\n\n      for ( var i = 0; i < 500; i ++ ) {\n\n        var mesh = new THREE.Mesh( geometry, material );\n\n        mesh.position.x = Math.random() * 10 - 5;\n        mesh.position.y = Math.random() * 10 - 5;\n        mesh.position.z = Math.random() * 100 - 100;\n\n        mesh.scale.x = mesh.scale.y = mesh.scale.z = Math.random() * 3 + 1;\n\n        scene.add( mesh );\n\n        spheres.push( mesh );\n\n      }\n    }\n\n    var animate = function () {\n      requestAnimationFrame( animate );\n\n      var timer = 0.0001 * Date.now();\n      for ( var i = 0, il = spheres.length; i < il; i ++ ) {\n        var sphere = spheres[ i ];\n        sphere.position.x = 5 * Math.cos( timer + i );\n        sphere.position.y = 5 * Math.sin( timer + i * 1.1 );\n\n      }\n      // renderer.render( scene, camera );\n      effect.render( scene, camera );\n    };\n\n\n    init(this.mount);\n    init2();\n    animate();\n    // === THREE.JS EXAMPLE CODE END ===\n  }\n\n  render() {\n    return (\n      <div className=\"Three\" ref={ref => (this.mount = ref)} />\n    )\n  }\n}\n\nexport default Three;\n","import React from 'react';\nimport Frame from '../../shared/Frame/Frame';\nimport DesktopIcon from '../../shared/DesktopIcon/DesktopIcon';\n// import FrameSimple from '../../shared/Frame/FrameSimple';\nimport './Dig.css';\n\n\nclass Dig extends React.Component {\n  // https://codepen.io/JohJakob/pen/YPxgwo\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      numFrames: 0\n    }\n\n    this.clicked = this.clicked.bind(this);\n    this.getFrames = this.getFrames.bind(this);\n  }\n\n\n  componentDidMount() {\n    // document.body.classList.add('overflow-all');\n    this.props.addClass(\"overflow-all\");\n\n  }\n\n  componentWillUnmount() {\n  }\n\n\n  mod(a, b) {\n    return (((a % b) + b) % b);\n  }\n\n  onDblClick(i) {\n    console.log(i);\n    let {numFrames} = this.state;\n    numFrames++;\n    this.setState({numFrames});\n  }\n\n  render() {\n\n    let mapDivs = [];\n    const box = {x: 400, y: 400, w: 400, h: 200};\n\n    return (\n      <div className=\"Dig\" ref={this.divRef} >\n\n        <DesktopIcon disableWindow={true} onDblClick={this.onDblClick.bind(this)} x={100} y={220} width={60} height={90} title=\"dive\" box={box}\n          title={\"z-axis\"}\n          content={\n            <img src={window.AWS + \"/loop/folder.png\"} width={80} height={80} />\n          }\n          frameContent={\n            <div className=\"test\">blue pill</div>\n          }\n          />\n\n        {this.getFrames()}\n      </div>\n    );\n  }\n\n  clicked(id) {\n    let {numFrames} = this.state;\n    numFrames++;\n    this.setState({numFrames});\n  }\n\n  getFrames() {\n    const {numFrames} = this.state;\n    let frames = [];\n    for (let i = 0; i < numFrames; i++) {\n      frames[i] = i;\n    }\n\n    return (\n      <div className=\"openedFrames\">\n        {frames.map((frame) => {\n          const framesW = 20;\n          const startX = 100;\n          const direction = Math.floor(frame/framesW);\n          let x = 0;\n          if (direction %2 == 0) x = startX + frame%framesW*20;\n          else x = startX + framesW*20 - frame%framesW*20;\n          return <Frame handle={\".App\"} key={frame} x={x} y={100+frame*20} width={400} height={300} title=\"work\" windowStyle={{background: \"red\"}} content={\n              <div onDblClick={() => {this.clicked(frame)}}>\n                <img src={window.AWS + \"/loop/folder.png\"} width={20} height={20} />\n                <span>go deeper</span>\n              </div>\n            } />\n          })}\n        </div>\n      )\n\n    }\n\n  }\n\n\n\n\n  export default Dig;\n","import React from 'react';\nimport {Link} from 'react-router-dom';\nimport './Pages.css';\n\nfunction About() {\n  return (\n      <div className=\"Page\">\n\n        <div className=\"About Sketch\">\n          <div className=\"container\">\n            <h1>Artist Statement</h1>\n            <p>Thinking about the simultaneous collapse / expansion of space during quarantine.</p>\n            <ul>\n              <li>2D & multi-dimensional</li>\n              <li>confined but digitally liberated</li>\n            </ul>\n            <p>Thinking about \"home\" in quarantine. Home pages, home spaces.</p>\n            <ul>\n              <li>safe haven & prison</li>\n            </ul>\n            <p>Thinking about access to digital spaces in quarantine.</p>\n            <ul>\n              <li>\"same boat, different storm\"</li>\n            </ul>\n          </div>\n        </div>\n    </div>\n  );\n}\n\nexport default About;\n","import React from 'react';\nimport {Link} from 'react-router-dom';\nimport './Pages.css';\n\nfunction Credits() {\n  return (\n    <div className=\"Frame-box\">\n    <div className=\"Page\">\n    <div className=\"Credits\">\n    <div className=\"container\">\n    <h1>Credits</h1>\n    <h2><Link to=\"/macbook-air\">Macbook Air</Link></h2>\n    <p>\n    <ul>\n    <li>thanks to Google for the <a href=\"https://poly.google.com/view/8Qwgncb6dJT\">Umbrella Palm Tree</a>, licensed under CC BY 2.0</li>\n    <li>thanks to bhgilad for the <a href=\"https://www.turbosquid.com/3d-models/80s-pool-chair-3d-model-1489585\">pool chair</a></li>\n    </ul>\n    </p>\n    <h2><Link to=\"/hard-drives-on-seashores\">Hard Drives on Seashores</Link></h2>\n    <p>\n    <ul>\n    <li>thanks to Google for the <a href=\"https://poly.google.com/view/8Qwgncb6dJT\">Umbrella Palm Tree</a>, licensed under CC BY 2.0</li>\n    <li>thanks to Slanted Studios for the <a href=\"https://giphy.com/media/l3Uchq9s6Hx0aK8F2/giphy.gif\">bird gif</a></li>\n    </ul>\n    </p>\n    <h2><Link to=\"/jungle-gyms\">Jungle Gyms</Link></h2>\n    <p>\n    <ul>\n    <li>special thanks to <a href=\"https://github.com/1j01/pipes/blob/master/screensaver.js\">Isaiah Odhner for the pipes code</a></li>\n    </ul>\n    </p>\n    </div>\n    </div>\n    </div>\n    </div>\n  );\n}\n\n\nexport default Credits;\n","import React from 'react';\n\nfunction NotFound() {\n  return (\n    <div>\n      <h1>NotFound</h1>\n    </div>\n  );\n}\n\nexport default NotFound;\n","import React from 'react';\nimport './SignIn.css';\n\nimport Frame from '../Frame/Frame';\n\nimport Input from '@material-ui/core/Input';\nimport Button from '@material-ui/core/Button';\n\nclass SignIn extends React.Component {\n  // https://codepen.io/JohJakob/pen/YPxgwo\n  constructor(props) {\n    super(props);\n\n    // const {avatar, userName} = this.props.user;\n\n    this.state = {\n      user: {avatar:\"\", userName:\"\"}\n    }\n\n    this.setAvatarBar = this.setAvatarBar.bind(this);\n    this.setUserName = this.setUserName.bind(this);\n    this.handleSubmit = this.handleSubmit.bind(this);\n    this.onHide = this.onHide.bind(this);\n  }\n\n  // basically, don't re-render this component unless that signin window\n  // has opened?\n  // have to check both nextProps && this props. not exactly sure of\n  // explanation at the moment\n  shouldComponentUpdate(nextProps) {\n    return (\n      nextProps.showSignIn || this.props.showSignIn || (nextProps.hasAvatar !== this.props.hasAvatar)\n    );\n  }\n\n  componentDidUpdate(prevProps) {\n    if (prevProps.hasAvatar !== this.props.hasAvatar) {\n      const user = {...this.state.user};\n      user.avatar = this.props.user.avatar;\n      user.userName = this.props.user.userName;\n      this.setState({user});\n    }\n  }\n\n\n  setAvatarBar(emoji) {\n    const user = {...this.state.user};\n    user.avatar = emoji;\n    this.setState({user});\n  }\n\n  setUserName(evt) {\n    const user = {...this.state.user};\n    user.userName = evt.target.value;\n    this.setState({user});\n    // this.props.userUpdated()\n  }\n\n  handleSubmit() {\n    // if (clickedSubmit) {\n    const {avatar, userName} = this.state.user;\n    if (avatar === \"\") {\n      alert(\"Please select an emoji avatar\");\n    }\n    else if (userName === \"\") {\n      alert(\"Please set a user name\");\n    }\n    else if (userName === this.props.user.userName) {\n      console.log(\"username and props same\", userName);\n      this.props.userSet(userName, avatar);\n    }\n    // else {\n    //   this.props.userSet(avatar, userName);\n    // }alert(\"Username already taken. Please enter a new user name.\");\n    else {\n      console.log(\"check registering user\", userName);\n      this.props.userRegisterCheck(userName, avatar);\n    }\n\n    // }\n    // else {\n    //   alert(\"Creating randomized avatar and user name.\");\n    //   const num = Math.floor(Math.random()*1000);\n    //   this.props.userSet(this.getRandomEmoji(), `user-${num}`);\n    // }\n  }\n\n  getEmojis() {\n    return [\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\n    \"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\"];\n  }\n\n  getRandomEmoji() {\n    const emojis = this.getEmojis();\n    return emojis[Math.floor(Math.random()*emojis.length)];\n  }\n\n  onHide() {\n    this.handleSubmit();\n    if (this.props.hasAvatar && this.state.user.userName != \"\") this.props.closeSignIn();\n  }\n\n  render() {\n    let {user} = this.state;\n    let avatar = user.avatar===\"\"?\"\":user.avatar;\n\n    const emojis = this.getEmojis();\n    return (\n      <div className=\"SignIn\" >\n      <Frame title=\"avatar\" isHidden={!this.props.showSignIn} onHide={this.onHide} content={\n        <div className=\"SignIn-Content\">\n          <div className=\"userBar\">\n            <div className=\"avatar\">{user.avatar}</div>\n            <Input onChange={this.setUserName} value={user.userName} placeholder=\"enter user name\" inputProps={{ 'aria-label': 'user name field' }} />\n          </div>\n          <div className=\"emoji-list\">\n          {\n            emojis.map((emoji, i) => {\n              return <button key={i} onClick={() => this.setAvatarBar(emoji)}>{emoji}</button>\n            })\n          }\n          </div>\n          {/* <button onClick={() => this.setAvatar(false)}>Cancel</button>*/}\n          <div className=\"submit\"><Button variant=\"outlined\" onClick={() => this.handleSubmit(true)}>Submit</Button></div>\n        </div>\n      }\n      width={500} height={400} x={100} y={100}\n      />\n      </div>\n    );\n\n\n  }\n}\n\nexport default SignIn\n","\nexport function doorCrossing(nextPos, doors) {\n  for (let d = 0; d < doors.length; d++) {\n    // if (intersects(pos.x,pos.y,nextPos.x,nextPos.y,points[p].x,points[p].y,points[p+1].x,points[p+1].y)) {\n    if (intersects(nextPos.x,nextPos.y,doors[d].x0,doors[d].y0,doors[d].x1,doors[d].y1, 30)) {\n      return doors[d].to;\n    }\n  }\n  return null;\n}\n\nexport function boundaryCrossing(nextPos, points) {\n  for (let p = 0; p < points.length - 1; p++) {\n    // if (intersects(pos.x,pos.y,nextPos.x,nextPos.y,points[p].x,points[p].y,points[p+1].x,points[p+1].y)) {\n    if (intersects(nextPos.x,nextPos.y,points[p].x,points[p].y,points[p+1].x,points[p+1].y, 30)) {\n      return true;\n    }\n  }\n  return false;\n}\n\n//https://stackoverflow.com/questions/9043805/test-if-two-lines-intersect-javascript-function\n// returns true if the line from (a,b)->(c,d) intersects with (p,q)->(r,s)\nfunction intersectsOG(a,b,c,d,p,q,r,s) {\n  var det, gamma, lambda;\n  det = (c - a) * (s - q) - (r - p) * (d - b);\n  if (det === 0) {\n    return false;\n  } else {\n    lambda = ((s - q) * (r - a) + (p - r) * (s - b)) / det;\n    gamma = ((b - d) * (r - a) + (c - a) * (s - b)) / det;\n    return (0 < lambda && lambda < 1) && (0 < gamma && gamma < 1);\n  }\n};\n\n// point p intersects with a line defined between two points, l0 and l1\nfunction intersects(px, py, l0x, l0y, l1x, l1y, w) {\n  return distToSegment({x: px, y: py}, {x: l0x, y: l0y}, {x: l1x, y: l1y}) < w;\n}\n\nfunction sqr(x) { return x * x }\nfunction dist2(v, w) { return sqr(v.x - w.x) + sqr(v.y - w.y) }\nfunction distToSegmentSquared(p, v, w) {\n  var l2 = dist2(v, w);\n  if (l2 == 0) return dist2(p, v);\n  var t = ((p.x - v.x) * (w.x - v.x) + (p.y - v.y) * (w.y - v.y)) / l2;\n  t = Math.max(0, Math.min(1, t));\n  return dist2(p, { x: v.x + t * (w.x - v.x),\n                    y: v.y + t * (w.y - v.y) });\n}\nfunction distToSegment(p, v, w) { return Math.sqrt(distToSegmentSquared(p, v, w)); }\n","import React from 'react';\nimport { Route, Switch, withRouter } from \"react-router-dom\";\n\n// import update from 'react-addons-update';\nimport update from 'immutability-helper';\n\nimport './App.css';\nimport Header from '../components/shared/Header/Header';\nimport SideBar from '../components/shared/SideBar/SideBar';\n\n// cookies\nimport Cookies from 'js-cookie';\n\n// sketches\nimport HomePage from '../components/sketches/HomePage/HomePage';\nimport Dimension from '../components/sketches/Dimension/Dimension';\nimport MacbookAir from '../components/sketches/MacbookAir/MacbookAir';\nimport ClickMe from '../components/sketches/ClickMe/ClickMe';\nimport JungleGyms from '../components/sketches/JungleGyms/JungleGyms';\nimport HardDrives from '../components/sketches/HardDrives/HardDrives';\nimport Spacetimes from '../components/sketches/Spacetimes/Spacetimes';\nimport Mars from '../components/sketches/Mars/Mars';\nimport WetStreams from '../components/sketches/WetStreams/WetStreams';\nimport WaveForms from '../components/sketches/WaveForms/WaveForms';\nimport Confessions from '../components/sketches/WaveForms/Confessions';\n\n// under construction\nimport Altar from '../components/sketches/Altar/Altar';\nimport MoonLight from '../components/sketches/MoonLight/MoonLight';\nimport Loop from '../components/sketches/Loop/Loop';\nimport Three from '../components/sketches/Three/Three';\nimport Dinner from '../components/sketches/Dinner/Dinner';\nimport Dig from '../components/sketches/Dig/Dig';\n\n// pages\nimport About from '../components/pages/About';\nimport Credits from '../components/pages/Credits';\nimport NotFound from '../components/pages/NotFound';\n\nimport Frame from '../components/shared/Frame/Frame';\nimport SignIn from '../components/shared/SignIn/SignIn';\n\nimport { MuiThemeProvider, createMuiTheme } from '@material-ui/core/styles';\nimport indigo from '@material-ui/core/colors/indigo';\nimport pink from '@material-ui/core/colors/pink';\nimport red from '@material-ui/core/colors/red';\nimport CssBaseline from '@material-ui/core/CssBaseline';\n\n\nimport socket from \"../components/shared/Socket/Socket\";\n\nimport FPSStats from \"react-fps-stats\";\nimport {doorCrossing, boundaryCrossing} from './Helpers/Boundaries';\n// import socketIOClient from \"socket.io-client\";\n// const ENDPOINT = \"http://127.0.0.1:5000\";\n\nimport dogicaFont from './assets/fonts/dogica.ttf';\n\nconst dogica = {\n  fontFamily: 'dogica',\n  fontStyle: 'normal',\n  fontDisplay: 'swap',\n  fontWeight: 400,\n  src: `\n  local('dogica'),\n  local('dogica-Regular'),\n  url(${dogicaFont}) format('ttf')\n  `,\n  unicodeRange:\n  'U+0000-00FF, U+0131, U+0152-0153, U+02BB-02BC, U+02C6, U+02DA, U+02DC, U+2000-206F, U+2074, U+20AC, U+2122, U+2191, U+2193, U+2212, U+2215, U+FEFF',\n};\n\nwindow.AWS = \"https://lmd-bucket.s3.us-east-2.amazonaws.com/sketches\";\n\n// All the following keys are optional.\n// We try our best to provide a great default value.\nconst theme = createMuiTheme({\n  palette: {\n    // type: 'dark',\n    primary: { main: indigo[300] },\n    secondary: pink,\n    error: red,\n    // Used by `getContrastText()` to maximize the contrast between the background and\n    // the text.\n    contrastThreshold: 3,\n    // Used to shift a color's luminance by approximately\n    // two indexes within its tonal palette.\n    // E.g., shift from Red 500 to Red 300 or Red 700.\n    tonalOffset: 0.2,\n\n  },\n  typography: {\n    fontFamily: 'dogica, Arial',\n    fontSize: 10,\n  },\n  overrides: {\n    // MuiCssBaseline: {\n    //   '@global': {\n    //     '@font-face': [dogica],\n    //   },\n    // },\n  },\n});\n\nclass App extends React.Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      cursor: 0,\n      cursorID: 0,\n      dimensions: {windowWidth: window.innerWidth, windowHeight: window.innerHeight, device:\"desktop\", flipped: false, orientation: \"landscape\"},\n      wOG: window.innerWidth,\n      hOG: window.innerHeight,\n      classes: \"App\",\n      showSideBar: false,\n      hasAvatar: false,\n      showSignIn: false,\n      sessionID: null,\n      usersChange: false,\n      user: {avatar:\"\", userName:\"\", room:\"\", x: 0, y: 0, hasWine: null, needsWine: false},\n      users: null,\n      userActiveChat: null,\n      messages: [],\n      room: \"home\"\n    };\n\n    const centerW = 1000;\n    this.centerPoints = [{x: 0 , y: -centerW/2},{x: centerW/2 , y: 0},{x: 0 , y: centerW/2},{x: -centerW/2 , y: 0},{x: 0 , y: -centerW/2}];\n    this.doors = [{x0: 0 , y0: -centerW/2, x1: 200, y1: -centerW/2+200, to:\"/macbook-air\"},{x0: 0 , y0: centerW/2, x1: -200, y1: centerW/2-200, to:\"/hard-drives-on-seashores\"},{x0: centerW/2 , y0: 0, x1: centerW/2-200, y1: 200, to:\"/jungle-gyms\"},];\n    //    {x0: 0 , y0: 200, x1: 200, y1: 200, to:\"/wet-streams\"}\n\n    this.wineLocation = {x: -100, y: 500, w: 80, h: 150};\n  }\n\n\n  componentDidMount() {\n    // const id = Cookies.get('hand');\n    this.socketSetup();\n    const hasAvatar = Cookies.get('hasAvatar');\n\n    if (hasAvatar) {\n      const userName = Cookies.get('userName');\n      const avatar = Cookies.get('avatar');\n      const user= {...this.state.user};\n      user.userName = userName;\n      user.avatar = avatar;\n      this.setState({user, showSignIn: false, hasAvatar: true});\n\n      if (socket.connected) {\n        user.room = this.state.room;\n        socket.emit(\"setUser\", user);\n      }\n    }\n    else {\n      console.log(\"nope\")\n      this.setState({showSignIn: true, hasAvatar: false});\n    }\n\n\n    this.updateDeviceDimensions();\n    window.addEventListener(\"resize\", this.updateDeviceDimensions);\n  }\n\n  componentWillUnmount() {\n    window.removeEventListener(\"resize\", this.updateDeviceDimensions);\n    // this.socket.disconnect();\n  }\n\n\n  componentDidUpdate() {\n    if (this.state.usersChange) this.setState({usersChange: false})\n  }\n\n  addUserMessage = (message) => {\n    // const user = {...this.state.user};\n    const messages = [...this.state.messages, message];\n    // user.messages = messages;\n    // var newUser = update(user, { messages:\n    //   {$push: [msg]}\n    // });\n\n    // console.log(\"USER UDPATE\", newUser);\n    this.setState({messages});\n  }\n\n  toggleSideBar = () => {\n    console.log(\"TOGGLED\");\n    this.setState(prevState => ({\n      showSideBar: !prevState.showSideBar\n    }));\n  }\n\n  handleDrawerClose = () => {\n    console.log(\"CLOSED\")\n    this.setState({showSideBar: false});\n  }\n\n  updateDeviceDimensions = () => {\n    var dimensions= {};\n    // width, height\n    dimensions.windowWidth = typeof window !== \"undefined\" ? window.innerWidth : 0;\n    dimensions.windowHeight = typeof window !== \"undefined\" ? window.innerHeight : 0;\n\n    // orientation and flipped\n    let ratio = this.state.wOG/this.state.hOG;\n    dimensions.flipped = false;\n    if (dimensions.windowWidth/dimensions.windowHeight !== ratio) dimensions.flipped = true;\n    dimensions.orientation = dimensions.windowWidth/dimensions.windowHeight > 1 ? \"landscape\":\"portrait\";\n\n    // device type\n    let minD = Math.min(dimensions.windowWidth, dimensions.windowHeight);\n    console.log(\"minD\", minD, dimensions.windowWidth, dimensions.windowHeight);\n    dimensions.device = \"\";\n    if (minD < 450) dimensions.device=\"mobile\";\n    else if (minD <  700) dimensions.device=\"tablet\";\n    else dimensions.device=\"desktop\";\n\n    this.setState({dimensions: dimensions});\n  }\n\n  addClass = (classn) => {\n    let classes = this.state.classes;\n    classes += \" \" + classn;\n    this.setState({classes: classes});\n    //\" \" + this.state.cursor\n  }\n\n  //////////////////////////////////////////////////////////\n  // USERS\n  socketSetup = () => {\n\n    socket.on('connect', () => {\n      const user = {...this.state.user};\n      user.room = this.state.room;\n      console.log(\"CONNECTED\", socket.id, \"in room\", this.state.room);\n      this.setState({sessionID: socket.id});\n\n      socket.emit(\"setUser\", user);\n      socket.emit(\"joinRoom\", this.state.room);\n\n      this.addBots();\n    });\n\n\n    socket.on(\"usersUpdate\", data => {\n      var {sessionID} = this.state;\n      var filteredArray = data.filter(function(user){\n        return user.id != sessionID;\n      });\n      // console.log(\"USERS\", filteredArray, sessionID )\n      this.setState({users: filteredArray});\n    });\n\n    socket.on(\"message\", data => {\n      console.log(\"message received\", data);\n      const message = {...data}\n      if (message.to === this.state.room) {\n        message.to = \"room\"\n      }\n      else if (message.to !== \"all\") {\n        message.to = \"me\";\n      }\n      message.from = this.getUserNameById(message.from);\n      this.addUserMessage(message);\n    })\n\n    socket.on(\"userJoined\", data => {\n      const user = {...this.state.user};\n      this.setState({usersChange: true});\n      console.log(\"SOMEONE JOINED\");\n    })\n\n    socket.on(\"userDisconnected\", data => {\n      this.setState({usersChange: true});\n      // socket.emit(\"leaveRoom\", user.room); // not sure if we need this?\n      console.log(\"SOMEONE DISCONNECTED\");\n    })\n  }\n\n  addBots = () => {\n    const wineBot = {x: this.wineLocation.x -50, y: this.wineLocation.y+50, avatar: \"\", room:\"home\", userName:\"wineBot\", id:0};\n    // const hostBot = {x: 300, y: 600, avatar: \"\", room:\"home\", userName:\"hostBot\", id:1}\n    socket.emit(\"setBot\", wineBot);\n    // socket.emit(\"setBot\", hostBot);\n  }\n\n  addWine = () => {\n    const user = { ...this.state.user }\n    user.needsWine = true;\n    if (this.userNearWine()) {\n        user.needsWine = false;\n        user.hasWine = new Date();\n    }\n    this.setState({user});\n    socket.emit(\"setUser\", user);\n  }\n\n  userNearWine = () => {\n    // const wineLocation = this.wineLocation;\n    const user = { ...this.state.user };\n    var dx = user.x - (this.wineLocation.x+this.wineLocation.w/2);\n    var dy = user.y - (this.wineLocation.y+this.wineLocation.h/2);\n    var dis = Math.sqrt(dx*dx + dy*dy);\n    // console.log(\"DIS\", dis < 200);\n    return dis < 200;\n  }\n\n  getUserNameById = (id) => {\n    const users = this.state.users;\n    if (users) {\n      let obj = users.find(o => o.id === id);\n      if (obj) return obj.userName;\n    }\n    return \"\";\n  }\n\n  getAvatarById = (id) => {\n    const users = this.state.users;\n    if (users) {\n      let obj = users.find(o => o.id === id);\n      if (obj) return obj.avatar;\n    }\n    return \"\";\n  }\n\n  avatarClicked = () => {\n    this.setState({showSignIn: true});\n  }\n\n  userSetActiveChat = (clickedUser) => {\n    // const mx = event.mx;\n    // const mouseX = mx-window.innerWidth;\n    var userActiveChat = null;\n    if (clickedUser) userActiveChat = {...clickedUser};\n    this.setState({userActiveChat, showSideBar: true});\n    // console.log(\"trying to set chat user\", userActiveChat);\n  }\n\n  userUpdated = (avatar, userName) => {\n    const newUser = { ...this.state.user }\n    newUser.userName = userName;\n    newUser.avatar = avatar;\n    this.setState({user: newUser});\n  }\n\n  userMove = (x, y, time) => {\n    let space = 50;\n    const user = { ...this.state.user }\n    user.x += x*space;\n    user.y += y*space;\n    const room = doorCrossing({x: user.x, y: user.y}, this.doors);\n    if (room) {\n      alert(\"door!\");\n      this.props.history.push(room);\n    }\n    else if (boundaryCrossing({x: user.x, y: user.y}, this.centerPoints)) {\n      // alert(\"boundary crossing\");\n    }\n    else {\n      if (this.userNearWine() && user.needsWine) {\n          user.needsWine = false;\n          user.hasWine = new Date();\n      }\n      // console.log(\"1\", new Date() - time);\n      this.setState({user});\n      // console.log(\"dt\", new Date() - time);\n      // user.room = this.state.user;\n      socket.emit(\"setUser\", user);\n    }\n\n  }\n\n  userSet = (userName, avatar) => {\n    Cookies.set(\"hasAvatar\", true);\n    Cookies.set(\"avatar\", avatar);\n    Cookies.set(\"userName\", userName);\n    this.userUpdated(avatar, userName);\n\n    // we have an avatar / username submitted\n    // make sign in go away\n    // let {hasAvatar, showSignIn} = this.state;\n    // hasAvatar = true;\n    // showSignIn = false;\n    this.setState({hasAvatar:true, showSignIn:false});\n\n    const user = {...this.state.user};\n    user.room = this.state.room;\n    socket.emit(\"setUser\", user);\n  }\n\n\n  userRegister = ({isUser, user}) => {\n    console.log(\"user register!!!\")\n    if (isUser) {\n      alert(\"username already exists. Please enter a new username.\");\n    }\n    else {\n      this.userSet(user.userName, user.avatar);\n    }\n  }\n\n  userRegisterCheck = (userName, avatar) => {\n    console.log(\"userRegisterCheck\");\n    const userCheck={userName:userName, avatar:avatar};\n    socket.emit(\"registerUser\", userCheck, this.userRegister);\n  }\n\n  userSetRoom = (room) => {\n    // const user = {...this.state.user}\n    // user.room = room;\n    this.setState({room: room});\n    socket.emit(\"joinRoom\", room);\n  }\n\n  userLeaveRoom = (room) => {\n    socket.emit(\"leaveRoom\", room);\n  }\n  // usersChangeReset() {\n  //   this.setState({usersChange: false});\n  // }\n\n  closeSignIn = () => {\n    this.setState({showSignIn: false})\n  }\n\n  render() {\n    const {dimensions} = this.state;\n    return (\n      <div className={this.state.classes}>\n        <MuiThemeProvider theme={theme}>\n          {/* <CssBaseline />*/}\n          <div className=\"App-Header\">\n            <div className=\"BackHeader\"></div>\n            <Header dimensions={dimensions} toggleSideBar={this.toggleSideBar} user={this.state.user} userSet={this.userSet} avatarClicked={this.avatarClicked} />\n          </div>\n          <div className=\"App-Content inner-outline\">\n            <Switch>\n              <Route exact path=\"/\" render={() => (<HomePage user={this.state.user} users={this.state.users} userMove={this.userMove} userSetRoom={this.userSetRoom} userLeaveRoom={this.userLeaveRoom} walls={this.centerPoints} doors={this.doors} userSetActiveChat={this.userSetActiveChat} wineLocation={this.wineLocation} />)} />\n              <Route  path=\"/macbook-air\" render={() => (<MacbookAir dimensions={dimensions} userSetRoom={this.userSetRoom} userLeaveRoom={this.userLeaveRoom} />)} />\n              <Route  path=\"/jungle-gyms\" render={() => (<JungleGyms userSetRoom={this.userSetRoom} userLeaveRoom={this.userLeaveRoom} />)} />\n              <Route  path=\"/hard-drives-on-seashores\"      render={() => (<HardDrives userSetRoom={this.userSetRoom} userLeaveRoom={this.userLeaveRoom} />)}  />\n              <Route  path=\"/wasted-days-are-days-wasted\"   render={() => (<Spacetimes dimensions={dimensions} userSetRoom={this.userSetRoom} userLeaveRoom={this.userLeaveRoom} />)} />\n              <Route  path=\"/esc-to-mars\" render={() => (<Mars addClass={this.addClass} dimensions={dimensions} userSetRoom={this.userSetRoom} userLeaveRoom={this.userLeaveRoom} />)} />\n              <Route  path=\"/wet-streams\" render={() => (<WetStreams userSetRoom={this.userSetRoom} userLeaveRoom={this.userLeaveRoom} />)} />\n              <Route  path=\"/xfinity-depths\" render={() => (<Loop dimensions={dimensions} userSetRoom={this.userSetRoom} userLeaveRoom={this.userLeaveRoom} />)}/>\n              <Route  path=\"/cloud-confessional\" render={() => (<WaveForms cursor={this.state.cursorID} userSetRoom={this.userSetRoom} userLeaveRoom={this.userLeaveRoom} />)} />\n              <Route  path=\"/confessions\" render={() => (<Confessions userSetRoom={this.userSetRoom} userLeaveRoom={this.userLeaveRoom} />)} />\n\n              <Route  path=\"/dig\" render={() => (<Dig addClass={this.addClass} />)} />\n              <Route  path=\"/moon-light\" component={MoonLight} />\n              <Route  path=\"/three\" component={Three} />\n\n              <Route  path=\"/credits\" render={() => (<Credits userSetRoom={this.userSetRoom} userLeaveRoom={this.userLeaveRoom} />)} />\n              <Route  path=\"/words\" render={() => (<About userSetRoom={this.userSetRoom} userLeaveRoom={this.userLeaveRoom} />)} />\n              <Route  component={NotFound} />\n            </Switch>\n            {/*<div id=\"fps\">0</div> */}\n            <FPSStats top={window.innerHeight-55} left={10} />\n          </div>\n          <SideBar room={this.state.room} user={this.state.user} users={this.state.users} usersChange={this.state.usersChange} showSideBar={this.state.showSideBar} handleDrawerClose={this.handleDrawerClose.bind(this)} messages={this.state.messages} addUserMessage={this.addUserMessage} userActiveChat={this.state.userActiveChat} userSetActiveChat={this.userSetActiveChat} addWine={this.addWine} />\n          <SignIn user={this.state.user} hasAvatar={this.state.hasAvatar} showSignIn={this.state.showSignIn} closeSignIn={this.closeSignIn.bind(this)} userUpdated={this.userUpdated} userSet={this.userSet} userRegisterCheck={this.userRegisterCheck} />\n        </MuiThemeProvider>\n      </div>\n    );\n  }\n\n\n}\n\nexport default withRouter(App);\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' }\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App/App';\nimport {BrowserRouter}  from 'react-router-dom';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(\n  <React.StrictMode>\n    <BrowserRouter>\n    <App />\n    </BrowserRouter>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}