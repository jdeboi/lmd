{"version":3,"sources":["components/shared/3D/AnaglyphEffect.js","components/shared/FAQ/assets/chat_md.gif","components/shared/FAQ/assets/move_md.gif","components/shared/Welcome/components/glasses.png","components/shared/Socket/Socket.js","components/shared/Header/components/ListItem.js","components/shared/Header/components/FinderSubmenu.js","components/shared/Header/components/Clock.js","store/actions/menuItems.js","store/actions/messages.js","store/actions/music.js","components/sketches/Sketches.js","components/shared/Header/Header.js","components/shared/Header/MobileFooter/MobileFooter.js","components/shared/Chat/ComboBox.js","components/shared/Chat/Messages.js","components/shared/Frame/Toolbar.js","components/shared/Frame/Frame.js","components/shared/CenterModal/Helper.js","components/shared/CenterModal/CenterModal.tsx","components/sketches/Gallery/constants.js","store/actions/user.js","store/actions/userActiveChat.js","components/shared/Chat/Chat.js","components/shared/LiveStream/YouTube.js","store/actions/index.js","components/shared/Welcome/components/Helpers.js","components/shared/SignIn/SignIn.js","components/shared/Welcome/components/MFADeets.js","components/shared/FAQ/FAQ.js","components/shared/Welcome/components/Glasses.js","components/shared/Welcome/components/Closed.js","components/shared/Welcome/Welcome.js","components/shared/FAQ/FAQFrame.js","components/shared/RoomDecal/RoomDecal.js","components/sketches/Gallery/p5/functions/round.js","components/sketches/Gallery/p5/functions/floor.js","components/sketches/Gallery/p5/functions/building.js","components/sketches/Gallery/p5/functions/emojis.js","components/sketches/Gallery/p5/functions/destination.js","components/sketches/Gallery/p5/functions/users.js","components/sketches/Gallery/p5/functions/garden.js","components/sketches/Gallery/p5/components/Draggable/Button.js","components/sketches/Gallery/p5/components/Draggable/Draggable.js","components/sketches/Gallery/p5/components/Folder.js","components/sketches/Gallery/p5/components/Draggable/ShadowDraggable.js","components/sketches/Gallery/p5/components/Boundaries.js","components/sketches/Gallery/p5/components/Door.js","components/sketches/Gallery/p5/components/Draggable/ButtonSq.js","components/sketches/Gallery/p5/components/Light.js","components/sketches/Gallery/p5/components/Bar.js","components/sketches/Gallery/p5/components/Tree.js","components/sketches/Gallery/p5/components/RoomLabel.js","components/sketches/Gallery/p5/components/Trash.js","components/sketches/Gallery/p5/components/TrashFolder.js","components/sketches/Gallery/p5/components/Draggable/ButtonLab.js","components/sketches/Gallery/p5/components/Swing.js","components/sketches/Gallery/p5/components/Draggable/ButtonTog.js","components/sketches/Gallery/p5/components/Table.js","components/sketches/Gallery/p5/functions/divs.js","components/sketches/Gallery/p5/GallerySketch.js","components/sketches/Gallery/p5/components/TreeSlider.js","components/sketches/Gallery/p5/components/Wall.js","components/sketches/Gallery/p5/components/Room.js","components/sketches/Gallery/p5/components/Duck.js","components/sketches/Gallery/p5/components/Dancer.js","components/sketches/Gallery/p5/functions/crossing.js","components/sketches/Gallery/MiniMap/AvatarMiniMap.js","components/sketches/Gallery/MiniMap/MiniMap.js","components/shared/LoadingPage/LoadingPage.js","components/shared/Helpers/Helpers.js","components/sketches/Gallery/Gallery.js","components/sketches/MacbookAir/MacbookAir.js","components/sketches/JungleGyms/Pipe.js","components/sketches/JungleGyms/JungleGyms.js","components/sketches/HardDrives/HardDrives.js","components/shared/Babylon.jsx","components/shared/Frame/FrameSimple.js","components/sketches/HardDrives/Birds.js","components/sketches/Wasted/Wasted.js","components/sketches/Mars/components/BabylonWater.js","components/sketches/WetStreams/wetSketch.js","components/sketches/Mars/components/SwimLane.js","components/sketches/Mars/components/PoolButtons.js","components/sketches/Mars/components/Chairs.js","components/sketches/Mars/components/BigCrater.js","components/sketches/Mars/components/SmallCrater.js","components/sketches/Mars/components/Board.js","components/sketches/Mars/components/MarsDesktop.js","components/sketches/Mars/components/MarsMobile.js","components/sketches/Mars/Mars.js","components/sketches/WetStreams/components/Shower.js","components/sketches/WetStreams/WetStreams.js","components/sketches/Confessional/components/PearlyGates/LiveBar.js","components/sketches/Confessional/components/PearlyGates/PearlyGates.js","components/sketches/Confessional/components/WebZoom.js","components/sketches/Confessional/components/Emojis/Emojis.js","components/sketches/Confessional/components/Emojis/BottomBar.js","components/sketches/Confessional/components/ConfessForm/ConfessFormContent.js","components/sketches/Confessional/components/ConfessForm/ConfessFormFrame.js","components/sketches/Confessional/components/ConfessForm/ConfessMobileForm.js","components/sketches/Confessional/components/Candles/Candle.js","components/sketches/Confessional/components/Candles/Candles.js","components/sketches/Confessional/Confessional.js","components/sketches/Confessional/components/Helpers.js","components/shared/DesktopIcon/DesktopIcon.js","components/sketches/Confessional/components/ConfessionIcon/Tweet/TweetContent.js","components/sketches/Confessional/components/ConfessionIcon/Confession.js","components/sketches/Xfinity/Xfinity.js","components/sketches/Confessional/components/ConfessionIcon/Tweet/TweetModal.js","components/sketches/Confessional/Confessions.js","components/sketches/Flush/Emoji.js","components/sketches/Flush/Flush.js","components/sketches/Oogle/data.js","components/sketches/Oogle/components/Modal.js","components/sketches/Oogle/Oogle.js","components/sketches/Yosemite/Yosemite.js","components/sketches/Blinds/p5/components/Draggable/Button.js","components/sketches/Blinds/p5/components/Draggable/BlindsDraggable.js","components/sketches/Blinds/p5/components/Draggable/Draggable.js","components/sketches/Blinds/p5/components/divs.js","components/sketches/Blinds/p5/BlindsSketch.js","components/sketches/Blinds/Blinds.js","components/sketches/ClickMe/components/Pulse/Pulse.js","components/sketches/ClickMe/components/LikeButton/LikeButton.js","components/sketches/ClickMe/components/EmojiMonitor/Helper.js","components/sketches/ClickMe/components/EmojiMonitor/EmojiMonitor.js","components/sketches/ClickMe/components/Rose/Rose.js","components/sketches/ClickMe/ClickMe.js","components/pages/About.js","components/pages/Statement.js","components/pages/Credits.js","components/pages/NotFound.js","components/utilities/PanGallery/PanSketch.js","components/utilities/RegisterDesktop/RegisterDesktop.js","components/utilities/RegisterDesktop/UnregisterDesktop.js","components/utilities/ViewUsers/ViewUsers.js","components/utilities/PanGallery/PanGallery.js","components/utilities/ScrollSketches/ScrollSketches.js","App/App.js","serviceWorker.js","store/reducers/menuItems.js","store/reducers/user.js","store/reducers/music.js","store/reducers/window.js","store/reducers/index.js","store/reducers/messages.js","index.js"],"names":["module","exports","THREE","renderer","width","height","this","colorMatrixLeft","Matrix3","fromArray","colorMatrixRight","_camera","OrthographicCamera","_scene","Scene","_stereo","StereoCamera","_params","minFilter","LinearFilter","magFilter","NearestFilter","format","RGBAFormat","undefined","_renderTargetL","WebGLRenderTarget","_renderTargetR","_material","ShaderMaterial","uniforms","value","texture","vertexShader","join","fragmentShader","_mesh","Mesh","PlaneBufferGeometry","add","setSize","pixelRatio","getPixelRatio","render","scene","camera","currentRenderTarget","getRenderTarget","updateMatrixWorld","parent","update","setRenderTarget","clear","cameraL","cameraR","dispose","geometry","socket","io","ListItem","props","getMenuItem","title","shortcut","className","link","ui","callback","classN","DOMParser","parseFromString","body","innerHTML","getShortcut","classn","href","target","to","onClick","React","PureComponent","FinderSubmenu","getPageTitle","id","isXXSmall","currentPage","getMainTitle","Fragment","getMobile","isMobile","hasFooter","state","isVisible","toggleHidden","bind","setWrapperRef","handleClickOutside","document","addEventListener","removeEventListener","node","wrapperRef","event","contains","setState","prevState","icon","specialClass","ulSpecialClass","listItems","ref","map","item","i","classLN","key","Clock","currentTimeString","updateClock","interval","setInterval","clearInterval","currentTime","Date","currentHours","getHours","currentMinutes","getMinutes","timeOfDay","getDay","hideMenus","type","setOneMenu","show","payload","setGalleryActive","toggleMap","showMap","hideMap","toggleFaq","showFaq","hideFaq","toggleChat","showChat","hideChat","toggleUserIcons","hideLiveStream","toggleLiveStream","showSignIn","hideSignIn","addMessage","message","addMessageNotification","resetMessgeNotification","setSketchMusic","sketch","volume","setNoSketchMusic","toggleVolume","setSketchVolume","vol","setRandomSong","setSong","num","song","rooms","short","x","y","rot","dir","about","year","sk","unshift","label","sketches","getUrl","find","Header","handleClick","getArrowIconLi","arrowClass","history","push","getHamburgerSub","getMainMenuSub","isClosed","isMenuOn","getDesktopHeader","headerClass","getChatLi","getMapLi","getFaqLi","getLiveStreamLi","user","comp","getVolumeLi","getAvatarLi","getMobileHeaderLandscape","getMobileHeaderPortrait","chatClicked","classVol","menu","isLiveStreamHidden","getVolumeIcon","music","isMuted","avatarClicked","getAvatar","classFaq","isFaqHidden","fontSize","classMap","isHome","room","isMapHidden","classChat","isChatHidden","chatNotifications","getChatNotification","n","avatar","showSideBar","volumeMuted","isSimpleHeader","orientation","Component","withRouter","connect","MobileFooter","goToGallery","window","confirm","getSignInButton","classUser","mobile","getChatButton","getFAQButton","getMapButton","getGalleryButton","src","AWS","style","footerClass","ComboBox","getInitialUserNames","names","initialUsers","userName","setInputValue","newInputValue","inputValue","getUserListInRoom","users","length","getLabel","getUsersInRoomTrunc","getUsersInRoom","filter","setValue","newValue","setRecipient","prevProps","userActiveChat","listID","sty","userHoverChat","w","Autocomplete","onChange","onInputChange","onFocus","options","getOptionLabel","option","getOptionSelected","fullWidth","renderInput","params","InputProps","placeholder","inputProps","Messages","getUserById","o","getUserNameById","obj","scrollToBottom","messagesEnd","scrollIntoView","behavior","block","inline","scrollToTop","messagesStart","isMobilie","renderMobile","renderDesktop","messages","from","avatarHidden","messageToCol","float","el","slice","reverse","Toolbar","toggleClosed","toggleMinimzed","toggleMaximized","Frame","onControlledDrag","e","position","controlledPosition","onDrag","onControlledDragStop","onStop","onHide","stopPropagation","isMinimized","onMinimized","origCoords","console","log","onMaximized","onStart","activeDrags","handleStart","newFrameToTop","toolBarH","deltaPosition","wrapper","createRef","dx","dy","parser","isHidden","isMaximized","contentVisibility","display","frameH","bounds","bounded","axis","handle","defaultPosition","positionOffset","grid","scale","cancel","handleStop","nodeRef","zIndex","z","windowStyle","content","getCenterModalDim","isRelative","contentW","minW","getWidthTooSmall","toolbarH","contentH","minH","getHeightTooSmall","headerH","padding","h","getPortraitSmall","getLandscapeSmall","CenterModal","buttons","Math","min","classT","onDoubleClick","visibility","background","setUser","setUserRoom","setUserComp","removeUserComp","moveUser","wineLocation","addWine","location","setWine","needsWine","hasWine","addCheese","addCocktail","toggleOutside","setUserActiveChat","globalConfig","scaler","minX","maxX","minY","maxY","stepS","p5ToWorldCoords","p5ToDomCoords","mouseToWorld","userEase","p5","mouseX","windowWidth","mouseY","windowHeight","worldUser","domCoordsToP5World","p","domCoordsToP5","limits","startX","pools","startY","outsideDoors","x0","y0","x1","y1","outsideDoorFramesInit","door","lightsOG","cheeseBot","wineBot1","cocktailBot","flipped","danceFloorP5","danceFloor","djLocation","hostBotLocation","Chat","handleTextBoxChange","textBox","buttonDisabled","sendToOne","txt","socketId","time","connected","emit","sendToRoom","sendToAll","sendToHostBot","setTimeout","hostBotRespond","sendToCocktailBot","cocktailBotRespond","sendToCheeseBot","cheeseBotRespond","sendToWineBot","wineBotRespond","sendToDJ","djRespond","wineBotJustAsked","lc","toLowerCase","phrase","indexOf","hostBotJustAsked","cocktailBotJustAsked","cheeseBotJustAsked","djJustAsked","onSubmit","sendMessage","alert","handleKeyDown","setUserHover","userHover","setUserHoverLeave","getMobileFrame","getMobileContent","getMobileButtons","getIsHidden","inputW","flexDirection","onKeyDown","disabled","addUserMessage","getFrame","edgeSpacing","input","textInput","YouTube","floor","setVolume","frameBorder","allow","allowFullScreen","loadingApp","doneLoadingApp","startComposition","resetApp","resizeApp","getEmojis","SignIn","setAvatarBar","emoji","localAvatar","setUserName","evt","localUserName","shouldClose","handleSubmit","userRegister","isUser","submitSuccess","nextStep","userRegisterCheck","userCheck","handleUserUpdate","isSignInHidden","getForm","getButtons","emojis","inputprops","isFrame","setClick","nextProps","nextState","hasAvatar","MFADeets","fonts","paddingBottom","FAQ","moveGif","chatGif","Glasses","glasses","Closed","Welcome","getWelcomeStepClosed","step","click","clickSubmit","prevStep","getButtonsClosed","closeWelcome","getWelcomeStep","showWelcome","FAQFrame","RoomDecal","userHoverLeave","getParticipantsBox","usr","getRoomCount","data-tip","getUsers","getFakeUsers","buttonClicked","startMedia","hasLoadedRoom","r","fontWeight","roundToMult","mult","newNum","roundToMult2","drawAllFloors","floorTex","strokeWeight","stroke","drawFloor","drawDanceFloor","noStroke","drawSpaceFloor","drawSpaceFloorLine","drawGalleryGround","drawGalleryRects","sc","spacing","yOffset","slope","b","yValRounded","noise","alpha","fill","rect","isDark","isFilled","sin","xInd","ix","iy","image","yind","xind","cFilled","color","cDark","drawWalls","walls","wall","displayBorder","drawRooms","roomTextures","eyeIcon","roomCount","displayDancers","dancers","updateDucks","hasCheese","userX","userY","ducks","duck","applyBehaviors","reachedDestination","stepTo","destination","getStepDist","space","sqrt","drawUsers","dogica","textFont","otherUser","coord","ava","translate","text","hasCocktail","drawLabel","pop","textSize","dist","drawChat","drawCheese","drawWine","drawCocktail","name","textWidth","drawPlantRow","img","pt","noFill","c","drawGrassPatch","grass0","grass1","xx","yy","shrub","drawShrubPatch","Button","mx","my","mouseOver","ellipse","Draggable","origX","origY","offsetX","offsetY","startDrag","startDragCoords","dragging","locked","closed","minimized","barH","bRad","closeButton","minButton","xp","maxButton","mask","createGraphics","displayContent","gx","gy","displayFrame","col","mouse","closeWindow","toggleMinimze","maximizeWindow","overToolBar","div","minimizeWindow","Folder","checkOver","xLab","tw","checkDoubleClicked","openInNewTab","url","open","focus","point","ShadowDraggable","shadow","displayShadow","backW","backH","intersectionPoint","x2","y2","x3","y3","x4","y4","ua","ub","denom","seg1","seg2","doorLineCrossing","pos","nextPos","config","intersectsOG","boundaryLineCrossing","boundary","point0","point1","a1","a2","b1","b2","c1","c2","r1","r2","r3","r4","sameSign","a","sign","Door","imgs","isFlipped","isOpen","openAmt","isPanGallery","maxOpen","checkOpen","closedSign","dAmt","rotate","PI","sW","sH","line","prevStop","userStep","ButtonSq","isChecked","Light","isOn","button","checkButton","toggleLights","imgBack","backY","displaySolidBack","displayButton","Bar","bar","displayBarContents","displayCheese","displayWine","displayCocktail","displayDJ","Tree","sz","RoomLabel","rc","count","displayLabel","displayEye","br","substring","t1","t2","Trash","folder","openWindow","TrashFolder","checkContentsClicked","checkBox","displayLabels","labels","index","lab","ButtonLab","yLab","Swing","baby","chain","origin","createVector","armLength","angle","aAcceleration","aVelocity","updateSwing","displaySimple","displayChain","displaySeat","seatW","cos","swingPushed","ButtonTog","mouseOverEdge","Table","closedImg","isUmbrellaOpen","toggleButton","addRoomLabelDivs","divs","roomLabels","roomL","displayRoomLabelDivs","rl","displayToolBar","addDoorDivs","doors","doorImgs","addLightDivs","lightImgs","lights","light","addColumnDivs","columnGif","columns","column","numCols","addTrashDivs","trashFiles","trashCans","trashFolders","tf","t","addFolderDivs","instaImg","txtFile","folders","addOakDivs","oakImg","oaks","oak","addSwingDivs","swings","addTableDivs","tableImgs","tables","table","addBarDivs","lightImg","bars","addTreeDivs","tree","trees","numTrees","sp","displayDoorDivs","displayLightDivs","displayFolderDivs","displayTrashDivs","trashF","displayColumnDivs","displayBarDivs","displayOakDivs","displayTableDivs","displaySwingDivs","swing","displayTreeDivs","updateDivs","openDoor","keys","Object","flowerRow","ivory","treeSlider","duckImg","checkTrashDiv","checkDiv","checkButtons","checkDragging","TreeSlider","sliderX","constrain","over","Wall","wallsInit","points","sWs","borderPoints","initBorderPoints","sw","beginShape","uv","getWallUV","vertex","u","v","endShape","borderW","p0","p1","pNext0","pNext1","pIntersect","displayOutline","Room","start","end","doorC","Duck","velocity","acceleration","maxforce","maxspeed","force","hasBread","vehicles","userWorld","separateForce","separate","seekForce","seek","millis","applyForce","setFlip","desired","subtractVec","normalize","steer","limit","dz","desiredseparation","sum","other","d","diff","sub","checkBoundaries","Dancer","lastStep","random","dancerImgs","isWalking","lastMouseMove","initEmojis","initBuilding","initDivs","drawOverTarget","drawOverUser","getValue","innerWidth","innerHeight","manualResize","showTarget","lineL","showDestination","showUserEllipses","pmouseX","pmouseY","mouseDidMove","mouseIsPressed","dx2","dy2","showMouseLoc","userTakeStep","outsideDoor","cross","doorCrossing","roomDoorEntry","roomDoorEntryCrossing","roomDoor","roomDoorCrossing","roomDoorB","roomDoorBoundary","userNewRoom","roomBoundaryCrossing","roomBoundary","wallBoundaryCrossing","wallBoundary","updateUserEase","userMove","triggerMove","setUserActive","userClicked","userChat","dChat","checkUserClicked","checkDivPress","mouseStep","steps","stepDis","getNextStep","windowResized","resizeCanvas","preload","loadImage","loadGif","loadFont","setup","canvasParentRef","cnv","createCanvas","mousePressed","frameRate","loadingDone","draw","drawUser","keyPressed","keyCode","UP_ARROW","RIGHT_ARROW","LEFT_ARROW","DOWN_ARROW","mouseReleased","endDrag","endDivDrag","doubleClicked","checkFolderDivsDouble","checkTrashDivsDouble","AvatarMiniMap","dim","miniScaler","miniX","miniY","bigScaler","bigX","bigY","loc","top","left","hidden","MiniMap","LoadingPage","getRandomNum","val","getNewZIndices","indexToTop","array","prevVal","maxVal","newArr","mapVal","in_min","in_max","out_min","out_max","max","randomInRange","Gallery","cycleEllipses","numEllipses","enterRoom","loadingInterval","getHomeComponents","loading","getEllipses","getVolume","dis","outside","keyDown","userTransition","transitionUser","MacbookAir","videoSpeed","sliderOG","mainOG","cloudsRef","fanRef","setSpeed","getDimensions","getMainWindow","getSliderWindow","resetPlayer","compositionStarted","current","play","speed","playbackRate","aspectRatio","minSpacing","originalDim","windowDim","sliderDim","vertical","availableHeight","minSpacingY","availableWidth","minSpacingX","spacingFinal","getLandscapeDimensions","getPortraitDimensions","muted","loop","playsInline","autoPlay","px","py","ContinuousSliderVert","ContinuousSliderHoriz","frameDimensions","useState","sliderStyle","aria-label","Slider","aria-labelledby","defaultValue","Pipe","nodes","box","pipeRadius","ballJointRadius","gridBounds","currentPosition","randomInteger","positions","object3d","addTexture","setAt","makeBallJoint","fromPoint","toPoint","material","deltaVector","subVectors","arrow","clone","mesh","rotation","setFromQuaternion","quaternion","addVectors","multiplyScalar","updateMatrix","ball","copy","fromPosition","toPosition","tangentVector","elball","texUrl","pipeTexture","load","wrapS","wrapT","repeat","set","emissive","specular","shininess","lastPosition","lastDirectionVector","directionVector","chooseFrom","newPosition","containsPoint","getAt","equals","makeCylinderBetweenPoints","values","round","JungleGyms","handleWindowResize","aspect","updateProjectionMatrix","setupScene","antialias","mount","appendChild","domElement","effect","AnaglyphEffect","controls","OrbitControls","minDistance","maxDistance","ambientLight","addLight","addScreenCube","videoGym","videoSwings","pipes","vines","addWallPaper","addVines","look","startAnimationLoop","chance","getTime","requestID","requestAnimationFrame","reset","remove","intensity","video","pW","pH","fac","boxLen","videoTex","side","plane","opacity","transparent","cube","edges","linewidth","self","modelPath","onProgress","xhr","lengthComputable","loaded","total","onError","manager","addHandler","DDSLoader","MTLLoader","setPath","model","materials","OBJLoader","setMaterials","vine","newVine","newVine2","firstLoad","vector","matrix","makeRotationAxis","applyMatrix4","center","lookAt","getControlsFrame","cancelAnimationFrame","gymUrl","crossOrigin","water","reactCanvas","useRef","engineOptions","adaptToDeviceRatio","sceneOptions","onRender","rest","onSceneReady","useEffect","engine","Engine","isReady","onReadyObservable","addOnce","runRenderLoop","resize","getEngine","touch-action","tabIndex","FrameSimple","notAbsolute","Birds","initBirds","birdInitialsX","birdInitialsY","flyDirection","updateBirds","maxW","flyIndex","numVisibleBirds","getBird","bird","getBirdLocation","bottles","changed","seed","HardDrives","island","urlIndex","AnaglyphUniversalCamera","Vector3","clearColor","Color3","Black","setTarget","canvas","getRenderingCanvas","attachControl","inputs","removeByType","HemisphericLight","AssetContainer","SceneLoader","LoadAssetContainer","container","meshes","scaling","addAllToScene","addToRenderList","instantiateModelsToScene","rootNodes","addPalms","groundTexture","Texture","vScale","uScale","groundMaterial","StandardMaterial","diffuseTexture","ground","CreateGround","waterMesh","WaterMaterial","Vector2","backFaceCulling","bumpTexture","windForce","waveHeight","bumpHeight","waveLength","waterColor","colorBlendFactor","skybox","CreateBox","skyboxMaterial","reflectionTexture","CubeTexture","coordinatesMode","SKYBOX_MODE","diffuseColor","specularColor","disableLighting","addSkybox","bottle","bottleVectors","getRandom","addBottles","islandIndex","beaches","svFrame","f","ogW","ogH","wTemp","Babylon","aria-hidden","Wasted","startTime","currentFrame","increasing","currentText","gridNum","setFrame","setText","heightBuffer","words","intervalFrames","wordIndex","word","toUpperCase","fr","fs","grids","factor","GridFrame","dimW","dimH","dimX","dimY","alt","Color4","SwimLane","changeSwimLane","swimmerPos","swimmer","numSwimmers","getSwimmerLanes","lanes","lane0","lane1","ceil","swimInterval","buttonClick","buttonStyle","paddingTop","ftStyle","backgroundSize","Chairs","chairUpdate","chairY","chairInterval","chairStyle","backgroundPosition","BigCrater","poolRef","poolVid","vidC","MarsDesktop","vids","poolVid0","poolVid1","poolVid2","poolVid3","addClass","removeClass","sketchW","sketchH","pool","chairs","smallCrater","bab","board","swimLaneFrame","tank","SmallCrater","PoolButtons","BabylonWater","Board","MarsMobile","availW","availH","Mars","justPool","emojisTransparent","ps","percent","velocities","velX","velY","offsets","degrees","createEmojisTransparent","myCustomRedrawAccordingToNewPropsHandler","origins","ParticleSystem","isPlaying","initParticles","deltas","tint","emojiS","forEach","sys","run","Particle","deg","gravity","positionOG","lifespan","launched","isDead","radians","launch","particles","numParticle","launchIndex","addParticle","launchParticle","setPercent","particle","Shower","handleDrag","onClosed","imgSrc","WetStreams","playStreamReset","playingStreams","dps","deltaPositions","dp","deltaX","deltaY","showerFrame","showWater","bgimg","backgroundImage","LiveBar","timeInc","sec","hr","updateTime","updateWatchers","watchers","intervalTimer","intervalWatcher","faEye","PearlyGates","pearlyVid","doveX","doveY","yLive","WebZoom","videoOn","audioOn","videoConstraints","facingMode","Emojis","BottomBar","updateEmojis","splice","addEmoji","intervalEmoji","toggleAudio","toggleVideo","addCandle","vidIcon","faVideo","faVideoSlash","audioIcon","faMicrophoneAlt","faMicrophoneAltSlash","variant","paddingRight","ConfessionFormContent","handleTimeChange","timePeriod","handlePrayChange","prayTo","line0","multiline","ConfessionFormFrame","ConfessMobileForm","Candle","Candles","candles","candle","Confessional","require","getButtonSty","gates","buttonSty","buttonW","getPearlyGatesDim","pearly","winX","winY","confessFormHidden","showConfess","hideConfess","getDesktop","tweetX","tweetY","webX","webY","windowX","windowY","memberRef0","tweetW","minVol","earCursor","cursor","processString","initZIndicesIcons","zind","initZIndicesFrames","DesktopIcon","onDblClick","newIconToTop","onClickMobile","getDesktopDesktop","zIcon","disableWindow","getMobileDesktop","zFrame","frameContent","TweetContent","tweet","confession","username","likes","rts","replies","tweetID","tweetUri","profileUrl","faComment","faRetweet","faHeart","setTweetModal","TweetModal","Confessions","addTweet","tweetObj","string","tweets","regex","fn","result","hashtag","hashtagUrl","profile_image_url","public_metrics","like_count","retweet_count","reply_count","newZ","zIndicesIcons","zIndicesFrames","modalTweetHidden","modalTweet","modalTweetConfession","hideTweetModal","confessions","fetchTweets","now","fetch","response","json","initialRes","data","includes","author_id","findUserByID","Xfinity","setImages","imageIndex","mapDivs","numFrames","mod","imgW","numImages","wheel","getMouseWheel","mouseW","getCascadeDivs","balloonX","opac","imgH","isControlled","getDesktopDivs","getMobileDivs","asp","touchAction","onTouchStart","touchStart","onTouchMove","touchMove","onTouchEnd","touchEnd","touchS","touches","clientY","currentMobileDiv","divRef","preventDefault","divFps","getElementById","getFps","toFixed","onWheel","Emoji","ang","rand","emojiTexture","emojiMaterial","hasAlpha","setEnabled","isStopping","Flush","mat","vidTex","VideoTexture","lastVolume","isVideoPlaying","vid","paused","ended","readyState","flushToilet","isFlushing","handleDown","startFlush","stopFlush","handleUp","transform","lev","stars","description","roads","roomLines","Modal","getDesktopModal","getModalContentPortrait","getModalFrameH","getMobileModal","getModalContentLandscape","fullH","fH","txtH","playing","currentContent","contentHidden","mapR","Oogle","setRoomIconTransforms","setLabelTransforms","setVisibleLabels","init","initRenderer","initCamera","Interaction","initControls","initAnaglyph","initLights","initRoomIcons","initLabels","initRooms","initRoads","initModels","initGrids","onWindowResize","setPixelRatio","devicePixelRatio","setClearColor","MapControls","minZoom","promises","loadObj","Promise","all","then","drawGrid","level","labelLevel","path","l","loadSVG","group","startZ","labelGroups","geo","on","ev","setLabel","onShowModal","gl","gi","pivot","iconPos","xs","plane1","plane2","setRoom","icons","labelCallback","scaleVector","setRoomLabels","resetLabelGroups","visible","g","roomPoints","addLine","roadPoints","initDoors","doorPoints","lW","LineGeometry","setPositions","matLine","LineMaterial","vertexColors","dashed","resolution","Line2","computeLineDistances","SVGLoader","paths","fillColor","userData","setStyle","fillOpacity","depthWrite","wireframe","shapes","toShapes","j","shape","strokeColor","strokeOpacity","jl","subPaths","subPath","pointsToStroke","getPoints","gridHelper","drawRoom","geometryL","WireframeGeometry2","Wireframe","isoLines","urls","textureCube","resolve","reject","object","traverse","child","isMesh","materialT","rotateMap","amt","onHideModal","isModalHidden","currentPoint","Yosemite","startPop","hasStarted","popUp","popTime","numPop","numPops","popups","popW","yMax","popInterval","getPopUps","maxS","minS","getFireH","endW","clicked","getFrames","frames","frame","framesW","getFolderList","titles","BlindsDraggable","blinds","closeAmt","pg","maxDis","fillC","strokeC","arc","toolC","frameC","buttonC","displayArcToolbar","displayArcFrame","coverImg","wallTexture","windows","updateGraphics","blendMode","REMOVE","displayMask","drawDivSquares","initGraphics","canvasPressed","addMobilePortraitDivs","addMobileLandscapeDivs","numFramesW","numFramesH","addDesktopDivs","buttoncol","framecol","toolcol","displayDivs","mouseDragged","Blinds","ASPECT","fog","initFloor","floorTexture","floorMaterial","floorGeometry","initStatues","objLoader","root","newCL","newCR","hercules","fence","fenceR","fenceL","initEffect","initGround","initFrames","framesSpacing","updateFrames","backgroundColor","LikeButton","heartClicked","getDim","buttonH","fontS","repeats","barW","xB","yB","bW","bH","isVert","getMobileDimHoriz","getMobileDimVert","availLen","maxLen","getDimDesktop","EmojiMonitor","heartRate","maxHeart","hearts","Array","numHearts","Rose","roseStyle","heartVelocity","heartTotal","ClickMe","onPointerMove","isPrimary","clientX","setCursor","setHeart","hR","hT","heartSz","pulse","composer","gui","anaglyphEffect","heart","face","currentSceneIndex","sceneCreators","canGoBackwardsInTime","ballScene","light1","light2","lightningColor","outlineColor","lightningMaterial","sphereMaterial","sphereMesh","lightningStrike","lightningStrikeMesh","sphere","rayDirection","rayLength","vec1","vec2","rayParams","sourceOffset","destOffset","radius0","radius1","radius0Factor","minRadius","maxIterations","isEternal","timeScale","propagationTimeFactor","vanishingTimeFactor","subrayPeriod","ramification","recursionProbability","roughness","straightness","onSubrayCreation","segment","parentSubray","childSubray","subrayConePosition","pos1","rayParameters","randomGenerator","setLength","rayParams2","recreateRay","LightningStrike","passes","addPass","RenderPass","rayPass","outlinePass","objectsArray","visibleColor","OutlinePass","edgeStrength","edgeGlow","edgeThickness","visibleEdgeColor","hiddenEdgeColor","outlineEnabled","createOutline","raycaster","setFromCamera","intersection","ray","intersectSphere","enabled","enableDamping","dampingFactor","clock","createScene","destroy","GUI","hide","sceneFolder","addFolder","sceneIndex","timeRate","graphicsFolder","lightningColorRGB","addColor","setRGB","outlineColorRGB","rayFolder","raySlowFolder","onFinishChange","createGUI","EffectComposer","initFace","jar","jarMaterial","metalness","initJar","MTLFile","initHeart","blindsTexture","offset","groundMat","initBlinds","animate","getDelta","faceSz","heartPump","ram","blind","roseBL","roseBR","roseTL","roseTR","bigRoseTL","roseDim","bigRoseTR","onMouseMove","About","size","Statement","Credits","NotFound","RegisterDesktop","handleChange","computerNumber","UnregisterDesktop","ViewUsers","computerUsers","viewTime","stepToIndex","updateView","coords","abs","PanGallery","ScrollSketches","changeSketch","currentSketch","App","handleKeyPress","pageChange","newPath","pathname","nextRoom","getRoom","toggleSideBar","handleDrawerClose","updateDeviceDimensions","classes","indexOfClass","socketSetup","sessionID","addBots","filteredArray","setRoomCount","usersChange","hostBot","wineBot","dj","hasOwnProperty","getAvatarById","rm","pages","getRoomTitle","replace","getStringClasses","str","handleMouseMove","showDock","hasAudio","audioPlayer","cursorID","Cookies","get","appHeaderClass","exact","component","currentSongTitle","player","Boolean","hostname","match","initState","isVolumeHidden","isUserIconsHidden","isGalleryActive","getOneMenu","oldMenu","newMenu","roomX","roomY","needsCheese","needsCocktail","userNearBar","songs","gallery","yosemite","cloud","hardDrives","xfinity","mars","wetStreams","macBookAir","jungleGyms","flush","clickMe","default","currentSong","masterVolume","sketchVolume","initW","initH","initialState","getIsMobile","getOrientation","getWindowSize","getHasFooter","getHeaderH","getContentW","getContentH","getEdgeSpacing","test","navigator","userAgent","allReducers","combineReducers","action","prevRoom","song2","numSongs","rootReducer","store","createStore","__REDUX_DEVTOOLS_EXTENSION__","ReactDOM","StrictMode","serviceWorker","ready","registration","unregister"],"mappings":"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eAAM,2BAAQ,2BAAQ,2BAAQ,2BAAQ,2BACtC,eAAM,2BAAQ,2BAAQ,2BAAQ,2BAAQ,2BACtC,eAAM,2BAAQ,2BAAQ,2BAAQ,2BAAQ,2BACtC,SAAK,qBAAO,qBAAO,qBAAO,qBAAO,qBACjC,eAAM,2BAAQ,2BAAQ,2BAAQ,2BAAQ,2BACtC,eAAM,2BAAQ,2BAAQ,2BAAQ,2BAAQ,2BACtC,eAAM,2BAAQ,2BAAQ,2BAAQ,2BAAQ,2BACtC,eAAM,2BAAQ,2BAAQ,2BAAQ,2BAAQ,2BACtC,SAAK,qBAAO,qBAAO,qBAAO,qBAAO,qBACjC,eAAM,2BAAQ,2BAAQ,2BAAQ,2BAAQ,2BACtC,SAAK,qBAAO,qBAAO,qBAAO,qBAAO,qBACjC,eAAM,2BAAQ,2BAAQ,2BAAQ,2BAAQ,2BAEtC,SAAK,qBAAO,qBAAO,qBAAO,qBAAO,qBACjC,eAAM,2BAAQ,2BAAQ,2BAAQ,2BAAQ,2BACtC,eAAM,2BAAQ,2BAAQ,2BAAQ,2BAAQ,2BACtC,eAAM,eAAM,eAAM,eAAM,eAAM,eAAM,eAAM,eAAM,eAAM,eAAM,eAAM,eAAM,eAAM,eAAM,eAAM,eAAM,eAAM,eAAM,eAAM,eAAM,eAAM,eAAM,eAAM,eAAM,eAAM,eAAM,eAAM,eAAM,eAAM,eAAM,eAAM,eAAM,eAAM,eAAM,eAAM,eAAM,eAAM,eAAM,eAAM,eAAM,eAAM,eAAM,eAAM,eAAM,eAAM,eAAM,eAAM,eAAM,eAAM,eAAM,eAAM,eAAM,eAAM,eAAM,eAAM,eAAM,eAAM,eAAM,eAAM,eAAM,eAAM,eAAM,eAAM,eAAM,eAAM,eAAM,eAAM,eAAM,eAAM,eAAM,eAAM,eAAM,eAAM,eAAM,eAAM,eAAM,eAAM,eAAM,eAAM,eAAM,eAAM,eAAM,eAAM,eAAM,eAAM,eAAM,eAAM,eAAM,eAAM,eAAM,eAAM,eAAM,eAAM,eAAM,eAAM,eAAM,eAAM,eAAM,eAAM,eAAM,eAAM,eAAM,eAAM,eAAM,eAAM,eAAM,eAAM,eAAM,eAAM,eAAM,eAAM,eAAM,eAAM,eAAM,eAAM,eAAM,eAAM,eAAM,eAAM,eAAM,eAAM,eAAM,eAAM,eAAM,eAAM,eAAM,eAAM,eAAM,eAAM,eAAM,eAAM,eAAM,eAAM,eAAM,eAAM,eAAM,eAAM,eAAM,eAAM,eAAM,eAAM,eAAM,eAAM,eAAM,eAAM,eAAM,eAAM,eAAM,eAAM,eAAM,eAAM,eAAM,eAAM,eAAM,eAAM,eAAM,eAAM,eAAM,eAAM,eAAM,eAAM,eAAM,eAAM,eAAM,eAAM,eAAM,eAAM,eAAM,eAAM,eAAM,eAAM,eAAM,eAAM,eAAM,eAAM,eAAM,eAAM,eAAM,SAAK,eAAM,eAAM,eAAM,eAAM,eAAM,eAAM,eAAM,eAAM,eAAM,eAAM,eAAM,eAAM,eAAM,eAAM,eAAM,eAAM,eAAM,eAAM,eAAM,eAAM,eAAM,eAAM,eAAM,eAC3rC,eAAM,2BAAQ,2BAAQ,2BAAQ,2BAAQ,2BAAQ,eAAM,2BAAQ,2BAAQ,2BAAQ,2BAAQ,2BACpF,eAAM,2BAAQ,2BAAQ,2BAAQ,2BAAQ,2BACtC,eAAM,2BAAQ,2BAAQ,2BAAQ,2BAAQ,2BACtC,eAAM,2BAAQ,2BAAQ,2BAAQ,2BAAQ,2BACtC,eAAM,2BAAQ,2BAAQ,2BAAQ,2BAAQ,2BACtC,eAAM,2BAAQ,2BAAQ,2BAAQ,2BAAQ,2BACtC,eAAM,eAAM,eAAM,eAAM,2BAAQ,2BAAQ,2BAAQ,2BAAQ,2BAAQ,eAAM,2BAAQ,2BAAQ,2BAAQ,2BAAQ,2BAAQ,eAAM,2BAAQ,2BAAQ,2BAAQ,2BAAQ,2BAAQ,eAAM,eAAM,eAAM,eAAM,eAAM,eAAM,eAAM,eAAM,eAAM,eAAM,eAAM,eAAM,eAAM,eAAM,eAAM,eAAM,eAAM,eAAM,eAAM,eAAM,eAAM,eAAM,eAAM,eAAM,eAAM,eAAM,eAAM,eAAM,eAAM,eAAM,eAAM,eAAM,eAAM,eAAM,eAAM,eAAM,qBAAO,eAAM,eAAM,eAAM,eAAM,eAAM,eAAM,eAAM,eAAM,eAAM,eAAM,eAAM,eAAM,eAAM,eAAM,eAAM,eAAM,eAAM,eAAM,eAAM,eAAM,eAAM,eAAM,eAAM,eAAM,eAAM,eAAM,eAAM,eAAM,eAAM,eAAM,eAAM,eAAM,eAAM,eAAM,eAAM,eAAM,eAAM,eAAM,eAAM,eAAM,eAAM,eAAM,eAAM,eAAM,eAAM,eAAM,eAAM,eAAM,eAAM,eAAM,eAAM,eAAM,eAAM,eAAM,eAAM,eAAM,eAAM,e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","file":"static/js/main.739adb38.chunk.js","sourcesContent":["\nmodule.exports = function (THREE) {\n\t/**\n\t* @author mrdoob / http://mrdoob.com/\n\t* @author marklundin / http://mark-lundin.com/\n\t* @author alteredq / http://alteredqualia.com/\n\t* @author tschw\n\t*/\n\n\n\n\tvar AnaglyphEffect = function (renderer, width, height) {\n\n\t\t///////////// OG MATRICES\n\t\t// were the OG matrices incorrect?\n\t\t// replaced with the one from https://github.com/tschw/angler.js/blob/gh-pages/app/classes/AnaglyphShadertoyPlayer.js\n\t\t// seems to get better results with new matrix values\n\n\t\tlet useOGMatrices = false;\n\n\t\tif (useOGMatrices) {\n\t\t\tthis.colorMatrixLeft = new THREE.Matrix3().fromArray([\n\t\t\t\t1.0671679973602295, - 0.0016435992438346148, 0.0001777536963345483, // r out\n\t\t\t\t- 0.028107794001698494, - 0.00019593400065787137, - 0.0002875397040043026, // g out\n\t\t\t\t- 0.04279090091586113, 0.000015809757314855233, - 0.00024287120322696865 // b out\n\t\t\t]);\n\n\t\t\tthis.colorMatrixRight = new THREE.Matrix3().fromArray([\n\t\t\t\t- 0.0355340838432312, - 0.06440307199954987, 0.018319187685847282, // r out\n\t\t\t\t- 0.10269022732973099, 0.8079727292060852, - 0.04835830628871918, // g out\n\t\t\t\t0.0001224992738571018, - 0.009558862075209618, 0.567823588848114 // b out\n\t\t\t]);\n\n\t\t}\n\t\telse {\n\t\t\t// Color matrix for the left input image\n\t\t\t// DUBOIS\n\t\t\t// http://stereo.jpn.org/eng/stphmkr/help/stereo_13.htm\n\t\t\t// this.colorMatrixLeft = new THREE.Matrix3().fromArray([\n\t\t\t// \t0.456100, -0.0400822, -0.0152161,\n\t\t\t// \t0.500484, -0.0378246, -0.0205971,\n\t\t\t// \t0.176381, -0.0157589, -0.00546856\n\t\t\t// ]);\n\n\t\t\t// // Color matrix for the right input image\n\t\t\t// this.colorMatrixRight = new THREE.Matrix3().fromArray([\n\t\t\t// \t-0.0434706, 0.378476, -0.0721527,\n\t\t\t// \t-0.0879388, 0.73364, -0.112961,\n\t\t\t// \t-0.00155529, -0.0184503, 1.2264\n\t\t\t// ]);\n\n\t\t\t//https://github.com/hx2A/Camera3D/blob/master/src/camera3D/generators/AnaglyphGenerator.java\n\t\t\tthis.colorMatrixLeft = new THREE.Matrix3().fromArray([\n\t\t\t\t.437, -.062, -.048,\n\t\t\t\t.449, -.062, -.050,\n\t\t\t\t.164, -.024, -.017\n\t\t\t]);\n\n\t\t\t// Color matrix for the right input image\n\t\t\tthis.colorMatrixRight = new THREE.Matrix3().fromArray([\n\t\t\t\t-0.011, 0.377, -0.026,\n\t\t\t\t-0.032, 0.761, -0.093,\n\t\t\t\t-0.007, .009, 1.234\n\t\t\t]);\n\n\t\t}\n\n\t\tvar _camera = new THREE.OrthographicCamera(- 1, 1, 1, - 1, 0, 1);\n\n\t\tvar _scene = new THREE.Scene();\n\n\t\tvar _stereo = new THREE.StereoCamera();\n\n\t\tvar _params = { minFilter: THREE.LinearFilter, magFilter: THREE.NearestFilter, format: THREE.RGBAFormat };\n\n\t\tif (width === undefined) width = 512;\n\t\tif (height === undefined) height = 512;\n\n\t\tvar _renderTargetL = new THREE.WebGLRenderTarget(width, height, _params);\n\t\tvar _renderTargetR = new THREE.WebGLRenderTarget(width, height, _params);\n\n\t\tvar _material = new THREE.ShaderMaterial({\n\n\t\t\tuniforms: {\n\n\t\t\t\t\"mapLeft\": { value: _renderTargetL.texture },\n\t\t\t\t\"mapRight\": { value: _renderTargetR.texture },\n\n\t\t\t\t\"colorMatrixLeft\": { value: this.colorMatrixLeft },\n\t\t\t\t\"colorMatrixRight\": { value: this.colorMatrixRight }\n\n\t\t\t},\n\n\t\t\tvertexShader: [\n\n\t\t\t\t\"varying vec2 vUv;\",\n\n\t\t\t\t\"void main() {\",\n\n\t\t\t\t\"\tvUv = vec2( uv.x, uv.y );\",\n\t\t\t\t\"\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\",\n\n\t\t\t\t\"}\"\n\n\t\t\t].join(\"\\n\"),\n\n\t\t\tfragmentShader: [\n\n\t\t\t\t\"uniform sampler2D mapLeft;\",\n\t\t\t\t\"uniform sampler2D mapRight;\",\n\t\t\t\t\"varying vec2 vUv;\",\n\n\t\t\t\t\"uniform mat3 colorMatrixLeft;\",\n\t\t\t\t\"uniform mat3 colorMatrixRight;\",\n\n\t\t\t\t// These functions implement sRGB linearization and gamma correction\n\n\t\t\t\t\"float lin( float c ) {\",\n\t\t\t\t\"\treturn c <= 0.04045 ? c * 0.0773993808 :\",\n\t\t\t\t\"\t\t\tpow( c * 0.9478672986 + 0.0521327014, 2.4 );\",\n\t\t\t\t\"}\",\n\n\t\t\t\t\"vec4 lin( vec4 c ) {\",\n\t\t\t\t\"\treturn vec4( lin( c.r ), lin( c.g ), lin( c.b ), c.a );\",\n\t\t\t\t\"}\",\n\n\t\t\t\t\"float dev( float c ) {\",\n\t\t\t\t\"\treturn c <= 0.0031308 ? c * 12.92\",\n\t\t\t\t\"\t\t\t: pow( c, 0.41666 ) * 1.055 - 0.055;\",\n\t\t\t\t\"}\",\n\n\n\t\t\t\t\"void main() {\",\n\n\t\t\t\t\"\tvec2 uv = vUv;\",\n\n\t\t\t\t\"\tvec4 colorL = lin( texture2D( mapLeft, uv ) );\",\n\t\t\t\t\"\tvec4 colorR = lin( texture2D( mapRight, uv ) );\",\n\n\t\t\t\t\"\tvec3 color = clamp(\",\n\t\t\t\t\"\t\t\tcolorMatrixLeft * colorL.rgb +\",\n\t\t\t\t\"\t\t\tcolorMatrixRight * colorR.rgb, 0., 1. );\",\n\n\t\t\t\t\"\tgl_FragColor = vec4(\",\n\t\t\t\t\"\t\t\tdev( color.r ), dev( color.g ), dev( color.b ),\",\n\t\t\t\t\"\t\t\tmax( colorL.a, colorR.a ) );\",\n\n\t\t\t\t\"}\"\n\n\t\t\t].join(\"\\n\")\n\n\t\t});\n\n\t\tvar _mesh = new THREE.Mesh(new THREE.PlaneBufferGeometry(2, 2), _material);\n\t\t_scene.add(_mesh);\n\n\t\tthis.setSize = function (width, height) {\n\n\t\t\trenderer.setSize(width, height);\n\n\t\t\tvar pixelRatio = renderer.getPixelRatio();\n\n\t\t\t_renderTargetL.setSize(width * pixelRatio, height * pixelRatio);\n\t\t\t_renderTargetR.setSize(width * pixelRatio, height * pixelRatio);\n\n\t\t};\n\n\t\tthis.render = function (scene, camera) {\n\n\t\t\tvar currentRenderTarget = renderer.getRenderTarget();\n\n\t\t\tscene.updateMatrixWorld();\n\n\t\t\tif (camera.parent === null) camera.updateMatrixWorld();\n\n\t\t\t_stereo.update(camera);\n\n\t\t\trenderer.setRenderTarget(_renderTargetL);\n\t\t\trenderer.clear();\n\t\t\trenderer.render(scene, _stereo.cameraL);\n\n\t\t\trenderer.setRenderTarget(_renderTargetR);\n\t\t\trenderer.clear();\n\t\t\trenderer.render(scene, _stereo.cameraR);\n\n\t\t\trenderer.setRenderTarget(null);\n\t\t\trenderer.render(_scene, _camera);\n\n\t\t\trenderer.setRenderTarget(currentRenderTarget);\n\n\t\t};\n\n\t\tthis.dispose = function () {\n\n\t\t\tif (_renderTargetL) _renderTargetL.dispose();\n\t\t\tif (_renderTargetR) _renderTargetR.dispose();\n\t\t\tif (_mesh) _mesh.geometry.dispose();\n\t\t\tif (_material) _material.dispose();\n\n\t\t};\n\n\t};\n\n\treturn AnaglyphEffect;\n}\n","module.exports = __webpack_public_path__ + \"static/media/chat_md.77dd4ed5.gif\";","module.exports = __webpack_public_path__ + \"static/media/move_md.d29cf99a.gif\";","module.exports = \"data:image/png;base64,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\"","import io from \"socket.io-client\";\nlet socket = io(process.env.NODE_ENV === 'development'?\"http://localhost:5000/\":\"\");\nexport default socket;\n","import React from 'react';\nimport {Link} from 'react-router-dom';\n\nclass ListItem extends React.PureComponent {\n\n  constructor(props) {\n    super(props);\n  }\n\n  render() {\n    const {title, link, ui, callback, classN} = this.props;\n    const shortcut = getShortcut(this.props.shortcut, ui.width);\n    // let classn = (shortcut === '' || shortcut === null || ui.isMobile) ? 'noShortcut': 'shortcut';\n    let classn = classN;\n    classn += (shortcut === '' || shortcut === null) ? ' noShortcut': ' shortcut';\n\n    if (title === \"thesis\") {\n      return (\n        <li className={classn}><a href={\"/thesis.pdf\"} target=\"_blank\">thesis</a></li>\n      )\n    }\n    else if (link && link !== '') {\n      return (\n          <li className={classn}><Link to={link}>{this.getMenuItem(title, shortcut)}</Link></li>\n      );\n    }\n\n    return (\n      <li className={classn} onClick={callback} shortcut={shortcut}>{title}</li>\n    );\n  }\n\n  getMenuItem = (title,shortcut) => {\n    return (\n      <div className=\"flexRow\">\n        <div className=\"title flex1\">{title}</div>\n        <div className=\"shortcut\">{shortcut}</div>\n      </div>\n    )\n  }\n}\n\nfunction getShortcut(shortcut, width) {\n  // if (shortcut === null || shortcut === \"\" || width < 500) return null;\n  if (shortcut === null || shortcut === \"\") \n    return null;\n\n  const parser = new DOMParser();\n  const parsedString = parser.parseFromString(shortcut, 'text/html');\n  return parsedString.body.innerHTML;\n}\n\nexport default ListItem\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport ListItem from './ListItem';\n\nclass FinderSubmenu extends React.PureComponent {\n\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      isVisible: false\n    }\n\n    this.toggleHidden = this.toggleHidden.bind(this);\n    this.setWrapperRef = this.setWrapperRef.bind(this);\n    this.handleClickOutside = this.handleClickOutside.bind(this);\n  }\n\n  componentDidMount() {\n    document.addEventListener('mousedown', this.handleClickOutside);\n  }\n\n  componentWillUnmount() {\n    document.removeEventListener('mousedown', this.handleClickOutside);\n  }\n\n  setWrapperRef(node) {\n    this.wrapperRef = node;\n  }\n\n  handleClickOutside(event) {\n    if (this.wrapperRef && !this.wrapperRef.contains(event.target)) {\n      this.setState({\n        isVisible: false\n      })\n    }\n  }\n\n  toggleHidden() {\n    this.setState(prevState => ({\n      isVisible: !prevState.isVisible\n    }));\n  }\n\n  render() {\n\n    var title = this.getMainTitle();\n\n    if (this.props.title === \"\") {\n      title = <i className={this.props.icon}></i>\n    }\n    // const cursor = this.props.cursor;\n    const specialClass = this.props.specialClass;\n    let ulSpecialClass = this.props.ulSpecialClass ? this.props.ulSpecialClass : \"\";\n    if (this.getMobile())\n      ulSpecialClass += \" mobile\";\n    const listItems = this.props.listItems;\n\n\n    let classN = specialClass ? (\" \" + specialClass) : \"\";\n    if (!this.getMobile()) {\n      classN += \" expandable\";\n      classN += this.state.isVisible ? ' selected' : '';\n    }\n    // if (this.props.title === \"losing my dimension\" && this.isXXSmall())\n    //   classN += \" xxsmall\";\n\n    return (\n      <li className={classN} onClick={this.toggleHidden} ref={this.setWrapperRef}>{title}\n        <div className={`submenu ${this.state.isVisible ? 'visible' : ''}`}>\n          <ul className={ulSpecialClass}>\n            {listItems.map((item, i) => {\n              let classLN = item.classN ? item.classN : \"\";\n              \n              // if(item.title === \"spacer\") {\n              //   if (this.getMobile()) \n              //     return null;\n              //   return (\n              //     <li className=\"spacer\" key={i} />\n              //   )\n              // }\n              return (\n                <ListItem key={i} ui={this.props.ui} shortcut={item.shortcut} title={item.title} link={`/${item.link}`} callback={item.callback} classN={classLN} />)\n            }\n            )\n            }  </ul>\n        </div>\n      </li>\n    );\n  }\n\n  getPageTitle = () => {\n    // if (this.getMobile() && this.props.title === \"losing my dimension\") {\n    //   return (\n    //     <div className=\"mobile-title\">\n    //       <div>losing my dimension</div>\n    //       <div className=\"subtitle\">{this.props.currentPage}</div>\n    //     </div>\n    //   )\n    // }\n    return (\n      <span id=\"pageTitle\">{this.props.title}</span>\n    )\n\n  }\n\n  isXXSmall = () => {\n    return (this.props.currentPage !== \"gallery\" && this.props.ui.width < 445);\n  }\n\n  getMainTitle = () => {\n    // let title = \"losing my dimension\";\n    if (this.props.title === \"losing my dimension\") {\n      if (this.isXXSmall()) {\n        // let sty = { display: \"flex\", flexDirection: \"column\", lineHeight: \"15px\", position: \"absolute\", top: 10 }\n        // return (\n        //   <span><span className=\"xxsmallLogo\" style={sty}><span>losing my</span><span>dimension</span></span></span>\n        // )\n        return null;\n      }\n\n\n    }\n    return (\n      <React.Fragment>{this.props.title}</React.Fragment>\n    )\n\n    // return this.props.currentPage; // === \"gallery\"?\"losing my dimension\":this.props.currentPage;\n  }\n\n  getMobile = () => {\n    return this.props.ui.isMobile || this.props.ui.hasFooter;\n  }\n\n}\n\nexport default FinderSubmenu\n","import React from 'react';\n\nclass Clock extends React.PureComponent {\n\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      currentTimeString: 0\n    }\n\n    this.updateClock = this.updateClock.bind(this);\n  }\n\n  componentDidMount() {\n    this.updateClock();\n    this.interval = setInterval(this.updateClock, 1000);\n  }\n\n  componentWillUnmount() {\n    clearInterval(this.interval);\n  }\n\n\n  updateClock() {\n    var currentTime = new Date();\n    var currentHours = currentTime.getHours();\n    var currentMinutes = currentTime.getMinutes();\n    currentMinutes = (currentMinutes < 10 ? \"0\" : \"\") + currentMinutes;\n\n    // var currentSeconds = currentTime.getSeconds();\n    // currentSeconds = (currentSeconds < 10 ? \"0\" : \"\") + currentSeconds;\n\n    var timeOfDay = (currentHours < 12) ? \"AM\" : \"PM\";\n    currentHours = (currentHours > 12) ? currentHours - 12 : currentHours;\n    currentHours = (currentHours === 0) ? 12 : currentHours;\n\n    var shortDays = [\n      'Sun', //Sunday starts at 0\n      'Mon',\n      'Tue',\n      'Wed',\n      'Thu',\n      'Fri',\n      'Sat'\n    ];\n    var x = currentTime.getDay(); //This returns a number, starting with 0 for Sunday\n    var day = (shortDays[x]);\n\n    var currentTimeString = day + \" \" + currentHours + \":\" + currentMinutes + \" \" + timeOfDay;\n\n    this.setState({currentTimeString: currentTimeString});\n  }\n\n\n  render() {\n    return(\n      <span id=\"clock\">{this.state.currentTimeString}</span>\n    )\n  }\n\n\n}\n\n\nexport default Clock;\n","// action types\nexport const HIDEMENUS = 'HIDEMENUS';\nexport const SETONEMENU = 'SETONEMENU';\n\nexport const SHOWMAP = 'SHOWMAP';\nexport const HIDEMAP = 'HIDEMAP';\nexport const TOGGLEMAP = 'TOGGLEMAP';\n\nexport const SHOWFAQ = 'SHOWFAQ';\nexport const HIDEFAQ = 'HIDEFAQ';\nexport const TOGGLEFAQ = 'TOGGLEFAQ';\n\nexport const SHOWCHAT = 'SHOWCHAT';\nexport const HIDECHAT = 'HIDECHAT';\nexport const TOGGLECHAT = 'TOGGLECHAT';\n\nexport const SHOWUSERICONS = 'SHOWUSERICONS';\nexport const HIDEUSERICONS = 'HIDEUSERICONS';\nexport const TOGGLEUSERICONS = 'TOGGLEUSERICONS';\n\nexport const SHOWVOLUME = 'SHOWVOLUME';\nexport const HIDEVOLUME = 'HIDEVOLUME';\nexport const TOGGLEVOLUMEMENU = 'TOGGLEVOLUMEMENU';\n\nexport const SHOWLIVESTREAM = 'SHOWLIVESTREAM';\nexport const HIDELIVESTREAM = 'HIDELIVESTREAM';\nexport const TOGGLELIVESTREAM = 'TOGGLELIVESTREAM';\n\nexport const SHOWSIGNIN = 'SHOWSIGNIN';\nexport const HIDESIGNIN = 'HIDESIGNIN';\nexport const TOGGLESIGNIN = 'TOGGLESIGNIN';\n\nexport const SETGALLERYACTIVE = 'SETGALLERYACTIVE';\n\nexport const hideMenus = () => {\n  return {\n    type: HIDEMENUS\n  }\n}\n\nexport const setOneMenu = (show) => {\n  return {\n    type: SETONEMENU,\n    payload: { show }\n  }\n}\n\nexport const setGalleryActive = () => {\n  return {\n    type: SETGALLERYACTIVE\n  }\n}\n\n///////////// MAP\nexport const toggleMap = () => {\n  return {\n    type: TOGGLEMAP\n  }\n}\n\nexport const showMap = () => {\n  return {\n    type: SHOWMAP\n  }\n}\n\nexport const hideMap = () => {\n  return {\n    type: HIDEMAP\n  }\n}\n\n///////////// FAQ\nexport const toggleFaq = () => {\n  return {\n    type: TOGGLEFAQ\n  }\n}\n\nexport const showFaq = () => {\n  return {\n    type: SHOWFAQ\n  }\n}\n\nexport const hideFaq = () => {\n  return {\n    type: HIDEFAQ\n  }\n}\n\n///////////// Chat\nexport const toggleChat = () => {\n  return {\n    type: TOGGLECHAT\n  }\n}\n\nexport const showChat = () => {\n  return {\n    type: SHOWCHAT\n  }\n}\n\nexport const hideChat = () => {\n  return {\n    type: HIDECHAT\n  }\n}\n\n\n///////////// USER ICONS\nexport const toggleUserIcons = () => {\n  return {\n    type: TOGGLEUSERICONS\n  }\n}\n\nexport const showUserIcons = () => {\n  return {\n    type: SHOWUSERICONS\n  }\n}\n\nexport const hideUserIcons = () => {\n  return {\n    type: HIDEUSERICONS\n  }\n}\n\n////////////// VOLUME\n\n\nexport const showVolume = () => {\n  return {\n    type: SHOWVOLUME\n  }\n}\n\nexport const hideVolume = () => {\n  return {\n    type: HIDEVOLUME\n  }\n}\n\nexport const toggleVolumeMenu = () => {\n  return {\n    type: TOGGLEVOLUMEMENU\n  }\n}\n\n\n////////////// live stream\n\n\nexport const showLiveStream = () => {\n  return {\n    type: SHOWLIVESTREAM\n  }\n}\n\nexport const hideLiveStream = () => {\n  return {\n    type: HIDELIVESTREAM\n  }\n}\n\nexport const toggleLiveStream = () => {\n  return {\n    type: TOGGLELIVESTREAM\n  }\n}\n\n///////////// SIGN IN\nexport const toggleSignIn = () => {\n  return {\n    type: TOGGLESIGNIN\n  }\n}\n\nexport const showSignIn = () => {\n  return {\n    type: SHOWSIGNIN\n  }\n}\n\nexport const hideSignIn = () => {\n  return {\n    type: HIDESIGNIN\n  }\n}\n","export const ADDMESSAGE = 'ADDMESSAGE';\nexport const INCREMENTMESSAGENOTIFICATION = 'INCREMENTMESSAGENOTIFICATION';\nexport const RESETMESSAGENOTIFICATION = 'RESETMESSAGENOTIFICATION';\n\n\nexport const addMessage = (message) => {\n  return {\n    type: ADDMESSAGE,\n    payload: {message}\n  }\n}\n\n\nexport const addMessageNotification = () => {\n  return { type : INCREMENTMESSAGENOTIFICATION };\n}\n\nexport const resetMessgeNotification = () => {\n  return { type : RESETMESSAGENOTIFICATION };\n}","export const UNMUTEVOLUME = 'UNMUTEVOLUME';\nexport const MUTEVOLUME = 'MUTEVOLUME';\nexport const TOGGLEVOLUME = 'TOGGLEVOLUME';\nexport const SETVOLUME = 'SETVOLUME';\nexport const SETSKETCHVOLUME = 'SETSKETCHVOLUME';\n\nexport const INCREMENTSONG = 'INCREMENTSONG';\nexport const DECREMENTSONG = 'DECREMENTSONG';\nexport const SETSONG = 'SETSONG';\nexport const SETRANDOMSONG = 'SETRANDOMSONG';\n\nexport const SETSKETCHMUSIC = 'SETSKETCHMUSIC'; \nexport const SETNOSKETCHMUSIC = 'SETNOSKETCHMUSIC';\n\n\n//////////////// sketch music\nexport const setSketchMusic = (sketch, id, volume=.5) => {\n    return { \n        type: SETSKETCHMUSIC, \n        payload: { sketch, id, volume } \n    };\n}\n\nexport const setNoSketchMusic = () => {\n    return { type: SETNOSKETCHMUSIC };\n}\n\n//////////////// volume\nexport const unmuteVolume = () => {\n    return { type: UNMUTEVOLUME };\n}\n\nexport const toggleVolume = () => {\n    return { type: TOGGLEVOLUME };\n}\n\nexport const muteVolume = () => {\n    return { type: MUTEVOLUME };\n}\n\nexport const setVolume = (vol) => {\n    return { type: SETVOLUME, payload: { volume: vol } };\n}\n\nexport const setSketchVolume = (vol) => {\n    return { type: SETSKETCHVOLUME, payload: { volume: vol } };\n}\n\n//////////////// current song\nexport const setRandomSong = () => {\n    return { type: SETRANDOMSONG };\n}\n\nexport const incrementSong = () => {\n    return { type: INCREMENTSONG };\n}\n\n\nexport const decrementSong = () => {\n    return { type: DECREMENTSONG };\n}\n\nexport const setSong = (num) => {\n    return { type: SETSONG, payload: { song: num } }\n}","\nexport const rooms = [\n    { id: 1, short: \"mac\", link: \"macbook-air\", title: \"macbook air\", x: 5, y: 22, rot: -90, dir: \"right\", about: \"interior/exterior spaces online\", shortcut: \"&#x2318;1\", year: 2020 },\n    { id: 2, short: \"wet\", link: \"wet-streams\", title: \"wet streams\", x: 12, y: 13, rot: 0, dir: \"bottom\", about: \"thinking about internet sexuality, online homemaking\", shortcut: \"&#x2318;2\", year: 2020 },\n    { id: 3, short: \"hard\", link: \"hard-drives-on-seashores\", title: \"hard drives on seashores\", x: 12, y: 8, rot: -90, dir: \"right\", about: \"thinking about digital escape\", shortcut: \"&#x2318;3\", year: 2020 },\n    { id: 4, short: \"jung\", link: \"jungle-gyms\", title: \"jungle gyms\", x: 7, y: 8, rot: 90, dir: \"left\", about: \"thinking about confined covid space\", shortcut: \"&#x2318;4\", year: 2020 },\n    { id: 5, short: \"wasted\", link: \"wasted-days\", title: \"wasted days\", x: 0, y: 17, rot: -90, dir: \"right\", about: \"thinking about quarantine time\", shortcut: \"&#x2318;5\", year: 2020 },\n    { id: 6, short: \"esc\", link: \"esc-to-mars\", title: \"esc to mars\", x: 0, y: 0, rot: 0, dir: \"bottom\", about: \"thinking about digital escape\", shortcut: \"&#x2318;6\", year: 2020 },\n    { id: 7, short: \"xfin\", link: \"xfinity-depths\", title: \"xfinity depths\", x: 5, y: 0, rot: 0, dir: \"bottom\", about: \"thinking about infinite scroll\", shortcut: \"&#x2318;7\", year: 2020 },\n    { id: 8, short: \"cloud\", link: \"cloud-confessional\", title: \"cloud confessional\", x: 20, y: 22, rot: 90, dir: \"left\", about: \"thinking about the quality of online social space\", shortcut: \"&#x2318;8\", year: 2020 },\n    { id: 9, short: \"blind\", link: \"blind-eye\", title: \"blind eye\", x: 15, y: 0, rot: 0, dir: \"bottom\", about: \"How does the white cube translate into cyber-dimensions? What social and economic barriers (for example, systemic racism) prevent access to the art world, and how do these barriers operate online?\", shortcut: \"&#x2318;9\", year: 2021 },\n    { id: 10, short: \"flush\", link: \"flush\", title: \"flush\", x: 27, y: 5, rot: 90, dir: \"left\", about: \"thinking about internet vortexes, blackholes, shitholes...\", shortcut: \"&#x2318;F1\", year: 2020 },\n    { id: 11, short: \"home\", link: \"home-page\", title: \"home page\", x: 27, y: 10, rot: 90, dir: \"left\", about: \"thinking about digital privacy, digital/analog movement\", shortcut: \"&#x2318;F2\", year: 2020 },\n    { id: 12, short: \"yose\", link: \"yosemite\", title: \"yosemite\", x: -5, y: 12, rot: -90, dir: \"right\", about: \"How do digital representations of \", shortcut: \"&#x2318;F3\", year: 2021 },\n    { id: 13, short: \"click\", link: \"click-me-baby\", title: \"click me, baby\", x: 10, y: 0, rot: 0, dir: \"bottom\", about: \"buy something!\", shortcut: \"&#x2318;F4\", year: 2021 },\n];\n\nconst sk = [...rooms];\nsk.unshift({ id: 0, short: \"gallery\", title: \"gallery\", label: \"gallery\", link: \"\", classN: \"gallery\", shortcut: \"&#x2318;0\" })\nexport const sketches = sk;\n\n\nexport const getUrl = (short) => {\n    let sk = sketches.find((sketch) => sketch.short === short);\n    return \"/\" + sk.link;\n}\n\nexport const getSketch = (room) => {\n    return rooms.find((r) => r.link === room);\n}\n\nexport const getRoomDescription = (room) => {\n    let rm = rooms.find((r) => r.link === room);\n    if (rm) {\n        return rm.about;\n    }\n    return \"\";\n}\n\nexport const getRoomTitle = (room) => {\n    let rm = rooms.find((r) => r.link === room);\n    if (rm) {\n        return rm.title;\n    }\n    return \"\";\n}\n\nexport const getRoomCount = (room, users) => {\n    let rm = users.filter((usr) => usr.room === room);\n    return rm.length+1;\n}","import React from 'react';\nimport './Header.css';\nimport FinderSubmenu from './components/FinderSubmenu';\nimport { withRouter, Link } from \"react-router-dom\";\n\n// components\nimport Clock from './components/Clock';\n// import Volume from '../Volume/VolumeMute';\n\n// icons\nimport AccountCircleIcon from '@material-ui/icons/AccountCircle';\nimport ChatIcon from '@material-ui/icons/Chat';\nimport NotifyIcon from '@material-ui/icons/Notifications'\nimport MapIcon from '@material-ui/icons/Room';\nimport HelpOutlineIcon from '@material-ui/icons/HelpOutline';\n// import Volume from '@material-ui/icons/VolumeMute';\nimport VolumeUp from '@material-ui/icons/VolumeUp';\nimport VolumeOff from '@material-ui/icons/VolumeOff';\nimport LiveIcon from '@material-ui/icons/LiveTv';\nimport VolumeDown from '@material-ui/icons/VolumeDown';\n\n// import UsersIcon from '@material-ui/icons/SupervisedUserCircle';\n\n// store\nimport { connect } from 'react-redux';\nimport { toggleMap, toggleFaq, toggleChat, toggleUserIcons, toggleLiveStream } from '../../../store/actions/menuItems';\nimport { resetMessgeNotification } from '../../../store/actions/messages';\nimport { toggleVolume } from '../../../store/actions/music';\n\nimport { sketches } from '../../sketches/Sketches';\n\n/*\nReact.PureComponent’s shouldComponentUpdate() only shallowly compares\nthe objects. If these contain complex data structures, it may produce\nfalse-negatives for deeper differences. Only extend PureComponent when\nyou expect to have simple props and state, or use forceUpdate() when you\nknow deep data structures have changed. Or, consider\nusing immutable objects to facilitate fast comparisons of nested data.\nhttps://reactjs.org/docs/react-api.html#reactpurecomponent\n*/\nclass Header extends React.Component {\n\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      currentTimeString: 0,\n      showSideBar: true,\n      volumeMuted: false\n    }\n\n  }\n\n  // shouldComponentUpdate(nextProps) {\n  //   const shouldRender = nextProps.dimensions.windowWidth !== this.props.dimensions.windowWidth\n  //   || nextProps.dimensions.windowHeight !== this.props.dimensions.windowHeight\n  //   || nextProps.dimensions.device !== this.props.dimensions.device\n  //   || nextProps.user.avatar !== this.props.user.avatar;\n  //   console.log(nextProps.dimensions.windowWidth, this.props.dimensions.windowWidth);\n  //\n  //   return (\n  //     shouldRender\n  //   );\n  // }\n\n\n  handleClick = (id) => {\n    // console.log(id);\n  }\n\n\n  render() {\n\n\n\n    // phone shortcut: \"&#128222\"\n\n    // const styB = {border: \"1px solid white\", borderRadius: 5, fontSize: 11, color: \"white\"}\n\n\n    if (this.isSimpleHeader()) {\n      if (this.props.ui.orientation === \"landscape\")\n        return this.getMobileHeaderLandscape();\n      return this.getMobileHeaderPortrait();\n    }\n\n    return this.getDesktopHeader();\n  }\n\n  getArrowIconLi = () => {\n    const iconArrow = \"fas fa-arrow-left\";\n    const iconHouse = \"fas fa-home\";\n    // const iconArrow = \"fas fa-arrow-circle-left\";\n    const arrowClass = this.props.currentPage === \"gallery\" ? \"hidden\" : \"arrow expandable\";\n    return (\n      <li className={arrowClass} onClick={() => this.props.history.push(\"/\")}><i className={iconArrow}></i><i className={iconHouse}></i></li>\n    )\n  }\n\n  isXXSmall = () => {\n    return (this.props.currentPage !== \"gallery\" && this.props.ui.width < 445);\n  }\n\n  getHamburgerSub = () => {\n    // const homeIcon = this.props.ui.isMobile?\"fas fa-bars\":\"fa fa-cube\";\n    const homeIcon = \"fas fa-bars\";\n    const hamburgerMenuItems = [\n      { title: \"about\", link: \"about\", shortcut: \"\" },\n      { title: \"statement\", link: \"statement\", shortcut: \"\" },\n      // { title: \"thesis\", link: \"thesis\", shortcut: \"\" },\n\n      // {title: \"cookies\", link:\"/words\", shortcut: \"🍪\"},\n      // { title: \"credits\", link: \"credits\", shortcut: \"\" }\n    ];\n\n    return (\n      <FinderSubmenu ui={this.props.ui} title=\"\" currentPage={this.props.currentPage} icon={homeIcon} specialClass=\"apple\" listItems={hamburgerMenuItems} />\n    )\n  }\n\n\n  getMainMenuSub = () => {\n\n    const { currentPage, isClosed, isMenuOn } = this.props;\n    if ((isMenuOn) || currentPage === \"gallerytest\")\n      return <FinderSubmenu ui={this.props.ui} currentPage={this.props.currentPage} title=\"losing my dimension\" icon=\"\" specialClass=\"\" listItems={sketches} />\n    else if (this.isXXSmall() && currentPage !== \"gallery\")\n      return null;\n    else\n      return <li><span id=\"pageTitle\">losing my dimension</span></li>\n\n  }\n\n  getDesktopHeader = () => {\n\n    let headerClass = \"Header menuTheme\";\n    if (this.props.currentPage === \"click me baby\")\n      headerClass += \" clickMe\";\n    return (\n      <header className={headerClass}>\n        <ul className=\"left\">\n          {this.getArrowIconLi()}\n          {/*<FinderSubmenu cursor={`cursor-${this.state.hand}`} dimensions={this.props.dimensions} title=\"\" icon=\"fa fa-cube\" specialClass=\"apple\" listItems={hamburgerMenuItems} /> */}\n          {this.getHamburgerSub()}\n          {this.getMainMenuSub()}\n          {/* <li className={`expandable`}><Link to=\"/\"><span id=\"pageTitle\">Losing My Dimension</span></Link></li> */}\n          {/* <li><span className=\"currentPage\">/{this.props.currentPage}</span></li> */}\n        </ul>\n        <ul className=\"right\">\n          {this.getChatLi()}\n          {/* <li className={classUserIcons} onClick={this.props.toggleUserIcons}><UsersIcon fontSize=\"inherit\" /></li> */}\n          {this.getMapLi()}\n          {this.getFaqLi()}\n          {this.getLiveStreamLi()}\n          <li></li>\n          <li><Clock /></li>\n          {/* <li></li> */}\n          {this.props.user.comp === null? this.getVolumeLi(): null}\n          {/* <li></li> */}\n          {this.getAvatarLi()}\n          {/* <li className=\"expandable hamburger\" onClick={this.props.toggleSideBar}><i className=\"fas fa-bars\"></i></li>*/}\n        </ul>\n      </header>\n    )\n  }\n\n  getMobileHeaderLandscape = () => {\n\n    const headerClass = \"Header menuTheme mobile\";\n\n    return (\n      <header className={headerClass}>\n        <ul className=\"left\">\n          {this.getArrowIconLi()}\n          {this.getHamburgerSub()}\n          {this.getMainMenuSub()}\n\n          {/* {this.getMainTitleLi()} */}\n        </ul>\n      </header>\n    )\n  }\n\n  getMobileHeaderPortrait = () => {\n\n    const headerClass = \"Header menuTheme mobile\";\n\n    return (\n      <header className={headerClass}>\n        <ul className=\"left\">\n          {this.getArrowIconLi()}\n          {this.getMainMenuSub()}\n          {/* {this.getMainTitleLi()} */}\n        </ul>\n        <ul className=\"right\">\n          {this.getHamburgerSub()}\n        </ul>\n      </header>\n    )\n  }\n\n\n  isSimpleHeader() {\n    const { ui } = this.props;\n    return (ui.isMobile || ui.hasFooter);\n  }\n\n  chatClicked = () => {\n    this.props.resetMessgeNotification();\n    this.props.toggleChat();\n  }\n\n \n\n  getMobileRightMenus() {\n    return (\n      <ul className=\"right\">\n        <li className=\"header-avatar\" onClick={this.props.avatarClicked}>{this.getAvatar()}</li>\n      </ul>\n    );\n  }\n\n\n  getLiveStreamLi = () => {\n    const classVol = \"expandable icon\" + (this.props.menu.isLiveStreamHidden ? \" closed\" : \" opened\");\n    return (\n      <li className={classVol} onClick={this.props.toggleLiveStream}>\n        {/* <Volume isMuted={this.props.music.isMuted} /> */}\n        {/* {this.getVolumeIcon()} */}\n        <LiveIcon />\n      </li>\n    )\n  }\n\n  getVolumeLi = () => {\n    const classVol = \"expandable icon opened\";\n    return (\n      <li className={classVol} onClick={this.props.toggleVolume}>\n        {/* <Volume isMuted={this.props.music.isMuted} /> */}\n        {this.getVolumeIcon()}\n      </li>\n    )\n  }\n\n  getVolumeIcon = () => {\n    const { music } = this.props;\n    if (music.isMuted || music.volume == 0)\n      return <VolumeOff />\n    // else if (music.volume < .5)\n    //   return <VolumeDown />\n    return <VolumeUp />\n  }\n\n  getAvatarLi = () => {\n    return (\n      <li className=\"header-avatar expandable\" onClick={this.props.avatarClicked}>\n        {this.getAvatar()}\n      </li>\n    )\n  }\n\n  getFaqLi = () => {\n    const classFaq = \"expandable icon\" + (this.props.menu.isFaqHidden ? \" closed\" : \" opened\");\n\n    return (\n      <li className={classFaq} onClick={this.props.toggleFaq}>\n        <HelpOutlineIcon fontSize=\"inherit\" />\n      </li>\n    )\n  }\n\n  getMapLi = () => {\n    var classMap = \"icon\";\n    const isHome = this.props.user.room === \"gallery\";\n    if (isHome) {\n      classMap += (this.props.menu.isMapHidden ? \" closed\" : \" opened\");\n      classMap += \" expandable\";\n    }\n    else classMap += \" closed disabled\";\n\n    if (!isHome)\n      return null;\n    return (\n      <li className={classMap} onClick={this.props.toggleMap} >\n        <MapIcon fontSize=\"inherit\" />\n      </li >\n    )\n  }\n\n  getChatLi = () => {\n    var classChat = \"expandable icon\" + (this.props.menu.isChatHidden ? \" closed\" : \" opened\");\n    if (this.props.chatNotifications)\n      classChat += \" notify\";\n    return (\n      <li className={classChat} onClick={this.chatClicked}>\n        <ChatIcon fontSize=\"inherit\" />\n        {this.getChatNotification()}\n      </li>\n    )\n  }\n\n  getChatNotification = () => {\n    let n = this.props.chatNotifications;\n    if (n) {\n      if (n > 10)\n        return (<div className=\"notification\"><span className=\"badge\"><NotifyIcon /></span></div>);\n      return (<div className=\"notification\"><span className=\"badge\">{n}</span></div>);\n    }\n    return null;\n  }\n\n  getAvatar = () => {\n    const { user } = this.props;\n    if (user) {\n      return (user.avatar);\n    }\n    return (\n      <AccountCircleIcon />\n    );\n  }\n\n\n}\n\nconst mapStateToProps = (state) => {\n  return {\n    menu: state.menu,\n    chatNotifications: state.chatNotifications,\n    music: state.music,\n    ui: state.ui\n  }\n}\n\nconst mapDispatchToProps = () => {\n  return {\n    toggleMap,\n    toggleFaq,\n    toggleChat,\n    toggleLiveStream,\n    resetMessgeNotification,\n    toggleUserIcons,\n    toggleVolume,\n\n  }\n}\n\n\nexport default withRouter(connect(mapStateToProps, mapDispatchToProps())(Header));\n","import React from 'react';\nimport './MobileFooter.css';\nimport { withRouter } from \"react-router-dom\";\n\nimport AccountCircleIcon from '@material-ui/icons/AccountCircle';\nimport ChatIcon from '@material-ui/icons/Chat';\nimport NotifyIcon from '@material-ui/icons/Notifications'\nimport MapIcon from '@material-ui/icons/Room';\nimport HelpOutlineIcon from '@material-ui/icons/HelpOutline';\n\n// store\nimport { connect } from 'react-redux';\nimport { showMap, showFaq, showChat, showSignIn, setOneMenu } from '../../../../store/actions/menuItems';\nimport { resetMessgeNotification } from '../../../../store/actions/messages';\n\n\nclass MobileFooter extends React.Component {\n\n    //\n    render() {\n        const { ui, menu, chatNotifications, user } = this.props;\n        var footerClass = \"MobileFooter\" + (ui.orientation === \"landscape\" ? \" landscape\" : \"\");\n\n\n\n\n        // const sty = {top: this.props.ui.height-60};\n        if (this.hasFooter()) {\n            return (\n                <div className={footerClass}>\n                    {this.props.user.room === \"gallery\" ? this.getMapButton() : null}\n                    {/* this.getGalleryButton()} */}\n                    {this.getChatButton()}\n                    {this.getFAQButton()}\n                    {this.getSignInButton()}\n                </div>\n            )\n        }\n        return null;\n    }\n\n    goToGallery = () => {\n        if (window.confirm('Go back to main gallery?')) {\n            this.props.history.push(\"/\");\n        }\n    }\n\n    getSignInButton = () => {\n        const { menu } = this.props;\n        ////////// USER CLASS\n        const classUser = \"icon\" + (menu.mobile === \"signIn\" ? \" opened\" : \" closed\");\n        return (\n            <button className={classUser} onClick={() => this.props.setOneMenu(\"signIn\")}><AccountCircleIcon fontSize=\"inherit\" /></button>\n        )\n    }\n\n    getChatButton = () => {\n        const { menu, chatNotifications, user } = this.props;\n        ////////// CHAT CLASS\n        var classChat = \"icon\" + (menu.mobile === \"chat\" ? \" opened\" : \" closed\");\n        if (chatNotifications) classChat += \" notify\";\n        if (user.room !== \"gallery\") {\n            classChat += \" top\";\n        }\n        return (\n            <button className={classChat} onClick={this.chatClicked}><ChatIcon fontSize=\"inherit\" />{this.getChatNotification()}</button>\n        )\n    }\n\n    getFAQButton = () => {\n        const { menu } = this.props;\n        ////////// FAQ CLASS\n        const classFaq = \"icon\" + (menu.mobile === \"faq\" ? \" opened\" : \" closed\");\n        // const classUserIcons = \"expandable icon\" + (this.props.userIconsIsHidden ? \" closed\" : \" opened\");\n\n        return (\n            <button className={classFaq} onClick={() => this.props.setOneMenu(\"faq\")}><HelpOutlineIcon fontSize=\"inherit\" /></button>\n        )\n    }\n\n    getMapButton = () => {\n        const { menu, user } = this.props;\n        ////////// MAP CLASS\n        var classMap = \"icon\";\n        if (user.room === \"gallery\") {\n            classMap += (menu.mobile === \"map\" ? \" opened\" : \" closed\");\n            classMap += \" top\";\n        }\n        else classMap += \" closed disabled\";\n\n        return (\n            <button className={classMap} onClick={() => this.props.setOneMenu(\"map\")}><MapIcon fontSize=\"inherit\" /></button>\n        )\n    }\n\n    getGalleryButton = () => {\n        // const { ui, menu, chatNotifications, user } = this.props;\n        return (\n            <button onClick={this.goToGallery}>\n                <img src={window.AWS + \"/shared/homeicon.png\"}\n                    style={{\n                        height: 30,\n                        width: 30\n                    }}\n                />\n            </button>\n        )\n    }\n\n    hasFooter = () => {\n        const { ui } = this.props;\n        return (ui.isMobile || ui.hasFooter);\n    }\n\n    chatClicked = () => {\n        this.props.resetMessgeNotification();\n        // this.props.setOneMenu(\"chat\");\n        this.props.setOneMenu(\"chat\");\n    }\n\n    getChatNotification = () => {\n        let n = this.props.chatNotifications;\n        if (n) {\n            if (n > 10)\n                return (<div className=\"notification\"><span className=\"badge\"><NotifyIcon /></span></div>);\n            return (<div className=\"notification\"><span className=\"badge\">{n}</span></div>);\n        }\n        return null;\n    }\n\n    getAvatar = () => {\n        const { user } = this.props;\n        if (user) {\n            return (user.avatar);\n        }\n        return (\n            <AccountCircleIcon />\n        );\n    }\n\n}\n\n\n\nconst mapStateToProps = (state) => {\n    return {\n        chatNotifications: state.chatNotifications,\n        ui: state.ui,\n        menu: state.menu\n    }\n}\n\nconst mapDispatchToProps = () => {\n    return {\n        resetMessgeNotification,\n        setOneMenu,\n        showFaq,\n        showSignIn,\n        showChat,\n        showMap\n    }\n}\n\n\nexport default withRouter(connect(mapStateToProps, mapDispatchToProps())(MobileFooter));\n\n","/* eslint-disable no-use-before-define */\nimport React from 'react';\nimport Autocomplete from '@material-ui/lab/Autocomplete';\n\n\nimport { connect } from 'react-redux';\nimport { resetMessgeNotification } from '../../../store/actions/messages';\n\n\n\nclass ComboBox extends React.Component {\n\n  // really I only think this needs to rerender if someone joins/leaves a ROOM\n  // or registers/ connects / disconnects\n\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      // value: null,\n      inputValue: \"\",\n    }\n\n\n    this.initialUsers = [{userName: \"Everyone\", avatar: \"👥\"}, {userName: \"Room\", avatar: \"🚪\"}];\n\n    // if (this.props.room === \"home\") {\n    //   const wineBot = {};\n    //   const hostBot = {};\n    //   this.initialUsers.push(wineBot);\n    //   this.initialUsers.push(hostBot);\n    // }🤖\n\n\n\n  }\n\n  componentDidUpdate(prevProps) {\n    // console.log(\"setting new chat user\", this.props.userActiveChat);\n    if (prevProps.userActiveChat !== this.props.userActiveChat) {\n      // this.updateAndNotify();\n      var label = \"\";\n      if (this.props.userActiveChat) label = this.getLabel(this.props.userActiveChat);\n      this.setState({inputValue: label});\n      // this.setValue(this.props.userActiveChat);\n    }\n  }\n\n  getInitialUserNames = () => {\n    const names = [];\n    for (const user of this.initialUsers) {\n      names.push(user.userName);\n    }\n    return names;\n  }\n\n  getLabel(user) {\n    if (!user) return \"\";\n    return `${user.avatar} ${user.userName}`;\n  }\n\n  // CHANGES WHEN TYPING INPUT\n  setInputValue = (newInputValue) => {\n    if (newInputValue) {\n      this.setState({inputValue: newInputValue});\n    }\n    else {\n      this.setState({inputValue: \"\"});\n    }\n  }\n\n  getUserListInRoom = () => {\n    var users = this.getInitialUserNames();\n    if (this.props.users) {\n      for (let i = 0; i < this.props.users.length; i++) {\n        const user = {...this.props.users[i]};\n        // don't include winebot with id = 1\n        if (user.room === this.props.room && user.id !== 1) {\n          users.push(this.getLabel(user));\n        }\n      }\n    }\n    return users;\n  }\n\n  getUsersInRoomTrunc = () => {\n    var users = this.initialUsers;\n    if (this.props.users) {\n      for (let i = 0; i < this.props.users.length; i++) {\n        const user = {...this.props.users[i]};\n        if (user.room === this.props.room && user.id !== 1) {\n          users.push({avatar: user.avatar, userName: user.userName});\n        }\n      }\n    }\n    return users;\n  }\n\n  getUsersInRoom = () => {\n    // console.log(\"USERS\", users)\n    var users = this.initialUsers;\n    if (this.props.users) users = [...users, ...this.props.users];\n    let usersInRoom = users.filter((user, i) => {\n      return (i < 10) || (user.room === this.props.room && user.id);\n    })\n    // console.log(\"ROOM USERS\", usersInRoom)\n    return usersInRoom;\n  }\n\n  getUserObjectByListID(listID) {\n    var users = this.initialUsers;\n    if (this.props.users) users = [...users, ...this.props.users];\n    let obj = users.find(user => listID === this.getLabel(user));\n    return obj;\n  }\n\n  // CHANGES WHEN HIT RETURN, CLICK,\n  // I.E. SELECTED FROM LIST\n  setValue = (newValue) => {\n    // this.setState({value: newValue});\n\n    this.props.setRecipient(newValue);\n  }\n\n  render() {\n    // const userList = this.getUserListInRoom();\n    const users = this.getUsersInRoom();\n\n    const {inputValue} = this.state;\n    const {userActiveChat, userHoverChat} = this.props;\n\n    let sty = {};\n    if (this.props.w) {\n      sty.width = this.props.w-10;\n    }\n\n    return (\n      \n      <div className=\"AutoComplete\">\n        <Autocomplete\n          id=\"combo-box-demo\"\n          className=\"autocomplete\"\n          value={userActiveChat}\n          onChange={(event, newValue) => {\n            if (newValue) this.setValue(newValue);\n          }}\n          inputValue={inputValue}\n          onInputChange={(event, newInputValue) => {\n            \n            this.setInputValue(newInputValue);\n          }}\n          onFocus={this.props.resetMessgeNotification}\n          options={users}\n          getOptionLabel={(option) => this.getLabel(option)}\n          getOptionSelected={(option, value) => this.getLabel(option) === this.getLabel(value)}\n          fullWidth\n          renderInput={(params) => {\n            // console.log(\"PARAMS\", params);\n            return (\n              <div ref={params.InputProps.ref} >\n                <input className=\"autocomplete-input\" style={sty} type=\"text\" placeholder=\"select user\" {...params.inputProps} />\n              </div>\n            )\n          }}\n          />\n      </div>\n    );\n  }\n}\n\nconst mapStateToProps = (state) => {\n  return {\n  }\n}\n\nconst mapDispatchToProps = () => {\n  return {\n    resetMessgeNotification\n  }\n}\n\n\nexport default connect(mapStateToProps, mapDispatchToProps())(ComboBox);\n","import React from 'react';\n\nclass Messages extends React.Component {\n\n  constructor(props) {\n    super(props);\n\n    this.state = {\n    }\n  }\n\n  componentDidMount() {\n    if (this.props.isMobilie) \n      this.scrollToTop();\n    else \n      this.scrollToBottom();\n  }\n\n  componentDidUpdate() {\n    if (this.props.isMobilie) \n      this.scrollToTop();\n    else \n      this.scrollToBottom();\n  }\n\n  getUserById = (id) => {\n    const users = this.state.users;\n    if (users) return users.find(o => o.id === id);\n    return null;\n  }\n\n  getUserNameById = (id) => {\n    const users = this.state.users;\n    if (users) {\n      let obj = users.find(o => o.id === id);\n      if (obj) return obj.userName;\n    }\n    return \"\";\n  }\n\n  scrollToBottom = () => {\n    if (this.messagesEnd) this.messagesEnd.scrollIntoView({ behavior: \"smooth\", block: \"end\", inline: \"nearest\" });\n  }\n\n  scrollToTop = () => {\n    if (this.messagesStart) this.messagesStart.scrollIntoView({ behavior: \"smooth\", block: \"end\", inline: \"nearest\" });\n  }\n\n  render() {\n    if (this.props.isMobile) {\n      return this.renderMobile();\n    }\n    return this.renderDesktop();\n  }\n\n  renderDesktop() {\n    // const avatar = this.props.avatar;\n    return (\n      <div className=\"Chat-messages-box\">\n        <div className=\"Chat-messages-inner-box\">\n          {this.props.messages.map((message, i) => {\n            let classN = \"chat-from-\" + (message.from===\"me\"?\"me\":\"other\");\n            // console.log(\"MESSAGE\", message);\n            let avatarHidden = message.from===\"me\"?\"hidden\":\"\";\n            let messageToCol = message.to===\"room\"||message.to===\"all\"?\"message-to-red\":\"message-to\";\n            return (\n              <div key={i} className={\"bubbleContainer \" + classN }>\n                <div className={\"avatar\" + \" \" + avatarHidden}>{message.avatar}</div>\n                <div className={\"bubble\"} key={i}>\n                  <div className=\"message-deets\"><span className=\"message-from\">{message.from}</span> <span className={messageToCol}>(to {message.to})</span>:</div>\n                  <div className=\"message-txt\">{message.message}</div>\n                </div>\n\n              </div>\n            )\n          })}\n          <div className=\"dummyText\" style={{ float:\"left\", clear: \"both\" }}\n            ref={(el) => { this.messagesEnd = el; }}>\n          </div>\n        </div>\n      </div>\n    );\n  }\n\n  renderMobile() {\n    // const avatar = this.props.avatar;\n    return (\n      <div className=\"Chat-messages-box\">\n        <div className=\"Chat-messages-inner-box\">\n          <div className=\"dummyText\" style={{ float:\"left\", clear: \"both\" }}\n            ref={(el) => { this.messagesStart = el; }}>\n          </div>\n          {this.props.messages.slice(0).reverse().map((message, i) => {\n            let classN = \"chat-from-\" + (message.from===\"me\"?\"me\":\"other\");\n            // console.log(\"MESSAGE\", message);\n            let avatarHidden = message.from===\"me\"?\"hidden\":\"\";\n            let messageToCol = message.to===\"room\"||message.to===\"all\"?\"message-to-red\":\"message-to\";\n            return (\n              <div key={i} className={\"bubbleContainer \" + classN }>\n                <div className={\"avatar\" + \" \" + avatarHidden}>{message.avatar}</div>\n                <div className={\"bubble\"} key={i}>\n                  <div className=\"message-deets\"><span className=\"message-from\">{message.from}</span> <span className={messageToCol}>(to {message.to})</span>:</div>\n                  <div className=\"message-txt\">{message.message}</div>\n                </div>\n\n              </div>\n            )\n          })}\n          \n        </div>\n      </div>\n    );\n  }\n\n}\n\nexport default Messages;\n","import React from 'react';\n\nfunction Toolbar(props) {\n  return(\n    <div className=\"titlebar menuTheme handle\">\n      <div className=\"buttons\">\n        <div className=\"close circleButton\" onClick={props.toggleClosed}>\n          <div className=\"closebutton\"><div className=\"innerC\"></div></div>\n\n        </div>\n        <div className=\"minimize circleButton\" onClick={props.toggleMinimzed}>\n          <div className=\"minimizebutton\"><div className=\"innerC\"></div></div>\n\n        </div>\n        <div className=\"zoom circleButton\" onClick={props.toggleMaximized}>\n          <div className=\"zoombutton\"><div className=\"innerC\"></div></div>\n\n        </div>\n      </div>\n      <div className=\"titleTxtContainer\">{props.title}</div>\n\n\n    </div>\n  );\n}\n\nexport default Toolbar\n","import React from 'react';\nimport './Frame.css';\nimport Draggable from 'react-draggable';\nimport Toolbar from './Toolbar';\n\nimport PropTypes from 'prop-types';\n\n\nclass Frame extends React.Component {\n  // https://codepen.io/JohJakob/pen/YPxgwo\n  constructor(props) {\n    super(props);\n\n    this.toolBarH = 26;\n\n\n    const {x, y} = this.props;\n    this.origCoords = {\n      x: x,\n      y: y\n    };\n\n    // this.start = this.props.x;\n    this.state = {\n      isVisible : true,\n      isMinimized: false,\n      deltaPosition: {\n        x: 0, y: 0\n      },\n      controlledPosition: {\n        x: x, y: y\n      }\n    }\n\n    this.wrapper = React.createRef();\n  }\n\n  componentDidUpdate(prevProps) {\n    if (this.props.x !== prevProps.x || this.props.y !== prevProps.y) {\n      const dx = this.props.x - prevProps.x;\n      const dy = this.props.y - prevProps.y;\n      const controlledPosition = {...this.state.controlledPosition}\n      this.setState({controlledPosition: {x: controlledPosition.x + dx, y: controlledPosition.y + dy}});\n    }\n  }\n\n  onControlledDrag = (e, position) => {\n    const {x, y} = position;\n    this.setState({controlledPosition: {x, y}});\n    if(this.props.onDrag) this.props.onDrag(position);\n\n  };\n\n  onControlledDragStop = (e, position) => {\n    this.onControlledDrag(e, position);\n    this.onStop();\n  };\n\n  toggleClosed = (e) => {\n    // console.log(\"CLOSE\")\n    this.setState({\n      isVisible: false\n    })\n\n    if (this.props.onHide) this.props.onHide();\n    e.stopPropagation();\n  }\n\n  toggleMinimzed = (e) => {\n    this.setState(prevState => ({\n      isMinimized: !prevState.isMinimized\n    }), () => {\n      if (this.props.onMinimized) this.props.onMinimized();\n    });\n\n    e.stopPropagation();\n  }\n\n  toggleMaximized = (e) => {\n    const controlledPosition = {...this.state.controlledPosition};\n    controlledPosition.x = this.origCoords.x;\n    controlledPosition.y = this.origCoords.y;\n    console.log(this.origCoords);\n    this.setState({controlledPosition}, () => {\n      if (this.props.onMaximized) this.props.onMaximized();\n    });\n    e.stopPropagation()\n  }\n\n\n\n  onStart = () => {\n    this.setState({activeDrags: this.state.activeDrags+1});\n    if (this.props.onStart) this.props.onStart();\n  };\n\n  onStop = () => {\n    this.setState({activeDrags: this.state.activeDrags-1});\n    if (this.props.onStop) this.props.onStop();\n  };\n\n  handleStart = () => {\n    if (this.props.newFrameToTop) this.props.newFrameToTop();\n  }\n\n  handleClick = (e) => {\n    if (this.props.newFrameToTop) this.props.newFrameToTop();\n    e.stopPropagation();\n  }\n\n\n  // returnOriginalCoords() {\n  //   // e.preventDefault();\n  //   // e.stopPropagation();\n  //   const {controlledPosition} = this.state;\n  //   const {x, y} = controlledPosition;\n  //   console.log(controlledPosition);\n  //   this.setState({controlledPosition: {x: this.origCoords.x, y: this.origCoords.y}});\n  // }\n\n  render() {\n    const parser = new DOMParser();\n    var title = this.props.title;\n    const dragHandlers = {onStart: this.onStart, onStop: this.onStop};\n    const {deltaPosition, controlledPosition} = this.state;\n    // const cP = {x: controlledPosition.x, y: controlledPosition.y};\n    // cP.x += (this.props.x - this.origCoords.x);\n    // cP.y += (this.props.y - this.origCoords.y);\n\n    if (title === \"\") {\n      const parsedString = parser.parseFromString(this.props.icon, 'text/html');\n      title = parsedString.body.innerHTML;\n    }\n\n    var classn = \"Frame\";\n    if (this.props.isHidden == null && !this.state.isVisible) {\n      classn += \" hidden\";\n    }\n    else if (this.props.isHidden ) {\n      classn += \" hidden\";\n    }\n    else if (this.props.isMinimized | this.state.isMinimized) {\n      classn += \" minimized\";\n    }\n\n    if (this.state.isMaximized) {\n      classn += \" maximized\";\n    }\n\n    if (this.props.className) classn += \" \" + this.props.className;\n\n\n    var contentVisibility = {\n      display: this.state.isMinimized ? \"none\" : \"block\",\n      height: this.props.height+ \"px\",\n      width: this.props.width + \"px\"\n    }\n\n    //https://github.com/STRML/react-draggable\n\n    // position = {...} makes it have a specific location. when you want direct control.\n    // let pos = this.state.controlledPosition;\n    // let off = this.props.dx ? {x: this.props.dx, y: this.props.dy}: null;\n    let frameH = this.toolBarH + (this.state.isMinimized?0:this.props.height);\n    // so if we make pos null, it stays where it is dragged to\n    // however, it doesn't update when the page width / height changes\n    // if we let pos be equal to props.px/ props.py, it changes location\n\n    const bounds = this.props.bounded?\".App-Content\":null;\n\n    return (\n\n      <Draggable\n        axis=\"both\"\n        handle={this.props.handle?\".handle, \" + this.props.handle: \".handle\"}\n        defaultPosition={{x: this.props.x, y: this.props.y}}\n        position={controlledPosition}\n        positionOffset={null}\n        grid={[1, 1]}\n        scale={1}\n        bounds={bounds}\n        cancel=\".close, .minimize, .zoom\"\n        onStart={this.handleStart}\n        onDrag={this.onControlledDrag}\n        onStop={this.handleStop}\n        nodeRef={this.wrapper}\n        >\n        <div ref={this.wrapper} onClick={this.handleClick} className={classn} style={{width: this.props.width + 2 + \"px\",height: frameH + \"px\", zIndex: this.props.z?this.props.z:0}} >\n          <div className={this.props.window?\"window \" + this.props.window:\"window\"} style={this.props.windowStyle}>\n            <Toolbar title={this.props.title} toggleClosed={this.toggleClosed} toggleMinimzed={this.toggleMinimzed} toggleMaximized={this.toggleMaximized} />\n            <div className=\"content\" style={contentVisibility}>\n              {this.props.content}\n            </div>\n          </div>\n        </div>\n      </Draggable>\n\n    );\n  }\n\n  closeFrame() {\n\n  }\n}\n\nFrame.propTypes = {\n  name: PropTypes.string,\n  title: PropTypes.string,\n  icon: PropTypes.string,\n  className: PropTypes.string,\n  handle: PropTypes.string,\n  window: PropTypes.string,\n  bounded:PropTypes.bool,\n\n  windowStyle: PropTypes.object,\n\n  x: PropTypes.number.isRequired,\n  y: PropTypes.number.isRequired,\n  z: PropTypes.number,\n  height: PropTypes.number,\n  width: PropTypes.number.isRequired,\n  content: PropTypes.node.isRequired,\n\n\n  isHidden: PropTypes.bool,\n  isMinimized: PropTypes.bool,\n\n  onDrag: PropTypes.func,\n  onHide: PropTypes.func,\n  onMinimized: PropTypes.func,\n  onMaximized: PropTypes.func,\n  onStart: PropTypes.func,\n  onStop: PropTypes.func,\n  newFrameToTop: PropTypes.func,\n};\n\nexport default Frame\n","const padding = 15;\n// const heading = 60; // top header\n// const barBot = 60; // mobile footer / landscape menu\nconst minW = 540;\nconst minH = 400;\nconst borderW = 2;\nconst buffer = 40;\n\nexport function getCenterModalDim(ui, isRelative) {\n    \n\n    if (getWidthTooSmall(ui) || getHeightTooSmall(ui)) {\n        if (ui.orientation === \"portrait\")\n            return getPortraitSmall(ui, isRelative);\n        return getLandscapeSmall(ui, isRelative);\n    }\n\n    else {\n        const { contentW, contentH, toolbarH, headerH} = ui;\n\n        let w = minW;\n        let h = minH;\n        let y = (contentH - h - toolbarH) / 2;\n        if (!isRelative)\n            y += headerH;\n\n        // if (width < 600) {\n        //     w = width - padding * 2;\n        //     h = height - padding * 2 - headerH - barBot - heading;\n        //     let y = padding; // + heading;\n        //     if (!isRelative)\n        //         y += heading;\n        // }\n        // else if (height < 400) {\n        //     w = 540;\n        //     h = height - padding * 2 - headerH - barBot;\n        //     let y = padding; // + heading;\n        //     if (!isRelative)\n        //         y += heading;\n        // }\n\n        let x = (contentW - w) / 2 - borderW;\n        return { w, h, x, y };\n        // console.log(w, h, x, y);\n    }\n    \n\n// return {w: 100, h: 100, x: 100, y: 100}\n}\n\n\nfunction getWidthTooSmall(ui) {\n    const {contentW} = ui;\n    return contentW < minW + padding * 2+buffer;\n}\n\nfunction getHeightTooSmall(ui) {\n    const {toolbarH, contentH} = ui;\n    return contentH < minH + padding * 2 + toolbarH + buffer;\n}\n\n\nfunction getLandscapeSmall(ui, isRelative) {\n    const {toolbarH, contentW, contentH, headerH} = ui;\n    const w = contentW - padding * 2; // 60 = width of menu on left\n    const h = contentH - padding - toolbarH;\n    // const x = barBot + padding;\n    const x = padding;\n    let y = padding/2;\n    if (!isRelative)\n        y += headerH;\n    return { w, h, x, y };\n    // console.log(x, y, x, h);\n    // return {w: 200, h: 100, x: 300, y: 300};\n}\n\nfunction getPortraitSmall(ui, isRelative) {\n    const {toolbarH, contentW, contentH, headerH} = ui;\n    const w = contentW - padding * 2 ; // 60 = width of menu on left\n    const h = contentH - padding * 2 - toolbarH;\n    const x = padding - borderW;\n    let y = padding; // + heading;\n    if (!isRelative)\n        y += headerH;\n    return { w, h, x, y };\n    // return {w: 200, h: 100, x: 300, y: 300};\n}","import React, { MouseEvent, KeyboardEvent } from 'react';\nimport Frame from '../Frame/Frame';\nimport './CenterModal.css';\nimport { getCenterModalDim } from './Helper';\n\ninterface CenterModalProps {\n  title: string,\n  classN: string,\n  content: JSX.Element,\n  buttons: JSX.Element,\n  width: number,\n  height: number,\n  isHidden: boolean,\n  z: number,\n  ui: any,\n  isRelative: boolean,\n  onHide(): any\n}\n\n\nexport default function CenterModal({ title, classN, ui, z, height, width, isHidden, content, buttons, isRelative, onHide }: CenterModalProps) {\n\n\n  let { w, h, x, y } = getCenterModalDim(ui, isRelative);\n\n  if (height && width) {\n    h = Math.min(h, height);\n    w = Math.min(w, width);\n    y = (ui.contentH - h - ui.toolbarH) / 2;\n    if (!isRelative)\n      y += ui.headerH;\n    x = (ui.contentW - w) / 2;\n  }\n  const classT = (!isHidden ? \" GrayedOut\" : \"\");\n\n\n  const handleMouse = (e: MouseEvent) => {\n    e.stopPropagation();\n  }\n\n  const handleDoubleClick = (e: MouseEvent) => {\n    e.stopPropagation();\n  }\n\n  return (\n    <React.Fragment>\n      <div className={classT} onDoubleClick={handleDoubleClick} style={{ visibility: (isHidden ? \"hidden\" : \"visible\"), zIndex: z }} />\n      <Frame title={title} isHidden={isHidden} bounded={true} onHide={onHide} windowStyle={{ background: \"white\" }} content={\n        <div className={classN + \" CenterModal SignInForm\"} style={{ width: w, height: h }}>\n          <div className=\"CenterModal-Container\" style={{ padding: 20, width: w - 40, height: h - 40 }}>\n            {content}\n            {buttons}\n          </div>\n        </div>\n      }\n        width={w} height={h} x={x} y={y} z={z + 1}\n      />\n    </React.Fragment>\n  );\n\n\n}\n","import p5 from \"p5\";\n\nconst sc = 70;\nexport const globalConfig = {\n    scaler: sc,\n    minX: 0,\n    maxX: 27,\n    minY: 5,\n    maxY: 27,\n    x: -15,\n    y: -35,\n    stepS: sc\n}\n\nexport const roomConfig = {\n    w: 5,\n    h: 5,\n    start: .1,\n    end: .8\n}\nexport const p5ToWorldCoords = (x, y) => {\n    let xx = (x) * globalConfig.scaler;\n    let yy = (y) * globalConfig.scaler;\n    return { x: xx, y: yy }\n}\n\nexport const p5ToDomCoords = (x, y) => {\n    let xx = (x + globalConfig.x) * globalConfig.scaler;\n    let yy = (y + globalConfig.y) * globalConfig.scaler;\n\n    \n    return { x: xx, y: yy }\n}\n\nexport const mouseToWorld = (userEase, p5) => {\n    let x = p5.mouseX - p5.windowWidth/2;\n    let y = p5.mouseY - p5.windowHeight/2;\n\n    const worldUser = domCoordsToP5World(userEase.x, userEase.y);\n    x += worldUser.x;\n    y += worldUser.y;\n    return {x, y};\n}\n\nexport const domCoordsToP5 = (x, y) => {\n    let xx = x / globalConfig.scaler - globalConfig.x;\n    let yy = y / globalConfig.scaler - globalConfig.y;\n    return { x: xx, y: yy }\n}\n\nexport const domCoordsToP5World = (x, y) => {\n    let p = domCoordsToP5(x, y);\n    let xx = p.x* globalConfig.scaler;\n    let yy = p.y * globalConfig.scaler;\n    return { x: xx, y: yy }\n}\n\n\n\n\nlet xMin = -10;\nlet xMax = 35;\nlet yMin = -3;\nlet yMax = 42;\nexport const limits = [\n    { x: xMin, y: yMin }, // outer limit\n    { x: xMax, y: yMin },\n    { x: xMax, y: yMax },\n    { x: xMin, y: yMax },\n    { x: xMin, y: yMin }\n];\n\nlet startX = limits[0].x;\nlet startY = 22;\nexport const pools = [\n    { x: startX, y: startY },\n    { x: startX + 5, y: startY + 5 },\n    { x: startX + 10, y: startY + 10 },\n];\nexport const poolSpace = 1;//.5;\n\nexport const limitsDiv = [\n    p5ToDomCoords(limits[0].x, limits[0].y),\n    p5ToDomCoords(limits[1].x, limits[1].y),\n    p5ToDomCoords(limits[2].x, limits[2].y)\n];\n\n\n///// doors\nexport const outsideDoors = [\n    { x0: 22.5, y0: 5, x1: 24, y1: 5, to: \"outside\" }, // top\n    { x0: 0, y0: 8.5, x1: 0, y1: 10, to: \"outside\" }, // left\n    { x0: 14, y0: 27, x1: 16, y1: 27, to: \"outside\" }, // bottom\n    { x0: 22.5, y0: 15, x1: 24, y1: 15, to: \"outside\" }, // right\n];\nconst outsideDoorFramesInit = [];\nfor (const door of outsideDoors) {\n    outsideDoorFramesInit.push(p5ToDomCoords((door.x0 + door.x1) / 2, (door.y0 + door.y1) / 2));\n}\nexport const outsideDoorFrames = outsideDoorFramesInit;\n\n\n///// lights\nexport const lightsOG = [\n    {x: 22.5, y: 7},\n    {x: 8, y: 15},\n    {x: 13, y: 20}\n]\nexport const lights = [\n    p5ToDomCoords(lightsOG[0].x, lightsOG[0].y),\n    p5ToDomCoords(lightsOG[1].x, lightsOG[1].y),\n    p5ToDomCoords(lightsOG[2].x, lightsOG[2].y),\n    p5ToDomCoords(13, 20),\n    p5ToDomCoords(7, 13)\n];\n\n\n//// wine\nconst cheeseBot = p5ToDomCoords(-8, 5); // cheese\nconst wineBot1 = p5ToDomCoords(30, 19);\nconst cocktailBot = p5ToDomCoords(32, 0);\nexport const wineLocation = [{ x: cheeseBot.x, y: cheeseBot.y, w: 80, h: 250, flipped:true }, { x: wineBot1.x, y: wineBot1.y, w: 80, h: 150, flipped: false }, { x: cocktailBot.x, y: cocktailBot.y, w: 80, h: 150, flipped:false }];\n\n\n//// dance dance dance\nconst danceFloorP5 = { x: 24-3, y: -1, w: 10, h: 5 };\nexport const danceFloor = { x: globalConfig.scaler * danceFloorP5.x, y: globalConfig.scaler * danceFloorP5.y, w: globalConfig.scaler * danceFloorP5.w, h: globalConfig.scaler * danceFloorP5.h };\nexport const djLocation = p5ToDomCoords(danceFloorP5.x + 3.5, danceFloorP5.y-1);\nexport const hostBotLocation = p5ToDomCoords(15, 20);\n\nexport const ok = {};","export const SETUSERROOM = 'SETUSERROOM';\nexport const SETUSER = 'SETUSER';\nexport const MOVEUSER = 'MOVEUSER';\nexport const MOVEUSERROOM = 'MOVEUSERROOM';\nexport const REGISTERUSER = 'REGISTERUSER';\n\nexport const SETUSERCOMP = 'SETUSERCOMP';\nexport const REMOVEUSERCOMP = 'REMOVEUSERCOMP';\n\nexport const ADDWINE = 'ADDWINE';\nexport const SETWINE = 'SETWINE';\nexport const RESETWINE = 'RESETWINE';\nexport const ADDCHEESE = 'ADDCHEESE';\nexport const SETCHEESE = 'SETCHEESE';\nexport const RESETCHEESE = 'RESETCHEESE';\nexport const ADDCOCKTAIL = 'ADDCOCKTAIL';\nexport const SETCOCKTAIL = 'SETCOCKTAIL';\nexport const RESETCOCKTAIL = 'RESETCOCKTAIL';\n\nexport const TOGGLEOUTSIDE = 'TOGGLEOUTSIDE';\n\n\n\nexport const setUser = (userName, avatar) => {\n  return {\n    type: SETUSER,\n    payload: {avatar, userName}\n  }\n}\n\nexport const setUserRoom = (room) => {\n  return {\n    type: SETUSERROOM,\n    payload: {room}\n  }\n}\n\nexport const setUserComp = (comp) => {\n  return {\n    type: SETUSERCOMP,\n    payload: {comp}\n  }\n}\n\nexport const removeUserComp = () => {\n  return {\n    type: REMOVEUSERCOMP\n  }\n}\n\nexport const moveUser = (x, y, wineLocation) => {\n  return {\n    type: MOVEUSER,\n    payload: {x, y, wineLocation}\n  }\n}\n\nexport const moveUserRoom = (x, y) => {\n  return {\n    type: MOVEUSERROOM,\n    payload: {x, y}\n  }\n}\n\nexport const registerUser = (userName, avatar) => {\n  return {\n    type: REGISTERUSER,\n    payload: {userName, avatar}\n  }\n}\n\n\nexport const addWine = (location) => {\n  return {\n    type: ADDWINE,\n    payload: {location}\n  }\n}\n\nexport const setWine = (needsWine, hasWine) => {\n  return {\n    type: SETWINE,\n    payload: {needsWine, hasWine}\n  }\n}\n\nexport const resetWine = () => {\n  return {\n    type: RESETWINE\n  }\n}\n\nexport const addCheese = (location) => {\n  return {\n    type: ADDCHEESE,\n    payload: {location}\n  }\n}\n\nexport const setCheese = (needsCheese, hasCheese) => {\n  return {\n    type: SETCHEESE,\n    payload: {needsCheese, hasCheese}\n  }\n}\n\nexport const resetCheese = () => {\n  return {\n    type: RESETCHEESE\n  }\n}\n\nexport const addCocktail = (location) => {\n  return {\n    type: ADDCOCKTAIL,\n    payload: {location}\n  }\n}\n\nexport const setCocktail = (needsCocktail, hasCocktail) => {\n  return {\n    type: SETCOCKTAIL,\n    payload: {needsCocktail, hasCocktail}\n  }\n}\n\nexport const resetCocktail = () => {\n  return {\n    type: RESETCOCKTAIL\n  }\n}\n\nexport const toggleOutside = () => {\n  return {\n    type: TOGGLEOUTSIDE\n  }\n}","export const SETUSERACTIVECHAT = 'SETUSERACTIVECHAT';\nexport const SETUSERHOVERCHAT = 'SETUSERHOVERCHAT';\nexport const USERHOVERCHATLEAVE = 'USERHOVERCHATLEAVE';\n\nexport const userHoverChatLeave = () => {\n  return {\n    type: USERHOVERCHATLEAVE\n  }\n}\n\nexport const setUserActiveChat = (user) => {\n  return {\n    type: SETUSERACTIVECHAT,\n    payload: {user}\n  }\n}\n\nexport const setUserHoverChat = (user) => {\n  return {\n    type: SETUSERACTIVECHAT,\n    payload: {user}\n  }\n}\n","import React from 'react';\nimport ComboBox from './ComboBox';\nimport Messages from './Messages';\n// import Icon from '@material-ui/core/Icon';\n// import IconButton from '@material-ui/core/IconButton';\nimport SendIcon from '@material-ui/icons/Send';\nimport Frame from '../Frame/Frame';\nimport CenterModal from '../CenterModal/CenterModal';\nimport { getCenterModalDim } from '../CenterModal/Helper';\n\nimport './Chat.css';\nimport './ChatMobile.css';\n\nimport socket from \"../Socket/Socket\";\n\nimport { connect } from 'react-redux';\nimport { setOneMenu, hideChat, toggleChat } from '../../../store/actions/menuItems';\nimport { addMessage, resetMessgeNotification } from '../../../store/actions/messages';\nimport { addWine, addCocktail, addCheese } from '../../../store/actions/user';\nimport { setUserActiveChat } from '../../../store/actions/userActiveChat';\nimport { setRandomSong, setSong } from '../../../store/actions/music';\n\nimport { wineLocation } from '../../sketches/Gallery/constants';\n\nclass Chat extends React.Component {\n\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      textBox: \"\",\n      // currentRecipient: null,\n      userHover: null,\n      buttonDisabled: true,\n      wineBotJustAsked: false,\n      cheeseBotJustAsked: false,\n      cocktailBotJustAsked: false,\n      hostBotJustAsked: false,\n      djJustAsked: 0\n    }\n    this.textInput = React.createRef();\n  }\n\n\n\n  handleTextBoxChange = (event) => {\n    const textBox = event.target.value;\n    // const recip = this.state.currentRecipient;\n    const { userActiveChat } = this.props;\n    if (userActiveChat && textBox !== \"\") {\n      this.setState({ textBox, buttonDisabled: false });\n    }\n    else {\n      this.setState({ textBox, buttonDisabled: true });\n    }\n  };\n\n  setRecipient = (user) => {\n    const textBox = this.state.textBox;\n    if (user && textBox !== \"\") {\n      // this.setState({currentRecipient: user, buttonDisabled: false});\n      this.setState({ buttonDisabled: false });\n      this.props.setUserActiveChat(user);\n    }\n    else {\n      this.setState({ buttonDisabled: true });\n      this.props.setUserActiveChat(user);\n    }\n  }\n\n  sendToOne = (txt, socketId) => {\n    // console.log(\"send to one\", socketId, \"msg:\", txt);\n    const { userActiveChat } = this.props;\n    const message = { socketId: socketId, message: txt, time: new Date(), avatar: this.props.user.avatar };\n    if (socket.connected) socket.emit('messageUser', message); //sending to individual socketid\n    this.props.addMessage({ from: \"me\", to: userActiveChat.userName, message: txt, time: new Date() });\n  }\n\n  sendToRoom = (txt) => {\n    // console.log(\"send to room \", this.props.room)\n    const message = { room: this.props.room, message: txt, time: new Date(), avatar: this.props.user.avatar };\n    if (socket.connected) socket.emit('messageRoom', message);\n    this.props.addMessage({ to: \"room\", from: \"me\", message: txt, time: new Date() });\n  }\n\n  sendToAll = (txt) => {\n    // console.log(\"send to all\");\n    const message = { message: txt, room: this.props.room, time: new Date(), avatar: this.props.user.avatar };\n    if (socket.connected) socket.emit('messageAll', message);\n    this.props.addMessage({ to: \"all\", from: \"me\", message: txt, time: new Date() });\n  }\n\n  // u: \"hello?\"\n  // wb: \"hi, would you like some wine? Y/N.\"\n  // u: \"yes\"\n  // wb: \"enjoy!\"\n  // u: \"what are you?\"\n  // wb: \"hi, would you like some wine? I only understand yes and no.\"\n\n  sendToHostBot = (txt) => {\n    const message = { to: \"hostBot\", from: \"me\", message: txt, time: new Date() };\n    // console.log(\"MESSAGE\", message);\n    this.props.addMessage(message);\n    setTimeout(() => this.hostBotRespond(txt), 1000);\n  }\n\n  sendToCocktailBot = (txt) => {\n    const message = { to: \"cocktailBot\", from: \"me\", message: txt, time: new Date() };\n    // console.log(\"MESSAGE\", message);\n    this.props.addMessage(message);\n    setTimeout(() => this.cocktailBotRespond(txt), 1000);\n  }\n\n  sendToCheeseBot = (txt) => {\n    const message = { to: \"cheeseBot\", from: \"me\", message: txt, time: new Date() };\n    // console.log(\"MESSAGE\", message);\n    this.props.addMessage(message);\n    setTimeout(() => this.cheeseBotRespond(txt), 1000);\n  }\n\n  sendToWineBot = (txt) => {\n    const message = { to: \"wineBot\", from: \"me\", message: txt, time: new Date() };\n    // console.log(\"MESSAGE\", message);\n    this.props.addMessage(message);\n    setTimeout(() => this.wineBotRespond(txt), 1000);\n  }\n\n  sendToDJ = (txt) => {\n    const message = { to: \"DJ\", from: \"me\", message: txt, time: new Date() };\n    this.props.addMessage(message);\n    setTimeout(() => this.djRespond(txt), 1000);\n  }\n\n  wineBotRespond = (txt) => {\n    // console.log(\"winebot responding!\");\n    const wineBotJustAsked = this.state.wineBotJustAsked;\n    const { userActiveChat } = this.props;\n    if (!wineBotJustAsked) {\n      const phrase = \"hi, would you like some wine? Y/N.\";\n      this.props.addMessage({ to: \"me\", from: \"wineBot\", message: phrase, time: new Date(), avatar: userActiveChat.avatar });\n      this.setState({ wineBotJustAsked: true });\n    }\n    else {\n      const lc = txt.toLowerCase();\n      let phrase = \"\";\n      if (lc === \"y\" || lc.indexOf(\"yes\") > -1) {\n        phrase = \"Stop by the bar to pick up your glass.\";\n        this.props.addWine(wineLocation[1]);\n      }\n      else {\n        phrase = \"Cool, I don't drink either.\";\n      }\n      this.props.addMessage({ to: \"me\", from: \"wineBot\", message: phrase, time: new Date(), avatar: userActiveChat.avatar });\n      this.setState({ wineBotJustAsked: false });\n    }\n  }\n\n  hostBotRespond = (txt) => {\n    // console.log(\"winebot responding!\");\n    const hostBotJustAsked = this.state.hostBotJustAsked;\n    const { userActiveChat } = this.props;\n    if (!hostBotJustAsked) {\n      const phrase = \"hi, welcome to Jenna's MFA thesis show, Losing My Dimension!\";\n      this.props.addMessage({ to: \"me\", from: \"hostBot\", message: phrase, time: new Date(), avatar: userActiveChat.avatar });\n      this.setState({ hostBotJustAsked: true });\n    }\n    else {\n      // const lc = txt.toLowerCase();\n      // let phrase = \"\";\n      // if (lc === \"y\" || lc.indexOf(\"yes\") > -1) {\n      //   phrase = \"Stop by the bar to pick up your glass.\";\n      //   this.props.addCocktail(wineLocation[2]);\n      // }\n      // else {\n      //   phrase = \"Cool, I don't drink either.\";\n      // }\n      let phrase = \"Make sure that the red lens of your glasses is over your LEFT eye.\"\n      this.props.addMessage({ to: \"me\", from: \"hostBot\", message: phrase, time: new Date(), avatar: userActiveChat.avatar });\n      this.setState({ hostBotJustAsked: false });\n    }\n  }\n\n  cocktailBotRespond = (txt) => {\n    // console.log(\"winebot responding!\");\n    const cocktailBotJustAsked = this.state.cocktailBotJustAsked;\n    const { userActiveChat } = this.props;\n    if (!cocktailBotJustAsked) {\n      const phrase = \"hi, would you like a martini? Y/N.\";\n      this.props.addMessage({ to: \"me\", from: \"cocktailBot\", message: phrase, time: new Date(), avatar: userActiveChat.avatar });\n      this.setState({ cocktailBotJustAsked: true });\n    }\n    else {\n      const lc = txt.toLowerCase();\n      let phrase = \"\";\n      if (lc === \"y\" || lc.indexOf(\"yes\") > -1) {\n        phrase = \"Stop by the bar to pick up your glass.\";\n        this.props.addCocktail(wineLocation[2]);\n      }\n      else {\n        phrase = \"Cool, I don't drink either.\";\n      }\n      this.props.addMessage({ to: \"me\", from: \"cocktailBot\", message: phrase, time: new Date(), avatar: userActiveChat.avatar });\n      this.setState({ cocktailBotJustAsked: false });\n    }\n  }\n\n  cheeseBotRespond = (txt) => {\n    const cheeseBotJustAsked = this.state.cheeseBotJustAsked;\n    const { userActiveChat } = this.props;\n    if (!cheeseBotJustAsked) {\n      const phrase = \"hi, would you like some cheese and bread? Y/N.\";\n      this.props.addMessage({ to: \"me\", from: \"cheeseBot\", message: phrase, time: new Date(), avatar: userActiveChat.avatar });\n      this.setState({ cheeseBotJustAsked: true });\n    }\n    else {\n      const lc = txt.toLowerCase();\n      let phrase = \"\";\n      if (lc === \"y\" || lc.indexOf(\"yes\") > -1) {\n        phrase = \"Come by the cheese bar to pick up your snack! And please don't feed the ducks!\";\n        this.props.addCheese(wineLocation[0]);\n      }\n      else {\n        phrase = \"ok\";\n      }\n      this.props.addMessage({ to: \"me\", from: \"cheeseBot\", message: phrase, time: new Date(), avatar: userActiveChat.avatar });\n      this.setState({ cheeseBotJustAsked: false });\n    }\n  }\n\n  djRespond = (txt) => {\n    const djJustAsked = this.state.djJustAsked;\n    const { userActiveChat, user } = this.props;\n    let phrase = \"\";\n    if (djJustAsked === 0) {\n      const phrase = \"hi! would you like pick a song? Y/N.\";\n      this.props.addMessage({ to: \"me\", from: \"DJ\", message: phrase, time: new Date(), avatar: userActiveChat.avatar });\n      this.setState({ djJustAsked: 1 });\n    }\n    else if (djJustAsked === 1) {\n      const lc = txt.toLowerCase();\n      phrase = \"\";\n\n      if (user.comp !== null) {\n        phrase = \"Sorry, Jenna has disabled audio at The Front!\";\n        this.setState({ djJustAsked: 0 });\n      }\n      else if (lc === \"y\" || lc.indexOf(\"yes\") > -1) {\n        phrase = \"Type 1 to get funky, 2 for something jazzy, or 3 for a surprise\";\n        this.setState({ djJustAsked: 2 });\n      }\n      else {\n        phrase = \"Ok, I'll keep spinning.\";\n        this.setState({ djJustAsked: 0 });\n      }\n      this.props.addMessage({ to: \"me\", from: \"DJ\", message: phrase, time: new Date(), avatar: userActiveChat.avatar });\n    }\n    else {\n      if (txt == 1 || txt == 2) {\n        phrase = \"good pick.\";\n        this.props.setSong(txt);\n\n      }\n      else if (txt == 3) {\n        phrase = \"good pick.\";\n        this.props.setRandomSong();\n      }\n      else {\n        phrase = \"sorry, I'm a man of simple integers.\";\n      }\n      this.props.addMessage({ to: \"me\", from: \"DJ\", message: phrase, time: new Date(), avatar: userActiveChat.avatar });\n      this.setState({ djJustAsked: 0 });\n    }\n  }\n\n  onSubmit = () => {\n    if (this.state.textBox === \"\") return;\n\n    const { userActiveChat } = this.props;\n    if (userActiveChat) {\n      this.sendMessage(this.state.textBox);\n      this.setState({ textBox: \"\", buttonDisabled: true });\n    }\n    else {\n      alert(\"please select recipient\");\n    }\n  }\n\n\n  handleKeyDown = (e) => {\n\n    if (e.key === 'Enter') {\n      this.onSubmit();\n    }\n  }\n\n\n  sendMessage = (message) => {\n    // const {currentRecipient} = this.state;\n    const { userActiveChat } = this.props;\n    if (message && userActiveChat) {\n      if (userActiveChat.userName === \"Everyone\") {\n        this.sendToAll(message);\n      }\n      else if (userActiveChat.userName === \"Room\") {\n        this.sendToRoom(message);\n      }\n      else if (userActiveChat.userName === \"wineBot\") {\n        this.sendToWineBot(message);\n      }\n      else if (userActiveChat.userName === \"cocktailBot\") {\n        this.sendToCocktailBot(message);\n      }\n      else if (userActiveChat.userName === \"cheeseBot\") {\n        this.sendToCheeseBot(message);\n      }\n      else if (userActiveChat.userName === \"DJ\") {\n        this.sendToDJ(message);\n      }\n      else if (userActiveChat.userName === \"hostBot\") {\n        this.sendToHostBot(message);\n      }\n      else {\n        this.sendToOne(message, userActiveChat.id);\n      }\n    }\n  }\n\n  setUserHover = (user) => {\n    this.setState({ userHover: user })\n  }\n\n  setUserHoverLeave = () => {\n    this.setState({ userHover: null })\n  }\n\n  render() {\n    const { ui } = this.props;\n    // console.log(menu)\n    if (ui.isMobile || ui.hasFooter) {\n      return this.getMobileFrame();\n    }\n    return this.getFrame();\n    // return (\n    //   <React.Fragment>\n    //   {this.getMobileFrame()}\n    //   {this.getFrame()}\n    //   </React.Fragment>\n    // )\n  }\n\n  onHide = () => {\n    this.props.hideChat();\n    this.props.setOneMenu();\n  }\n\n  getMobileFrame = () => {\n    const { w, h } = getCenterModalDim(this.props.ui, false);\n    return (\n      <CenterModal\n        title=\"chat\"\n        z={1000}\n        isHidden={this.props.menu.mobile !== \"chat\"}\n        onHide={this.onHide}\n        ui={this.props.ui}\n        isRelative={false}\n        classN=\"ChatMobile\"\n        content={this.getMobileContent(w, h)}\n        buttons={this.getMobileButtons()}\n      />\n    );\n  }\n\n  getIsHidden = (props) => {\n    const { ui, menu } = props;\n\n    if (ui.isMobile || ui.hasFooter) {\n      return menu.mobile !== \"chat\";\n    }\n    return menu.isChatHidden;\n  }\n\n  getMobileContent = (w, h) => {\n    const inputW = w - 60 - 40 - 20;\n    return (\n      <div className=\"Chat-messages\" style={{ display: \"flex\", flexDirection: \"column\", height: h }}>\n        <div className=\"Chat-form\">\n          <div className=\"to-form\">\n            <div className=\"to-div\">To: </div>\n            <ComboBox {...this.props} setRecipient={this.setRecipient} w={w - 40 - 40} />\n          </div>\n          <div className=\"Chat-send\">\n            <div className=\"Chat-send-item margR\">\n              <input\n                label=\"\"\n                id=\"margin-dense\"\n                className={\"standardInput form-item\"}\n                placeholder=\"enter message\"\n                value={this.state.textBox}\n                onChange={this.handleTextBoxChange}\n                onFocus={this.props.resetMessgeNotification}\n                onKeyDown={this.handleKeyDown}\n                style={{ width: inputW }}\n              />\n            </div>\n            <div className=\"Chat-send-item\"><button className=\"sendButton\" disabled={this.state.buttonDisabled} onClick={this.onSubmit}><SendIcon disabled={this.state.buttonDisabled} /></button></div>\n          </div>\n\n        </div>\n        {/* <button className=\"sendButton standardButton primary\">send</button> */}\n        <Messages isMobile={true} messages={this.props.messages} addUserMessage={this.props.addMessage} />\n\n      </div>\n    );\n  }\n\n  getMobileButtons = () => {\n    return (\n      // null\n      <div className=\"center-buttons chat-buttons\">\n        <button className=\"standardButton primary\" onClick={this.onHide}>close</button>\n        {/* <button className=\"standardButton primary\" disabled={this.state.buttonDisabled} onClick={this.onSubmit}>send</button> */}\n      </div>\n    )\n  }\n\n  getFrame = () => {\n    const { ui, menu } = this.props;\n    var users = [];\n    if (this.props.users) {\n      users = this.props.users;\n    }\n    const { userHover } = this.state;\n\n    // headerH+bufferH*2+cbarH + usersH\n\n    const frW = 300;\n\n    let minY = ui.edgeSpacing * 2 + ui.toolbarH + 120;\n    const h = Math.min(ui.contentH - minY - ui.toolbarH, 800);\n    const y = ui.height - h - ui.edgeSpacing - ui.toolbarH;\n\n    return (\n      <Frame title=\"chat\" bounded={true} isHidden={menu.isChatHidden} onHide={this.props.hideChat} windowStyle={{ background: \"rgba(0, 0, 0, .9)\" }} content={\n\n        <div className=\"Chat\">\n\n          <div className=\"Chat-messages\" style={{ display: \"flex\", flexDirection: \"column\", height: h }}>\n            <Messages isMobile={false} messages={this.props.messages} addUserMessage={this.props.addMessage} />\n            <div className=\"Chat-form\">\n              <div className=\"to-form\">\n                <div className=\"to-div\">To: </div>\n                <ComboBox {...this.props} setRecipient={this.setRecipient} />\n              </div>\n              <div className=\"Chat-send\">\n                <div className=\"Chat-send-item\">\n                  <input\n                    label=\"\"\n                    id=\"margin-dense\"\n                    className={\"standardInputWhite form-item\"}\n                    placeholder=\"type message here\"\n                    value={this.state.textBox}\n                    onChange={this.handleTextBoxChange}\n                    onFocus={this.props.resetMessgeNotification}\n                    onKeyDown={this.handleKeyDown}\n                    ref={(input) => { this.textInput = input; }}\n                  />\n                </div>\n                {/* <button className=\"standardButton form-item blueOutline\" disabled={this.state.buttonDisabled} onClick={this.onSubmit}><SendIcon disabled={this.state.buttonDisabled} /></button>*/}\n              </div>\n            </div>\n\n          </div>\n        </div>\n      }\n        width={frW} height={h} x={ui.width - frW - ui.edgeSpacing} y={y} z={1000}\n      />\n    );\n  }\n\n  //   componentDidUpdate(prevProps, prevState) {\n  //     if (this.getIsHidden(prevProps) && !this.getIsHidden(this.props)) {\n  //       // console.log(\"FOCUS\", this.textInput)\n  //       // if (this.textInput) \n  //         // this.textInput.focus();\n  //       // else\n  //       //   console.log(\"nope\")\n  //     }\n  //   }\n\n}\n\n\nconst mapStateToProps = (state) => {\n  return {\n    user: state.user,\n    room: state.user.room,\n    messages: state.messages,\n    userActiveChat: state.userActiveChat,\n    userHoverChat: state.userHoverChat,\n    ui: state.ui,\n    menu: state.menu\n  }\n}\n\nconst mapDispatchToProps = () => {\n  return {\n    hideChat,\n    toggleChat,\n    addWine,\n    addCocktail,\n    addCheese,\n    addMessage,\n    setUserActiveChat,\n    resetMessgeNotification,\n    setSong,\n    setRandomSong,\n    setOneMenu\n  }\n}\n\n\nexport default connect(mapStateToProps, mapDispatchToProps())(Chat);\n","\nimport React from 'react';\nimport './LiveStream.css';\nimport Frame from '../Frame/Frame';\n\nimport { connect } from 'react-redux';\nimport { hideLiveStream } from '../../../store/actions/menuItems';\n\nclass YouTube extends React.Component {\n\n    // constructor(props) {\n    //     super(props);\n    // }\n\n    // componentDidUpdate(prevProps) {\n    // }\n\n    onHide = () => {\n\n    }\n\n    render() {\n        const fraction = 200 / 315;\n        const w = Math.floor(560 * fraction);\n        const h = Math.floor(315 * fraction);\n        const spaceBottom = 60;\n        const { music, ui, setVolume } = this.props;\n        const style = { height: 20, width: w - ui.edgeSpacing };\n\n        return (\n            <Frame title=\"live stream\"\n                bounded={true}\n                isHidden={this.props.menu.isLiveStreamHidden}\n                onHide={this.props.hideLiveStream}\n                className=\"Live-Stream\"\n                windowStyle={{ background: \"rgba(0, 0, 0, .9)\" }}\n                content={\n                    <React.Fragment>\n                        <iframe width={w}\n                            height={h}\n                            src=\"https://www.youtube.com/embed/jogQMOumsWs\"\n                            title=\"YouTube video player\"\n                            frameBorder=\"0\"\n                            allow=\"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture\"\n                            allowFullScreen>\n\n                        </iframe>\n                        <div className=\"join-zoom\">\n                            <a href=\"https://tulane.zoom.us/j/96008889892\" target=\"_blank\" ><button className=\"standardButton secondary\">join zoom!</button></a>\n                        </div>\n                    </React.Fragment>\n\n                }\n                width={w} height={h + spaceBottom} x={ui.edgeSpacing} y={ui.contentH - h - spaceBottom - ui.edgeSpacing} z={1000}\n            />\n        );\n    }\n\n\n}\n\n\nconst mapStateToProps = (state) => {\n    return {\n        ui: state.ui,\n        menu: state.menu\n    }\n}\n\nconst mapDispatchToProps = () => {\n    return {\n        hideLiveStream\n    }\n}\n\n\nexport default connect(mapStateToProps, mapDispatchToProps())(YouTube);\n\n","\nexport const RESETAPP = 'RESETAPP';\nexport const LOADINGAPP = 'LOADINGAPP';\nexport const DONELOADINGAPP = 'DONELOADINGAPP';\nexport const STARTCOMPOSITION = 'STARTCOMPOSITION';\nexport const RESETCOMPOSITION = 'RESETCOMPOSITION';\nexport const RESIZEAPP = 'RESIZEAPP';\n\nexport const loadingApp = () => {\n  return {\n    type: LOADINGAPP\n  }\n}\n\nexport const doneLoadingApp = () => {\n  return {\n    type: DONELOADINGAPP\n  }\n}\n\nexport const startComposition = () => {\n  return {\n    type: STARTCOMPOSITION\n  }\n}\n\n// export const resetComposition = () => {\n//   return {\n//     type: RESETCOMPOSITION\n//   }\n// }\n\nexport const resetApp = () => {\n  return {\n    type: RESETAPP\n  }\n}\n\nexport const resizeApp = (width, height) => {\n  return {\n    type: RESIZEAPP,\n    payload : {width, height}\n  }\n}\n","\nexport function getEmojis() {\n  const emojis =\n    [\n      \"🙇\", \"🙇🏻\", \"🙇🏼\", \"🙇🏽\", \"🙇🏾\", \"🙇🏿\",\n      \"💁\", \"💁🏻\", \"💁🏼\", \"💁🏽\", \"💁🏾\", \"💁🏿\",\n      \"🙅\", \"🙅🏻\", \"🙅🏼\", \"🙅🏽\", \"🙅🏾\", \"🙅🏿\",\n      \"🙆\", \"🙆🏻\", \"🙆🏼\", \"🙆🏽\", \"🙆🏾\", \"🙆🏿\",\n      \"🙋\", \"🙋🏻\", \"🙋🏼\", \"🙋🏽\", \"🙋🏾\", \"🙋🏿\",\n      \"🙎\", \"🙎🏻\", \"🙎🏼\", \"🙎🏽\", \"🙎🏾\", \"🙎🏿\",\n      \"🙍\", \"🙍🏻\", \"🙍🏼\", \"🙍🏽\", \"🙍🏾\", \"🙍🏿\",\n      \"💆\", \"💆🏻\", \"💆🏼\", \"💆🏽\", \"💆🏾\", \"💆🏿\",\n      \"💇\", \"💇🏻\", \"💇🏼\", \"💇🏽\", \"💇🏾\", \"💇🏿\",\n      \"💑\", \"👩‍❤️‍👩\", \"👨‍❤️‍👨\", \"💏\", \"👩‍❤️‍💋‍👩\", \"👨‍❤️‍💋‍👨\",\n      \"🙌\", \"🙌🏻\", \"🙌🏼\", \"🙌🏽\", \"🙌🏾\", \"🙌🏿\",\n      \"👏\", \"👏🏻\", \"👏🏼\", \"👏🏽\", \"👏🏾\", \"👏🏿\",\n      \"👂\", \"👂🏻\", \"👂🏼\", \"👂🏽\", \"👂🏾\", \"👂🏿\",\n      \"👀\", \"👃\", \"👃🏻\", \"👃🏼\", \"👃🏽\", \"👃🏾\", \"👃🏿\",\n      \"👄\", \"💋\", \"👅\",\n      \"💅\", \"💅🏻\", \"💅🏼\", \"💅🏽\", \"💅🏾\", \"💅🏿\",\n      \"👋\", \"👋🏻\", \"👋🏼\", \"👋🏽\", \"👋🏾\", \"👋🏿\",\n      \"👍\", \"👍🏻\", \"👍🏼\", \"👍🏽\", \"👍🏾\", \"👍🏿\",\n      \"👎\", \"👎🏻\", \"👎🏼\", \"👎🏽\", \"👎🏾\", \"👎🏿\",\n      \"☝\", \"☝🏻\", \"☝🏼\", \"☝🏽\", \"☝🏾\", \"☝🏿\",\n      \"👆\", \"👆🏻\", \"👆🏼\", \"👆🏽\", \"👆🏾\", \"👆🏿\",\n      \"👇\", \"👇🏻\", \"👇🏼\", \"👇🏽\", \"👇🏾\", \"👇🏿\",\n      \"👈\", \"👈🏻\", \"👈🏼\", \"👈🏽\", \"👈🏾\", \"👈🏿\",\n      \"👉\", \"👉🏻\", \"👉🏼\", \"👉🏽\", \"👉🏾\", \"👉🏿\",\n      \"✌\", \"✌🏻\", \"✌🏼\", \"✌🏽\", \"✌🏾\", \"✌🏿\",\n      \"👊\", \"👊🏻\", \"👊🏼\", \"👊🏽\", \"👊🏾\", \"👊🏿\",\n      \"✋\", \"✋🏻\", \"✋🏼\", \"✋🏽\", \"✋🏾\", \"✋🏿\",\n      \"💪\", \"💪🏻\", \"💪🏼\", \"💪🏽\", \"💪🏾\", \"💪🏿\",\n\n      \"✊\", \"✊🏻\", \"✊🏼\", \"✊🏽\", \"✊🏾\", \"✊🏿\",\n      \"👐\", \"👐🏻\", \"👐🏼\", \"👐🏽\", \"👐🏾\", \"👐🏿\",\n      \"🙏\", \"🙏🏻\", \"🙏🏼\", \"🙏🏽\", \"🙏🏾\", \"🙏🏿\",\n      \"🌰\", \"🐀\", \"🐁\", \"🐭\", \"🐹\", \"🐂\", \"🐃\", \"🐄\", \"🐮\", \"🐅\", \"🐆\", \"🐯\", \"🐇\", \"🐰\", \"🐈\", \"🐱\", \"🐎\", \"🐴\", \"🐏\", \"🐑\", \"🐐\", \"🐓\", \"🐔\", \"🐤\", \"🐣\", \"🐥\", \"🐦\", \"🐧\", \"🐘\", \"🐪\", \"🐫\", \"🐗\", \"🐖\", \"🐷\", \"🐽\", \"🐕\", \"🐩\", \"🐶\", \"🐺\", \"🐻\", \"🐨\", \"🐼\", \"🐵\", \"🙈\", \"🙉\", \"🙊\", \"🐒\", \"🐉\", \"🐲\", \"🐊\", \"🐍\", \"🐢\", \"🐸\", \"🐋\", \"🐳\", \"🐬\", \"🐙\", \"🐟\", \"🐠\", \"🐡\", \"🐚\", \"🐌\", \"🐛\", \"🐜\", \"🐝\", \"🐞\", \"🐾\", \"⚡️\", \"🔥\", \"🌙\", \"☀️\", \"⛅️\", \"☁️\", \"💧\", \"💦\", \"☔️\", \"💨\", \"❄️\", \"🌟\", \"⭐️\", \"🌠\", \"🌄\", \"🌅\", \"🌈\", \"🌊\", \"🌋\", \"🌌\", \"🗻\", \"🗾\", \"🌐\", \"🌍\", \"🌎\", \"🌏\", \"🌑\", \"🌒\", \"🌓\", \"🌔\", \"🌕\", \"🌖\", \"🌗\", \"🌘\", \"🌚\", \"🌝\", \"🌛\", \"🌜\", \"🌞\", \"🍅\", \"🍆\", \"🌽\", \"🍠\", \"🍇\", \"🍈\", \"🍉\", \"🍊\", \"🍋\", \"🍌\", \"🍍\", \"🍎\", \"🍏\", \"🍐\", \"🍑\", \"🍒\", \"🍓\", \"🍔\", \"🍕\", \"🍖\", \"🍗\", \"🍘\", \"🍙\", \"🍚\", \"🍛\", \"🍜\", \"🍝\", \"🍞\", \"🍟\", \"🍡\", \"🍢\", \"🍣\", \"🍤\", \"🍥\", \"🍦\", \"🍧\", \"🍨\", \"🍩\", \"🍪\", \"🍫\", \"🍬\", \"🍭\", \"🍮\", \"🍯\", \"🍰\", \"🍱\", \"🍲\", \"🍳\", \"🍴\", \"🍵\", \"☕️\", \"🍶\", \"🍷\", \"🍸\", \"🍹\", \"🍺\", \"🍻\", \"🍼\", \"🎀\", \"🎁\", \"🎂\", \"🎃\", \"🎄\", \"🎋\", \"🎍\", \"🎑\", \"🎆\", \"🎇\", \"🎉\", \"🎊\", \"🎈\", \"💫\", \"✨\", \"💥\", \"🎓\", \"👑\", \"🎎\", \"🎏\", \"🎐\", \"🎌\", \"🏮\", \"💍\", \"❤️\", \"💔\", \"💌\", \"💕\", \"💞\", \"💓\", \"💗\", \"💖\", \"💘\", \"💝\", \"💟\", \"💜\", \"💛\", \"💚\", \"💙\",\n      \"🏃\", \"🏃🏻\", \"🏃🏼\", \"🏃🏽\", \"🏃🏾\", \"🏃🏿\", \"🚶\", \"🚶🏻\", \"🚶🏼\", \"🚶🏽\", \"🚶🏾\", \"🚶🏿\",\n      \"💃\", \"💃🏻\", \"💃🏼\", \"💃🏽\", \"💃🏾\", \"💃🏿\",\n      \"🚣\", \"🚣🏻\", \"🚣🏼\", \"🚣🏽\", \"🚣🏾\", \"🚣🏿\",\n      \"🏊\", \"🏊🏻\", \"🏊🏼\", \"🏊🏽\", \"🏊🏾\", \"🏊🏿\",\n      \"🏄\", \"🏄🏻\", \"🏄🏼\", \"🏄🏽\", \"🏄🏾\", \"🏄🏿\",\n      \"🛀\", \"🛀🏻\", \"🛀🏼\", \"🛀🏽\", \"🛀🏾\", \"🛀🏿\",\n      \"🏂\", \"🎿\", \"⛄️\", \"🚴\", \"🚴🏻\", \"🚴🏼\", \"🚴🏽\", \"🚴🏾\", \"🚴🏿\", \"🚵\", \"🚵🏻\", \"🚵🏼\", \"🚵🏽\", \"🚵🏾\", \"🚵🏿\", \"🏇\", \"🏇🏻\", \"🏇🏼\", \"🏇🏽\", \"🏇🏾\", \"🏇🏿\", \"⛺️\", \"🎣\", \"⚽️\", \"🏀\", \"🏈\", \"⚾️\", \"🎾\", \"🏉\", \"⛳️\", \"🏆\", \"🎽\", \"🏁\", \"🎹\", \"🎸\", \"🎻\", \"🎷\", \"🎺\", \"🎵\", \"🎶\", \"🎼\", \"🎧\", \"🎤\", \"🎭\", \"🎫\", \"🎩\", \"🎪\", \"🎬\", \"🎨\", \"🎯\", \"🎱\", \"🎳\", \"🎰\", \"🎲\", \"🎮\", \"🎴\", \"🃏\", \"🀄️\", \"🎠\", \"🎡\", \"🎢\", \"🚃\", \"🚞\", \"🚂\", \"🚋\", \"🚝\", \"🚄\", \"🚅\", \"🚆\", \"🚇\", \"🚈\", \"🚉\", \"🚊\", \"🚌\", \"🚍\", \"🚎\", \"🚐\", \"🚑\", \"🚒\", \"🚓\", \"🚔\", \"🚨\", \"🚕\", \"🚖\", \"🚗\", \"🚘\", \"🚙\", \"🚚\", \"🚛\", \"🚜\", \"🚲\", \"🚏\", \"⛽️\", \"🚧\", \"🚦\", \"🚥\", \"🚀\", \"🚁\", \"✈️\", \"💺\", \"⚓️\", \"🚢\", \"🚤\", \"⛵️\", \"🚡\", \"🚠\", \"🚟\", \"🛂\", \"🛃\", \"🛄\", \"🛅\", \"💴\", \"💶\", \"💷\", \"💵\", \"🗽\", \"🗿\", \"🌁\", \"🗼\", \"⛲️\", \"🏰\", \"🏯\", \"🌇\", \"🌆\", \"🌃\", \"🌉\", \"🏠\", \"🏡\", \"🏢\", \"🏬\", \"🏭\", \"🏣\", \"🏤\", \"🏥\", \"🏦\", \"🏨\", \"🏩\", \"💒\", \"⛪️\", \"🏪\", \"🏫\", \"🇦🇺\", \"🇦🇹\", \"🇧🇪\", \"🇧🇷\", \"🇨🇦\", \"🇨🇱\", \"🇨🇳\", \"🇨🇴\", \"🇩🇰\", \"🇫🇮\", \"🇫🇷\", \"🇩🇪\", \"🇭🇰\", \"🇮🇳\", \"🇮🇩\", \"🇮🇪\", \"🇮🇱\", \"🇮🇹\", \"🇯🇵\", \"🇰🇷\", \"🇲🇴\", \"🇲🇾\", \"🇲🇽\", \"🇳🇱\", \"🇳🇿\", \"🇳🇴\", \"🇵🇭\", \"🇵🇱\", \"🇵🇹\", \"🇵🇷\", \"🇷🇺\", \"🇸🇦\", \"🇸🇬\", \"🇿🇦\", \"🇪🇸\", \"🇸🇪\", \"🇨🇭\", \"🇹🇷\", \"🇬🇧\", \"🇺🇸\", \"🇦🇪\", \"🇻🇳\", \"⌚️\", \"📱\", \"📲\", \"💻\", \"⏰\", \"⏳\", \"⌛️\", \"📷\", \"📹\", \"🎥\", \"📺\", \"📻\", \"📟\", \"📞\", \"☎️\", \"📠\", \"💽\", \"💾\", \"💿\", \"📀\", \"📼\", \"🔋\", \"🔌\", \"💡\", \"🔦\", \"📡\", \"💳\", \"💸\", \"💰\", \"💎\", \"🌂\", \"👝\", \"👛\", \"👜\", \"💼\", \"🎒\", \"💄\", \"👓\", \"👒\", \"👡\", \"👠\", \"👢\", \"👞\", \"👟\", \"👙\", \"👗\", \"👘\", \"👚\", \"👕\", \"👔\", \"👖\", \"🚪\", \"🚿\", \"🛁\", \"🚽\", \"💈\", \"💉\", \"💊\", \"🔬\", \"🔭\", \"🔮\",\n      \"🔧\", \"🔪\", \"🔩\", \"🔨\", \"💣\", \"🚬\", \"🔫\", \"🔖\", \"📰\", \"🔑\",\n\n\n      \"👦\", \"👦🏻\", \"👦🏼\", \"👦🏽\", \"👦🏾\", \"👦🏿\",\n      \"👧\", \"👧🏻\", \"👧🏼\", \"👧🏽\", \"👧🏾\", \"👧🏿\",\n      \"👨\", \"👨🏻\", \"👨🏼\", \"👨🏽\", \"👨🏾\", \"👨🏿\",\n      \"👩\", \"👩🏻\", \"👩🏼\", \"👩🏽\", \"👩🏾\", \"👩🏿\",\n      \"👪\", \"👨‍👩‍👧\", \"👨‍👩‍👧‍👦\", \"👨‍👩‍👦‍👦\", \"👨‍👩‍👧‍👧\", \"👩‍👩‍👦\", \"👩‍👩‍👧\",\n      \"👩‍👩‍👧‍👦\", \"👩‍👩‍👦‍👦\", \"👩‍👩‍👧‍👧\", \"👨‍👨‍👦\", \"👨‍👨‍👧\", \"👨‍👨‍👧‍👦\", \"👨‍👨‍👦‍👦\", \"👨‍👨‍👧‍👧\",\n      \"👫\", \"👬\", \"👭\", \"👯\",\n      \"👰\", \"👰🏻\", \"👰🏼\", \"👰🏽\", \"👰🏾\", \"👰🏿\",\n      \"👱\", \"👱🏻\", \"👱🏼\", \"👱🏽\", \"👱🏾\", \"👱🏿\",\n      \"👲\", \"👲🏻\", \"👲🏼\", \"👲🏽\", \"👲🏾\", \"👲🏿\",\n      \"👳\", \"👳🏻\", \"👳🏼\", \"👳🏽\", \"👳🏾\", \"👳🏿\",\n      \"👴\", \"👴🏻\", \"👴🏼\", \"👴🏽\", \"👴🏾\", \"👴🏿\",\n      \"👵\", \"👵🏻\", \"👵🏼\", \"👵🏽\", \"👵🏾\", \"👵🏿\",\n      \"👮\", \"👮🏻\", \"👮🏼\", \"👮🏽\", \"👮🏾\", \"👮🏿\",\n      \"👷\", \"👷🏻\", \"👷🏼\", \"👷🏽\", \"👷🏾\", \"👷🏿\",\n      \"👸\", \"👸🏻\", \"👸🏼\", \"👸🏽\", \"👸🏾\", \"👸🏿\",\n      \"💂\", \"💂🏻\", \"💂🏼\", \"💂🏽\", \"💂🏾\", \"💂🏿\",\n      \"😀\", \"😁\", \"😂\", \"😃\", \"😄\", \"😅\", \"😆\", \"😇\", \"😈\", \"👿\",\n      \"😉\", \"😊\", \"😋\", \"😌\", \"😍\", \"😎\", \"😏\", \"😐\", \"😑\", \"😒\",\n      \"😓\", \"😔\", \"😕\", \"😖\", \"😗\", \"😘\", \"😙\", \"😚\", \"😛\", \"😜\",\n      \"😝\", \"😞\", \"😟\", \"😠\", \"😡\", \"😢\", \"😣\", \"😤\", \"😥\", \"😦\",\n      \"😧\", \"😨\", \"😩\", \"😪\", \"😫\", \"😬\", \"😭\", \"😮\", \"😯\", \"😰\",\n      \"😱\", \"😲\", \"😳\", \"😴\", \"😵\", \"😶\", \"😷\", \"😸\", \"😹\", \"😺\",\n      \"😻\", \"😼\", \"😽\", \"😾\", \"😿\", \"🙀\", \"👣\", \"👤\", \"👥\",\n      \"🌱\", \"🌲\", \"🌳\", \"🌴\", \"🌵\", \"🌷\",\n      \"🌸\", \"🌹\", \"🌺\", \"🌻\", \"🌼\", \"💐\", \"🌾\", \"🌿\", \"🍀\", \"🍁\", \"🍂\", \"🍃\", \"🍄\",\n      \"👼\", \"👼🏻\", \"👼🏼\", \"👼🏽\", \"👼🏾\", \"👼🏿\",\n      \"👶\", \"👶🏻\", \"👶🏼\", \"👶🏽\", \"👶🏾\", \"👶🏿\",\n      \"🎅\", \"🎅🏻\", \"🎅🏼\", \"🎅🏽\", \"🎅🏾\", \"🎅🏿\",\n      \"👻\", \"👹\", \"👺\", \"💩\", \"💀\", \"👽\", \"👾\",\n    ];\n  return emojis.reverse();\n\n}\n\nexport function getRandomEmoji() {\n  const emojis = getEmojis();\n  return emojis[Math.floor(Math.random() * emojis.length)];\n}\n","import React from 'react';\nimport { withRouter } from \"react-router-dom\";\nimport { getEmojis } from '../Welcome/components/Helpers';\nimport CenterModal from '../CenterModal/CenterModal';\nimport { setOneMenu, hideSignIn} from '../../../store/actions/menuItems';\n\nimport './SignIn.css';\n\n// store\nimport { connect } from 'react-redux';\nimport { setUser } from '../../../store/actions/user';\nimport { resetApp } from '../../../store/actions';\n\nimport socket from \"../Socket/Socket\";\n\n\n\nclass SignIn extends React.Component {\n\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      localAvatar: props.user.avatar,\n      localUserName: props.user.userName,\n      shouldClose: false\n      // user: { avatar: props.user.avatar, userName: props.user.userName },\n    }\n  }\n\n  componentDidMount() {\n    if (this.props.setClick) this.props.setClick(this.handleSubmit);\n  }\n\n  // basically, don't re-render this component unless that signin window\n  // has opened?\n  // have to check both nextProps && this props. not exactly sure of\n  // explanation at the moment\n\n  shouldComponentUpdate(nextProps, nextState) {\n    const update = (\n      (nextProps.showSignIn !== this.props.showSignIn)\n      || (nextProps.menu.mobile !== this.props.menu.mobile)\n      || (nextProps.ui.orientation !== this.props.ui.orientation)\n      || (nextState.localUserName !== this.state.localUserName)\n      || (nextState.localAvatar !== this.state.localAvatar)\n      || (nextProps.hasAvatar !== this.props.hasAvatar)\n      // nextProps.showSignIn || this.props.showSignIn || (nextProps.hasAvatar !== this.props.hasAvatar)\n    );\n\n    // console.log(\"update signing?\", update, nextState.user.userName, this.state.user.userName);\n    return update;\n  }\n\n\n  componentDidUpdate(prevProps) {\n\n    // THIS COMES IN IF THE PAGE LOADS AND THERE AREN'T ANY COOKIES,\n    // AND THEN COOKIES LOAD\n    if (prevProps.hasAvatar !== this.props.hasAvatar) {\n      this.setState({ localAvatar: this.props.user.avatar, localUserName: this.props.user.userName });\n    }\n  }\n\n  setAvatarBar = (emoji) => {\n    this.setState({ localAvatar: emoji })\n  }\n\n  setUserName = (evt) => {\n    if (evt.target.value.length < 17) {\n      this.setState({ localUserName: evt.target.value });\n    }\n    else {\n      alert(\"user name is too many letters\");\n    }\n  }\n\n\n  onHide = () => {\n    this.setState({ shouldClose: true }, this.handleSubmit);\n    // if (this.props.hasAvatar && this.state.localUserName !== \"\")\n    //   this.props.closeSignIn();\n  }\n\n\n  userRegister = ({ isUser, user }) => {\n    if (isUser) {\n      this.setState({ shouldClose: false });\n      alert(\"username already exists. Please enter a new username.\");\n    }\n    else {\n      this.submitSuccess(user.userName, user.avatar);\n    }\n  }\n\n  submitSuccess = (userName, avatar) => {\n    this.props.setUser(userName, avatar);\n\n    // set the local state to this registered state\n    this.setState({\n      localAvatar: avatar,\n      localUserName: userName\n    });\n\n    if (this.state.shouldClose) {\n      this.props.hideSignIn(); // frame\n    }\n    else if (this.props.nextStep)\n      this.props.nextStep(); // welcome page\n\n    this.setState({ shouldClose: false });\n  }\n\n  userRegisterCheck = (userName, avatar) => {\n    const userCheck = { userName: userName, avatar: avatar };\n    socket.emit(\"registerUser\", userCheck, this.userRegister);\n  }\n\n  handleUserUpdate = () => {\n    this.setState({ shouldClose: true }, this.handleSubmit);\n  }\n\n  handleSubmit = () => {\n    const avatar = this.state.localAvatar;\n    const userName = this.state.localUserName;\n    if (avatar === \"\") {\n      this.setState({ shouldClose: false });\n      alert(\"Please select an emoji avatar\");\n    }\n    else if (userName === \"\") {\n      this.setState({ shouldClose: false });\n      alert(\"Please set a user name\");\n    }\n    else if (userName.length < 3) {\n      this.setState({ shouldClose: false });\n      alert(\"Usernames must be at least 3 letters\");\n    }\n    // if we haven't changed names\n    else if (userName === this.props.user.userName) {\n      this.submitSuccess(userName, avatar)\n    }\n    // if we have, check username\n    else {\n      this.userRegisterCheck(userName, avatar);\n    }\n  }\n\n  render() {\n    const { w, h, isFrame } = this.props;\n    let s;\n    if (isFrame)\n      s = this.getFrame(w, h);\n    else\n      s = this.getForm(w, h);\n    return (s);\n  }\n\n  getFrame = () => {\n    const { ui, menu } = this.props;\n    const isHidden = (ui.isMobile || ui.hasFooter) ? menu.mobile !== \"signIn\" : menu.isSignInHidden;\n    return (\n      <CenterModal\n        title=\"avatar\"\n        z={2501}\n        isHidden={isHidden}\n        onHide={this.onHide}\n        isRelative={false}\n        ui={ui}\n        classN=\"SignIn\"\n        content={this.getForm()}\n        buttons={this.getButtons()}\n      />\n    )\n  }\n\n  getForm = () => {\n    let { localAvatar, localUserName } = this.state;\n    const { ui } = this.props;\n    const emojis = getEmojis();\n    let inputW = ui.width < 350 ? 190 : 225;\n    return (\n      <React.Fragment>\n        <div className=\"userBar flexItem flexPad flexRow\">\n          <div className=\"avatar\">{localAvatar}</div>\n          <input style={{ width: inputW }} onChange={this.setUserName} value={localUserName} placeholder=\"username\" inputprops={{ 'aria-label': 'user name field' }} />\n        </div>\n        <div className=\"emoji-list flexItem flexPad flex1\">\n          {\n            emojis.map((emoji, i) => {\n              return <button key={i} onClick={() => this.setAvatarBar(emoji)}>{emoji}</button>\n            })\n          }\n        </div>\n      </React.Fragment>\n    )\n  }\n\n  resetApp = () => {\n    // reset cookies?\n    // console.log(\"resetting\");\n    // this.props.closeSignIn();\n    this.props.resetApp();\n    // this.props.history.push(\"/\");\n    window.location.href = \"/\";\n  }\n\n  getButtons = () => {\n    let buttons;\n    if (this.props.isFrame) {\n      buttons =\n        <div className=\"center-buttons flexItem\">\n          <button className=\"standardButton secondary\" onClick={this.resetApp}>logout</button>\n          <button className=\"standardButton primary\" onClick={this.handleUserUpdate}>update</button>\n\n        </div>\n    }\n    else {\n      buttons = null;\n    }\n    return buttons;\n  }\n}\n\nconst mapStateToProps = (state) => {\n  return {\n    user: state.user,\n    ui: state.ui,\n    menu: state.menu\n  }\n}\n\nconst mapDispatchToProps = () => {\n  return {\n    resetApp,\n    setUser,\n    hideSignIn,\n    setOneMenu\n  }\n}\n\nexport default withRouter(connect(mapStateToProps, mapDispatchToProps())(SignIn));\n","import React from 'react';\n\nexport default function MFADeets(props) {\n  let fontsBig = [40, 20, 14, 12];\n  let fontsSmall = [30, 18, 14, 12];\n  let fontsXSmall = [28, 16, 12, 12];\n  let fonts = fontsBig;\n  if (props.width < 350) {\n    fonts = fontsXSmall;\n  }\n  else if (props.width < 500) {\n\n    fonts = fontsSmall;\n  }\n  \n  \n  return (\n    <div className=\"Welcome-Deets\">\n      <div className=\"MFA-deets\" >\n        <div className=\"MFA-txt\">\n          <div style={{fontSize: fonts[0], paddingBottom: \"0px\"}}>Losing</div>\n          <div style={{fontSize: fonts[0], paddingBottom: \"0px\"}}>My</div>\n          <div style={{fontSize: fonts[0], paddingBottom: \"40px\"}}>Dimension</div>\n\n          <div style={{fontSize: fonts[1], paddingBottom: \"40px\"}}><a href=\"https://www.instagram.com/jdeboi/\">Jenna deBoisblanc</a></div>\n\n          <div style={{fontSize: fonts[3], paddingBottom: \"10px\"}}>Tulane University</div>\n          <div style={{fontSize: fonts[2], paddingBottom: \"10px\"}}>MFA Thesis Exhibition</div>\n          <div style={{fontSize: fonts[3], paddingBottom: \"10px\"}}>April 2021</div>\n        </div>\n      </div>\n\n    </div>\n  )\n}\n","import React from 'react';\nimport './FAQ.css';\nimport chatGif from './assets/chat_md.gif';\nimport moveGif from './assets/move_md.gif';\n\nexport default function FAQ(props) {\n\n  return (\n    <div className=\"Instructions-list flexPad flex1\">\n\n      {/* MOVING */}\n      <div className=\"instruction\">\n        <div className=\"faqImg\"><img src={moveGif} /></div>\n        <div className=\"instruction-txt\">\n          <h3>Move</h3>\n          <p>Click/tap on tiles or press arrow keys.</p>\n        </div>\n      </div>\n\n      {/* CHATTING */}\n      <div className=\"instruction\">\n        <div className=\"faqImg\"><img src={chatGif} /></div>\n        <div className=\"instruction-txt\">\n          <h3>Chat</h3>\n          <p>Click a user to begin a chat or select the chat icon \n            from the menu.</p>\n        </div>\n      </div>\n\n      {/* ENTERING ROOM */}\n      {/* <div className=\"instruction\">\n        <div className=\"faqImg\"><img src=\"https://lmd-bucket.s3.us-east-2.amazonaws.com/sketches/shared/placeholder_200.jpg\" /></div>\n        <div className=\"instruction-txt\">\n          <h3>Enter Room</h3>\n          <p>Walk on the stairs to view individual works</p>\n        </div>\n      </div> */}\n\n      {/* BACK TO GALLERY */}\n      {/* <div className=\"instruction\">\n        <div className=\"faqImg\"><img src=\"https://lmd-bucket.s3.us-east-2.amazonaws.com/sketches/shared/placeholder_200.jpg\" /></div>\n        <div className=\"instruction-txt\">\n          <h3>Back to Gallery</h3>\n          <p>Click the browser back button or click the show title, \"Losing My Dimension\"</p>\n        </div>\n      </div> */}\n    </div>\n  )\n}\n","import React from 'react';\nimport glasses from './glasses.png';\n\nexport default function Glasses(props) {\n  return (\n    <div className=\"Glasses flex1 flexPad\">\n      <div className=\"instruction\">\n        {/* <h2>Get 3D glasses!</h2>\n        <hr></hr> */}\n        <p>This work is meant to be viewed in both 2D and 3D using red / cyan anaglyph glasses.</p>\n        <br />\n\n        <img src={glasses} className=\"center\" />\n        {/* <ul>\n          <li><a href=\"https://forms.gle/xCUeomKay4Jo2H5r8\" target=\"_blank\">Request a free pair</a> (limited)</li>\n          <li><a href=\"https://www.amazon.com/Blue-White-Cardboard-Glasses-Pairs/dp/B001P6C7ZY/ref=sr_1_35?dchild=1&keywords=anaglyph+glasses&qid=1609440890&sr=8-35\" target=\"_blank\">Purchase</a> a pair online</li>\n        </ul> */}\n        <h2>Make sure the red lens is over your LEFT eye.</h2>\n      </div>\n    </div>\n  )\n}\n","import React from 'react';\n\nexport default function Closed(props) {\n  let fontsBig = [40, 20, 14, 12, 10];\n  let fontsSmall = [30, 18, 14, 12, 10];\n  let fontsXSmall = [28, 16, 12, 12, 10];\n  let fonts = fontsBig;\n  if (props.width < 350) {\n    fonts = fontsXSmall;\n  }\n  else if (props.width < 500) {\n\n    fonts = fontsSmall;\n  }\n  \n  \n  return (\n    <div className=\"Welcome-Deets\">\n      <div className=\"MFA-deets closed\" >\n        <div className=\"MFA-txt\">\n          <div style={{fontSize: fonts[3], paddingBottom: \"30px\"}}>While you're free to roam the grounds, we're sorry to inform you that the gallery is currently</div>\n          <div style={{fontSize: fonts[0], paddingBottom: \"30px\"}}>CLOSED</div>\n          <div style={{fontSize: fonts[3], paddingBottom: \"10px\"}}>Please join us for the opening on:</div>\n          <div style={{fontSize: fonts[1], paddingBottom: \"5px\"}}>Saturday, April 10th</div>\n          <div style={{fontSize: fonts[1], paddingBottom: \"10px\"}}>5PM - 9PM CST</div>\n          {/* <div style={{fontSize: fonts[4], paddingBottom: \"0px\"}}>Occurring virtually and offline at Antenna / The Front</div> */}\n        </div>\n      </div>\n\n    </div>\n  )\n}\n","import React from 'react';\nimport './Welcome.css';\nimport '../SignIn/SignIn.css';\n// import '../CenterModal/CenterModal.css';\n\n// store\nimport { connect } from 'react-redux';\n\n// components\nimport CenterModal from '../CenterModal/CenterModal';\nimport MFADeets from './components/MFADeets';\nimport SignIn from '../SignIn/SignIn';\nimport FAQ from '../FAQ/FAQ';\nimport Glasses from './components/Glasses';\nimport Closed from './components/Closed';\n\n\nclass Welcome extends React.Component {\n  // https://codepen.io/JohJakob/pen/YPxgwo\n  constructor(props) {\n    super(props);\n\n    // const {avatar, userName} = this.props.user;\n\n    this.state = {\n      step: 0,\n      title: \"Welcome\"\n    }\n\n  }\n\n  // basically, don't re-render this component unless that signin window\n  // has opened?\n  // have to check both nextProps && this props. not exactly sure of\n  // explanation at the moment\n  // shouldComponentUpdate(nextProps, nextState) {\n  //   return (\n  //     nextProps.showWelcome || this.props.showWelcome || (nextProps.hasAvatar !== this.props.hasAvatar) || (nextState.step !== this.state.step)\n  //   );\n  // }\n\n\n\n\n  onHide = () => {\n    alert(\"Sorry, please click through to the end of this dialog box.\");\n    // this.handleSubmit();\n    // if (this.props.hasAvatar && this.state.user.userName != \"\") this.props.closeSignIn();\n  }\n\n  render() {\n    const { ui, showWelcome, isClosed } = this.props;\n    const {step, title} = this.state;\n    if (isClosed) {\n      var content = this.getWelcomeStepClosed(step);\n      var buttons = this.getButtonsClosed(step);\n    }\n    else {\n      var content = this.getWelcomeStep(step);\n      var buttons = this.getButtons(step);\n    }\n   \n    return (\n      <CenterModal\n        title={title}\n        isHidden={!showWelcome}\n        onHide={this.onHide}\n        ui={ui}\n        z={2500}\n        isRelative={false}\n        classN=\"Welcome\"\n        content={content}\n        buttons={buttons}\n      />\n    );\n\n\n  }\n\n  getWelcomeStepClosed = (step) => {\n    if (step === 0)\n      return <MFADeets width={this.props.ui.width} />\n    else if (step == 1)\n      return <Closed  />\n    else if (step === 2)\n      return <SignIn {...this.props} setClick={click => this.clickSubmit = click} nextStep={this.nextStep} prevStep={this.prevStep} isFrame={false} />;\n    else if (step == 3)\n      return <Glasses />\n    return null;\n  }\n\n  getButtonsClosed = (step) => {\n    if (step === 0)\n      return (\n        <div className=\"center-buttons\">\n          <button className=\"standardButton primary\" onClick={this.nextStep}>next</button>\n        </div>\n      );\n    else if (step === 2)\n      // https://stackoverflow.com/questions/37949981/call-child-method-from-parent\n      return (\n        <div className=\"center-buttons\">\n          <button className=\"standardButton secondary\" onClick={this.prevStep}>back</button>\n          <button className=\"standardButton primary\" onClick={() => this.clickSubmit()}>next</button>\n        </div>\n      );\n    else if (step === 1)\n      return (\n        <div className=\"center-buttons\">\n          <button className=\"standardButton secondary\" onClick={this.prevStep}>back</button>\n          <button className=\"standardButton primary\" onClick={this.nextStep}>next</button>\n        </div>\n      );\n    else if (step == 3)\n      return (\n        <div className=\"center-buttons\">\n          <button className=\"standardButton secondary\" onClick={this.prevStep}>back</button>\n          <button className=\"standardButton primary\" onClick={this.props.closeWelcome}>finish</button>\n        </div>\n      );\n    return null;\n  }\n\n  getWelcomeStep = (step) => {\n    if (step === 0)\n      return <MFADeets width={this.props.ui.width} />\n    else if (step === 1)\n      return <SignIn {...this.props} setClick={click => this.clickSubmit = click} nextStep={this.nextStep} prevStep={this.prevStep} isFrame={false} />;\n    else if (step === 2)\n      return <FAQ />\n    else if (step == 3)\n      return <Glasses />\n    return null;\n  }\n\n  getButtons = (step) => {\n    if (step === 0)\n      return (\n        <div className=\"center-buttons\">\n          <button className=\"standardButton primary\" onClick={this.nextStep}>next</button>\n        </div>\n      );\n    else if (step === 1)\n      // https://stackoverflow.com/questions/37949981/call-child-method-from-parent\n      return (\n        <div className=\"center-buttons\">\n          <button className=\"standardButton secondary\" onClick={this.prevStep}>back</button>\n          <button className=\"standardButton primary\" onClick={() => this.clickSubmit()}>next</button>\n        </div>\n      );\n    else if (step === 2)\n      return (\n        <div className=\"center-buttons\">\n          <button className=\"standardButton secondary\" onClick={this.prevStep}>back</button>\n          <button className=\"standardButton primary\" onClick={this.nextStep}>next</button>\n        </div>\n      );\n    else if (step == 3)\n      return (\n        <div className=\"center-buttons\">\n          <button className=\"standardButton secondary\" onClick={this.prevStep}>back</button>\n          <button className=\"standardButton primary\" onClick={this.props.closeWelcome}>finish</button>\n        </div>\n      );\n    return null;\n  }\n\n\n  prevStep = () => {\n    const step = this.state.step;\n    // var step = this.state.step;\n    // step += 1;\n    var title = \"\";\n    if (step - 1 === 1) title = \"avatar\";\n    else if (step - 1 === 2) title = \"instructions\";\n    this.setState({ step: step - 1, title });\n  }\n\n  nextStep = () => {\n    const step = this.state.step;\n    // var step = this.state.step;\n    // step += 1;\n    var title = \"\";\n    if (step + 1 === 1) title = \"avatar\";\n    else if (step + 1 === 2) title = \"instructions\";\n    else if (step + 1 === 3) title = \"3D glasses\";\n    this.setState({ step: step + 1, title });\n  }\n\n}\n\n\nconst mapStateToProps = (state) => {\n  return {\n    ui: state.ui\n  }\n}\n\nconst mapDispatchToProps = () => {\n  return {\n  }\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps())(Welcome);\n","import React from 'react';\nimport FAQ from './FAQ';\nimport CenterModal from '../CenterModal/CenterModal';\n\nimport { connect } from 'react-redux';\nimport { setOneMenu, hideFaq, toggleFaq } from '../../../store/actions/menuItems';\n\n\nclass FAQFrame extends React.Component {\n\n  onHide = () => {\n    this.props.hideFaq();\n    this.props.setOneMenu(null);\n    console.log(\"testing\")\n  }\n\n  render() {\n    const {ui, menu} = this.props;\n    let isHidden = (ui.isMobile || ui.hasFooter) ? menu.mobile !== \"faq\" : menu.isFaqHidden;\n    return (\n      <CenterModal\n        title=\"FAQ\"\n        z={2501}\n        isHidden={isHidden}\n        onHide={this.onHide}\n        isRelative={false}\n        ui={this.props.ui}\n        classN=\"FAQ\"\n        content={<FAQ />}\n        buttons={this.getButtons()}\n      />\n    );\n  }\n\n  getButtons = () => {\n    return (\n      <div className=\"center-buttons\">\n        <button className=\"standardButton primary\" onClick={this.onHide}>close</button>\n      </div>\n    )\n  }\n\n}\n\nconst mapStateToProps = (state) => {\n  return {\n    ui: state.ui,\n    menu: state.menu\n  }\n}\n\nconst mapDispatchToProps = () => {\n  return {\n    hideFaq,\n    toggleFaq,\n    setOneMenu\n  }\n}\n\n\nexport default connect(mapStateToProps, mapDispatchToProps())(FAQFrame);\n","import React from 'react';\nimport './RoomDecal.css';\n// store\nimport { connect } from 'react-redux';\nimport { startComposition } from '../../../store/actions/';\n\nimport { getSketch, getRoomCount } from '../../sketches/Sketches';\nimport ReactTooltip from 'react-tooltip';\n// components\nimport CenterModal from '../CenterModal/CenterModal';\n\n\nclass RoomDecal extends React.Component {\n    constructor(props) {\n        super(props);\n\n        this.state = {\n        }\n\n        // this.enterButton = React.createRef();\n    }\n\n    // componentDidMount() {\n    //     this.enterButton.current.focus();\n    // }\n\n    render() {\n        const { ui, user, users, hasLoadedRoom } = this.props;\n        const sketch = getSketch(user.room);\n        if (sketch) {\n            const buttons = this.getButtons(this.state.step);\n            const { title, about, year } = sketch;\n            return (\n                <CenterModal\n                    title={\"\"}\n                    isHidden={hasLoadedRoom}\n                    onHide={this.props.onHide}\n                    ui={ui}\n                    z={2500}\n                    height={300}\n                    width={400}\n                    isRelative={false}\n                    classN=\"RoomDecal\"\n                    content={\n                        <div className=\"decal-content\">\n                            <div className=\"identify\">\n                                {/* <p className=\"\" style={{ fontSize: 12, paddingBottom: 0 }}>Jenna deBoisblanc</p>\n                                <p style={{ paddingBottom: 20 }}>\n                                    <span style={{ fontSize: 24 }}>🇺🇸⚜️</span>\n                                    <span style={{ fontSize: 12 }}>, born 1989</span>\n                                </p> */}\n                                <p style={{ fontSize: 20, paddingBottom: 0, fontWeight: 900 }}>\n                                    <span className=\"\">{title}</span>\n                                </p>\n                                <p style={{ fontSize: 12 }}>{year}</p>\n                                <p style={{ fontSize: 12 }}>Custom Software</p>\n                                <p style={{ fontSize: 12 }}>Variable Dimensions</p>\n\n                                {/* <p style={{ fontSize: 12 }}>{about}</p> */}\n\n                                {/* <hr></hr> */}\n                            </div>\n                            {/* <div></div> */}\n\n                            {/* {this.getParticipantsBox()} */}\n\n                        </div>\n                    }\n                    buttons={buttons}\n                />\n            );\n        }\n\n\n        return null;\n\n    }\n\n    setUserHover = (user) => {\n\n    }\n\n    userHoverLeave = () => {\n\n    }\n\n    getParticipantsBox = () => {\n        const { ui, user, users } = this.props;\n        if (ui.hasFooter && ui.orientation === \"landscape\")\n            return null;\n        return (\n            <div className=\"participants-box\">\n                <br />\n                <br />\n                <div className=\"usersEye\"><i className=\"fas fa-eye\"></i> {getRoomCount(user.room, users)}</div>\n                <br />\n                <br />\n                <div className=\"participants\">\n                    <span\n                        data-tip={\"me\"}\n                    >\n                        {user.avatar}\n\n                    </span>\n                    {/* {this.getFakeUsers()} */}\n                    {this.getUsers()}\n\n                </div>\n                <ReactTooltip />\n            </div>\n        )\n\n    }\n\n    getFakeUsers = () => {\n        const { user } = this.props;\n        const users = [\n            { avatar: \"🤣\", userName: \"bob\" },\n            { avatar: \"🎃\", userName: \"george\" },\n            { avatar: \"🤢\", userName: \"hannah\" },\n            { avatar: \"🤪\", userName: \"jdeboisblanc\" },\n            { avatar: \"🥵\", userName: \"ok\" },\n            { avatar: \"😎\", userName: \"ashley123\" },\n            { avatar: \"🤣\", userName: \"bob\" },\n            // { avatar: \"🎃\", userName: \"george\" },\n            // { avatar: \"🤢\", userName: \"hannah\" },\n            // { avatar: \"🤪\", userName: \"jdeboisblanc\" },\n            // { avatar: \"🥵\", userName: \"ok\" },\n            // { avatar: \"😎\", userName: \"ashley123\" },\n            // { avatar: \"🤣\", userName: \"bob\" },\n            // { avatar: \"🎃\", userName: \"george\" },\n            // { avatar: \"🤢\", userName: \"hannah\" },\n            // { avatar: \"🤪\", userName: \"jdeboisblanc\" },\n            // { avatar: \"🥵\", userName: \"ok\" },\n            // { avatar: \"😎\", userName: \"ashley123\" },\n            // { avatar: \"🤣\", userName: \"bob\" },\n            // { avatar: \"🎃\", userName: \"george\" },\n            // { avatar: \"🤢\", userName: \"hannah\" },\n            // { avatar: \"🤪\", userName: \"jdeboisblanc\" },\n            // { avatar: \"🥵\", userName: \"ok\" },\n            // { avatar: \"😎\", userName: \"ashley123\" },\n            // { avatar: \"🤣\", userName: \"bob\" },\n            // { avatar: \"🎃\", userName: \"george\" },\n            // { avatar: \"🤢\", userName: \"hannah\" },\n            // { avatar: \"🤪\", userName: \"jdeboisblanc\" },\n            // { avatar: \"🥵\", userName: \"ok\" },\n            // { avatar: \"😎\", userName: \"ashley123\" },\n            // { avatar: \"🤣\", userName: \"bob\" },\n            // { avatar: \"🎃\", userName: \"george\" },\n            // { avatar: \"🤢\", userName: \"hannah\" },\n            // { avatar: \"🤪\", userName: \"jdeboisblanc\" },\n            // { avatar: \"🥵\", userName: \"ok\" },\n            // { avatar: \"😎\", userName: \"ashley123\" },\n            // { avatar: \"🤣\", userName: \"bob\" },\n            // { avatar: \"🎃\", userName: \"george\" },\n            // { avatar: \"🤢\", userName: \"hannah\" },\n            // { avatar: \"🤪\", userName: \"jdeboisblanc\" },\n            // { avatar: \"🥵\", userName: \"ok\" },\n            // { avatar: \"😎\", userName: \"ashley123\" },\n            // { avatar: \"🤣\", userName: \"bob\" },\n            // { avatar: \"🎃\", userName: \"george\" },\n            // { avatar: \"🤢\", userName: \"hannah\" },\n            // { avatar: \"🤪\", userName: \"jdeboisblanc\" },\n            // { avatar: \"🥵\", userName: \"ok\" },\n            // { avatar: \"😎\", userName: \"ashley123\" },\n            // { avatar: \"🤣\", userName: \"bob\" },\n            // { avatar: \"🎃\", userName: \"george\" },\n            // { avatar: \"🤢\", userName: \"hannah\" },\n            // { avatar: \"🤪\", userName: \"jdeboisblanc\" },\n            // { avatar: \"🥵\", userName: \"ok\" },\n            // { avatar: \"😎\", userName: \"ashley123\" },\n            // { avatar: \"🤣\", userName: \"bob\" },\n            // { avatar: \"🎃\", userName: \"george\" },\n            // { avatar: \"🤢\", userName: \"hannah\" },\n            // { avatar: \"🤪\", userName: \"jdeboisblanc\" },\n            // { avatar: \"🥵\", userName: \"ok\" },\n            // { avatar: \"😎\", userName: \"ashley123\" },\n\n            // { avatar: \"🤣\", userName: \"bob\" },\n            // { avatar: \"🎃\", userName: \"george\" },\n            // { avatar: \"🤢\", userName: \"hannah\" },\n            // { avatar: \"🤪\", userName: \"jdeboisblanc\" },\n            // { avatar: \"🥵\", userName: \"ok\" },\n            // { avatar: \"😎\", userName: \"ashley123\" },\n            // { avatar: \"🤣\", userName: \"bob\" },\n            // { avatar: \"🎃\", userName: \"george\" },\n            // { avatar: \"🤢\", userName: \"hannah\" },\n            // { avatar: \"🤪\", userName: \"jdeboisblanc\" },\n            // { avatar: \"🥵\", userName: \"ok\" },\n            // { avatar: \"😎\", userName: \"ashley123\" },\n            // { avatar: \"🤣\", userName: \"bob\" },\n            // { avatar: \"🎃\", userName: \"george\" },\n            // { avatar: \"🤢\", userName: \"hannah\" },\n            // { avatar: \"🤪\", userName: \"jdeboisblanc\" },\n            // { avatar: \"🥵\", userName: \"ok\" },\n            // { avatar: \"😎\", userName: \"ashley123\" },\n            // { avatar: \"🤣\", userName: \"bob\" },\n            // { avatar: \"🎃\", userName: \"george\" },\n            // { avatar: \"🤢\", userName: \"hannah\" },\n            // { avatar: \"🤪\", userName: \"jdeboisblanc\" },\n            // { avatar: \"🥵\", userName: \"ok\" },\n            // { avatar: \"😎\", userName: \"ashley123\" },\n            // { avatar: \"🤣\", userName: \"bob\" },\n            // { avatar: \"🎃\", userName: \"george\" },\n            // { avatar: \"🤢\", userName: \"hannah\" },\n            // { avatar: \"🤪\", userName: \"jdeboisblanc\" },\n            // { avatar: \"🥵\", userName: \"ok\" },\n            // { avatar: \"😎\", userName: \"ashley123\" },\n            // { avatar: \"🤣\", userName: \"bob\" },\n            // { avatar: \"🎃\", userName: \"george\" },\n            // { avatar: \"🤢\", userName: \"hannah\" },\n            // { avatar: \"🤪\", userName: \"jdeboisblanc\" },\n            // { avatar: \"🥵\", userName: \"ok\" },\n            // { avatar: \"😎\", userName: \"ashley123\" },\n        ]\n        return users.map((usr, i) => {\n            return (\n                <span\n                    key={i}\n                    // onMouseEnter={() => this.setUserHover(user)}\n                    // onMouseLeave={() => this.userHoverLeave()}\n                    // onClick={() => this.userClick(user)}\n                    data-tip={usr.userName}\n                >\n                    {usr.avatar}\n\n                </span>\n            )\n        });\n\n    }\n\n    getUsers = () => {\n        const { users, user } = this.props;\n\n        return users.map((usr, i) => {\n            if (usr.room !== user.room)\n                return null;\n            return (\n                <span\n                    key={i}\n                    // onMouseEnter={() => this.setUserHover(user)}\n                    // onMouseLeave={() => this.userHoverLeave()}\n                    // onClick={() => this.userClick(user)}\n                    data-tip={usr.userName}\n                >\n                    {usr.avatar}\n\n                </span>\n            )\n        })\n\n        return <div></div>;\n\n    }\n\n    buttonClicked = () => {\n        this.props.startMedia();\n        this.props.startComposition();\n        // this.props.onHide();\n        // this.props.startMedia();\n    }\n\n    getButtons = (step) => {\n        return (\n            <div className=\"center-buttons\">\n                <button className=\"standardButton primary\" onClick={this.buttonClicked}>ok</button>\n            </div>\n        );\n\n    }\n\n\n\n}\n\n\nconst mapStateToProps = (state) => {\n    return {\n        ui: state.ui,\n        user: state.user\n    }\n}\n\nconst mapDispatchToProps = () => {\n    return {\n        startComposition\n    }\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps())(RoomDecal);\n","export const roundToMult = (num, mult) => {\n    let newNum = num + mult / 2; // to round up if necessary\n    let diff = newNum % mult;\n    return newNum - diff;\n  }\n\n export const roundToMult2 = (num, mult) => {\n    let newNum = num; // to round up if necessary\n    let diff = newNum % mult;\n    return newNum - diff;\n  }\n","import { globalConfig, danceFloor, limits, pools } from \"../../constants\";\nimport { roundToMult } from './round';\n\nexport const drawAllFloors = (floorTex, p5) => {\n\n    // big floor\n    p5.strokeWeight(2);\n    p5.stroke(255, 200);\n    drawFloor(limits[0].x, limits[0].y, limits[2].x - limits[0].x, limits[2].y - limits[0].y, false, false, globalConfig.scaler * 5, p5); // big floor\n    drawDanceFloor(p5);\n\n    ////// not these\n    // drawSpaceFloor(20, 12, 12, 10, p5); // left\n    // drawSpaceFloor(5, 27, 20, 8, p5); // bottom\n    // drawSpaceFloor(24, 22, 4, 8, p5); // bottom to left\n    ////////\n\n    // top row\n    p5.strokeWeight(2);\n    p5.stroke(255, 200);\n    drawFloor(limits[0].x + 10, limits[0].y, 20, 3, false, false, globalConfig.scaler, p5);\n    // right alley\n    drawFloor(32, 5, 3, 14, false, false, globalConfig.scaler, p5);\n\n\n    // stairsOG\n    drawFloor(-10, 12, 5, 10, false, false, globalConfig.scaler, p5);\n    drawFloor(-5, 17, 5, 10, false, false, globalConfig.scaler, p5); // left column\n    drawFloor(0, 22, 5, 10, false, false, globalConfig.scaler, p5);\n    drawFloor(5, 27, 5, 10, false, false, globalConfig.scaler, p5);\n\n\n\n    // stairsBig\n    // drawFloor(pools[0].x, pools[0].y, 5, 5, false, false, globalConfig.scaler * 5, p5);\n    // drawFloor(pools[1].x, pools[1].y, 5, 5, false, false, globalConfig.scaler * 5, p5);\n    // drawFloor(pools[2].x, pools[2].y, 5, 5, false, false, globalConfig.scaler * 5, p5);\n    // drawFloor(pools[2].x+5, pools[2].y+5, 5, 5, false, false, globalConfig.scaler * 5, p5);\n    p5.noStroke();\n    \n\n    // top left\n    p5.noStroke();\n    drawSpaceFloor(limits[0].x, -3, 10, 15, p5);\n    // behind dance\n    drawSpaceFloor(20, limits[0].y, 15, 8, p5);\n\n\n    // drawFloor(0, 22, 28, 18, false, false, globalConfig.scaler, p5);\n\n    // drawFloor(0, 0, 30, 30, false, false, p5);\n    // drawSpaceFloorTriangle(5 - 15, 27 - 15, 5 + 9, 27 + 9, p5);\n    // drawSpaceFloorTriangle(15, 27 + 9, 15 + 9, 27, p5);\n    let startX = 10;\n    let startY = 39;\n    let dx = 21;\n    let h = 14;\n    let w = 15;\n    drawSpaceFloorLine(startX, startY, startX + dx, startY - dx, h, p5);\n    // drawSpaceFloor(20, 15, 1, 1, p5);\n\n    // drawPlants(p5);\n\n\n\n\n    drawGalleryGround(floorTex, p5);\n    // drawGalleryGrid(p5);\n    drawGalleryRects(p5);\n    // drawBorderPlants(p5);\n\n}\n\n\nconst drawGrid = (p5) => {\n    let spacing = globalConfig.stepS;\n    p5.stroke(255, 100);\n    p5.strokeWeight(2);\n    let sc = globalConfig.scaler;\n    for (let x = limits[0].x * sc; x <= limits[1].x * sc; x += spacing) {\n        p5.line(x, limits[0].y * sc, x, limits[2].y * sc);\n    }\n\n    for (let y = limits[0].y * sc; y <= limits[2].y * sc; y += spacing) {\n        p5.line(limits[0].x * sc, y, limits[1].x * sc, y);\n    }\n}\n\nconst drawSpaceFloorTriangle = (x0, y0, x1, y1, p5) => {\n    let sc = globalConfig.scaler;\n    let spacing = globalConfig.stepS;\n    x0 = roundToMult(x0 * sc, spacing);\n    y0 = roundToMult(y0 * sc, spacing);\n    x1 = roundToMult(x1 * sc, spacing);\n    y1 = roundToMult(y1 * sc, spacing);\n\n    let yOffset = new Date() / 2000;\n\n    let slope = (y1 - y0) / (x1 - x0);\n    let b = y0 - slope * x0;\n\n    p5.stroke(255, 150);\n    p5.noStroke();\n    p5.strokeWeight(2);\n    if (slope >= 0) {\n        for (let x = x0; x <= x1; x += spacing) {\n            let yVal = slope * x + b;\n            let yValRounded = roundToMult(yVal, spacing);\n            for (let y = y0; y <= yValRounded; y += spacing) {\n                let n = p5.noise(x * .005, y * .005 + yOffset);\n                let alpha = p5.map(n, 0, 1, 0, 150);\n                p5.fill(255, alpha);\n                p5.rect(x, y, spacing, spacing);\n            }\n\n        }\n    }\n    else {\n        let index = 0;\n        // let yVal = y0;\n        // let yValRounded = roundToMult(yVal, spacing);\n        for (let x = x0; x <= x1; x += spacing) {\n            let yVal = slope * x + b;\n            let yValRounded = roundToMult(yVal, spacing);\n            for (let y = y1; y <= yValRounded; y += spacing) {\n                let n = p5.noise(x * .005, y * .005 + yOffset);\n                let alpha = p5.map(n, 0, 1, 0, 150);\n                p5.fill(255, alpha);\n                p5.rect(x, y, spacing, spacing);\n            }\n            // console.log(index++, yVal/spacing, yValRounded/spacing);\n\n        }\n    }\n}\n\nconst drawSpaceFloorLine = (x0, y0, x1, y1, w, p5) => {\n    let sc = globalConfig.scaler;\n    let spacing = globalConfig.stepS;\n    x0 = roundToMult(x0 * sc, spacing);\n    y0 = roundToMult(y0 * sc, spacing);\n    x1 = roundToMult(x1 * sc, spacing);\n    y1 = roundToMult(y1 * sc, spacing);\n    w = roundToMult(w * sc, spacing);\n    let yOffset = new Date() / 2000;\n\n    let slope = (y1 - y0) / (x1 - x0);\n    let b = y0 - slope * x0;\n\n    p5.stroke(0, 150);\n    p5.noStroke();\n    p5.strokeWeight(2);\n    if (slope >= 0) {\n        for (let x = x0; x <= x1; x += spacing) {\n            let yVal = slope * x + b;\n            let yValRounded = roundToMult(yVal, spacing);\n            let yValStart = yValRounded - w;\n            for (let y = yValStart; y <= yValRounded; y += spacing) {\n                let n = p5.noise(x * .005, y * .005 + yOffset);\n                let alpha = p5.map(n, 0, 1, 0, 150);\n                p5.fill(255, alpha);\n                p5.rect(x, y, spacing, spacing);\n            }\n\n        }\n    }\n    else {\n        let index = 0;\n        // let yVal = y0;\n        // let yValRounded = roundToMult(yVal, spacing);\n        for (let x = x0; x <= x1; x += spacing) {\n            let yVal = slope * x + b;\n            let yValRounded = roundToMult(yVal, spacing);\n            let yValStart = yValRounded - w;\n            for (let y = yValStart; y <= yValRounded; y += spacing) {\n                let n = p5.noise(x * .005, y * .005 + yOffset);\n                let alpha = p5.map(n, 0, 1, 0, 150);\n                p5.fill(255, alpha);\n                p5.rect(x, y, spacing, spacing);\n            }\n            // console.log(index++, yVal/spacing, yValRounded/spacing);\n\n        }\n    }\n}\n\n// p5.fill(255, 50);\n// p5.rect(-12*sc, -10*sc, (38+12)*sc, (40+10)*sc);\n\n\nconst drawSpaceFloor = (x0, y0, w, h, p5) => {\n    let spacing = globalConfig.stepS;\n    let yOffset = new Date() / 2000;\n    // let bound = 5000;\n\n    let sc = globalConfig.scaler;\n    for (let x = x0 * sc; x < (x0 + w) * sc; x += spacing) {\n        for (let y = y0 * sc; y < (y0 + h) * sc; y += spacing) {\n            let n = p5.noise(x * .005, y * .005 + yOffset);\n            let alpha = p5.map(n, 0, 1, 0, 150);\n            p5.fill(255, alpha);\n            p5.rect(x, y, spacing, spacing);\n        }\n    }\n\n    // p5.fill(255, 50);\n    // p5.rect(-12*sc, -10*sc, (38+12)*sc, (40+10)*sc);\n\n}\n\nconst drawFloor = (x0, y0, w, h, isDark, isFilled, spacing, p5) => {\n    // let spacing = globalConfig.stepS;\n    let yOffset = new Date() / 2000;\n    // let bound = 5000;\n    if (isFilled) p5.fill(255, 150);\n    else p5.fill(0, 100);\n    // p5.stroke(255, 200);\n    // if (isDark) p5.stroke(0, 255);\n    if (isDark) p5.fill(255, 30);\n    let sc = globalConfig.scaler;\n    let xInd = 0;\n    let yInd = 0;\n    for (let x = x0 * sc; x < (x0 + w) * sc; x += spacing) {\n        for (let y = y0 * sc; y < (y0 + h) * sc; y += spacing) {\n            let alpha = 255;\n            if (isFilled) {\n                // if (isCheckered) alpha = ((xInd + yInd) % 2 == 0) ? 200 : 50;\n                alpha = p5.map(Math.sin(new Date() / 1000 + x / 100 + y / 200), -1, 1, 0, 110);\n                p5.fill(255, alpha);\n            } else {\n                // alpha = p5.map(Math.sin(new Date()/1000 + x/100 + y/200), -1, 1, 0, 180);\n                // p5.stroke(255, alpha);\n            }\n            // if (isDark) {\n            //   p5.fill(0, 150);\n            // }\n            p5.rect(x, y, spacing, spacing);\n            yInd++;\n        }\n        xInd++;\n    }\n\n    // p5.fill(255, 50);\n    // p5.rect(-12*sc, -10*sc, (38+12)*sc, (40+10)*sc);\n\n}\n\n\nconst drawDanceFloor = (p5) => {\n    let sc = globalConfig.scaler;\n    let spacing = 60;\n    let w = 10 * 70;\n    let h = 5 * 70;\n\n    p5.noStroke();\n    let alpha = p5.map(Math.sin(new Date() / 500), -1, 1, 150, 255);\n    p5.fill(255, alpha);\n    for (let x = danceFloor.x; x < (danceFloor.x + w); x += spacing) {\n        for (let y = danceFloor.y; y < (danceFloor.y + h); y += spacing) {\n\n            // p5.line(, y, bound, y);\n            p5.rect(x, y, 50, 50);\n        }\n    }\n}\n\nconst drawGalleryGround = (floorTex, p5) => {\n    if (floorTex) {\n        // 1st\n        for (let x = 0; x < 20; x += 5) {\n            const w = 5 * globalConfig.scaler;\n            const h = 5 * globalConfig.scaler;\n            const ix = x * globalConfig.scaler;\n            const iy = 2 * globalConfig.scaler;\n            p5.image(floorTex, ix, iy, w, h);\n        }\n        // 2nd\n        for (let x = 0; x < 30; x += 5) {\n            const w = 5 * globalConfig.scaler;\n            const h = 5 * globalConfig.scaler;\n            const ix = x * globalConfig.scaler;\n            const iy = 5 * globalConfig.scaler;\n            p5.image(floorTex, ix, iy, w, h);\n        }\n\n        // 3rd\n        for (let x = 0; x < 30; x += 5) {\n            const w = 5 * globalConfig.scaler;\n            const h = 5 * globalConfig.scaler;\n            const ix = x * globalConfig.scaler;\n            const iy = 10 * globalConfig.scaler;\n            p5.image(floorTex, ix, iy, w, h);\n        }\n        // 4th row\n        for (let x = 0; x < 15; x += 5) {\n            const w = 5 * globalConfig.scaler;\n            const h = 5 * globalConfig.scaler;\n            const ix = x * globalConfig.scaler;\n            const iy = 12 * globalConfig.scaler;\n            p5.image(floorTex, ix, iy, w, h);\n        }\n        const w = 5 * globalConfig.scaler;\n        const h = 5 * globalConfig.scaler;\n        const ix = 15 * globalConfig.scaler;\n        const iy = 12 * globalConfig.scaler;\n        p5.image(floorTex, ix, iy, w, h);\n\n        // 4th row\n        for (let x = 5; x < 20; x += 5) {\n            const w = 5 * globalConfig.scaler;\n            const h = 5 * globalConfig.scaler;\n            const ix = x * globalConfig.scaler;\n            const iy = 17 * globalConfig.scaler;\n            p5.image(floorTex, ix, iy, w, h);\n        }\n        for (let x = 10; x < 20; x += 5) {\n            const w = 5 * globalConfig.scaler;\n            const h = 5 * globalConfig.scaler;\n            const ix = x * globalConfig.scaler;\n            const iy = 22 * globalConfig.scaler;\n            p5.image(floorTex, ix, iy, w, h);\n        }\n\n    }\n}\n\nconst drawGalleryGrid = (p5) => {\n    // 1st\n    p5.stroke(255, 100);\n    p5.strokeWeight(2);\n    let sc = globalConfig.scaler;\n    let step = 1;\n    for (let x = 0; x < 27; x += step) {\n        const y0 = 5;\n        const y1 = 15;\n        p5.line(x * sc, y0 * sc, x * sc, y1 * sc);\n    }\n    for (let y = 5; y < 15; y += step) {\n        const x0 = 0;\n        const x1 = 27;\n        p5.line(x0 * sc, y * sc, x1 * sc, y * sc);\n    }\n    // 2nd\n    for (let x = 0; x < 20; x += step) {\n        const y0 = 15;\n        const y1 = 22;\n        p5.line(x * sc, y0 * sc, x * sc, y1 * sc);\n    }\n    for (let y = 15; y < 22; y += step) {\n        const x0 = 0;\n        const x1 = 20;\n        p5.line(x0 * sc, y * sc, x1 * sc, y * sc);\n    }\n\n    // 3rd\n    for (let x = 10; x < 20; x += step) {\n        const y0 = 22;\n        const y1 = 27;\n        p5.line(x * sc, y0 * sc, x * sc, y1 * sc);\n    }\n    for (let y = 22; y < 27; y += step) {\n        const x0 = 10;\n        const x1 = 20;\n        p5.line(x0 * sc, y * sc, x1 * sc, y * sc);\n    }\n\n}\n\nconst drawGalleryRects = (p5) => {\n    let yind = 0;\n    let xind = 0;\n    let cFilled = p5.color(255, 200);\n    let cDark = p5.color(255, 50);\n\n    p5.strokeWeight(2);\n    p5.stroke(255, 150);\n    let sc = globalConfig.scaler;\n    let step = 1;\n    for (let x = 0; x < 27; x += step) {\n        for (let y = 5; y < 15; y += step) {\n            if ((yind + xind) % 2 == 0) p5.fill(cDark);\n            else p5.fill(cFilled);\n            p5.rect(x * sc, y * sc, sc, sc);\n            yind++;\n        }\n        xind++;\n    }\n\n    // 2nd\n    for (let x = 0; x < 20; x += step) {\n        for (let y = 15; y < 22; y += step) {\n            if ((x + y + 1) % 2 == 0) p5.fill(cDark);\n            else p5.fill(cFilled);\n            p5.rect(x * sc, y * sc, sc, sc);\n        }\n    }\n\n\n\n    // 3rd\n    yind = 0;\n    xind = 0;\n    for (let x = 10; x < 20; x += step) {\n        for (let y = 22; y < 27; y += step) {\n            if ((x + y + 1) % 2 == 0) p5.fill(cDark);\n            else p5.fill(cFilled);\n            p5.rect(x * sc, y * sc, sc, sc);\n        }\n    }\n\n\n}\n\n\n// const rightPatio = (p5, sc = globalConfig.scaler) => {\n//     const x = 21.5 * sc;\n//     const y = 15.5 * sc;\n//     const w = 5 * sc;\n//     if (grasses[1]) p5.image(grasses[1], x, y, w, w);\n// }\n\n\n// const drawBorderPlants = (p5, sc = globalConfig.scaler) => {\n//     if (horizPlant) {\n//       var startY = -horizPlant.height;\n//       for (let i = 0; i < 4; i++) {\n//         p5.image(horizPlant, i * horizPlant.width, startY, horizPlant.width, horizPlant.height);\n//       }\n//       startY += 5 * sc;\n//       p5.image(horizPlant, 27 * sc, startY);\n//     }\n\n//   }\n\n//   const drawGrass = (p5, sc = globalConfig.scaler) => {\n//     if (grasses[1]) {\n//       // for (let x = -15*sc; x < -12*sc; x+= shrub.width) {\n//       const w = 5;\n//       const startX = -10;\n//       const endX = 35;\n//       const startY = -5;\n//       const endY = 40;\n//       for (let x = startX; x < endX; x += w) {\n//         for (let y = startY; y < endY; y += w) {\n//           if (y > 10) {\n//             if (x == y);\n//             else p5.image(grasses[1], (x - 1) * sc, y * sc, w * sc, w * sc);\n//           }\n//           else p5.image(grasses[1], x * sc, y * sc, w * sc, w * sc);\n//         }\n//       }\n//     }\n//   }\n\n//   const drawOuterBoundary = (p5, sc = globalConfig.scaler) => {\n//     const startX = limits[0].x * sc;\n//     const endX = limits[1].x * sc;\n\n\n//     const startY = limits[0].y * sc;\n//     const endY = limits[2].y * sc;\n\n//     const barW = (endX - startX);\n//     const barH = (endY - startY);\n\n//     // p5.fill(0, 180);\n//     // p5.noStroke();\n//     p5.noFill();\n//     p5.stroke(0);\n//     p5.strokeWeight(2);\n//     p5.rect(startX - barW, startY, barW, barH);\n//     p5.rect(endX, startY, barW, barH);\n\n//     p5.rect(startX - barW, startY - 2000, endX - startX + 2 * barW, 2000);\n//     p5.rect(startX - barW, endY, endX - startX + 2 * barW, 2000);\n\n\n//     // if (shrub) {\n//     //   // vert\n//     //   for (let y = startY; y < endY; y += shrub.height) {\n//     //     p5.image(shrub, startX-shrub.width*2, y);\n//     //     p5.image(shrub, startX-shrub.width, y);\n//     //     p5.image(shrub, endX, y);\n//     //     p5.image(shrub, endX + shrub.width, y);\n//     //   }\n//     //   for (let x = startX - shrub.width; x < endX+ shrub.width; x += shrub.width) {\n//     //     p5.image(shrub, x, startY-2*shrub.height);\n//     //     p5.image(shrub, x, startY - shrub.height);\n//     //     p5.image(shrub, x, endY);\n//     //     p5.image(shrub, x, endY + shrub.height);\n//     //   }\n//     // }\n\n//   }\n\n\n// const drawPlants = (p5) => {\n//     let sc = globalConfig.scaler;\n//     if (palm) p5.image(palm, 0, 30 * sc, 50 * 4, 50 * 4);\n//     // const w = 2 * ;\n\n//     // for (let x = 2; x < 14; x++) {\n//     //   const dx = x * globalConfig.scaler;\n//     //   const dy = 27 * globalConfig.scaler;\n//     //   // if (x === 10 || x === 15) p5.image(palm, dx, dy, w, w);\n//     //   // else if (x == 10)\n//     //   // else if (x == 14|| x==16 || x);\n//     //   // else\n//     //   if (grasses[2]) p5.image(grasses[2], dx, dy, w / 2, w / 2);\n//     // }\n\n//   }\n\n//   const drawPathFrontDoor = (p5) => {\n//     let { scaler } = globalConfig;\n\n//     // right\n//     // let x0 = 15*scaler;\n//     // let y0 = 25*scaler;\n//     // let h = 400;\n//     // let w = 120;\n//     // for (let x = x0; x < x0+w; x+= 50) {\n//     //   for (let y = y0; y < y0+h; y+= 50) {\n//     //     p5.fill(255);\n//     //     p5.rect(x, y, 50, 50);\n//     //   }\n//     // }\n\n//     // // left\n//     // x0 = 12.5*scaler;\n//     // for (let x = x0; x < x0+w; x+= 50) {\n//     //   for (let y = y0; y < y0+h; y+= 50) {\n//     //     p5.fill(255, 0, 255);\n//     //     p5.rect(x, y, 50, 50);\n//     //   }\n//     // }\n\n//     const points = [\n\n//       // left\n//       { x: 15 * scaler, y: 28 * scaler },\n//       { x: 15 * scaler, y: 32 * scaler },\n//       { x: 6.5 * scaler, y: 32 * scaler },\n//       { x: -7 * scaler, y: 17 * scaler },\n//       // right\n//       // 12.5 = left\n//       // { x: 17.5 * scaler, y: 28 * scaler },\n//       // { x: 17.5 * scaler, y: 32 * scaler },\n\n//     ]\n\n//     p5.stroke(255, 150);\n//     p5.strokeWeight(300);\n//     for (let i = 0; i < points.length - 1; i++) {\n//       let p0 = points[i];\n//       let p1 = points[i + 1];\n//       p5.line(p0.x, p0.y, p1.x, p1.y);\n\n//     }\n//   }\n\n//   const drawStairs = (p5) => {\n//     const w = 8 * globalConfig.scaler;\n//     const h = 3 * globalConfig.scaler;\n//     if (stairs) p5.image(stairs, 21.5 * globalConfig.scaler, 15 * globalConfig.scaler, w * 2, w * 2);\n//     if (stairsBig) p5.image(stairsBig, 11 * globalConfig.scaler, 27 * globalConfig.scaler, w, h);\n//   }\n","\n\n\n\nimport { globalConfig } from \"../../constants\";\n\n\n// const outlineRooms = (p5, rooms, scaler=wallConfig.scaler) => {\n//     for (let i = 0; i < rooms.length; i++) {\n//       var w = 5*scaler;\n//       var h = 5*scaler;\n//       // if (rooms[i].id === \"B\") h = 7*scaler;\n//       p5.push();\n//       p5.translate(rooms[i].x*scaler, rooms[i].y*scaler);\n//       p5.rect(0, 0, w, h);\n  \n//       // label\n//       // p5.strokeWeight(1);\n//       // p5.fill(255, 0, 255);\n//       // p5.text(rooms[i].id, 10, 0)\n//       p5.pop();\n//     }\n//   }\n  \n  \n//   const drawRoomDoors = (p5, rooms, scaler=wallConfig.scaler) => {\n//     for (let i = 0; i < rooms.length; i++) {\n//       var w = 5*scaler;\n//       var h = 5*scaler;\n//       // if (rooms[i].id === \"B\") h = 7*scaler;\n//       p5.push();\n//       p5.translate(rooms[i].x*scaler, rooms[i].y*scaler);\n//       p5.translate(w/2, h/2);\n//       p5.rotate(rooms[i].rot/180*Math.PI);\n//       // p5.translate(-w/2, -h/2);\n//       // if (rooms[i].id ===\"B\") p5.line(-h*.25, w/2, h*.25, w/2);\n//       // else\n//       p5.line(-w*.25, h/2, w*.25, h/2);\n//       p5.pop();\n//     }\n//   }\n  \nexport const drawWalls = (walls, p5) => {\n    p5.stroke(255);\n    p5.strokeWeight(2);\n    if (walls) {\n        let i = 0;\n        for (const wall of walls) {\n            if (i == 0) {\n                // p5.fill(200);\n                // p5.noStroke();\n                // p5.strokeWeight(10);\n                // p5.stroke(0);\n                // wall.displayShape(p5, floorTex, globalConfig.scaler);\n\n                wall.displayBorder(p5, globalConfig.scaler);\n                i++;\n            }\n            // p5.noFill();\n            // p5.strokeWeight(10);\n            // p5.stroke(0);\n            // wall.displayOutline();\n        }\n    }\n}\n\n\nexport const drawDoors = (doors, p5) => {\n    p5.strokeWeight(4);\n    p5.fill(0);\n    p5.stroke(80);\n    if (doors) {\n        for (const door of doors) {\n            door.display(p5);\n        }\n    }\n}\n\nexport const drawRooms = (rooms, roomTextures, eyeIcon, roomCount, p5) => {\n    if (rooms) {\n        for (const room of rooms) {\n            room.display(roomTextures, eyeIcon, roomCount);\n            // var w = roomConfig.w*wallConfig.scaler;\n            // var h = w;\n            // // if (room.id === \"B\") w = 7*wallConfig.scaler;\n            // drawRoom(p5, room.x*wallConfig.scaler, room.y*wallConfig.scaler, w, h, room.rot, room.title);\n        }\n    }\n\n}\n\n","\n \n export function displayDancers(dancers) {\n    for (const dancer of dancers) {\n      dancer.display();\n    }\n  }\n\n  export function updateDucks(hasCheese, userX, userY, ducks) {\n    for (const duck of ducks) {\n      // Path following and separation are worked on in this function\n      duck.applyBehaviors(hasCheese, userX, userY, ducks);\n      // Call the generic run method (update, borders, display, etc.)\n      duck.update();\n      duck.display();\n    }\n  }","import { globalConfig } from \"../../constants\";\nimport { roundToMult2 } from './round';\n\n\nexport const reachedDestination = (stepTo, destination) => {\n    // if (user.x === destination.x && user.y === destination.y)\n    // console.log(destination, stepTo)\n    return (stepTo.x === destination.x && stepTo.y === destination.y);\n}\n\n// TODO - probably a smarter way to determine best step...\nexport const getNextStep = (stepTo, destination) => {\n    let steps = [[1, 0], [-1, 0], [0, 1], [0, -1]];\n    let min = 1000000;\n    let index = 0;\n    let i = 0;\n    for (const step of steps) {\n        let stepDis = getStepDist(stepTo, destination, step);\n        if (stepDis < min) {\n            min = stepDis;\n            index = i;\n        }\n        i++;\n    }\n    return steps[index];\n}\n\nconst getStepDist = (stepTo, destination, step) => {\n    const space = globalConfig.stepS;\n    // const dx = destination.x - (user.x + step[0] * space);\n    // const dy = destination.y - (user.y + step[1] * space);\n    const dx = destination.x - (stepTo.x + step[0] * space);\n    const dy = destination.y - (stepTo.y + step[1] * space);\n    return Math.sqrt(dx * dx + dy * dy);\n}\n\n\nexport const drawTextLoc = (p5) => {\n    p5.noStroke();\n    p5.fill(255, 0, 255);\n    p5.textSize(50);\n    const dx2 = p5.mouseX > window.innerWidth / 2 ? 50 : -50;\n    const dy2 = p5.mouseY > window.innerHeight / 2 ? 50 : -50;\n    const mx = roundToMult2((p5.mouseX - window.innerWidth / 2) + dx2, globalConfig.stepS);\n    const my = roundToMult2((p5.mouseY - window.innerHeight / 2) + dy2, globalConfig.stepS);\n    p5.text(mx + \" \" + my, p5.mouseX, p5.mouseY);\n}\n\n\nvar lastMouseMove = 0;\n\nexport const mouseDidMove = (p5) => {\n    return p5.pmouseX !== p5.mouseX || p5.pmouseY !== p5.mouseY;\n}\n\n\n\nexport const showMouseLoc = (isMobile, lastMouseMove, p5) => {\n    if (!isMobile && new Date() - lastMouseMove < 800) {\n        if (!p5.mouseIsPressed) { //!isWalking&& \n            let sc = globalConfig.stepS;\n            let sw = 10;\n            const dx2 = p5.mouseX > p5.windowWidth / 2 ? 50 : -50;\n            const dy2 = p5.mouseY > p5.windowHeight / 2 ? 50 : -50;\n            const mx = roundToMult2((p5.mouseX - p5.windowWidth / 2) + dx2, sc);\n            const my = roundToMult2((p5.mouseY - p5.windowHeight / 2) + dy2, sc);\n            p5.noStroke();\n            p5.noFill();\n            p5.strokeWeight(sw / 2);\n            p5.stroke(20, 0, 50, 25);\n            // p5.rect(mx+window.innerWidth/2-50+sw, my+window.innerHeight/2-50+sw, sc-sw*2, sc-sw*2, 10);\n            p5.ellipse(mx + p5.windowWidth / 2, my + p5.windowHeight / 2, sc - sw * 4);\n            p5.ellipse(mx + p5.windowWidth / 2, my + p5.windowHeight / 2, sc - sw * 6);\n            p5.ellipse(mx + p5.windowWidth / 2, my + p5.windowHeight / 2, sc - sw * 8);\n        }\n    }\n}\n\nexport const showUserEllipses = (userEase, destination, isWalking, p5) => {\n    // let sc = globalConfig.stepS;\n    let sw = 10;\n    p5.noStroke();\n    p5.noFill();\n    p5.strokeWeight(sw / 2);\n    p5.stroke(20, 0, 50, 55);\n    // p5.rect(mx+window.innerWidth/2-50+sw, my+window.innerHeight/2-50+sw, sc-sw*2, sc-sw*2, 10);\n    // p5.ellipse(window.innerWidth/2, window.innerHeight/2, sc-sw*2);\n    // p5.ellipse(window.innerWidth/2, window.innerHeight/2, sc-sw*4);\n    // p5.ellipse(window.innerWidth/2, window.innerHeight/2, sc-sw*6);\n\n    // const x = destination.x + p5.windowWidth / 2 - user.x;\n    // const y = destination.y + p5.windowHeight / 2 - user.y;\n    const x = destination.x + p5.windowWidth / 2 - userEase.x;\n    const y = destination.y + p5.windowHeight / 2 - userEase.y;\n    const lineL = 20;\n\n\n    if (isWalking) {\n        p5.line(x - lineL / 2, y - lineL / 2, x + lineL / 2, y + lineL / 2);\n        p5.line(x + lineL / 2, y - lineL / 2, x - lineL / 2, y + lineL / 2);\n    }\n}\n\nexport const showDestination = (userEase, destination, isWalking, p5) => {\n    if (isWalking) {\n        // lastMouseMove = new Date();\n        const sc = globalConfig.stepS;\n        p5.noStroke();\n        p5.noFill();\n        let sw = 10;\n        p5.noStroke();\n        p5.noFill();\n        p5.strokeWeight(5);\n        p5.stroke(20, 0, 50, 55);\n        // const x = destination.x + p5.windowWidth / 2 - user.x;\n        // const y = destination.y + p5.windowHeight / 2 - user.y;\n        const x = destination.x + p5.windowWidth / 2 - userEase.x;\n        const y = destination.y + p5.windowHeight / 2 - userEase.y;\n        const lineL = 20;\n        if (destination.x) {\n            p5.line(x - lineL / 2, y - lineL / 2, x + lineL / 2, y + lineL / 2);\n            p5.line(x + lineL / 2, y - lineL / 2, x - lineL / 2, y + lineL / 2);\n\n        }\n        // p5.rect(destination.x+window.innerWidth/2-user.x-50+sw, destination.y+window.innerHeight/2-user.y-50+sw,  sc-sw*2, sc-sw*2, 10);\n        // p5.ellipse(destination.x+window.innerWidth/2-user.x, destination.y+window.innerHeight/2-user.y,  sc-sw*2);\n        // p5.ellipse(destination.x+window.innerWidth/2-user.x, destination.y+window.innerHeight/2-user.y,  sc-sw*4);\n        // p5.ellipse(destination.x+window.innerWidth/2-user.x, destination.y+window.innerHeight/2-user.y,  sc-sw*6);\n    }\n}\n\n","\n\nimport { globalConfig, mouseToWorld, domCoordsToP5World } from \"../../constants\";\n\nexport function checkUserClicked(userEase, users, p5) {\n\n    for (const otherUser of users) {\n        if (otherUser.room === \"gallery\") {\n\n            let mouse = mouseToWorld(userEase, p5)\n            let userWorld = domCoordsToP5World(otherUser.x + 17, otherUser.y - 14)\n            let userChat = {};\n            userChat.x = userWorld.x + 23;\n            userChat.y = userWorld.y - 16;\n            let d = p5.dist(mouse.x, mouse.y, userWorld.x, userWorld.y);\n            let dChat = p5.dist(mouse.x, mouse.y, userChat.x, userChat.y);\n\n            if (d < 20 || dChat < 20) {\n                return otherUser;\n            }\n        }\n    }\n    return null;\n}\n\nexport function seeUserClicked(userEase, users, p5) {\n\n\n    for (const otherUser of users) {\n        if (otherUser.room === \"gallery\") {\n\n            let mouse = mouseToWorld(userEase, p5)\n            let userWorld = domCoordsToP5World(otherUser.x + 17, otherUser.y - 14)\n            let userChat = {};\n            userChat.x = userWorld.x + 23;\n            userChat.y = userWorld.y - 16;\n            let d = p5.dist(mouse.x, mouse.y, userWorld.x, userWorld.y);\n            let dChat = p5.dist(mouse.x, mouse.y, userChat.x, userChat.y);\n\n            p5.fill(0, 255, 0);\n\n            // if (otherUser.userName === \"cocktailBot\") console.log(d, mx, my, otherUser.x, otherUser.y)\n            if (d < 20 || dChat < 20) {\n                p5.fill(255, 0, 0);\n            }\n\n            p5.ellipse(userChat.x, userChat.y, 24, 24);\n        }\n    }\n    return null;\n}\n\n\nexport function drawUser(user, p5) {\n    const foodTime = 75*1000;\n\n    p5.fill(255);\n    p5.noStroke();\n    p5.push();\n    p5.textFont('times', 34);\n    p5.translate(p5.windowWidth / 2, p5.windowHeight / 2);\n    p5.text(user.avatar, -17, 17);\n\n    p5.translate(0, 16);\n    if (user.hasCheese && new Date() - user.hasCheese < foodTime) {\n        drawCheese(p5);\n    }\n\n    if (user.hasWine && new Date() - user.hasWine < foodTime) {\n        drawWine(p5);\n    }\n\n    if (user.hasCocktail && new Date() - user.hasCocktail < foodTime) {\n        drawCocktail(p5);\n    }\n\n    p5.pop();\n}\n\nexport function drawUsers(userEase, users, dogica, p5) {\n    p5.fill(255);\n    p5.noStroke();\n    p5.textFont('times', 34);\n\n    for (const otherUser of users) {\n        if (otherUser.room === \"gallery\") {\n            let coord = domCoordsToP5World(otherUser.x, otherUser.y);\n            let ava = otherUser.avatar;\n\n\n            p5.push();\n            p5.translate(coord.x, coord.y);\n            p5.text(ava, 0, 0);\n\n            if (otherUser.hasCheese || otherUser.hasWine || otherUser.hasCocktail) {\n                p5.push();\n                p5.translate(0, 24);\n                drawLabel(p5, otherUser.userName, dogica);\n                p5.pop();\n            }\n            else drawLabel(p5, otherUser.userName, dogica);\n\n            p5.textFont('times');\n            p5.textSize(34);\n\n            if (p5.dist(otherUser.x, otherUser.y, userEase.x, userEase.y) < 150) {\n                drawChat(p5);\n            }\n\n\n            if (otherUser.hasCheese) {\n                drawCheese(p5);\n            }\n\n            if (otherUser.hasWine) {\n                drawWine(p5);\n            }\n\n            if (otherUser.hasCocktail) {\n                drawCocktail(p5);\n            }\n\n            p5.pop()\n        }\n\n    }\n}\n\nfunction drawLabel(p5, name, dogica) {\n    p5.textFont(dogica);\n    p5.textSize(10);\n    p5.noStroke();\n    p5.fill(255);\n    p5.rect(0, 0, p5.textWidth(name) + 6, 12, 3, 3);\n    p5.fill(0);\n    p5.text(name, 3, 10);\n}\n\nfunction drawChat(p5) {\n    p5.text(\"💬\", 22, -14);\n}\n\nfunction drawCocktail(p5) {\n    p5.text(\"🍸\", 20, 20);\n}\n\nfunction drawCheese(p5) {\n    p5.text(\"🧀\", -10, 24);\n    p5.text(\"🥖\", 10, 24);\n}\n\nfunction drawWine(p5) {\n    p5.text(\"🍷\", -20, 20);\n}","\nimport { globalConfig } from \"../../constants\";\nimport { pools, limits, p5ToWorldCoords } from '../../constants';\n\nexport function drawPlantRow(x, y, w, h, img, p5) {\n    let sc = globalConfig.scaler;\n    let pt = p5ToWorldCoords(x, y);\n    \n    for (let i = 0; i < w; i++) {\n        p5.image(img, pt.x+sc*5*i, pt.y, 5 * sc, sc);\n    }\n    p5.noFill();\n    p5.stroke(255);\n    p5.strokeWeight(2);\n    for (let r = 0; r < h; r++) {\n        for (let c = 0; c < w*5; c++) {\n            p5.rect(pt.x + c*sc, pt.y + r*sc, sc, sc);\n        }\n    }\n}\n\nexport function drawPools(poolImg, p5) {\n    let sc = globalConfig.scaler;\n    const w = 5 * sc;\n    const h = 5 * sc;\n    for (let i = 0; i < 3; i++) {\n        const x = pools[i].x * sc;\n        const y = pools[i].y * sc;\n        p5.image(poolImg, x, y, w, h)\n    }\n}\n\n\nexport function drawGrassPatch(grass0, grass1, p5) {\n    let sc = globalConfig.scaler;\n    const w = 5 * sc;\n    const h = 5 * sc;\n    for (let i = 0; i < 3; i++) {\n        const x = pools[i].x * sc;\n        const y1 = (pools[i].y + 5) * sc;\n        const y = pools[i].y * sc;\n        p5.image(grass1, x, y, w, h)\n        p5.image(grass0, x, y1, w, h)\n        p5.noFill();\n        p5.stroke(255);\n        p5.strokeWeight(2);\n        p5.rect(x, y, w, h);\n        p5.rect(x, y1, w, h);\n    }\n\n    const xx = pools[2].x * sc + sc * 5;\n    const yy = (pools[2].y + 5) * sc;\n    p5.image(grass1, xx, yy, w, h)\n    p5.rect(xx, yy, w, h);\n\n    drawShrubPatch(grass0, p5);\n}\n\n// export function drawShrubPatch(ivies, p5) {\n\n// }\n\nexport function drawShrubPatch(shrub, p5) {\n    let sc = globalConfig.scaler;\n    const w = 5 * sc;\n    const h = 5 * sc;\n\n    p5.noFill();\n    p5.stroke(255);\n    p5.strokeWeight(2);\n\n\n    var xx = (limits[0].x) * sc;\n    var yy = (limits[2].y - 5) * sc;\n    p5.image(shrub, xx, yy, w, h)\n    p5.rect(xx, yy, w, h);\n\n    xx = (limits[0].x) * sc;\n    yy = (limits[2].y - 10) * sc;\n    p5.image(shrub, xx, yy, w, h)\n    p5.rect(xx, yy, w, h);\n\n    xx = (limits[0].x + 5) * sc;\n    yy = (limits[2].y - 5) * sc;\n    p5.image(shrub, xx, yy, w, h)\n    p5.rect(xx, yy, w, h);\n\n\n}\n\nexport function poolBoundaryCrossing(userX, userY) {\n    // let sc = globalConfig.scaler;\n\n    // const w = 5*sc;\n    // const h = 5*sc;\n    // for (let i = 0; i < pools.length; i++) {\n    //     const x = pools[i].x * sc + sc;\n    //     const y = pools[i].y * sc + sc;\n    //     if (userX > x && userX < x + w && userY > y && userY < y+ h)\n    //         return true;\n    // }\n    return false;\n}","export default class Button {\n\n    constructor(x, y, p5) {\n        this.r = 10;\n        this.x = x;\n        this.y = y;\n        this.p5 = p5;\n    }\n\n    display(mx, my) {\n        this.p5.stroke(255);\n        this.p5.strokeWeight(2);\n        this.p5.noFill();\n\n        if (this.mouseOver(mx, my)) {\n            this.p5.fill(255);\n        }\n        this.p5.ellipse(this.x, this.y, this.r);\n    }\n\n    mouseOver(mx, my) {\n        let d = this.p5.dist(mx, my, this.x, this.y);\n        return d < this.r/2;\n    }\n\n\n}\n\n","import Button from './Button';\nimport { globalConfig, mouseToWorld } from \"../../../constants\";\n\nexport default class Draggable {\n  constructor(id, x, y, w, h, p5, content) {\n    this.p5 = p5;\n    this.x = x;\n    this.y = y;\n    this.w = w;\n    this.h = h;\n    this.id = id;\n    this.origX = this.x;\n    this.origY = this.y;\n    this.offsetX = 0;\n    this.offsetY = 0;\n    this.toolbarH = 25;\n    // this.opacity = p5.map(this.id, 0, 20, 0, 1);\n    this.startDrag = { x: 0, y: 0 };\n    this.startDragCoords = { x: 0, y: 0 };\n\n    this.dragging = false;\n    this.locked = false;\n\n    this.closed = false;\n    this.minimized = false;\n\n    this.barH = 26;\n    this.bRad = 10;\n\n    let xp = 15;\n    let yp = 12;\n    let sp = 20;\n    this.closeButton = new Button(xp, yp, p5);\n    this.minButton = new Button(xp + sp, yp, p5);\n    this.maxButton = new Button(xp + sp * 2, yp, p5);\n\n    this.content = content;\n    // this.mask;\n    // this.initMask();\n  }\n\n  initMask() {\n    this.mask = this.p5.createGraphics(this.w, this.h+this.barH);\n    this.mask.background(0);\n    this.mask.fill(255);\n    this.mask.noStroke();\n    // this.mask.rect(0, 0, this.w, this.h, this.bRad, this.bRad);\n    this.mask.ellipse(this.w/2, this.h/2, 50, 50);\n    if (this.content && this.content.width > 0) {\n   \n      this.content.mask(this.mask);\n    }\n  }\n\n  display(userX, userY) {\n    this.p5.push();\n    this.p5.translate(this.x, this.y);\n    if (!this.closed) {\n      if (!this.minimized) this.displayContent(userX, userY);\n    }\n    this.p5.pop();\n  }\n\n  displayToolBar(userX, userY) {\n    this.p5.push();\n    this.p5.translate(this.x, this.y);\n    if (!this.closed) {\n      this.p5.fill(0);\n      this.p5.noStroke();\n      if (!this.minimized) this.p5.rect(0, 10, this.w, (this.barH - 10));\n      this.p5.rect(0, 0, this.w, this.barH, this.bRad);\n\n      let gx = globalConfig.x * globalConfig.scaler;\n      let gy = globalConfig.y * globalConfig.scaler;\n      let mx = this.p5.mouseX + userX - gx - this.p5.windowWidth / 2 - this.x;\n      let my = this.p5.mouseY + userY - gy - this.p5.windowHeight / 2 - this.y;\n\n      this.closeButton.display(mx, my);\n      this.minButton.display(mx, my);\n      this.maxButton.display(mx, my);\n    }\n    this.p5.pop();\n  }\n\n  displayContent(userX, userY) {\n    // this.p5.fill(255);\n    this.p5.push();\n   \n    this.p5.translate(0, this.barH);\n    this.p5.image(this.content, 0, 0, this.w, this.h);\n    this.p5.pop();\n    this.displayFrame();\n    \n  }\n\n  displaySolidBack(col) {\n    this.p5.fill(col);\n    this.p5.stroke(0);\n    this.p5.strokeWeight(2);\n    this.p5.rect(0, 0, this.w, this.h + this.barH, this.bRad);\n  }\n\n  displayFrame() {\n    this.p5.noFill();\n    this.p5.stroke(0);\n    this.p5.strokeWeight(2);\n    this.p5.rect(0, 0, this.w, this.h + this.barH, this.bRad);\n  }\n\n  checkButtons(userX, userY) {\n    if (this.closed) \n      return false;\n    let mouse = mouseToWorld({x: userX, y: userY}, this.p5);\n    mouse.x -= this.x;\n    mouse.y -= this.y;\n    if (this.closeButton.mouseOver(mouse.x, mouse.y)) {\n      this.closeWindow();\n      return true;\n    }\n    else if (this.minButton.mouseOver(mouse.x, mouse.y)) {\n      this.toggleMinimze();\n      return true;\n    }\n    else if (this.maxButton.mouseOver(mouse.x, mouse.y)) {\n      this.maximizeWindow();\n      return true;\n    }\n    return false;\n  }\n\n  checkDragging(userX, userY) {\n    if (this.closed) \n      return false;\n    let mouse = mouseToWorld({x: userX, y: userY}, this.p5);\n    // console.log(mx, my, userX, userY, this.x, this.y);\n    if (this.overToolBar(mouse.x, mouse.y)) {\n      // console.log(\"over toolbar\");\n      // this.draggingOn(mx, my);\n      this.dragging = true;\n      this.startDrag.x = this.p5.mouseX;\n      this.startDrag.y = this.p5.mouseY;\n      this.startDragCoords.x = this.x;\n      this.startDragCoords.y = this.y;\n      return true;\n    }\n    return false;\n  }\n\n  overToolBar(mx, my) {\n    return mx > this.x && mx < this.x + this.w && my > this.y && my < this.y + this.barH;\n  }\n\n  // draggingOn(mx, my) {\n  //   // dragging.dragging = true;\n  //   this.offsetX = this.p5.mouseX - this.startDrag.x;\n  //   this.offsetY = this.p5.mouseY - this.startDrag.y;\n  // }\n\n  endDrag() {\n    this.dragging = false;\n  }\n\n  update() {\n    if (this.dragging) {\n      this.offsetX = this.p5.mouseX - this.startDrag.x;\n      this.offsetY = this.p5.mouseY - this.startDrag.y;\n\n      this.x = this.startDragCoords.x + this.offsetX;\n      this.y = this.startDragCoords.y + this.offsetY;\n    }\n  }\n\n  toggleCloseWindow(div) {\n    this.locked = !this.locked;\n    this.closeWindow(div);\n  }\n\n  openWindow() {\n    this.closed = false;\n    this.minimized = false;\n    this.locked = false; // ? what does this do\n  }\n\n  closeWindow() {\n    // div.style(\"display\", \"none\");\n    this.closed = true;\n  }\n\n  maximizeWindow() {\n    this.x = this.origX;\n    this.y = this.origY;\n    this.offsetX = 0;\n    this.offsetY = 0;\n  }\n\n  resetWindow(div = this.div) {\n    this.x = this.origX;\n    this.y = this.origY;\n    this.locked = false;\n    this.closeWindow(div);\n    div.position(this.x, this.y);\n    div.style(\"display\", \"block\");\n    this.minimized = false;\n    this.minimizeWindow(this.content);\n    this.setSize(400);\n  }\n\n  toggleMinimze() {\n    this.minimized = !this.minimized;\n  }\n}\n","import Draggable from './Draggable/Draggable';\nimport { domCoordsToP5World, mouseToWorld } from '../../constants';\n\n\nexport default class Folder extends Draggable {\n\n    constructor(p5, id, x, y, label, link, img) {\n        super(id, x, y, 80, 80, p5, img);\n        let point = domCoordsToP5World(x, y);\n        this.x = point.x;\n        this.y = point.y;\n        this.label = label;\n        this.link = link;\n        this.img = img;\n        this.tw = 40;\n    }\n\n\n\n    display() {\n        this.p5.push();\n        this.p5.translate(this.x, this.y);\n        this.p5.image(this.img, 0, 0, this.w, this.h);\n        this.drawLabel();\n        this.p5.pop();\n    }\n\n    drawLabel() {\n\n        this.p5.push()\n\n        this.tw = this.p5.textWidth(this.label);\n        this.p5.translate(this.w / 2 - this.tw / 2, this.h + 16);\n\n        // back text\n        this.p5.stroke(0);\n        this.p5.strokeWeight(1);\n        this.p5.fill(0);\n        this.p5.text(this.label, 0, 0);\n\n        // white text\n        this.p5.noStroke();\n        this.p5.fill(255);\n        this.p5.text(this.label, 0, 0);\n\n        this.p5.pop();\n    }\n\n    checkDragging(userX, userY) {\n        let mouse = mouseToWorld({ x: userX, y: userY }, this.p5);\n        // console.log(mx, my, userX, userY, this.x, this.y);\n        if (this.checkOver(mouse.x, mouse.y)) {\n            // console.log(\"over toolbar\");\n            // this.draggingOn(mx, my);\n            this.dragging = true;\n            this.startDrag.x = this.p5.mouseX;\n            this.startDrag.y = this.p5.mouseY;\n            this.startDragCoords.x = this.x;\n            this.startDragCoords.y = this.y;\n            return true;\n        }\n        return false;\n    }\n\n    checkOver = (mx, my) => {\n        if (mx > this.x && mx < this.x + this.w && my > this.y && my < this.y + this.h)\n            return true;\n        // check label\n\n        let xLab = this.x + this.w / 2 - this.tw / 2;\n        if (mx > xLab && mx < xLab + this.tw && my > this.y + this.h + 14 && my < this.y + this.h + 14 * 2)\n            return true;\n        return false;\n    }\n\n    checkDoubleClicked = (userX, userY) => {\n        let mouse = mouseToWorld({ x: userX, y: userY }, this.p5);\n        // console.log(mx, my, userX, userY, this.x, this.y);\n        if (this.checkOver(mouse.x, mouse.y)) {\n            this.openInNewTab(this.link);\n        }\n    }\n\n    openInNewTab = (url) => {\n        var win = window.open(url, '_blank');\n        win.focus();\n    }\n}\n","import Draggable from './Draggable';\n\nexport default class ShadowDraggable extends Draggable {\n\n    constructor(id, x, y, w, h, p5, content, shadow) {\n        super(id, x, y, w, h, p5, content);\n        this.shadow = shadow;\n    }\n\n\n\n    displayContent(userX, userY) {\n        this.displayShadow();\n        super.displayContent(userX, userY);\n    }\n\n    displayShadow() {\n\n        var backW = this.w * 1.25;\n        var backH = this.h * 1.2;\n\n        var backY = 0;\n\n        this.p5.push();\n        this.p5.translate(0, this.barH);\n        this.p5.image(this.shadow, 0, backY, backW, backH);\n        this.p5.pop();\n    }\n\n}\n","import { globalConfig } from '../../constants';\n\n// takes 4 points\nexport function intersectionPoint(x1, y1, x2, y2, x3, y3, x4, y4) {\n  var ua, ub, denom = (y4 - y3) * (x2 - x1) - (x4 - x3) * (y2 - y1);\n  if (denom == 0) {\n    return null;\n  }\n  ua = ((x4 - x3) * (y1 - y3) - (y4 - y3) * (x1 - x3)) / denom;\n  ub = ((x2 - x1) * (y1 - y3) - (y2 - y1) * (x1 - x3)) / denom;\n  return {\n    x: x1 + ua * (x2 - x1),\n    y: y1 + ua * (y2 - y1),\n    seg1: ua >= 0 && ua <= 1,\n    seg2: ub >= 0 && ub <= 1\n  };\n}\n\nexport function doorCrossing(nextPos, door, config = { x: 0, y: 0, scaler: 1 }) {\n  if (!nextPos || !door) return null;\n  var door = { ...door };\n  door.x0 = (door.x0 + config.x) * config.scaler;\n  door.y0 = (door.y0 + config.y) * config.scaler;\n  door.x1 = (door.x1 + config.x) * config.scaler;\n  door.y1 = (door.y1 + config.y) * config.scaler;\n  // if (intersects(pos.x,pos.y,nextPos.x,nextPos.y,points[p].x,points[p].y,points[p+1].x,points[p+1].y)) {\n  if (intersects(nextPos.x, nextPos.y, door.x0, door.y0, door.x1, door.y1, globalConfig.stepS / 2)) {\n    return door.to;\n  }\n  return null;\n}\n\nexport function doorLineCrossing(pos, nextPos, door, config = { x: 0, y: 0, scaler: 1 }) {\n  if (!pos || !nextPos || !door) return null;\n  var door = { ...door };\n  door.x0 = (door.x0 + config.x) * config.scaler;\n  door.y0 = (door.y0 + config.y) * config.scaler;\n  door.x1 = (door.x1 + config.x) * config.scaler;\n  door.y1 = (door.y1 + config.y) * config.scaler;\n  \n  if (intersectsOG(pos.x, pos.y, nextPos.x, nextPos.y, door.x0, door.y0, door.x1, door.y1)) {\n    // if (intersects(nextPos.x,nextPos.y,door.x0,door.y0,door.x1,door.y1, globalConfig.stepS/2)) {\n    return door.to;\n  }\n  return null;\n}\n\nexport function boundaryCrossing(nextPos, boundary, config = { x: 0, y: 0, scaler: 1 }) {\n  if (!nextPos || !boundary) return false;\n  for (let p = 0; p < boundary.length - 1; p++) {\n    const point0 = { ...boundary[p] };\n    const point1 = { ...boundary[p + 1] };\n    point0.x = (point0.x + config.x) * config.scaler;\n    point0.y = (point0.y + config.y) * config.scaler;\n    point1.x = (point1.x + config.x) * config.scaler;\n    point1.y = (point1.y + config.y) * config.scaler;\n\n\n    // if (intersects(pos.x,pos.y,nextPos.x,nextPos.y,points[p].x,points[p].y,points[p+1].x,points[p+1].y)) {\n    if (intersects(nextPos.x, nextPos.y, point0.x, point0.y, point1.x, point1.y, globalConfig.stepS / 2)) {\n      // console.log(\"boundc\", nextPos.x, nextPos.y, point0.x, point0.y, point1.x, point1.y)\n      return true;\n    }\n  }\n\n  return false;\n}\n\nexport function boundaryLineCrossing(pos, nextPos, boundary, config = { x: 0, y: 0, scaler: 1 }) {\n  if (!pos || !nextPos || !boundary) return false;\n  for (let p = 0; p < boundary.length - 1; p++) {\n    const point0 = { ...boundary[p] };\n    const point1 = { ...boundary[p + 1] };\n    point0.x = (point0.x + config.x) * config.scaler;\n    point0.y = (point0.y + config.y) * config.scaler;\n    point1.x = (point1.x + config.x) * config.scaler;\n    point1.y = (point1.y + config.y) * config.scaler;\n    // if (title == \"wet-streams\") console.log(\"boundlinec\", pos.x, pos.y, nextPos.x, nextPos.y, point0, point1);\n    // console.log(point0.x, point0.y, point1.x, point1.y, nextPos.x, nextPos.y)\n\n    if (intersectsOG(pos.x, pos.y, nextPos.x, nextPos.y, point0.x, point0.y, point1.x, point1.y)) {\n      // if (title == \"wet-streams\") console.log(\"woo\", id, pos.x, pos.y, nextPos.x, nextPos.y, point0, point1);\n      // if (intersects(nextPos.x,nextPos.y,point0.x,point0.y,point1.x,point1.y, globalConfig.stepS/2)) {\n\n      return true;\n    }\n  }\n\n  return false;\n}\n\n//https://stackoverflow.com/questions/9043805/test-if-two-lines-intersect-javascript-function\n// returns true if the line from (a,b)->(c,d) intersects with (p,q)->(r,s)\n// function intersectsOG(a,b,c,d,p,q,r,s) {\n//   var det, gamma, lambda;\n//   det = (c - a) * (s - q) - (r - p) * (d - b);\n//   if (det === 0) {\n//     return false;\n//   } else {\n//     lambda = ((s - q) * (r - a) + (p - r) * (s - b)) / det;\n//     gamma = ((b - d) * (r - a) + (c - a) * (s - b)) / det;\n//     return (0 < lambda && lambda < 1) && (0 < gamma && gamma < 1);\n//   }\n// };\n\n//https://gist.github.com/lengstrom/8499382\nfunction intersectsOG(x1, y1, x2, y2, x3, y3, x4, y4) {\n\n  var a1, a2, b1, b2, c1, c2;\n  var r1, r2, r3, r4;\n  var denom, offset, num;\n\n  // Compute a1, b1, c1, where line joining points 1 and 2\n  // is \"a1 x + b1 y + c1 = 0\".\n  a1 = y2 - y1;\n  b1 = x1 - x2;\n  c1 = (x2 * y1) - (x1 * y2);\n\n  // Compute r3 and r4.\n  r3 = ((a1 * x3) + (b1 * y3) + c1);\n  r4 = ((a1 * x4) + (b1 * y4) + c1);\n\n  // Check signs of r3 and r4. If both point 3 and point 4 lie on\n  // same side of line 1, the line segments do not intersect.\n  if ((r3 !== 0) && (r4 !== 0) && sameSign(r3, r4)) {\n    return 0; //return that they do not intersect\n  }\n\n  // Compute a2, b2, c2\n  a2 = y4 - y3;\n  b2 = x3 - x4;\n  c2 = (x4 * y3) - (x3 * y4);\n\n  // Compute r1 and r2\n  r1 = (a2 * x1) + (b2 * y1) + c2;\n  r2 = (a2 * x2) + (b2 * y2) + c2;\n\n  // Check signs of r1 and r2. If both point 1 and point 2 lie\n  // on same side of second line segment, the line segments do\n  // not intersect.\n  if ((r1 !== 0) && (r2 !== 0) && (sameSign(r1, r2))) {\n    return 0; //return that they do not intersect\n  }\n\n  //Line segments intersect: compute intersection point.\n  denom = (a1 * b2) - (a2 * b1);\n\n  //collinear\n  if (denom === 0) {\n    const xBet = (x1 >= x3 && x1 <= x4 || x2 >= x3 && x2 <= x4 || x3 <= x1 && x3>=x2 );\n    const yBet = (y1 >= y3 && y1 <= y4 || y2 >= y3 && y2 <= y4 || y3 <= y1 && y3>=y2 );\n    if (xBet && yBet ) {\n      return 1;\n    }\n    // console.log(\"denom0, nope\")\n    return 0; \n  }\n\n  // lines_intersect\n  return 1; //lines intersect, return true\n}\n\nfunction sameSign(a, b) {\n  return Math.sign(a) == Math.sign(b);\n}\n\n// point p intersects with a line defined between two points, l0 and l1\nfunction intersects(px, py, l0x, l0y, l1x, l1y, w) {\n  return distToSegment({ x: px, y: py }, { x: l0x, y: l0y }, { x: l1x, y: l1y }) < w;\n}\n\nfunction sqr(x) { return x * x }\nfunction dist2(v, w) { return sqr(v.x - w.x) + sqr(v.y - w.y) }\nfunction distToSegmentSquared(p, v, w) {\n  var l2 = dist2(v, w);\n  if (l2 == 0) return dist2(p, v);\n  var t = ((p.x - v.x) * (w.x - v.x) + (p.y - v.y) * (w.y - v.y)) / l2;\n  t = Math.max(0, Math.min(1, t));\n  return dist2(p, {\n    x: v.x + t * (w.x - v.x),\n    y: v.y + t * (w.y - v.y)\n  });\n}\nfunction distToSegment(p, v, w) { return Math.sqrt(distToSegmentSquared(p, v, w)); }\n","import Draggable from './Draggable/Draggable';\nimport { doorLineCrossing } from './Boundaries';\nimport { domCoordsToP5World, outsideDoors, globalConfig } from '../../constants';\n\nexport default class Door extends Draggable {\n\n  constructor(p5, id, imgs) {\n    super(id, 0, 0, 0, 0, p5, null);\n    this.isFlipped = this.id === 1;\n\n    this.scaler = globalConfig.scaler/100;\n    if (this.isFlipped) {\n      this.w = 180;\n      this.h = 500;\n    }\n    else {\n      this.w = 500;\n      this.h = 180;\n    }\n    this.w *= this.scaler;\n    this.h *= this.scaler;\n    this.point = outsideDoors[id];\n    this.x = this.point.x0 * globalConfig.scaler;\n    this.y = this.point.y0 * globalConfig.scaler;\n\n    if (this.id === 2) {\n      this.x -= 150*this.scaler;\n      this.y -= this.h + 24;\n    }\n    else if (!this.isFlipped) {\n      this.x -= 180*this.scaler;\n      this.y -= this.h + 24;\n\n    }\n    else {\n      this.x -= 2;\n      this.y -= this.w + 34;\n    }\n    this.config = globalConfig;\n\n    this.imgs = imgs;\n\n    this.isOpen = true;\n    this.openAmt = 0;\n\n\n  }\n\n  checkOpen(user, users) {\n\n    // if (!this.isFlipped) {\n    let coord = domCoordsToP5World(user.x, user.y);\n    if (this.p5.dist(coord.x, coord.y, this.x + this.w / 2, this.y + this.h / 2) < 250) {\n      return true;\n    }\n    for (const usr of users) {\n      let coord = domCoordsToP5World(usr.x, usr.y);\n      if (this.p5.dist(coord.x, coord.y, this.x + this.w / 2, this.y + this.h / 2) < 250) {\n\n        return true;\n      }\n    }\n    return false;\n    // }\n  }\n\n  openDoor(user, users, isPanGallery) {\n    let maxOpen = 124*this.scaler;\n    if (isPanGallery) {\n      this.openAmt = maxOpen;\n    }\n    else {\n      this.isOpen = this.checkOpen(user, users);\n      let speed = 10;\n      if (this.isOpen) {\n        this.openAmt += speed;\n        if (this.openAmt > maxOpen)\n          this.openAmt = maxOpen;\n      }\n      else {\n        this.openAmt -= speed;\n        if (this.openAmt < 0)\n          this.openAmt = 0;\n      }\n    }\n    \n  }\n\n  display(userX, userY, isClosed, closedSign) {\n    this.p5.push();\n    this.p5.translate(this.x, this.y);\n    if (!this.closed) {\n      if (!this.minimized) this.displayContent(userX, userY, isClosed, closedSign);\n    }\n    this.p5.pop();\n  }\n\n  displayContent(userX, userY, isClosed, closedSign) {\n\n    let dAmt = this.openAmt;\n    if (isClosed)\n      dAmt = 0;\n    let w = this.w;\n    let h = this.h;\n    if (this.isFlipped) {\n      w = this.h;\n      h = this.w;\n    }\n\n    this.p5.push();\n    if (this.isFlipped) {\n      this.p5.rotate(Math.PI / 2);\n      this.p5.translate(26, -h);\n    }\n    else this.p5.translate(0, 26);\n    this.p5.image(this.imgs[0], 0, 0, w, h);\n    this.p5.image(this.imgs[1], -dAmt, 0, w, h);\n    this.p5.push();\n    this.p5.scale(-1, 1);\n    this.p5.image(this.imgs[1], -dAmt - w, 0, w, h);\n    this.p5.pop();\n\n    if (isClosed) {\n      let sW = closedSign.width*.4;\n      let sH =closedSign.height*.4;\n      this.p5.image(closedSign, (w-sW)/2, (h-sH)/2, sW, sH)\n    }\n    this.p5.pop();\n  }\n\n  displayLine(p5 = this.p5, scaler = this.config.scaler) {\n    p5.line(this.point.x0 * scaler, this.point.y0 * scaler, this.point.x1 * scaler, this.point.y1 * scaler);\n  }\n\n  doorCrossing(prevStop, userStep) {\n    return doorLineCrossing(prevStop, userStep, this.point, this.config);\n  }\n}\n","export default class ButtonSq {\n\n    constructor(x, y, r, p5) {\n        this.r = r;\n        this.x = x;\n        this.y = y;\n        this.p5 = p5;\n    }\n\n    display(isChecked, mx, my) {\n        this.p5.push();\n        this.p5.translate(this.x, this.y);\n        this.p5.noFill();\n\n        // if (this.mouseOver(mx, my)) {\n        //     this.p5.fill(255, 0, 0);\n        // }\n        // else \n        if (isChecked) {\n            this.p5.noStroke();\n            this.p5.fill('#026ef0');\n        }\n        else {\n            this.p5.stroke(0, 100);\n            this.p5.strokeWeight(1);\n            this.p5.fill(255);\n        }\n\n        this.p5.rect(0, 0, this.r, this.r, 2, 2);\n\n        // check\n        if (isChecked) {\n            this.p5.stroke(255);\n            this.p5.strokeWeight(2.5);\n            let x0 = 4.5;\n            let y0 = this.r - 6.5;\n            let x1 = x0 + 2;\n            let y1 = y0 + 2.5;\n            let x2 = x1 + 4.5;\n            let y2 = y1 - 7;\n            this.p5.line(x0, y0, x1, y1);\n            this.p5.line(x1, y1, x2, y2);\n        }\n        this.p5.pop();\n    }\n\n    mouseOver(mx, my) {\n        return (mx > this.x && mx < this.x + this.r && my > this.y && my < this.y + this.r)\n    }\n\n\n}\n\n","import Draggable from './Draggable/Draggable';\nimport { lightsOG, globalConfig, mouseToWorld } from '../../constants';\nimport ButtonSq from './Draggable/ButtonSq';\n\nexport default class Light extends Draggable {\n\n    constructor(p5, id, imgs) {\n        super(id, 0, 0, 80, 300, p5, null);\n\n        this.scaler = globalConfig.scaler / 100;\n\n        if (this.scaler < .84) \n            this.scaler = .84;\n        this.w *= this.scaler;\n        this.h *= this.scaler;\n\n        this.isFlipped = this.id !== 0;\n\n        const point = lightsOG[id];\n        this.x = point.x * globalConfig.scaler;\n        this.y = point.y * globalConfig.scaler;\n\n        this.imgs = imgs;\n\n        this.isOn = true;\n\n        let wb = 15;\n        this.button = new ButtonSq((this.w - wb) / 2, this.h - 15*this.scaler, wb, p5);\n    }\n\n    checkButtons(userX, userY) {\n        if (super.checkButtons(userX, userY))\n            return true;\n        else if (this.checkButton(userX, userY))\n            return true;\n        return false;\n    }\n\n    checkButton(userX, userY) {\n        let mouse = mouseToWorld({ x: userX, y: userY }, this.p5);\n        mouse.x -= this.x;\n        mouse.y -= this.y;\n        if (this.button.mouseOver(mouse.x, mouse.y)) {\n            this.toggleLights();\n            return true;\n        }\n        return false;\n    }\n\n    displayButton(userX, userY) {\n        let mouse = mouseToWorld({ x: userX, y: userY }, this.p5);\n        mouse.x -= this.x;\n        mouse.y -= this.y;\n        this.button.display(this.isOn, mouse.x, mouse.y);\n    }\n\n    toggleLights() {\n        this.isOn = !this.isOn;\n    }\n\n    displayContent(userX, userY) {\n        this.p5.push();\n\n\n        if (this.isOn) {\n            var img = this.imgs[0];\n            var imgBack = this.imgs[1];\n\n            var backW = imgBack.width * .8;\n            var backH = imgBack.height * 1.3;\n            var backY = 0;\n        }\n\n        else {\n            var img = this.imgs[2];\n            var imgBack = this.imgs[3];\n\n            var backW = imgBack.width * .8;\n            var backH = imgBack.height * 1.5;\n            var backY = -30;\n        }\n\n        backW *= this.scaler;\n        backH *= this.scaler;\n\n        let x = 10 * this.scaler;\n        let dy = 90 * this.scaler;\n        let w = 50 * this.scaler;\n        let h = 150 * this.scaler;\n\n\n\n        if (this.isFlipped) {\n            // shadow / glow\n            this.p5.push();\n            this.p5.translate(0, this.barH);\n            this.p5.image(imgBack, 0, backY, backW, backH);\n            this.p5.pop();\n\n            this.displaySolidBack(this.p5.color(255));\n            this.p5.translate(0, this.barH);\n\n            this.p5.push();\n            this.p5.translate(x, 0);\n            this.p5.scale(-1, 1);\n            this.p5.image(img, -w, 0, w, h);\n            this.p5.translate(0, dy);\n            this.p5.image(img, -w, 0, w, h);\n            this.p5.pop();\n        }\n        else {\n\n            // shadow / glow\n            this.p5.push();\n            this.p5.translate(0, this.barH);\n            this.p5.scale(-1, 1);\n            this.p5.image(imgBack, -backW + 20, backY, backW, backH);\n            this.p5.pop();\n\n            this.displaySolidBack(this.p5.color(255));\n            this.p5.translate(0, this.barH);\n\n            this.p5.push();\n            this.p5.translate(x, 0);\n            this.p5.image(img, 0, 0, w, h);\n            this.p5.translate(0, dy);\n            this.p5.image(img, 0, 0, w, h);\n            this.p5.pop();\n        }\n\n\n\n        this.p5.pop();\n        this.displayFrame();\n        this.displayButton(userX, userY);\n    }\n\n\n\n\n}\n","import Draggable from './Draggable/Draggable';\nimport { wineLocation, djLocation, domCoordsToP5World } from '../../constants';\n\nexport default class Bar extends Draggable {\n\n    constructor(id, shadow, p5) {\n        super(id, 0, 0, 0, 0, p5, null);\n\n        this.shadow = shadow;\n\n        // cheese, wine, cocktail\n        if (id < 3) {\n            var bar = wineLocation[id];\n            var point = domCoordsToP5World(bar.x, bar.y);\n            this.x = point.x;\n            this.y = point.y;\n            this.w = 86;\n            this.h = bar.h;\n            this.isFlipped = false; //bar.flipped;\n        }\n\n        else {\n            var bar = djLocation;\n            var point = domCoordsToP5World(bar.x, bar.y);\n\n            // var point = domCoordsToP5World(0, 0);\n            this.x = point.x;\n            this.y = point.y;\n            this.w = 210;\n            this.h = 52;\n            this.isFlipped = true;\n        }\n\n        if (id > 0 && id < 3)\n            this.h += 25;\n\n\n    }\n\n\n\n    displayContent(userX, userY) {\n        this.p5.push();\n\n\n        // shadow / glow\n        this.displayShadow();\n\n        this.displaySolidBack(this.p5.color(255));\n        this.p5.translate(0, this.barH);\n\n        this.p5.push();\n        // this.p5.scale(-1, 1);\n        this.p5.translate(5, 40);\n        this.displayBarContents();\n\n        this.p5.pop();\n\n\n        this.p5.pop();\n\n        this.displayFrame();\n    }\n\n    displayShadow() {\n\n        var backW = this.w * 1.25;\n        var backH = this.h * 1.2;\n        if (this.isFlipped) {\n            backW = this.w * 1.17;\n            backH = this.h * 1.25;\n        }\n        var backY = 0;\n\n        this.p5.push();\n        this.p5.translate(0, this.barH);\n        this.p5.image(this.shadow, 0, backY, backW, backH);\n        this.p5.pop();\n    }\n\n    displayBarContents() {\n        this.p5.textFont('times');\n        this.p5.textSize(34);\n        if (this.id === 0)\n            this.displayCheese();\n        else if (this.id === 1)\n            this.displayWine();\n        else if (this.id === 2)\n            this.displayCocktail();\n        else\n            this.displayDJ();\n    }\n\n    displayCheese() {\n        for (let i = 0; i < 6; i++) {\n            this.p5.text(\"🧀\", 0, i * 40);\n            this.p5.text(\"🥖\", 40, i * 40);\n        }\n\n    }\n\n    displayWine() {\n        for (let i = 0; i < 4; i++) {\n            this.p5.text(\"🍷\", 0, i * 40);\n            this.p5.text(\"🍷\", 40, i * 40);\n        }\n\n    }\n\n    displayCocktail() {\n        for (let i = 0; i < 4; i++) {\n            this.p5.text(\"🍸\", 0, i * 40);\n            this.p5.text(\"🍸\", 40, i * 40);\n        }\n\n    }\n\n\n    displayDJ() {\n        let emojis = \"🎛️🎛️🎚️🎚️🎤🔈\";\n        this.p5.text(emojis, 0, 0);\n    }\n\n}\n","import Draggable from './Draggable/Draggable';\n\nexport default class Tree extends Draggable {\n\n    constructor(id, x, y, w, h, p5, content) {\n        super(id, x, y, w, h, p5, content);\n    }\n\n\n    display(userX, userY, sz) {\n        this.p5.push();\n        this.p5.translate(this.x, this.y);\n        if (!this.closed) {\n          if (!this.minimized) this.displayContent(userX, userY, sz);\n        }\n        this.p5.pop();\n      }\n\n    displayContent(userX, userY, sz) {\n        // this.p5.fill(255);\n        this.p5.push();\n\n        this.p5.translate(0, this.barH);\n\n        let w = this.w*sz;\n        let h = this.h*sz;\n        this.p5.image(this.content, (this.w - w)/2, this.h - h, w, h);\n        this.p5.pop();\n        this.displayFrame();\n    }\n\n\n}\n","import Draggable from './Draggable/Draggable';\n// import ShadowDraggable from './Draggable/ShadowDraggable'\nimport { p5ToWorldCoords, globalConfig } from '../../constants';\nimport { rooms }  from '../../../Sketches';\n\nexport default class RoomLabel extends Draggable {\n\n    constructor(p5, id, eyeIcon) {\n        super(id, 0, 0, 160, 80, p5, null);\n        // super(id, 0, 0, 160, 80, p5, null, shadow);\n\n        this.eyeIcon = eyeIcon;\n        // this.heartIcon = heartIcon;\n\n        const room = rooms[id];\n        const point = p5ToWorldCoords(room.x, room.y);\n        this.x = point.x - this.w/2 + 5*globalConfig.scaler/2;\n        this.y = point.y- this.h/2+ 5*globalConfig.scaler/2;\n        this.title = room.title;\n        this.link = room.link;\n    }\n\n    display(dogica, roomCount) {\n        let rc = roomCount[this.link];\n        this.p5.push();\n        this.p5.translate(this.x, this.y);\n        if (!this.closed) {\n            if (!this.minimized) this.displayContent(dogica,rc);\n        }\n        this.p5.pop();\n    }\n\n    displayContent(dogica, count) {\n        this.p5.push();\n\n\n        // shadow / glow\n        // this.displayShadow();\n\n        this.displaySolidBack(this.p5.color(255, 50));\n        this.p5.translate(0, this.barH);\n        this.p5.push();\n\n        this.p5.textFont(dogica, 11);\n\n        this.p5.translate(15, 25);\n        this.displayLabel();\n\n        \n       \n\n        // if (this.title.length > 12) this.p5.translate(0, 35);\n        // else \n        this.p5.translate(0, 20);\n\n        // hr\n        // this.p5.stroke(0, 70);\n        // this.p5.strokeWeight(1);\n        // this.p5.line(0, -5, this.w - 40, -5);\n\n        // eye\n        this.displayEye(count);\n\n        this.p5.pop();\n        this.p5.pop();\n\n        this.displayFrame();\n    }\n\n\n\n    displayEye(rc) {\n        var count = 0;\n        if (rc)\n            count = rc;\n\n        this.p5.push();\n        // this.p5.translate(-w / 2, -h / 2);\n        this.p5.fill(255, 100);\n        this.p5.stroke(255);\n        this.p5.strokeWeight(2);\n        // this.p5.rect(0, 0, w, h, 10, 10);\n       \n        this.p5.image(this.eyeIcon, 0, 5, 20, 20);\n\n        /// eye count\n        this.p5.fill(0);\n        this.p5.noStroke();\n        this.p5.textSize(11);\n        this.p5.text(count, 25, 20);\n\n\n\n        this.p5.pop();\n    }\n\n    displayLabel() {\n     \n        // draw title\n        this.p5.fill(0);\n        this.p5.noStroke();\n        if (this.title === \"hard drives on seashores\") {\n            let br = this.title.substring(9, this.title.length).indexOf(\" \") + 9;\n            let t1 = this.title.substring(0, br);\n            let t2 = this.title.substring(br+1, this.title.length);\n            this.p5.text(t1, 0, 0);\n            this.p5.text(t2, 0, 17);\n        }\n        else if (this.title.length > 12) {\n            let br = this.title.indexOf(\" \");\n            let t1 = this.title.substring(0, br);\n            let t2 = this.title.substring(br+1, this.title.length);\n            this.p5.text(t1, 0, 0);\n            this.p5.text(t2, 0, 17);\n        }\n        else\n            this.p5.text(this.title, 0, 0);\n\n    }\n}\n","import Folder from './Folder';\nimport { domCoordsToP5World, mouseToWorld } from '../../constants';\nimport ShadowDraggable from './Draggable/ShadowDraggable'\n\nexport default class Trash extends Folder {\n\n    constructor(p5, id, x, y, label, img, folder) {\n        super(p5, id, x, y, label, \"\", img);\n\n        this.x = x;\n        this.y = y;\n\n        this.folder = folder;\n        this.folder.closeWindow();\n    }\n\n    drawLabel() {\n\n        this.p5.push()\n\n        this.tw = this.p5.textWidth(this.label);\n        this.p5.translate(this.w / 2 - this.tw / 2, this.h + 16);\n\n        // back text\n        this.p5.stroke(0);\n        this.p5.strokeWeight(2);\n        this.p5.fill(0);\n        this.p5.text(this.label, 0, 0);\n\n        // white text\n        this.p5.stroke(255);\n        this.p5.strokeWeight(1);\n        this.p5.fill(255);\n        this.p5.text(this.label, 0, 0);\n\n        this.p5.pop();\n    }\n\n    checkDoubleClicked = (userX, userY) => {\n        let mouse = mouseToWorld({ x: userX, y: userY }, this.p5);\n        // console.log(mx, my, userX, userY, this.x, this.y);\n        if (this.checkOver(mouse.x, mouse.y)) {\n            // alert(\"Don't dig through the trash. You're in a gallery. Geez.\")\n            this.folder.openWindow();\n        }\n    }\n\n}\n","import ShadowDraggable from './Draggable/ShadowDraggable';\nimport { mouseToWorld } from '../../constants';\n\nexport default class TrashFolder extends ShadowDraggable {\n\n    constructor(id, x, y, w, h, p5, content, shadow) {\n        super(id, x, y, w, h, p5, content, shadow);\n\n    }\n\n    displayContent(userX, userY) {\n        this.displayShadow();\n        this.displaySolidBack(this.p5.color(255));\n        this.p5.push();\n\n        this.p5.translate(0, this.barH);\n        this.p5.image(this.content, 0, 0, this.w, this.h);\n        this.displayLabels();\n        this.p5.pop();\n        this.displayFrame();\n    }\n\n    displayLabels() {\n        this.p5.fill(0);\n        this.p5.noStroke();\n        this.p5.push();\n        this.p5.translate(54, 38);\n        let dy = 40;\n        let labels = [\"2020.pdf\", \"120K.banana\", \"thirsty.txt\"]\n        if (this.id == 1)\n            labels = [\"getcrunk.exe\", \"oldnews.pdf\", \"rona.dmg\"]\n        else if (this.id == 0)\n            labels = [\"rona.dmg\", \"grad_pdfs\", \"dump\"]\n\n        let index = 0;\n        for (const lab of labels) {\n            this.p5.text(lab, 0, dy * index++);\n        }\n        this.p5.pop();\n    }\n\n    checkContentsClicked = (userX, userY) => {\n        if (this.closed) \n            return false;\n        let mouse = mouseToWorld({ x: userX, y: userY }, this.p5);\n        // console.log(mx, my, userX, userY, this.x, this.y);\n        if (this.checkBox(mouse.x, mouse.y)) {\n            alert(\"Don't dig through the trash. You're in a gallery. Geez.\");\n            return true;\n        }\n        return false;\n    }\n\n    checkBox = (mx, my) => {\n        return (mx > this.x && mx < this.x + this.w && my > this.y + this.barH && my < this.y + this.barH + this.h);\n    }\n\n}\n","export default class ButtonLab {\n\n    constructor(x, y, w, h, lab, p5) {\n        this.r = 8;\n        this.x = x;\n        this.y = y;\n        this.w = w;\n        this.h = h;\n        this.p5 = p5;\n        this.lab = lab;\n    }\n\n    display(mx, my) {\n        let xLab = this.x + this.w/2 - this.p5.textWidth(this.lab)/2;\n        let yLab = this.y+14;\n        if (this.mouseOver(mx, my)) {\n            this.p5.stroke(0);\n            this.p5.strokeWeight(2);\n            this.p5.fill(255);\n            this.p5.rect(this.x, this.y, this.w, this.h, this.r, this.r);\n           \n            this.p5.noStroke();\n            this.p5.fill(0);\n            this.p5.text(this.lab, xLab, yLab);\n        }\n        \n        else {\n            this.p5.stroke(0);\n            this.p5.strokeWeight(2);\n            this.p5.fill(0);\n            this.p5.rect(this.x, this.y, this.w, this.h, this.r, this.r);\n           \n            this.p5.noStroke();\n            this.p5.fill(255);\n            this.p5.text(this.lab, xLab, yLab);\n        }\n        \n\n    }\n\n    mouseOver(mx, my) {\n        return (mx > this.x && mx < this.x + this.w && my > this.y && my < this.y + this.h)\n    }\n\n\n}\n\n","import Draggable from './Draggable/Draggable';\nimport { mouseToWorld, p5ToWorldCoords } from '../../constants';\nimport ButtonLab from './Draggable/ButtonLab';\n\nexport default class Swing extends Draggable {\n\n    constructor(id, x, y, w, h, p5, baby, chain) {\n        super(id, x, y, w, h, p5, baby);\n\n        let pt = p5ToWorldCoords(x, y);\n        this.x = pt.x;\n        this.y = pt.y;\n\n        this.origin = p5.createVector(this.x + this.w / 2, this.y);\n        this.armLength = this.h - 46;\n        this.position = p5.createVector(0, 0);\n\n        this.angle = .2;\n        this.aAcceleration = 0;\n        this.aVelocity = 0;\n\n\n        this.button = new ButtonLab(this.w/2-25, this.h-4, 50, 20, \"push\", p5);\n        this.chain = chain;\n    }\n\n    displayContent(userX, userY) {\n        this.updateSwing();\n        this.p5.push();\n        // this.p5.translate(this.origin.x, this.origin.y);\n        this.p5.translate(this.w / 2, this.barH);\n\n\n        // this.p5.image(this.content, 0, 0, this.w, this.h);\n        // this.p5.push();\n        // this.p5.image(this.chain, 0, 0, this.w, this.h);\n        // this.p5.pop();\n\n        this.displaySimple();\n\n\n        this.p5.pop();\n        this.displayFrame();\n        this.displayButton(userX, userY);\n    }\n\n    displaySimple() {\n        this.p5.stroke(0, 0, 0);\n        this.p5.fill(175, 175, 175);\n        \n        this.p5.push();\n        this.p5.rotate(-this.angle);\n        this.displayChain();\n        \n        this.p5.image(this.content, -16,  this.armLength-23, 30, 30);\n        this.displaySeat();\n\n        this.p5.pop();\n    }\n\n    displayChain() {\n        this.p5.strokeWeight(2);\n        this.p5.stroke(0);\n        this.p5.line(0, 0, 0, this.armLength-20);\n    }\n\n    displaySeat() {\n        let seatW = 30;\n        let seatH = 20;\n        let de = 3;\n\n        // connector triangle\n        this.p5.strokeWeight(2);\n        this.p5.line(0, this.armLength-seatH, -seatW/2+de, this.armLength+8);\n        this.p5.line(0, this.armLength-seatH, seatW/2-de, this.armLength+8);\n\n        // seat\n        this.p5.strokeWeight(4);\n        this.p5.line(-seatW/2, this.armLength+8, seatW/2, this.armLength+8);\n    }\n\n    updateSwing() {\n        //https://www.khanacademy.org/computing/computer-programming/programming-natural-simulations/programming-oscillations/a/trig-and-forces-the-pendulum\n\n        // Arbitrary constant\n        var gravity = 0.06;\n        let damping = .95;\n        // Calculate acceleration\n        this.aAcceleration = -1 * gravity * Math.sin(this.angle);\n        // Increment velocity\n        this.aVelocity += this.aAcceleration;\n        this.aVelocity *= damping;\n        // Increment angle\n        this.angle += this.aVelocity;\n\n        this.position.x = this.armLength * Math.sin(this.angle);\n        this.position.y = this.armLength * Math.cos(this.angle);\n\n        // this.position.add(this.origin);\n    }\n\n    swingPushed() {\n        this.aVelocity -= .1;\n    }\n\n\n\n    checkButtons(userX, userY) {\n        if (super.checkButtons(userX, userY))\n            return true;\n        else if (this.checkButton(userX, userY))\n            return true;\n        return false;\n    }\n\n    checkButton(userX, userY) {\n        let mouse = mouseToWorld({ x: userX, y: userY }, this.p5);\n        mouse.x -= this.x;\n        mouse.y -= this.y;\n        if (this.button.mouseOver(mouse.x, mouse.y)) {\n\n            this.swingPushed();\n            return true;\n        }\n        return false;\n    }\n\n    displayButton(userX, userY) {\n        let mouse = mouseToWorld({ x: userX, y: userY }, this.p5);\n        mouse.x -= this.x;\n        mouse.y -= this.y;\n        this.button.display(mouse.x, mouse.y);\n    }\n\n}\n","export default class ButtonTog {\n\n    constructor(x, y, w, h, p5) {\n        this.x = x;\n        this.y = y;\n        this.w = w;\n        this.h = h;\n        this.p5 = p5;\n        this.r = this.h/2;\n    }\n\n    display(isChecked, mx, my) {\n        this.p5.push();\n        this.p5.translate(this.x, this.y);\n        this.p5.noFill();\n\n\n        if (isChecked) {\n            this.p5.strokeWeight(2);\n            this.p5.stroke(255);\n            this.p5.fill('#026ef0');\n            this.p5.rect(0, 0, this.w, this.h, this.r, this.r);\n\n\n            this.p5.fill(255);\n            this.p5.ellipse(this.w - this.r, this.h / 2, this.r * 2);\n\n        }\n        else {\n            this.p5.strokeWeight(2);\n            this.p5.stroke(255);\n\n            // if (this.mouseOver(mx, my))\n            //     this.p5.fill(100);\n            // else\n                this.p5.fill(0); \n\n            this.p5.rect(0, 0, this.w, this.h, this.r, this.r);\n\n\n            this.p5.fill(255);\n            this.p5.ellipse(this.r, this.h / 2, this.r * 2);\n        }\n\n        this.p5.pop();\n    }\n\n    mouseOver(mx, my) {\n        if (this.mouseOverEdge(mx, my, this.x + this.r, this.y + this.r, this.r))\n            return true;\n        if (this.mouseOverEdge(mx, my, this.x + this.w - this.r, this.y + this.r, this.r))\n            return true;\n        return (mx > this.x + this.r && mx < this.x + this.w - 2 * this.r && my > this.y && my < this.y + this.h);\n    }\n\n    mouseOverEdge(mx, my, x, y, r) {\n        let d = this.p5.dist(mx, my, x, y);\n        return d < r;\n    }\n\n}\n\n","import Draggable from './Draggable/Draggable';\nimport { mouseToWorld, p5ToWorldCoords } from '../../constants';\nimport ButtonTog from './Draggable/ButtonTog';\n\nexport default class Table extends Draggable {\n\n    constructor(id, x, y, w, h, p5, open, closed) {\n        super(id, x, y, w, h, p5, open);\n\n        let pt = p5ToWorldCoords(x, y);\n        this.x = pt.x;\n        this.y = pt.y;\n\n\n        this.button = new ButtonTog(this.w - 40, this.h , 30, 15, p5);\n        this.closedImg = closed;\n\n        this.isUmbrellaOpen = false;\n    }\n\n    displayContent(userX, userY) {\n        this.p5.push();\n        // this.p5.translate(this.origin.x, this.origin.y);\n        this.p5.translate(0, this.barH);\n\n        if (this.isUmbrellaOpen)\n            this.p5.image(this.content, 0, 0, this.w, this.h);\n        else\n            this.p5.image(this.closedImg, 0, 0, this.w, this.h);\n\n\n        this.p5.pop();\n        this.displayFrame();\n        this.displayButton(userX, userY);\n    }\n\n    checkButtons(userX, userY) {\n        if (super.checkButtons(userX, userY))\n            return true;\n        else if (this.checkButton(userX, userY))\n            return true;\n        return false;\n    }\n\n    checkButton(userX, userY) {\n        let mouse = mouseToWorld({ x: userX, y: userY }, this.p5);\n        mouse.x -= this.x;\n        mouse.y -= this.y;\n        if (this.button.mouseOver(mouse.x, mouse.y)) {\n            this.toggleButton();\n            return true;\n        }\n        return false;\n    }\n\n    displayButton(userX, userY) {\n        let mouse = mouseToWorld({ x: userX, y: userY }, this.p5);\n        mouse.x -= this.x;\n        mouse.y -= this.y;\n        this.button.display(this.isUmbrellaOpen, mouse.x, mouse.y);\n    }\n\n    toggleButton() {\n        this.isUmbrellaOpen = !this.isUmbrellaOpen;\n    }\n\n}\n","import Folder from '../components/Folder';\nimport Draggable from '../components/Draggable/Draggable';\nimport ShadowDraggable from '../components/Draggable/ShadowDraggable';\nimport Door from \"../components/Door\";\nimport Light from '../components/Light';\nimport Bar from '../components/Bar';\nimport Tree from '../components/Tree';\nimport RoomLabel from '../components/RoomLabel';\nimport Trash from '../components/Trash';\nimport TrashFolder from '../components/TrashFolder';\nimport Swing from '../components/Swing';\nimport Table from '../components/Table';\n\nimport { globalConfig } from '../../constants';\n\n\nexport const addRoomLabelDivs = (divs, eyeIcon, p5) => {\n    divs.roomLabels = [];\n    for (let i = 0; i < 13; i++) {\n        let roomL = new RoomLabel(p5, i, eyeIcon);\n        divs.roomLabels.push(roomL);\n    }\n}\n\nexport const displayRoomLabelDivs = (dogica, roomCount, userX, userY, divs) => {\n    for (const rl of divs.roomLabels) {\n        rl.display(dogica, roomCount);\n        rl.displayToolBar(userX, userY);\n    }\n}\n\nexport const addDoorDivs = (divs, doors, doorImgs, p5) => {\n    divs.doors = [];\n    let numDoors = 4;\n    for (let i = 0; i < numDoors; i++) {\n        let door = new Door(p5, i, doorImgs);\n        doors.push(door);\n        divs.doors.push(door);\n    }\n}\n\nexport const addLightDivs = (divs, lightImgs, p5) => {\n    divs.lights = [];\n    let numLights = 3;\n    for (let i = 0; i < numLights; i++) {\n        let light = new Light(p5, i, lightImgs);\n        // lights.push(light);\n        divs.lights.push(light);\n    }\n}\n\nexport const addColumnDivs = (divs, columnGif, shadow, p5) => {\n    divs.columns = [];\n    let sc = globalConfig.scaler;\n    let numCols = 4;\n    const dy = 140;\n    const dx = 140;\n    let gx = 16.5 * sc\n    let gy = 34.5 * sc\n    for (let i = 0; i < numCols; i++) {\n        let column = new ShadowDraggable(i, gx + dx * i, gy - dy * i, 80, 280, p5, columnGif, shadow)\n        // columns.push(column)\n        // column.initMask();\n        divs.columns.push(column)\n    }\n\n    let x = 1.5*sc;\n    let y = 22.5*sc;\n    divs.columns.push(new ShadowDraggable(numCols, x, y, 80, 280, p5, columnGif, shadow))\n    divs.columns.push(new ShadowDraggable(numCols+1, x + sc*2, y, 80, 280, p5, columnGif, shadow))\n\n    x = -3.5*sc;\n    y = 17.5*sc;\n    divs.columns.push(new ShadowDraggable(numCols+2, x, y, 80, 280, p5, columnGif, shadow))\n    divs.columns.push(new ShadowDraggable(numCols+3, x + sc*2, y, 80, 280, p5, columnGif, shadow))\n}\n\nexport const addTrashDivs = (divs, trashFiles, shadow, p5) => {\n    divs.trashCans = [];\n    divs.trashFolders = [];\n    let sc = globalConfig.scaler;\n    // let labels = [\n    //     { x0: 9 * sc, y0: 13 * sc, x1: 10.5*sc, y1: 13*sc },\n    //     { x0: 30 * sc, y0: 20.5 * sc, x1: sc*31.5, y1: 20.5 * sc},\n    //     { x0: -8.5 * sc, y0: 1.5 * sc, x1: -8.5*sc, y1: 3*sc }\n    // ];\n    let labels = [\n        { x0: 18 * sc, y0: 27.5 * sc },\n        { x0: 30 * sc, y0: 22.5 * sc },\n        { x0: -8 * sc, y0: 3 * sc }\n    ];\n\n    for (let i = 0; i < 3; i++) {\n        const { x0, y0 } = labels[i];\n        // p5, id, x, y, label, link, img\n        const tf = new TrashFolder(i , x0, y0, 422*.5, 265*.5, p5, trashFiles[i+1], shadow)\n        const t = new Trash(p5, i * 2, x0, y0, \"recycle bin\", trashFiles[0], tf);\n\n        // const r = new Trash(p5, i * 2 + 1, x1, y1, \"recycling\", trash);\n        // trashCans.push(t);\n        // trashCans.push(r);\n        divs.trashFolders.push(tf);\n        divs.trashCans.push(t);\n        // divs.trashCans.push(r);\n    }\n}\n\n\nexport const addFolderDivs = (divs, instaImg, txtFile, p5) => {\n    divs.folders = [];\n    let labels = [\n        { x: 560, y: 0, label: \"statement\", link: \"https://www.losingmydimension.com/statement\" },\n        { x: 620, y: 130, label: \"thesis\", link: \"https://lmd-bucket.s3.us-east-2.amazonaws.com/thesis.pdf\" },\n        { x: 510, y: 230, label: \"@jdeboi\", link: \"https://www.instagram.com/jdeboi/\" }\n    ];\n\n    for (let i = 0; i < 3; i++) {\n        const { x, y, label, link } = labels[i];\n\n        const folder = new Folder(p5, i, x, y, label, link, (i == 2 ? instaImg : txtFile));\n        // folders.push(folder)\n        divs.folders.push(folder);\n    }\n}\n\nexport const addOakDivs = (divs, oakImg, p5) => {\n    let sc = globalConfig.scaler;\n    divs.oaks = [];\n    for (let i = 0; i < 1; i++) {\n        let oak = new Draggable(i, sc * -7.5, sc * 34, 500, 400, p5, oakImg);\n        divs.oaks.push(oak);\n    }\n}\n\nexport const addSwingDivs = (divs, baby, chain, p5) => {\n    divs.swings = [];\n    divs.swings.push(new Swing(0, -4.1, 36.8, 100, 190, p5, baby, chain));\n}\n\nexport const addTableDivs = (divs, tableImgs, p5) => {\n    let sc = globalConfig.scaler;\n    divs.tables = [];\n    let tables = [\n        {x: -9, y: -2.25},\n        {x: -4, y: -2.25},\n        {x: -4, y: 2.75}\n    ];\n    for (let i = 0; i < 3; i++) {\n        let {x, y} = tables[i];\n        let table = new Table(i, x, y, sc*3, sc*3, p5, tableImgs[0], tableImgs[1]);\n        divs.tables.push(table);\n    }\n}\n\nexport const addBarDivs = (divs, lightImg, p5) => {\n    divs.bars = [];\n    for (let i = 0; i < 4; i++) {\n        divs.bars.push(new Bar(i, lightImg, p5));\n    }\n}\n\nexport const addTreeDivs = (divs, tree, p5) => {\n    // let inc = 10;\n    divs.trees = [];\n    let numTrees = 10;\n    let sc = globalConfig.scaler;\n    let w = sc * 5;\n    let h = w - 26;\n    for (let i = 0; i < numTrees; i++) {\n        // let x = p5.windowWidth/2+i*inc;\n        // let y = 60+i*inc;\n        let sp = 60;\n        let startX = 29 * sc;\n        let startY = 27 * sc;\n        let dir = -1;\n        let x = i * sp * dir + startX;\n        let y = i * sp + startY\n        if (i > numTrees / 2) {\n            x = sp * numTrees / 2 * dir + startX - (i - numTrees / 2) * sp * dir;\n        }\n        divs.trees.push(new Tree(i, x, y, w, h, p5, tree));\n    }\n\n    // let x = sc * -8;\n    let y = 30 * sc;\n    let sp = 60;\n    // divs.trees.push(new Draggable(numTrees + 1, -8.5 * sc, 32 * sc, w, h, p5, tree));\n    // divs.trees.push(new Draggable(numTrees, -9.5 * sc, 33 * sc, w, h, p5, tree));\n\n\n    \n    let x = sc * -5;\n    // divs.trees.push(new Draggable(numTrees + 2, sc * -.5, 35.5 * sc, w, h, p5, tree));\n    // divs.trees.push(new Draggable(numTrees + 3, sc * -1.5, 36.5 * sc, w, h, p5, tree));\n}\n\nexport const displayDoorDivs = (userX, userY, divs, isClosed, closedSign) => {\n\n    for (const door of divs.doors) {\n        door.display(userX, userY, isClosed, closedSign);\n        door.displayToolBar(userX, userY);\n    }\n    // for(let i = 0; i < 4; i++) {\n    //   divs[i].display(user.x, user.y);\n    //   divs[i].displayToolBar(user.x, user.y);\n    // }\n}\n\nexport const displayLightDivs = (userX, userY, divs) => {\n    for (const light of divs.lights) {\n        light.display(userX, userY);\n        light.displayToolBar(userX, userY);\n    }\n}\n\nexport const displayFolderDivs = (divs) => {\n    for (const folder of divs.folders) {\n        folder.display();\n    }\n}\n\nexport const displayTrashDivs = (userX, userY, divs) => {\n    for (const trash of divs.trashCans) {\n        trash.display();\n    }\n    for (const trashF of divs.trashFolders) {\n        trashF.display(userX, userY);\n        trashF.displayToolBar(userX, userY);\n    }\n}\n\nexport const displayColumnDivs = (userX, userY, divs) => {\n    for (const col of divs.columns) {\n        col.display(userX, userY);\n        col.displayToolBar(userX, userY);\n    }\n}\n\nexport const displayBarDivs = (userX, userY, divs) => {\n    for (const bar of divs.bars) {\n        bar.display(userX, userY);\n        bar.displayToolBar(userX, userY);\n    }\n}\n\nexport const displayOakDivs = (userX, userY, divs) => {\n    for (const oak of divs.oaks) {\n        oak.display(userX, userY);\n        oak.displayToolBar(userX, userY);\n    }\n}\n\nexport const displayTableDivs = (userX, userY, divs) => {\n    for (const table of divs.tables) {\n        table.display(userX, userY);\n        table.displayToolBar(userX, userY);\n    }\n}\n\nexport const displaySwingDivs = (userX, userY, divs) => {\n    for (const swing of divs.swings) {\n        swing.display(userX, userY);\n        swing.displayToolBar(userX, userY);\n    }\n}\n\nexport const displayTreeDivs = (userX, userY, sz, divs) => {\n    for (const tree of divs.trees) {\n        tree.display(userX, userY, sz);\n        tree.displayToolBar(userX, userY);\n    }\n}\n\n\n// export function displayDivs(userX, userY, divs) {\n//     let keys = Object.keys(divs);\n//     for (const key of keys) {\n//         if (key !== \"\") {\n//             for (const div of divs[key]) {\n//                 // div.display(userX, userY);\n//             }\n//         }\n//     }\n\n// }\n\nexport function endDivDrag(divs) {\n    let keys = Object.keys(divs);\n    for (const key of keys) {\n        for (const div of divs[key])\n            div.endDrag();\n    }\n}\n\nexport function updateDivs(userEase, users, doors, divs, isPanGallery=false) {\n\n    for (const door of divs.doors) {\n        door.openDoor(userEase, users, isPanGallery);\n    }\n\n    let keys = Object.keys(divs);\n    for (const key of keys) {\n\n        for (const div of divs[key])\n            div.update();\n\n\n    }\n\n}\n\n\nexport const checkDivPress = (userX, userY, divs) => {\n    let keys = Object.keys(divs);\n    for (const key of keys) {\n        if (key !== \"trashCans\") {\n            if (key === \"trashFolders\") {\n                for (const div of divs.trashFolders) {\n                    if (checkDiv(userX, userY, div))\n                        return true;\n                    else if (checkTrashDiv(userX, userY, div))\n                        return true;\n                }\n                for (const div of divs.trashCans) {\n                    if (checkDiv(userX, userY, div))\n                        return true;\n                }\n            }\n            else\n                for (const div of divs[key])\n                    if (checkDiv(userX, userY, div))\n                        return true;\n        }\n    }\n    return false;\n}\n\nconst checkTrashDiv = (userX, userY, div) => {\n    if (div.checkContentsClicked(userX, userY)) {\n        return true;\n    }\n    return false;\n}\n\nconst checkDiv = (userX, userY, div) => {\n    if (div.checkButtons(userX, userY)) {\n        return true;\n    }\n    else if (div.checkDragging(userX, userY)) {\n        return true;\n    }\n    return false;\n}\n\nexport const checkFolderDivsDouble = (userX, userY, divs) => {\n    for (const folder of divs.folders) {\n        folder.checkDoubleClicked(userX, userY);\n    }\n}\n\nexport const checkTrashDivsDouble = (userX, userY, divs) => {\n    for (const trash of divs.trashCans) {\n        trash.checkDoubleClicked(userX, userY);\n    }\n}","import React from \"react\";\nimport Sketch from \"react-p5\";\n\n//////////////\n// HELPERS\nimport { doorCrossing, roomDoorCrossing, roomDoorEntryCrossing, roomDoorBoundary, roomBoundary, wallBoundary } from './functions/crossing';\nimport { roundToMult2 } from './functions/round';\nimport { drawAllFloors } from './functions/floor';\nimport { drawWalls, drawRooms } from './functions/building';\nimport { displayDancers, updateDucks } from './functions/emojis';\nimport { reachedDestination, getNextStep, showMouseLoc, showUserEllipses, showDestination, mouseDidMove } from './functions/destination';\nimport { drawUser, drawUsers, checkUserClicked } from './functions/users';\nimport { drawPlantRow, drawGrassPatch } from './functions/garden';\nimport { addTableDivs, displayTableDivs, addSwingDivs, displaySwingDivs, displayOakDivs, displayTreeDivs, displayBarDivs, displayTrashDivs, checkTrashDivsDouble, addTrashDivs, displayRoomLabelDivs, addDoorDivs, addLightDivs, addColumnDivs, addTreeDivs, addBarDivs, addOakDivs, addFolderDivs, displayDoorDivs, displayLightDivs, displayColumnDivs, displayDivs, endDivDrag, updateDivs, checkDivPress, displayFolderDivs, checkFolderDivsDouble, addRoomLabelDivs } from './functions/divs';\nimport TreeSlider from './components/TreeSlider';\n\n//////////////\n// COMPONENTS\nimport Wall from \"./components/Wall\";\nimport Room from \"./components/Room\";\nimport Duck from './components/Duck';\nimport Dancer from './components/Dancer';\n// import MiniMap from \"./components/MiniMap\";\n\n\n//////////////\n// CONFIG\nimport { globalConfig } from \"../constants\";\nvar isClosed;\n\n//////////////\n// BUILDING \nvar walls = [];\nvar rooms = [];\nvar roomTextures = [];\nvar eyeIcon;\nvar doors = [];\nvar doorImgs = [];\nvar floorTex;\nvar lightImgs = [];\nvar tableImgs = [];\nvar trashFiles = [];\nvar columnGif;\nvar closedSign;\n\n//////////////\n// PLANTS \nvar flowerRow, ivory, tree, oakImg;\nvar treeSlider;\n\n//////////////\n// ICONS\nvar txtFile, instaImg;\n\n//////////////\n// EMOJIS\nvar ducks = [];\nvar duckImg;\nvar dancers = [];\nvar dancerImgs = [];\nvar baby;\n\n//////////////\n// FONT\nvar dogica;\n\n//////////////\n// DRAGGABLE DIVS\nvar divs = {};\n\n// var miniMap;\n\n//////////////\n// MOVEMENT\nvar isWalking = false;\nvar stepTo = { x: 0, y: 0 };\nvar userEase = { x: 0, y: 0 };\nvar destination = { x: null, y: null, time: null };\nvar lastMouseMove = 0;\n\n//////////////\n// PROPS\nvar user, roomCount, isMobile;\nvar users = []\n\n\nexport default (props) => {\n  user = props.user;\n  users = props.users;\n  isMobile = props.isMobile;\n  roomCount = props.roomCount;\n  isClosed = props.isClosed;\n\n  const preload = (p5) => {\n    const url = \"https://lmd-bucket.s3.us-east-2.amazonaws.com/sketches/gallery/\";\n\n    //////////////\n    // building textures\n    floorTex = p5.loadImage(url + \"concrete-512.jpg\");\n    doorImgs[0] = p5.loadImage(url + \"door/frame2.png\");\n    doorImgs[1] = p5.loadImage(url + \"door/leftdoor2.png\");\n    roomTextures[0] = p5.loadImage(url + \"rooms/bot.png\");\n    roomTextures[1] = p5.loadImage(url + \"rooms/right.png\");\n    roomTextures[2] = p5.loadImage(url + \"rooms/left.png\");\n    eyeIcon = p5.loadImage(url + \"eye.png\")\n    closedSign = p5.loadImage(url + \"closed.png\");\n\n    //////////////\n    // emojis\n    duckImg = p5.loadImage(url + \"duck.png\");\n    dancerImgs[0] = p5.loadImage(url + \"dancers/dancer0.png\");\n    dancerImgs[1] = p5.loadImage(url + \"dancers/dancer1.png\");\n    dancerImgs[2] = p5.loadImage(url + \"dancers/dancer2.png\");\n    baby = p5.loadImage(url + \"swing/baby.png\");\n\n    //////////////\n    // plants\n    tree = p5.loadImage(url + \"grass/tree.png\");\n    ivory = p5.loadImage(url + \"grass/ivory.png\");\n    flowerRow = p5.loadImage(url + \"grass/cac3.png\")\n    oakImg = p5.loadImage(url + \"grass/oak.png\");\n\n    //////////////\n    // folder icons\n    txtFile = p5.loadImage(\"https://lmd-bucket.s3.us-east-2.amazonaws.com/sketches/waveforms/txt.png\");\n    instaImg = p5.loadImage(url + \"instagram.png\");\n    trashFiles[0] = p5.loadImage(url + \"trash/fullrec.png\")\n    trashFiles[3] = p5.loadImage(url + \"trash/trash0.png\")\n    trashFiles[2] = p5.loadImage(url + \"trash/trash1.png\")\n    trashFiles[1] = p5.loadImage(url + \"trash/trash2.png\")\n\n    //////////////\n    // tables\n    tableImgs[0] = p5.loadImage(url + \"table/um_open.png\")\n    tableImgs[1] = p5.loadImage(url + \"table/um_closed.png\")\n\n    //////////////\n    // lights\n    lightImgs[0] = p5.loadImage(url + \"tracklights/tracklights_vert.jpg\");\n    lightImgs[1] = p5.loadImage(url + \"tracklights/light_shadow.png\");\n    lightImgs[2] = p5.loadImage(url + \"tracklights/tracklights_dark_vert.jpg\");\n    lightImgs[3] = p5.loadImage(url + \"tracklights/black_shadow.png\");\n\n    // columnGif = p5.loadImage(url + \"column.gif\");\n    columnGif = p5.loadGif(\"/assets/column.gif\"); //not sure why this one has a cors issue\n\n    // font\n    dogica = p5.loadFont(url + \"fonts/dogica.ttf\");\n\n  }\n\n  ////////////////////////////////////////////////////////////////////////\n  // INITIALIZE\n  ////////////////////////////////////////////////////////////////////////\n  const setup = (p5, canvasParentRef) => {\n    // use parent to render the canvas in this ref\n    // (without that p5 will render the canvas outside of your component)\n\n    initBuilding(p5);\n    initEmojis(p5);\n    initDivs(p5);\n    treeSlider = new TreeSlider(31, 40, 2);\n    // miniMap = new MiniMap(p5, 50, p5.windowHeight - 200 - 80, 200, 200);\n    stepTo = { x: user.x, y: user.y };\n\n\n    const cnv = p5.createCanvas(p5.windowWidth, p5.windowHeight);\n    cnv.parent(canvasParentRef);\n    cnv.mousePressed(() => triggerMove(props.setUserActive, p5));\n\n    p5.textFont(dogica, 14);\n    p5.frameRate(20);\n\n    props.loadingDone();\n  };\n\n  const initEmojis = (p5) => {\n    for (let i = 0; i < 8; i++) {\n      ducks.push(new Duck(p5, 300, 2200, duckImg));\n    }\n    dancers[0] = new Dancer(p5, dancerImgs[0], 10, 160, false);\n    dancers[1] = new Dancer(p5, dancerImgs[1], 200, 380, false);\n    dancers[2] = new Dancer(p5, dancerImgs[2], 300, 150, true);\n  }\n\n  const initBuilding = (p5) => {\n    for (let i = 0; i < 2; i++) {\n      walls.push(new Wall(p5, i, globalConfig));\n    }\n    for (let i = 0; i < 13; i++) {\n      rooms.push(new Room(p5, i));\n    }\n  }\n\n  const initDivs = (p5) => {\n    addOakDivs(divs, oakImg, p5);\n    addDoorDivs(divs, doors, doorImgs, p5);\n    addLightDivs(divs, lightImgs, p5);\n    addColumnDivs(divs, columnGif, lightImgs[3], p5);\n    addTreeDivs(divs, tree, p5);\n    addTableDivs(divs, tableImgs, p5);\n    addBarDivs(divs, lightImgs[3], p5);\n    addTrashDivs(divs, trashFiles, lightImgs[3], p5);\n    addFolderDivs(divs, instaImg, txtFile, p5);\n    addRoomLabelDivs(divs, eyeIcon, p5);\n    addSwingDivs(divs, baby, null, p5);\n  }\n\n  ////////////////////////////////////////////////////////////////////////\n  // DRAW\n  ////////////////////////////////////////////////////////////////////////\n  const draw = (p5) => {\n    p5.clear();\n\n    // NOTE: Do not use setState in the draw function or in functions that are executed\n    // in the draw function...\n    // please use normal variables or class properties for these purposes\n    p5.push();\n    p5.translate(p5.windowWidth / 2, p5.windowHeight / 2);\n\n    p5.push();\n    p5.translate(-userEase.x, -userEase.y);\n\n\n    p5.push();\n    p5.translate(globalConfig.x * globalConfig.scaler, globalConfig.y * globalConfig.scaler)\n\n    //////////////\n    // floors\n    drawAllFloors(floorTex, p5);\n\n    //////////////\n    // plants\n    drawGrassPatch(ivory, ivory, p5);\n    drawPlantRow(-5, 17, 1, 1, flowerRow, p5);\n    drawPlantRow(0, 22, 1, 1, flowerRow, p5);\n    drawPlantRow(5, 27, 1, 1, flowerRow, p5);\n    drawPlantRow(20, 21, 1, 1, flowerRow, p5);\n    drawPlantRow(27, 15, 1, 1, flowerRow, p5);\n\n    //////////////\n    // building\n    drawWalls(walls, p5);\n    drawRooms(rooms, roomTextures, eyeIcon, roomCount, p5);\n    if (!isClosed)\n      displayRoomLabelDivs(dogica, roomCount, userEase.x, userEase.y, divs);\n\n    //////////////\n    // emojis\n    displayDancers(dancers);\n    updateDucks(user.hasCheese, userEase.x, userEase.y, ducks);\n\n    //////////////\n    // draggable\n    displayOakDivs(userEase.x, userEase.y, divs);\n    displayTableDivs(userEase.x, userEase.y, divs);\n    p5.textFont(dogica, 10);\n    displaySwingDivs(userEase.x, userEase.y, divs);\n\n    // seeUserClicked(userEase, users, p5)\n\n    p5.pop();\n    p5.pop();\n    p5.pop();\n\n    //////////////\n    // step visualization\n    mouseStep();\n    showTarget(p5);\n\n    //////////////\n    // drawing\n    drawOverTarget(p5);\n    drawUser(user, p5);\n    drawOverUser(p5);\n\n    //////////////\n    // updating\n    if (users)\n      updateDivs(userEase, users, doors, divs);\n    treeSlider.update(p5);\n    updateUserEase(p5);\n\n  };\n\n\n  const drawOverTarget = (p5) => {\n    p5.push();\n    p5.translate(p5.windowWidth / 2, p5.windowHeight / 2);\n    p5.translate(-userEase.x, -userEase.y);\n    p5.translate(globalConfig.x * globalConfig.scaler, globalConfig.y * globalConfig.scaler)\n\n    if (users)\n      drawUsers(userEase, users, dogica, p5);\n\n    p5.pop();\n  }\n\n\n\n  const drawOverUser = (p5) => {\n    p5.push();\n    p5.translate(p5.windowWidth / 2, p5.windowHeight / 2);\n    p5.translate(-userEase.x, -userEase.y);\n    p5.translate(globalConfig.x * globalConfig.scaler, globalConfig.y * globalConfig.scaler);\n    displayDoorDivs(userEase.x, userEase.y, divs, isClosed, closedSign);\n    displayBarDivs(userEase.x, userEase.y, divs);\n    displayTreeDivs(userEase.x, userEase.y, treeSlider.getValue(p5), divs);\n    displayLightDivs(userEase.x, userEase.y, divs);\n    displayColumnDivs(userEase.x, userEase.y, divs);\n\n    p5.textFont(dogica, 12);\n    displayFolderDivs(divs);\n    displayTrashDivs(userEase.x, userEase.y, divs);\n\n    treeSlider.display(p5);\n\n    p5.pop();\n\n    if (p5.windowWidth !== window.innerWidth || p5.windowHeight !== window.innerHeight)\n      manualResize(p5);\n  }\n\n  ////////////////////////////////////////////////////////////////////////\n  // MOVEMENT\n  ////////////////////////////////////////////////////////////////////////\n  const showTarget = (p5) => {\n    showDestination(userEase, destination, isWalking, p5);\n    showUserEllipses(userEase, destination, isWalking, p5);\n\n    if (mouseDidMove(p5)) {\n      lastMouseMove = new Date();\n    }\n    showMouseLoc(isMobile, lastMouseMove, p5);\n  }\n\n  const userTakeStep = (x, y) => {\n    var t = new Date();\n    let space = globalConfig.stepS;\n    const prevStep = { x: stepTo.x, y: stepTo.y }\n    const userStep = { x: stepTo.x + x * space, y: stepTo.y + y * space };\n    const outsideDoor = doorCrossing(doors, prevStep, userStep);\n    const roomDoorEntry = roomDoorEntryCrossing(rooms, prevStep, userStep);\n    const roomDoor = roomDoorCrossing(rooms, prevStep, userStep);\n    const roomDoorB = roomDoorBoundary(rooms, prevStep, userStep);\n    // const poolB = poolBoundaryCrossing(userStep);\n    // check if entering a room door\n    // check if crossing into outside\n    // check crossed an inside boundary\n    // check if crossed a room boundary\n    // console.log(\"roomdoor\", roomDoor);\n    if (!isClosed && roomDoor) {\n      if (!isMobile) {\n        if (window.confirm('Leave the main gallery?')) {\n          props.userNewRoom(roomDoor);\n        }  \n      }\n      else {\n        props.userNewRoom(roomDoor);\n      }\n      isWalking = false;\n      // console.log(\"entering room\", roomDoor);\n    }\n    // else if (poolB) {\n    //   isWalking = false;\n    // }\n    else if (!isClosed && outsideDoor) {\n      // props.userMove(userStep.x, userStep.y);\n      stepTo = { x: userStep.x, y: userStep.y };\n      // console.log(\"outside door\")\n      props.toggleOutside();\n    }\n    else if (!isClosed && roomDoorEntry) {\n      // props.userMove(userStep.x, userStep.y);\n      stepTo = { x: userStep.x, y: userStep.y };\n      // console.log(\"enter/exit room\")\n    }\n    else if (!isClosed && roomBoundary(rooms, prevStep, userStep)) {\n      isWalking = false;\n      // console.log(\"room boundary\")\n    }\n    else if (!isClosed && roomDoorB) {\n      isWalking = false;\n      // console.log(\"room door boundary\")\n    }\n    else if (wallBoundary(walls, prevStep, userStep)) {\n      isWalking = false;\n      // console.log(\"wall boundary\")\n    }\n    else {\n      // props.userMove(userStep.x, userStep.y);\n      stepTo = { x: userStep.x, y: userStep.y };\n    }\n    // console.log(new Date() - t);\n  }\n\n  const updateUserEase = (p5) => {\n    if (!reachedDestination(userEase, stepTo)) {\n      let amt = .7;\n      userEase.x = userEase.x * amt + stepTo.x * (1 - amt);\n      userEase.y = userEase.y * amt + stepTo.y * (1 - amt);\n      let d = p5.dist(userEase.x, userEase.y, stepTo.x, stepTo.y);\n      if (d < 15) {\n        userEase.x = stepTo.x;\n        userEase.y = stepTo.y;\n        // isStepping = false;\n        props.userMove(userEase.x, userEase.y);\n      }\n\n    }\n  }\n\n  const triggerMove = (setUserActive, p5) => {\n    let userClicked = false;\n    if (users)\n      userClicked = checkUserClicked(userEase, users, p5);\n    if (userClicked) {\n      setUserActive(userClicked);\n      return;\n    }\n    else if (treeSlider.checkDragging(userEase.x, userEase.y, p5))\n      return;\n    else if (checkDivPress(userEase.x, user.y, divs))\n      return;\n\n    else {\n      const dx = p5.mouseX > p5.windowWidth / 2 ? 50 : -50;\n      const dy = p5.mouseY > p5.windowHeight / 2 ? 50 : -50;\n      const mx = roundToMult2((p5.mouseX - p5.windowWidth / 2) + dx, globalConfig.stepS);\n      const my = roundToMult2((p5.mouseY - p5.windowHeight / 2) + dy, globalConfig.stepS);\n      if (!(mx === 0 && my === 0)) {\n        const x = mx + user.x;\n        const y = my + user.y;\n        const time = new Date();\n        destination = { x, y, time };\n        isWalking = true;\n      }\n    }\n\n  }\n\n  const mouseStep = () => {\n    if (isWalking) {\n      if (reachedDestination(stepTo, destination)) {\n        isWalking = false;\n        // console.log(\"reached\");\n      }\n      else if (new Date() - destination.time > 150) {\n        let step = getNextStep(stepTo, destination);\n        userTakeStep(step[0], step[1]);\n        destination.time = new Date();\n      }\n    }\n  }\n\n  const keyPressed = (p5) => {\n    if (p5.keyCode === p5.UP_ARROW) {\n      userTakeStep(0, -1);\n    }\n    else if (p5.keyCode === p5.RIGHT_ARROW) {\n      userTakeStep(1, 0);\n    }\n    else if (p5.keyCode === p5.LEFT_ARROW) {\n      userTakeStep(-1, 0);\n    }\n    else if (p5.keyCode === p5.DOWN_ARROW) {\n      userTakeStep(0, 1);\n    }\n\n    // else if (p5.key == 'w') {\n    //   userTakeStep(0, -1);\n    // }\n    // else if (p5.key == 'd') {\n    //   userTakeStep(1, 0);\n    // }\n    // else if (p5.key == 'a') {\n    //   userTakeStep(-1, 0);\n    // }\n    // else if (p5.key == 's') {\n    //   userTakeStep(0, 1);\n    // }\n  }\n\n  const mouseReleased = (p5) => {\n    endDivDrag(divs);\n    if (treeSlider) treeSlider.endDrag();\n  }\n\n  const manualResize = (p5) => {\n    p5.windowWidth = window.innerWidth;\n    p5.windowHeight = window.innerHeight;\n    windowResized(p5);\n  }\n\n  const windowResized = (p5) => {\n    p5.resizeCanvas(p5.windowWidth, p5.windowHeight);\n  }\n\n  const doubleClicked = (p5) => {\n    // console.log(\"db\");\n    checkFolderDivsDouble(userEase.x, userEase.y, divs);\n    checkTrashDivsDouble(userEase.x, userEase.y, divs);\n  }\n\n  return <Sketch preload={preload} setup={setup} draw={draw} windowResized={windowResized} keyPressed={keyPressed} mouseReleased={mouseReleased} doubleClicked={doubleClicked} />;\n};\n","import { mouseToWorld, p5ToWorldCoords, globalConfig } from '../../constants';\n\nexport default class TreeSlider {\n\n    constructor(x, y, w) {\n        let sc = globalConfig.scaler;\n        let pt = p5ToWorldCoords(x, y);\n        this.x = pt.x;\n        this.y = pt.y;\n        this.w = w*sc;\n\n        this.sliderX = this.x + this.w;\n        this.r = 20;\n\n        this.dragging = false;\n        this.startDrag = {x: this.sliderX, y: this.y};\n        this.startDragCoords = {x: this.sliderX, y: this.y};\n    }\n\n    getValue(p5) {\n        return p5.constrain(p5.map(this.sliderX, this.x, this.x+ this.w, 0, 1), .01, 1); \n    }\n\n    display(p5) {\n        let sw = 5;\n       \n        // p5.push();\n        // p5.translate(this.x, this.y);\n\n        p5.strokeWeight(sw);\n        p5.stroke(255, 100);\n        p5.line(this.x, this.y, this.x+this.w, this.y);\n\n        p5.noStroke();\n        p5.fill(255);\n\n\n        p5.ellipse(this.sliderX, this.y, this.r);\n        // p5.pop();\n    }\n\n    checkDragging(userX, userY, p5) {\n\n        let mouse = mouseToWorld({ x: userX, y: userY }, p5);\n        // console.log(mx, my, userX, userY, this.x, this.y);\n        if (this.over(mouse.x, mouse.y, p5)) {\n            // console.log(\"over toolbar\");\n            // this.draggingOn(mx, my);\n            this.dragging = true;\n            this.startDrag.x = p5.mouseX;\n            // this.startDrag.y = p5.mouseY;\n            this.startDragCoords.x = this.sliderX;\n            // this.startDragCoords.y = this.y;\n            return true;\n        }\n        return false;\n    }\n\n    endDrag() {\n        this.dragging = false;\n    }\n\n    update(p5) {\n        if (this.dragging) {\n            this.offsetX = p5.mouseX - this.startDrag.x;\n            // this.offsetY = p5.mouseY - this.startDrag.y;\n\n            this.sliderX = this.startDragCoords.x + this.offsetX;\n            this.sliderX = p5.constrain( this.sliderX, this.x, this.x + this.w);\n           \n        }\n    }\n\n    over(mx, my, p5) {\n        let d = p5.dist(this.sliderX, this.y, mx, my);\n        return d < this.r/2;\n    }\n}","\nimport {boundaryLineCrossing, intersectionPoint} from './Boundaries';\nimport { limits } from '../../constants';\n\nexport default class Wall {\n\n  constructor (p5, i, config) {\n    const wallsInit = [\n      [\n        {x: 0, y: 0, dx: -1, dy: 0}, // inner gallery\n        {x: 20, y: 0, dx: 0, dy: -1},\n        {x: 20, y: 5, dx: 1, dy: 0},\n        {x: 32, y: 5, dx: 0, dy: -1},\n        {x:32, y: 15, dx: 1, dy: 0},\n        // {x:27, y: 10, dx: 0, dy: 1},\n        // {x: 27, y: 15, dx: 1, dy: 0},\n        {x: 20, y: 15, dx: 0, dy: 1},\n        {x: 20, y: 22, dx: 1, dy: 0},\n        {x: 25, y: 22, dx: 0, dy: -1},\n        {x: 25, y: 27, dx: 1, dy: 0},\n        // {x: 20, y: 27},\n        {x: 5, y: 27, dx: 0, dy: 1},\n        {x: 5, y: 22, dx: -1, dy: 0},\n        {x: 0, y: 22, dx: 0, dy: 1},\n        {x: 0, y: 17, dx: -1, dy: 0},\n        {x: -5, y: 17, dx: 0, dy: 1},\n        {x: -5, y: 12, dx: -1, dy: 1},\n        {x: 0, y: 12, dx: 0, dy: -1},\n        {x: 0, y: 0, dx: -1, dy: 0},\n        {x: 20, y: 0, dx: 0, dy: -1},\n      ]\n    ];\n\n    wallsInit.push(limits);\n    this.p5 = p5;\n    this.points = wallsInit[i];\n\n    const sWs = [5, 2, 5];\n    this.borderPoints = [\n      {sW: sWs[0], points:this.initBorderPoints(sWs[0]/2, config.scaler)},\n      {sW: sWs[1], points:this.initBorderPoints(sWs[1]/2, config.scaler)},\n      {sw: sWs[2], points:this.initBorderPoints(sWs[0]+sWs[1]+sWs[2]/2, config.scaler)},\n    ]\n\n    this.config = config;\n  }\n\n  displayShape(p5, floorTex, scaler=this.config.scaler) {\n    p5.beginShape();\n    for (let i = 0; i < this.points.length; i++) {\n      const uv = this.getWallUV(this.points[i]);\n      p5.vertex(this.points[i].x*scaler, this.points[i].y*scaler, 0, uv.u, uv.v);\n    }\n    p5.endShape();\n  }\n\n\n  getWallUV(point) {\n    const u = this.p5.map(point.x, -5, 30, 0, 6);\n    const v = this.p5.map(point.y, 0, 30, 0, 6);\n    return {u: u, v: v };\n  }\n\n  displayWall(p5, scaler=this.config.scaler) {\n    for (let i = 0; i < this.points.length-1; i++) {\n      p5.line(this.points[i].x*scaler, this.points[i].y*scaler, this.points[i+1].x*scaler, this.points[i+1].y*scaler);\n    }\n  }\n\n  initBorderPoints(borderW, scaler=this.config.scaler) {\n    borderW /= scaler;\n    // p5.stroke(0, 255, 0);\n    var borderPoints = [{x: this.points[0].x - borderW, y: this.points[0].y-borderW}];\n    for (let i = 0; i < this.points.length-2; i++) {\n      // const p0 = {x: this.points[i].x + this.points[i+1].dx*borderW, y: this.points[i].y + this.points[i+1].dy*borderW};\n\n      const p0 = borderPoints[i];\n      const p1 = {x: this.points[i+1].x + this.points[i+1].dx*borderW, y: this.points[i+1].y + this.points[i+1].dy*borderW};\n      const pNext0 = {x: this.points[i+1].x + this.points[i+2].dx*borderW, y: this.points[i+1].y + this.points[i+2].dy*borderW};\n      const pNext1 = {x: this.points[i+2].x + this.points[i+2].dx*borderW, y: this.points[i+2].y + this.points[i+2].dy*borderW};\n      const pIntersect = intersectionPoint(p0.x, p0.y, p1.x, p1.y, pNext0.x, pNext0.y, pNext1.x, pNext1.y);\n      borderPoints.push(pIntersect);\n    }\n    return borderPoints;\n  }\n\n  displayBorder(p5, i, scaler=this.config.scaler) {\n    p5.stroke(255);\n    p5.strokeWeight(this.borderPoints[1].sW);\n    this.displayOutline(p5, this.borderPoints[1].points, scaler);\n\n    // p5.stroke(255);\n    // p5.strokeWeight(this.borderPoints[0].sW);\n    // this.displayOutline(p5, this.borderPoints[0].points, scaler);\n    // this.displayOutline(p5, this.borderPoints[2].points, scaler);\n  }\n  \n\n  displayOutline(p5=this.p5, points=this.points, scaler=this.config.scaler) {\n    for (let i = 0; i < points.length-1; i++) {\n      p5.line(points[i].x*scaler, points[i].y*scaler, points[i+1].x*scaler, points[i+1].y*scaler);\n    }\n  }\n\n\n  wallBoundaryCrossing(prevStep, userStep) {\n    return boundaryLineCrossing(prevStep, userStep, this.points, this.config);\n  }\n}\n","import { roomConfig, globalConfig } from '../../constants';\nimport { doorCrossing, boundaryCrossing, doorLineCrossing, boundaryLineCrossing } from './Boundaries';\n\nimport { rooms }  from '../../../Sketches';\n\nexport default class Room {\n\n\n\n\n  constructor(p5, i) {\n    const room = rooms[i];\n\n    this.p5 = p5;\n    this.x = room.x;\n    this.y = room.y;\n    this.rot = room.rot;\n    this.dir = room.dir;\n    this.link = room.link;\n    this.title = room.title;\n\n    this.w = 5;\n    this.h = 5;\n    this.start = 0;\n    this.end = .2;\n  }\n\n\n  display(roomTextures, eyeIcon, roomCount) {\n\n    this.p5.push();\n\n    var x = (this.x + this.w / 2) * globalConfig.scaler;\n    var y = (this.y + this.h / 2) * globalConfig.scaler;\n    this.p5.translate(x, y);\n\n\n\n    this.p5.push();\n\n    x = -this.w / 2 * globalConfig.scaler;\n    y = -this.h / 2 * globalConfig.scaler;\n    var w = this.w * globalConfig.scaler;\n    var h = this.h * globalConfig.scaler;\n\n    if (roomTextures[0] && this.dir === \"bottom\") this.p5.image(roomTextures[0], x, y, w, h);\n    else if (roomTextures[1] && this.dir === \"right\") this.p5.image(roomTextures[1], x, y, w, h);\n    else if (roomTextures[2]) this.p5.image(roomTextures[2], x, y, w, h);\n\n   \n    // var count = 0;\n    // if (roomCount) count = roomCount[this.title];\n    // this.drawEye(eyeIcon, count);\n\n    // this.drawTitle();\n\n\n    this.p5.pop();\n\n    // p5.textSize(50);\n    // p5.fill(0, 255, 0);\n    // if (count) p5.text(count, 0, 0)\n\n\n    this.p5.pop();\n\n    // this.drawRoomDoorEntryCrossing();\n    // this.drawRoomDoorCrossing();\n    // this.drawRoomDoorBoundary();\n\n    // if (this.closeToDoor()) {\n    //   this.p5.noFill();\n    //   for (let i = 4 ; i > 0; i--) {\n    //     this.p5.strokeWeight(i*4);\n    //     this.p5.stroke(255, this.p5.map(i, 4, 1, 10, 140));\n    //     this.displayOutline();\n    //   }\n    // }\n\n  }\n\n  drawTitle() {\n    // var w = this.w * globalConfig.scaler;\n    // var h = this.h * globalConfig.scaler;\n\n    // this.p5.push();\n    // this.p5.translate(-w / 2, -h / 2 - 30);\n   \n    // this.p5.pop();\n  }\n\n  drawEye(eyeIcon, rc) {\n    var count = 0;\n    if (rc) count = rc;\n    if (eyeIcon) {\n      const w = (this.p5.textWidth(count) + 50);\n      const h = 30;\n      this.p5.push();\n      // this.p5.translate(-w / 2, -h / 2);\n      this.p5.fill(255, 100);\n      this.p5.stroke(255);\n      this.p5.strokeWeight(2);\n      // this.p5.rect(0, 0, w, h, 10, 10);\n      let rw = 200;\n      // this.p5.rect(-rw/2, 0, rw, 50, 10, 10);\n\n      this.p5.image(eyeIcon, 10, 5, 20, 20);\n\n      this.p5.fill(0);\n      this.p5.noStroke();\n      this.p5.textSize(14);\n      this.p5.text(count, 35, 20);\n\n       // draw title\n      this.p5.fill(0);\n      this.p5.noStroke();\n      \n      if (this.title === \"hard drives on seashores\") {\n        let br = this.title.substring(9, this.title.length).indexOf(\" \") + 9;\n        let t1 = this.title.substring(0, br);\n        let t2 = this.title.substring(br, this.title.length);\n        this.p5.text(t1, -this.p5.textWidth(t1) / 2, 0);\n        this.p5.text(t2, -this.p5.textWidth(t2) / 2, 17);\n      }\n      else if (this.title.length > 12) {\n        let br = this.title.indexOf(\" \");\n        let t1 = this.title.substring(0, br);\n        let t2 = this.title.substring(br, this.title.length);\n        this.p5.text(t1, -this.p5.textWidth(t1) / 2, 0);\n        this.p5.text(t2, -this.p5.textWidth(t2) / 2, 17);\n      } \n      else \n        this.p5.text(this.title, -this.p5.textWidth(this.title) / 2, 0);\n      this.p5.pop();\n     \n      \n    }\n  }\n\n  displayOutline(p5 = this.p5, scaler = globalConfig.scaler) {\n    var w = this.w * scaler;\n    var h = this.h * scaler;\n    // if (rooms[i].id === \"B\") h = 7*scaler;\n    p5.push();\n    p5.translate(this.x * scaler, this.y * scaler);\n    p5.rect(0, 0, w, h);\n\n    // label\n    // p5.strokeWeight(1);\n    // p5.fill(255, 0, 255);\n    // p5.text(rooms[i].id, 10, 0)\n    p5.pop();\n  }\n\n  /////////////////////////////////////////////////////\n  // time to go to a new room; this is 90deg from entrance\n  drawRoomDoorCrossing(p5 = this.p5) {\n    var x0, x1, y0, y1;\n    let sc = globalConfig.scaler;\n    if (this.dir === \"bottom\") {\n      x0 = this.x + 1;\n      x1 = this.x + 1;\n      y0 = this.y + this.h;\n      y1 = this.y + this.h - this.h * this.end;\n    }\n    else if (this.dir === \"left\") {\n      y0 = this.y + 1;\n      y1 = this.y + 1\n      x0 = this.x;\n      x1 = this.x + 1;\n    }\n    else if (this.dir === \"right\") {\n      y0 = this.y + this.h - 1;\n      y1 = this.y + this.h - 1;\n      x0 = this.x + this.w - 1;\n      x1 = this.x + this.w;\n    }\n    p5.stroke(255, 0, 0);\n    p5.strokeWeight(10);\n\n    p5.line(x0 * sc, y0 * sc, x1 * sc, y1 * sc);\n  }\n\n\n\n  roomDoorCrossing(prevStep, userStep, id = 0) {\n    var x0, x1, y0, y1;\n    let sc = globalConfig.scaler;\n    if (this.dir === \"bottom\") {\n      x0 = this.x + 1;\n      x1 = this.x + 1;\n      y0 = this.y + this.h;\n      y1 = this.y + this.h - this.h * this.end;\n    }\n    else if (this.dir === \"left\") {\n      y0 = this.y + 1;\n      y1 = this.y + 1\n      x0 = this.x;\n      x1 = this.x + 1;\n    }\n    else if (this.dir === \"right\") {\n      y0 = this.y + this.h - 1;\n      y1 = this.y + this.h - 1;\n      x0 = this.x + this.w - 1;\n      x1 = this.x + this.w;\n    }\n    const doorC = { x0: x0, y0: y0, x1: x1, y1: y1, to: this.link };\n    // return doorCrossing(userStep, doorC, globalConfig);\n    return doorLineCrossing(prevStep, userStep, doorC, globalConfig);\n  }\n\n  /////////////////////////////////////////////////////\n  // stop our forward progress\n  // step from door entrance\n  roomDoorBoundary(prevStep, userStep) {\n    var x0, x1, y0, y1;\n    let st = globalConfig.stepS;\n    let sc = globalConfig.scaler;\n    if (this.dir === \"bottom\") {\n      x0 = this.x + this.w * this.start;\n      x1 = this.x + this.w * this.end;\n      y0 = this.y + this.h - 1;\n      y1 = this.y + this.h - 1;\n    }\n    else if (this.dir === \"left\") {\n      y0 = this.y;\n      y1 = this.y + 1\n      x0 = this.x + 1;\n      x1 = this.x + 1;\n    }\n    else if (this.dir === \"right\") {\n      y0 = this.y + this.h;\n      y1 = this.y + this.h - this.h * this.end;\n      x0 = this.x + this.w - 1;\n      x1 = this.x + this.w - 1;\n    }\n    const doorC = { x0: x0, y0: y0, x1: x1, y1: y1, to: this.title };\n    // return doorCrossing(userStep, doorC, globalConfig);\n    return doorLineCrossing(prevStep, userStep, doorC, globalConfig);\n  }\n\n  drawRoomDoorBoundary(p5 = this.p5) {\n    var x0, x1, y0, y1;\n    let st = globalConfig.stepS;\n    let sc = globalConfig.scaler;\n    if (this.dir === \"bottom\") {\n      x0 = this.x + this.w * this.start;\n      x1 = this.x + this.w * this.end;\n      y0 = this.y + this.h - 1;\n      y1 = this.y + this.h - 1;\n    }\n    else if (this.dir === \"left\") {\n      y0 = this.y;\n      y1 = this.y + 1\n      x0 = this.x + 1;\n      x1 = this.x + 1;\n    }\n    else if (this.dir === \"right\") {\n      y0 = this.y + this.h;\n      y1 = this.y + this.h - this.h * this.end;\n      x0 = this.x + this.w - 1;\n      x1 = this.x + this.w - 1;\n    }\n    const doorC = { x0: x0, y0: y0, x1: x1, y1: y1, to: this.title };\n    p5.stroke(255, 0, 255);\n    p5.strokeWeight(10);\n    p5.line(x0 * sc, y0 * sc, x1 * sc, y1 * sc);\n  }\n\n  /////////////////////////////////////////////////////\n  // we have entered the room, but not yet loading new room\n  roomDoorEntryCrossing(prevStep, userStep) {\n    var x0, x1, y0, y1;\n    if (this.dir === \"bottom\") {\n      x0 = Math.floor(this.x + this.w * this.start);\n      x1 = Math.floor(this.x + this.w * this.end);\n      y0 = Math.floor(this.y + this.h);\n      y1 = Math.floor(this.y + this.h);\n    }\n    else if (this.dir === \"left\") {\n      y0 = this.y + this.h * this.start;\n      y1 = this.y + this.h * this.end;\n      x0 = this.x;\n      x1 = this.x;\n    }\n    else if (this.dir === \"right\") {\n      y0 = this.y + this.h;\n      y1 = this.y + this.h - this.h * this.end;\n      x0 = this.x + this.w;\n      x1 = this.x + this.w;\n    }\n    const doorC = { x0: x0, y0: y0, x1: x1, y1: y1, to: this.title };\n    // return doorCrossing(userStep, doorC, globalConfig);\n    return doorLineCrossing(prevStep, userStep, doorC, globalConfig);\n  }\n\n  drawRoomDoorEntryCrossing(p5 = this.p5) {\n    var x0, x1, y0, y1;\n    if (this.dir === \"bottom\") {\n      x0 = this.x + this.w * this.start;\n      x1 = this.x + this.w * this.end;\n      y0 = this.y + this.h;\n      y1 = this.y + this.h;\n    }\n    else if (this.dir === \"left\") {\n      y0 = this.y + this.h * this.start;\n      y1 = this.y + this.h * this.end;\n      x0 = this.x;\n      x1 = this.x;\n    }\n    else if (this.dir === \"right\") {\n      y0 = this.y + this.h;\n      y1 = this.y + this.h - this.h * this.end;\n      x0 = this.x + this.w;\n      x1 = this.x + this.w;\n    }\n    p5.stroke(0, 255, 0);\n    p5.strokeWeight(10);\n    let sc = globalConfig.scaler;\n    p5.line(x0 * sc, y0 * sc, x1 * sc, y1 * sc);\n  }\n\n  roomBoundaryCrossing(prevStep, userStep) {\n    const roomWalls = [\n      { x: (this.x), y: this.y },\n      { x: (this.x + this.w), y: this.y },\n      { x: (this.x + this.w), y: (this.y + this.h) },\n      { x: (this.x), y: (this.y + this.h) },\n      { x: (this.x), y: this.y }\n    ];\n    return boundaryLineCrossing(prevStep, userStep, roomWalls, globalConfig);\n    // return boundaryCrossing(userStep, roomWalls, globalConfig);\n  }\n}\n","\nimport { globalConfig, limits, domCoordsToP5World } from \"../../constants\";\n\n//  thanks to Daniel Shiffman for seek/separate code\n\nexport default class Duck {\n    // The Nature of Code\n    // Daniel Shiffman\n    // http://natureofcode.com\n\n    constructor(p5, x, y, duck) {\n        this.position = p5.createVector(x, y);\n        this.velocity = p5.createVector(0, 0);\n        this.acceleration = p5.createVector(0, 0);\n        this.r = 52;\n        this.maxforce = 2;\n        this.maxspeed = 10;\n        this.p5 = p5;\n        this.duck = duck;\n        this.isFlipped = false;\n    }\n\n\n    applyForce(force) {\n        // We could add mass here if we want A = F / M\n        this.acceleration.add(force);\n    }\n\n    applyBehaviors(hasBread, userX, userY, vehicles) {\n        if (hasBread) {\n            let userWorld = domCoordsToP5World(userX, userY);\n            var separateForce = this.separate(vehicles);\n            var seekForce = this.seek(this.p5.createVector(userWorld.x, userWorld.y));\n            separateForce.mult(2);\n            seekForce.mult(1);\n\n            var mx = userWorld.x;\n        }\n        else {\n            const startX = globalConfig.scaler* (limits[0].x + 10);\n            const startY = globalConfig.scaler*(limits[2].y - 10);\n            var mx = startX + 500*Math.sin(this.p5.millis()/22000) \n            var my = startY + 300*Math.sin(this.p5.millis()/24000) \n            var separateForce = this.separate(vehicles);\n            var seekForce = this.seek(this.p5.createVector(mx, my));\n            separateForce.mult(2);\n            seekForce.mult(.2);\n        }\n\n        this.applyForce(separateForce);\n        this.applyForce(seekForce);\n\n        this.setFlip(mx);\n    }\n\n    setFlip(mx) {\n        if (mx > this.position.x) {\n            this.isFlipped = true;\n        }\n        else\n            this.isFlipped = false;\n    }\n\n    // A method that calculates a steering force towards a target\n    // STEER = DESIRED MINUS VELOCITY\n    seek(target) {\n        var desired = this.subtractVec(target, this.position);  // A vector pointing from the position to the target\n\n        // Normalize desired and scale to maximum speed\n        desired.normalize();\n        desired.mult(this.maxspeed);\n        // Steering = Desired minus velocity\n        var steer = this.subtractVec(desired, this.velocity);\n        steer.limit(this.maxforce);  // Limit to maximum steering force\n\n        return steer;\n    }\n\n    subtractVec(b, a) {\n        var c = this.p5.createVector(b.x - a.x, b.y - a.y, b.z - a.z);\n        return c;\n    }\n\n    dist(a, b) {\n        let dx = b.x - a.x;\n        let dy = b.y - a.y;\n        let dz = b.z - a.z;\n        return Math.sqrt(dx * dx + dy * dy + dz * dz);\n    }\n\n    // Separation\n    // Method checks for nearby vehicles and steers away\n    separate(vehicles) {\n        var desiredseparation = this.r * 2;\n        var sum = this.p5.createVector(0)\n        var count = 0;\n        // For every boid in the system, check if it's too close\n\n        for (const other of vehicles) {\n            var d = this.dist(this.position, other.position);\n            // If the distance is greater than 0 and less than an arbitrary amount (0 when you are yourself)\n            if ((d > 0) && (d < desiredseparation)) {\n                // Calculate vector pointing away from neighbor\n                var diff = this.subtractVec(this.position, other.position);\n                diff.normalize();\n                diff.div(d);        // Weight by distance\n                sum.add(diff);\n                count++;            // Keep track of how many\n            }\n        }\n        // Average -- divide by how many\n        if (count > 0) {\n            sum.div(count);\n            // Our desired vector is the average scaled to maximum speed\n            sum.normalize();\n            sum.mult(this.maxspeed);\n            // Implement Reynolds: Steering = Desired - Velocity\n            sum.sub(this.velocity);\n            sum.limit(this.maxforce);\n        }\n        return sum;\n    }\n\n\n    // Method to update position\n    update() {\n        // Update velocity\n        this.velocity.add(this.acceleration);\n        // Limit speed\n        this.velocity.limit(this.maxspeed);\n        this.position.add(this.velocity);\n        // Reset accelertion to 0 each cycle\n        this.acceleration.mult(0);\n\n        this.checkBoundaries();\n    }\n\n    checkBoundaries() {\n        let sc = globalConfig.stepS\n        let minX = limits[0].x * sc;\n        let maxY = limits[2].y * sc;\n\n        if (this.position.x < minX + 150) {\n            this.position.x = minX + 150;\n        }\n        if (this.position.y > maxY - 150) {\n            this.position.y = maxY - 150;\n        }\n        // set x of stairs\n        if (this.position.y > maxY - 15 * sc) {\n            if (this.position.x > 20 * sc + minX) {\n                this.position.x = 20 * sc + minX;\n            }\n        }\n        else if (this.position.y > maxY - 20 * sc) {\n            if (this.position.x > 15 * sc + minX) {\n                this.position.x = 15 * sc + minX;\n            }\n        }\n        else if (this.position.y > maxY - 25 * sc) {\n            if (this.position.x > 10 * sc + minX) {\n                this.position.x = 10 * sc + minX;\n            }\n        }\n        else if (this.position.y > maxY - 30 * sc) {\n            if (this.position.x > 5 * sc + minX) {\n                this.position.x = 5 * sc + minX;\n            }\n        }\n        else {\n            if (this.position.x > 10 * sc + minX) {\n                this.position.x = 10 * sc + minX;\n            }\n        }\n    }\n\n    display() {\n        this.p5.fill(175);\n        this.p5.stroke(0);\n        this.p5.push();\n        this.p5.translate(this.position.x, this.position.y);\n        // this.p5.ellipse(0, 0, this.r, this.r);\n        if (this.isFlipped) {\n            this.p5.scale(-1, 1);\n            this.p5.image(this.duck, -this.r, 0, this.r, this.r);\n        }\n        else\n            this.p5.image(this.duck, 0, 0, this.r, this.r);\n        this.p5.pop();\n    }\n\n}","import { danceFloor } from '../../constants';\n\nclass Dancer {\n\n    constructor(p5, img, x, y, isFlipped) {\n        this.x = x;\n        this.y = y;\n        this.p5 = p5;\n        this.isFlipped = isFlipped;\n        this.img = img;\n        this.lastStep = 0;\n    }\n\n\n\n    update = () => {\n        if (this.p5.millis() - this.lastStep > 300 ) {\n            this.x += (Math.random() * 2 - 1) * 50;\n            this.y += (Math.random() * 2 - 1) * 50;\n            \n            var minX = 0;\n            var maxX = 660;\n            var minY = 0;\n            var maxY = 300;\n            if (this.x < minX) {\n                this.x = minX;\n            }\n                \n            else if (this.x > maxX)\n                this.x = maxX;\n            if (this.y < minY)\n                this.y = minY;\n            else if (this.y > maxY)\n                this.y = maxY;\n\n            this.lastStep = this.p5.millis();\n        }\n       \n    }\n\n    display() {\n        this.update();\n        this.p5.push();\n        this.p5.translate(danceFloor.x, danceFloor.y);\n        this.p5.translate(this.x, this.y);\n        this.p5.textSize(40);\n        if (this.isFlipped) {\n            this.p5.scale(-1, 1);\n            this.p5.image(this.img, -40, 0, 40, 40);\n        }\n        else\n            this.p5.image(this.img, 0, 0, 40, 40);\n        this.p5.pop();\n    }\n\n}\n\nexport default Dancer;\n","\n \n export const doorCrossing = (doors, prevStop, userStep) => {\n    for (const door of doors) {\n      const cross = door.doorCrossing(prevStop, userStep);\n      if (cross) return cross;\n    }\n    return null;\n  }\n\n\n  export const roomDoorCrossing = (rooms, prevStep, userStep) => {\n    for (const room of rooms) {\n      const cross = room.roomDoorCrossing(prevStep, userStep, 1);\n      if (cross) return cross;\n    }\n    return null;\n  }\n\n  export const roomDoorEntryCrossing = (rooms, prevStep, userStep) => {\n    for (const room of rooms) {\n      const cross = room.roomDoorEntryCrossing(prevStep, userStep);\n      if (cross) return cross;\n    }\n    return null;\n  }\n\n  export const roomDoorBoundary = (rooms, prevStep, userStep) => {\n    for (const room of rooms) {\n      const cross = room.roomDoorBoundary(prevStep, userStep);\n      if (cross) return cross;\n    }\n    return null;\n  }\n\n  export const roomBoundary = (rooms, prevStep, userStep) => {\n\n    for (const room of rooms) {\n      var cross = room.roomBoundaryCrossing(prevStep, userStep);\n      if (cross) return true;\n    }\n    return false;\n  }\n\n  export const wallBoundary = (walls, prevStep, userStep) => {\n    for (const wall of walls) {\n      var cross = wall.wallBoundaryCrossing(prevStep, userStep);\n      if (cross) return true;\n    }\n    return false;\n  }","import React from 'react';\nimport { globalConfig } from '../constants';\n\nclass AvatarMiniMap extends React.Component {\n\n  constructor(props) {\n    super(props);\n\n  }\n\n  render() {\n    const {user, isUser, dim} = this.props;\n    const scaler = dim/200;\n    const miniScaler = 4*scaler;\n    const miniX = 45*scaler;\n    const miniY = 40*scaler;\n    const bigScaler = globalConfig.scaler;\n    const bigX = globalConfig.x;\n    const bigY = globalConfig.y;\n    const loc = {};\n\n    loc.x = (user.x/bigScaler-bigX)*miniScaler+miniX;\n    loc.y = (user.y/bigScaler-bigY)*miniScaler+miniY;\n\n    const sty = {top: loc.y, left: loc.x};\n    var avatar = user.avatar;\n    if (user.userName === \"wineBot\") avatar = \"🍷\";\n    else if (user.userName === \"DJ\") avatar = \"🎧\";\n    else if (user.userName === \"cheeseBot\") avatar = \"🧀\";\n    else if (user.userName === \"cocktailBot\") avatar = \"🍸\";\n    else if (!isUser) avatar = user.avatar;\n    const hidden = (user.room !== \"gallery\");\n\n    return (\n\n        <div className={\"emojiMiniMap\"+ (hidden?\" hidden\":\"\")} style={sty}>{avatar}</div>\n\n    )\n\n  }\n\n}\n\nexport default AvatarMiniMap;\n","import React from 'react';\nimport Frame from '../../../shared/Frame/Frame';\nimport AvatarMiniMap from './AvatarMiniMap';\n\nimport { connect } from 'react-redux';\nimport { setOneMenu, hideMap, toggleMap } from '../../../../store/actions/menuItems';\n\n\nclass MiniMap extends React.Component {\n\n  constructor(props) {\n    super(props);\n\n  }\n\n  componentDidMount() {\n    const {hasFooter, isMobile} = this.props.ui;\n    \n    if (!isMobile && !hasFooter) {\n      this.props.toggleMap();\n    }\n  }\n\n  onHide = () => {\n    this.props.hideMap();\n    // this.props.setOneMenu(null);\n  }\n\n  render() {\n    const {users, user, x, y, wineLocation, ui} = this.props;\n\n    const wine0 = {...wineLocation[0]};\n    wine0.room=\"gallery\";\n    const wine1 = {...wineLocation[1]};\n    wine1.room=\"gallery\";\n\n    let isHidden = (ui.isMobile || ui.hasFooter) ? this.props.menu.mobile !== \"map\" : this.props.menu.isMapHidden;\n\n    const dim = (ui.isMobile || ui.hasFooter) ? 135 : 200;\n    // if (otherUser.userName==\"jdboi\") console.log(otherUser.x, otherUser.y);\n    return (\n      <Frame title=\"map\" isHidden={isHidden} onHide={this.onHide} bounded={true} windowStyle={{background: \"rgba(255, 255, 255, .9)\"}} content={\n          /*<video width={dimW-2} height={dimH} muted loop autoPlay><source src={videoDimURL} type=\"video/mp4\"></source></video>*/\n          <div className=\"MiniMap\">\n            <img src={window.AWS + \"/gallery/miniMap.png\"} width=\"100%\" height=\"100%\" />\n            <div className=\"otherAvatarsMiniMap\">\n              <div className=\"mini-avatars\">\n                {users?this.getUsers(dim):null}\n                <AvatarMiniMap dim={dim} user={user} isUser={true} />\n\n              </div>\n            </div>\n          </div>\n        }\n        width={dim} height={dim} x={x} y={y} z={1000}\n        />\n\n    )\n\n  }\n\n  getUsers = (dim) => {\n    return (\n      this.props.users.map((otherUser, i) => {\n        return (\n          <AvatarMiniMap key={i} dim={dim} user={otherUser} isUser={false} />\n        )\n      })\n    )\n  }\n\n}\n\nconst mapStateToProps = (state) => {\n return {\n   ui: state.ui,\n   menu: state.menu\n }\n}\n\nconst mapDispatchToProps = () => {\n return {\n   hideMap,\n   toggleMap,\n   setOneMenu\n }\n}\n\n\nexport default connect(mapStateToProps, mapDispatchToProps())(MiniMap);\n","\nimport React from 'react';\nimport './LoadingPage.css';\n\nexport default function LoadingPage(props) {\n    const sty = {fontSize: (props.ui.width < 400)?30: 50}\n    return (\n        <div className=\"backgroundCover\">\n            <div className=\"LoadingPage\">\n                <div className=\"title\" style={sty}>\n                    <div>losing</div>\n                    <div>my</div>\n                    <div>dimension</div>\n                </div>\n                {/* <div className=\"loadingSymbol\">LOADING{this.getEllipses()}</div> */}\n            </div>\n        </div>\n    )\n}","\nexport function getRandomNum(val) {\n  var x = Math.sin(val) * 10000;\n  return x - Math.floor(x);\n}\n\n// index 2 goes to top\n// 3 , 2, 1, 0\n//-> 2, 1, 3, 0\nexport function getNewZIndices(indexToTop, array) {\n  let prevVal = array[indexToTop];\n  let maxVal = 0;\n  let newArr = [];\n  for (let i = 0; i < array.length; i++) {\n    if (array[i] > maxVal) maxVal = array[i];\n    if (array[i] > prevVal) newArr[i] = array[i]-1;\n    else newArr[i] = array[i];\n  }\n  newArr[indexToTop] = maxVal;\n  return newArr;\n}\n\nexport function mapVal(val, in_min, in_max, out_min, out_max) {\n  return (val - in_min) * (out_max - out_min) / (in_max - in_min) + out_min;\n}\n\nexport function constrain(val, min, max) {\n  if (val < min)\n    return min;\n  else if (val > max)\n    return max;\n  return val;\n}\n\nexport function randomInRange(start, end) {\n  let diff = end-start;\n  return Math.random()*diff+start;\n}","import React from 'react';\nimport \"./Gallery.css\";\n\nimport Sketch from './p5/GallerySketch';\nimport MiniMap from './MiniMap/MiniMap';\nimport { wineLocation, djLocation } from './constants';\nimport LoadingPage from '../../shared/LoadingPage/LoadingPage';\n\n// store\nimport { connect } from 'react-redux';\nimport { doneLoadingApp } from '../../../store/actions';\nimport { moveUser, toggleOutside } from '../../../store/actions/user';\nimport { setUserActiveChat } from '../../../store/actions/userActiveChat';\nimport { setOneMenu, showChat, toggleLiveStream } from '../../../store/actions/menuItems';\nimport { setNoSketchMusic, setSketchMusic, setSketchVolume } from '../../../store/actions/music';\n\nimport { mapVal } from '../../shared/Helpers/Helpers';\n\n// import ReactAudioPlayer from 'react-audio-player';\n\n\nclass Gallery extends React.Component {\n\n  constructor(props) {\n    super(props);\n\n\n\n    this.state = {\n      keyDown: false,\n      numEllipses: 0,\n      // zIndex: [3, 4, 5, 6],\n      // zIndicesIcons: initZIndicesIcons(),\n      // zIndicesFrames: initZIndicesFrames(),\n      volume: .5\n    }\n\n    this.props.setSketchMusic(\"gallery\", 0, .1);\n\n    // this.props.setNoSketchMusic();\n  }\n\n  componentDidMount() {\n    this.loadingInterval = setInterval(this.cycleEllipses, 300);\n\n\n    // window.addEventListener(\"resize\", this.handleResize);\n  }\n\n  componentWillUnmount() {\n    if (this.loadingInterval)\n      clearInterval(this.loadingInterval);\n  }\n\n  cycleEllipses = () => {\n    this.setState({ numEllipses: (this.state.numEllipses + 1) % 4 })\n  }\n\n  // newFrameToTop = (id) => {\n  //   const newZ = getNewZIndices(id, this.state.zIndicesFrames);\n  //   this.setState({ zIndicesFrames: newZ });\n  // }\n\n  // newIconToTop = (id) => {\n  //   // console.log(\"id\", id)\n  //   const newZ = getNewZIndices(id, this.state.zIndicesIcons);\n  //   this.setState({ zIndicesIcons: newZ });\n  //   // console.log(\"ZZZ\", this.state.zIndices);\n  // }\n\n  // onDblClick = (id) => {\n  //   // console.log(id);\n  //   this.newFrameToTop(id);\n  // }\n\n\n  enterRoom = (room) => {\n    this.props.history.push(room);\n  }\n\n  loadingDone = () => {\n    this.props.doneLoadingApp();\n    clearInterval(this.loadingInterval);\n\n    const { hasFooter, isMobile } = this.props.ui;\n    if (!isMobile && !hasFooter) {\n      this.props.toggleLiveStream();\n    }\n  }\n\n  getHomeComponents = () => {\n    const { users, user, ui } = this.props;\n\n    // const { zIndicesIcons, zIndicesFrames } = this.state;\n    if (ui.loading)\n      return (\n        <LoadingPage ui={ui} />\n      );\n    return (\n      <React.Fragment>\n\n        <MiniMap users={users} user={user} x={ui.edgeSpacing} y={ui.edgeSpacing} wineLocation={wineLocation} />\n\n      </React.Fragment>\n    )\n  }\n\n  getEllipses = () => {\n    const str = \"...\";\n    return str.substring(0, this.state.numEllipses);\n  }\n\n  getVolume = () => {\n    const { user, music } = this.props;\n    // if (music.isMuted || music.masterVolume === 0)\n    //   return 0;\n    let dx = djLocation.x - user.x;\n    let dy = djLocation.y - user.y;\n    let dis = Math.sqrt(dx * dx + dy * dy);\n    if (this.props.outside) {\n      let minVol = .3;\n      let v = mapVal(dis, 0, 3000, 1, 0);\n      if (v > 1)\n        v = 1;\n      else if (v < minVol)\n        v = minVol;\n      return v;\n    }\n    return .1;\n  }\n\n\n  setUserActive = (otherUser) => {\n    const { ui, setUserActiveChat, showChat, setOneMenu } = this.props;\n    setUserActiveChat(otherUser);\n    // if we use both, setOneMenu will have a toggle effect on Desktop\n    if (ui.isMobile || ui.hasFooter)\n      setOneMenu(\"chat\");\n    else\n      showChat();\n  }\n\n  moveUser = (x, y) => {\n    this.props.setSketchVolume(this.getVolume());\n    this.props.moveUser(x, y, wineLocation);\n  }\n\n  render() {\n    const { users, user, roomCount, ui, isClosed } = this.props;\n    // const { zIndex, zIndicesIcons, zIndicesFrames } = this.state;\n\n    return (\n      <div className=\"Gallery Sketch\" >\n        <Sketch\n          className=\"p5sketch\"\n          user={user}\n          users={users}\n          roomCount={roomCount}\n          isClosed={isClosed}\n          userMove={(x, y) => this.moveUser(x, y)}\n          userTransition={(x, y) => this.props.transitionUser(x, y, wineLocation)}\n          userNewRoom={this.props.userNewRoom}\n          loadingDone={this.loadingDone}\n          toggleOutside={this.props.toggleOutside}\n          isMobile={ui.isMobile}\n          setUserActive={this.setUserActive}\n        />\n\n        {this.getHomeComponents()}\n        {/* <ReactAudioPlayer\n          src={this.songs[this.props.music.currentSong]}\n          autoPlay={true}\n          volume={0}//{this.getVolume()}\n          controls={false}\n          loop={true}\n          ref={player => {\n            this.audioPlayer = player;\n          }}\n        /> */}\n      </div>\n    )\n  }\n}\n\n\n\nconst mapStateToProps = (state) => {\n  return {\n    user: state.user,\n    music: state.music,\n    outside: state.outside,\n    ui: state.ui\n  }\n}\n\nconst mapDispatchToProps = () => {\n  return {\n    moveUser,\n    toggleOutside,\n    doneLoadingApp,\n    setUserActiveChat,\n    setOneMenu,\n    showChat,\n    setSketchMusic,\n    setSketchVolume,\n    setNoSketchMusic,\n    toggleLiveStream\n  }\n}\n\n\nexport default connect(mapStateToProps, mapDispatchToProps())(Gallery);\n","import React from 'react';\nimport Frame from '../../shared/Frame/Frame';\nimport './MacbookAir.css';\n\n// import Grid from '@material-ui/core/Grid';\nimport Slider from '@material-ui/core/Slider';\n// import indigo from '@material-ui/core/colors/indigo';\nimport { setSketchMusic, setNoSketchMusic, setSketchVolume } from '../../../store/actions/music';\nimport ReactPlayer from 'react-player'\n\n// store\nimport { connect } from 'react-redux';\nimport { doneLoadingApp } from '../../../store/actions/';\n\nclass MacbookAir extends React.Component {\n  // https://codepen.io/JohJakob/pen/YPxgwo\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      videoSpeed: 1.0,\n\n\n    }\n\n    this.sliderOG = { x: 0, y: 0 };\n    this.mainOG = { x: 0, y: 0 };\n\n    this.cloudsRef = React.createRef();\n    this.fanRef = React.createRef();\n\n    this.setSpeed = this.setSpeed.bind(this);\n    this.getDimensions = this.getDimensions.bind(this);\n    this.getMainWindow = this.getMainWindow.bind(this);\n    this.getSliderWindow = this.getSliderWindow.bind(this);\n  }\n\n  componentDidMount() {\n    this.interval = setInterval(this.resetPlayer, 22000);\n    this.props.doneLoadingApp();\n    this.props.setSketchMusic(\"cloud\", 0, .5);\n  }\n\n  componentWillUnmount() {\n    clearInterval(this.interval);\n  }\n\n  componentDidUpdate(prevProps) {\n    const {ui} = this.props;\n    if (ui.compositionStarted && !prevProps.ui.compositionStarted) {\n      this.fanRef.current.play();\n      this.cloudsRef.current.play();\n    }\n  }\n\n  setSpeed(speed) {\n    this.cloudsRef.current.playbackRate = speed;\n    // this.setState({ videoSpeed: speed });\n    this.props.setSketchVolume(speed);\n    this.fanRef.current.playbackRate = speed;\n  }\n\n  getDimensions() {\n    var ui = { ...this.props.ui };\n    var toolbarH = ui.toolbarH;\n    var windowWidth = ui.contentW;\n    var windowHeight = ui.contentH;\n    var aspectRatio = ui.contentW / ui.contentH;\n    // var {} = this.props.dimensions;\n    var minSpacing = 20;\n    // windowHeight -= headerH;\n\n    const originalDim = { w: 840, h: 540 };\n\n    if (ui.hasFooter && ui.orientation === \"landscape\")\n      return getLandscapeDimensions();\n    return getPortraitDimensions();\n\n\n    function getLandscapeDimensions() {\n      let minSpacingX = 120;\n      let minSpacingY = 40;\n      let minSpacingMiddle = 20;\n      windowHeight -= toolbarH;\n      let windowDim = { w: originalDim.w, h: originalDim.h, x: 0, y: 0 };\n      let sliderDim = { w: 80, h: windowDim.h, x: 0, y: 0, vertical: true };\n      let availableHeight = windowHeight - minSpacingY * 2;\n      let availableWidth = windowWidth - minSpacingX * 2 - minSpacingMiddle - sliderDim.w; // width of slider\n      const windowAspectRatio = availableWidth / availableHeight;\n\n      // should we max out the height or width in the available space?\n      // in this case, there's more available width than the original image; \n      // max out height\n      if (windowAspectRatio > aspectRatio) {\n        windowDim.h = availableHeight;\n        windowDim.w = originalDim.w * windowDim.h / originalDim.h;\n      } else {\n        // max device height width\n        windowDim.w = availableWidth;\n        windowDim.h = originalDim.h * windowDim.w / originalDim.w;\n      }\n      let spacingFinal = (windowHeight - windowDim.h) / 2;\n      windowDim.x = (windowWidth - windowDim.w - sliderDim.w - minSpacingMiddle) / 2;\n      windowDim.y = spacingFinal; //(windowHeight - windowDim.h - 21 - 30)/2-5;\n\n      // slider\n      sliderDim.h = windowDim.h;\n      let remainingSpace = windowWidth - windowDim.w - windowDim.x;\n      // let buffer = (remainingSpace - sliderDim.w) / 2;\n      sliderDim.x = windowDim.w + windowDim.x + minSpacingMiddle;\n      sliderDim.y = windowDim.y;//(windowHeight-30- sliderDim.h-21)/2;\n\n      return [windowDim, sliderDim];\n    }\n\n    function getPortraitDimensions() {\n      windowHeight -= 2 * toolbarH;\n      minSpacing = 20;\n      let sliderDim = { w: 250, h: 64, x: 0, y: 0, vertical: false };\n      // let availableHeight = windowHeight-60-85-minSpacing*3;\n      let availableHeight = windowHeight - sliderDim.h - minSpacing * 3 - 36;\n      if (ui.hasFooter) availableHeight -= 60;\n      let availableWidth = windowWidth - minSpacing * 2;\n      let windowAspectRatio = availableWidth / availableHeight;\n\n      let windowDim = { w: originalDim.w, h: originalDim.h, x: 0, y: 0 };\n\n      if (windowAspectRatio < aspectRatio) {\n        // max device height out\n        windowDim.h = Math.min(availableHeight, originalDim.h);\n        windowDim.w = Math.min(originalDim.w * windowDim.h / originalDim.h, originalDim.w);\n      } else {\n        // max device height width\n        windowDim.w = Math.min(availableWidth, originalDim.w);\n        windowDim.h = Math.min(originalDim.h * windowDim.w / originalDim.w, originalDim.h);\n      }\n\n      let spacingFinal = (windowHeight - sliderDim.h - windowDim.h) / 3;\n      // console.log(sliderDim.h, sliderspacingFinal)\n      windowDim.x = windowWidth / 2 - windowDim.w / 2 - 2;\n      windowDim.y = spacingFinal;//(windowHeight - windowDim.h)/4;\n\n      // slider\n      sliderDim.x = (windowWidth - sliderDim.w) / 2;\n      // let remainingSpace = windowHeight - windowDim.h - windowDim.y;\n      // let buffer = (remainingSpace - sliderDim.h - 21)/2;\n      sliderDim.y = windowDim.y + windowDim.h + toolbarH + spacingFinal;\n      return [windowDim, sliderDim];\n    }\n  }\n\n\n  getMainWindow(windowDim) {\n    const { ui } = this.props;\n    if (ui.width <= 0 || windowDim.w <= 0) {\n      return null;\n    }\n    else {\n      if (this.mainOG.x === 0) {\n        this.mainOG.x = windowDim.x;\n        this.mainOG.y = windowDim.y;\n      }\n\n      const title = \"\";//(ui.isMobile || ui.hasFooter)?\"\":\"macbook air\";\n      return (\n        <Frame title={title} content={\n          <video\n            ref={this.fanRef}\n            width={windowDim.w}\n            height={windowDim.h}\n            muted\n            loop\n            playsInline\n            autoPlay>\n            <source src={window.AWS + \"/macbookAir/noframe.mp4\"} type=\"video/mp4\"></source>\n          </video>\n          // <ReactPlayer\n          //   className={\"react-player mainContent\"}\n          //   playing\n          //   muted\n          //   loop\n          //   width={windowDim.w}\n          //   height={windowDim.h}\n          //   playsInline\n          //   url={window.AWS + \"/macbookAir/noframe.mp4\"}\n          //   playbackRate={this.state.videoSpeed}\n          // />\n        }\n          width={windowDim.w + 2} height={windowDim.h} x={windowDim.x} y={windowDim.y} px={windowDim.x} py={windowDim.y}\n        />\n      )\n    }\n  }\n\n  getSliderWindow(sliderDim) {\n\n    if (this.props.ui.width <= 0) {\n      return null;\n    }\n    else {\n      return (\n        <Frame title=\"\" icon=\"&#58160;\" content={\n          <div className=\"sliderBox\">\n            {sliderDim.w < 200 ?\n              <ContinuousSliderVert callback={this.setSpeed} h={sliderDim.h} w={sliderDim.w} /> : <ContinuousSliderHoriz callback={this.setSpeed} w={sliderDim.w} h={sliderDim.h} />}\n          </div>\n        }\n          width={sliderDim.w} height={sliderDim.h} x={sliderDim.x} y={sliderDim.y} px={sliderDim.x} py={sliderDim.y}\n        />\n      );\n    }\n\n  }\n\n  render() {\n\n    const frameDimensions = this.getDimensions();\n    const windowDim = frameDimensions[0];\n    const sliderDim = frameDimensions[1];\n\n    return (\n      <div className=\"MacbookAir Sketch\">\n        <video ref={this.cloudsRef} autoPlay muted playsInline loop className=\"backgroundCover\">\n          <source src={window.AWS + \"/macbookAir/clouds3d.mp4\"} type=\"video/mp4\" ></source>\n              Your browser does not support HTML5 video.\n            </video>\n        {this.getMainWindow(windowDim)}\n        {this.getSliderWindow(sliderDim)}\n        {/*Glasses />*/}\n      </div>\n    );\n  }\n\n}\n\n\nfunction ContinuousSliderVert(props) {\n  // const classes = useStyles();\n  const [value, setValue] = React.useState(1.0);\n\n  const handleChange = (event, newValue) => {\n    setValue(newValue);\n    props.callback(newValue);\n  };\n\n  let style = {};\n  style.height = props.h - 12 * 2;\n  style.width = \"auto\";\n  let sliderStyle = { width: style.width, height: style.height - 105 }\n  return (\n    <div className=\"emoji-slider-vert emoji-slider\" style={style}>\n      <div className=\"emoji gust-emoji top\" aria-label=\"dashing away\"></div>\n      <div className=\"slider\"><Slider value={value} onChange={handleChange} orientation={\"vertical\"} style={sliderStyle} color='primary' aria-labelledby=\"continuous-slider\" step={0.1} min={0.0} max={2.0} defaultValue={1.0} /></div>\n\n      <div className=\"emoji cloud-emoji\" aria-label=\"cloud\"></div>\n    </div>\n  );\n}\n\nfunction ContinuousSliderHoriz(props) {\n  // const classes = useStyles();\n  const [value, setValue] = React.useState(1.0);\n\n  const handleChange = (event, newValue) => {\n    setValue(newValue);\n    props.callback(newValue);\n  };\n\n  let style = {};\n  style.height = \"auto\";\n  style.width = 100;\n\n  return (\n    <div className=\"emoji-slider emoji-slider-horiz\" style={{ height: \"auto\", width: props.w }}>\n      <div className=\"cloud-emoji emoji left\" aria-label=\"cloud\"></div>\n      <Slider value={value} onChange={handleChange} orientation=\"horizontal\" style={style} color='primary' aria-labelledby=\"continuous-slider\" step={0.1} min={0.0} max={2.0} defaultValue={1.0} />\n      <div className=\"gust-emoji emoji\" aria-label=\"dashing away\"></div>\n    </div>\n  );\n}\n\n\n\nconst mapStateToProps = (state) => {\n  return {\n    ui: state.ui,\n    music: state.music\n  }\n}\n\nconst mapDispatchToProps = () => {\n  return {\n    doneLoadingApp,\n    setSketchMusic,\n    setSketchVolume,\n    setNoSketchMusic,\n  }\n}\n\n\nexport default connect(mapStateToProps, mapDispatchToProps())(MacbookAir);\n\n","import * as THREE from \"three\";\n\nexport default class Pipe {\n  constructor(nodes, scene) {\n\n    this.pipeRadius = 0.2;\n    this.ballJointRadius = this.pipeRadius * 1.5;\n    this.gridBounds = new THREE.Box3(\n      new THREE.Vector3(-10, -10, -10),\n      new THREE.Vector3(10, 10, 10)\n    );\n\n    this.scene = scene;\n    this.nodes = nodes;\n\n    this.currentPosition = randomIntegerVector3WithinBox(this.gridBounds);\n    this.positions = [this.currentPosition];\n    this.object3d = new THREE.Object3D();\n\n    this.scene.add(this.object3d);\n    this.addTexture();\n    this.setAt(nodes, this.currentPosition, this);\n    this.makeBallJoint(this.currentPosition);\n  }\n\n  makeCylinderBetweenPoints(fromPoint, toPoint, material) {\n    var deltaVector = new THREE.Vector3().subVectors(toPoint, fromPoint);\n    var arrow = new THREE.ArrowHelper(\n      deltaVector.clone().normalize(),\n      fromPoint\n    );\n    var geometry = new THREE.CylinderGeometry(\n      this.pipeRadius,\n      this.pipeRadius,\n      deltaVector.length(),\n      10,\n      4,\n      true\n    );\n    var mesh = new THREE.Mesh(geometry, material);\n\n    mesh.rotation.setFromQuaternion(arrow.quaternion);\n    mesh.position.addVectors(fromPoint, deltaVector.multiplyScalar(0.5));\n    mesh.updateMatrix();\n\n    this.object3d.add(mesh);\n  };\n\n  makeBallJoint(position) {\n    var ball = new THREE.Mesh(\n      new THREE.SphereGeometry(this.ballJointRadius, 8, 8),\n      this.material\n    );\n    ball.position.copy(position);\n    this.object3d.add(ball);\n  };\n\n  makeElbowJoint(fromPosition, toPosition, tangentVector) {\n    var elball = new THREE.Mesh(\n      new THREE.SphereGeometry(this.pipeRadius, 8, 8),\n      this.material\n    );\n    elball.position.copy(fromPosition);\n    this.object3d.add(elball);\n  };\n\n  addTexture() {\n    const texUrl = window.AWS + \"/jungleGyms/caution.jpg\";\n    var pipeTexture = new THREE.TextureLoader().load(  texUrl );//THREE.ImageUtils.loadTexture(texUrl);\n    pipeTexture.wrapS = pipeTexture.wrapT = THREE.RepeatWrapping;\n    pipeTexture.repeat.set(.2, .2);\n    if (pipeTexture) {\n      this.material = new THREE.MeshLambertMaterial({\n        map: pipeTexture,\n      });\n    } else {\n      var color = 0x00441f //randomInteger(0, 0xffffff);\n      var emissive = new THREE.Color(color).multiplyScalar(0.3);\n      this.material = new THREE.MeshPhongMaterial({\n        specular: 0xa9fcff,\n        color: color,\n        emissive: emissive,\n        shininess: 100,\n      });\n    }\n  }\n\n  update() {\n    if (this.positions.length > 1) {\n      var lastPosition = this.positions[this.positions.length - 2];\n      var lastDirectionVector = new THREE.Vector3().subVectors(\n        this.currentPosition,\n        lastPosition\n      );\n    }\n    if (Math.random>.5 && lastDirectionVector) {\n      var directionVector = lastDirectionVector;\n    } else {\n      var directionVector = new THREE.Vector3();\n      directionVector[chooseFrom(\"xyz\")] += chooseFrom([+1, -1]);\n    }\n    var newPosition = new THREE.Vector3().addVectors(\n      this.currentPosition,\n      directionVector\n    );\n\n    // TODO: try other possibilities\n    // ideally, have a pool of the 6 possible directions and try them in random order, removing them from the bag\n    // (and if there's truly nowhere to go, maybe make a ball joint)\n    if (!this.gridBounds.containsPoint(newPosition)) {\n      return;\n    }\n    if (this.getAt(newPosition)) {\n      return;\n    }\n    this.setAt(newPosition, this);\n\n    // joint\n    // (initial ball joint is handled elsewhere)\n    if (lastDirectionVector && !lastDirectionVector.equals(directionVector)) {\n      this.makeBallJoint(this.currentPosition);\n    }\n\n    // pipe\n    this.makeCylinderBetweenPoints(this.currentPosition, newPosition, this.material);\n\n    // update\n    this.currentPosition = newPosition;\n    this.positions.push(newPosition);\n  };\n\n  setAt(position, value) {\n    this.nodes[\"(\" + position.x + \", \" + position.y + \", \" + position.z + \")\"] = value;\n  }\n\n  getAt(position, value) {\n    return this.nodes[\"(\" + position.x + \", \" + position.y + \", \" + position.z + \")\"];\n  }\n\n};\n\n//////////////\n// HELPERS\nfunction chooseFrom(values) {\n  return values[Math.floor(Math.random() * values.length)];\n}\nfunction random(x1, x2) {\n  return Math.random() * (x2 - x1) + x1;\n}\nfunction randomInteger(x1, x2) {\n  return Math.round(random(x1, x2));\n}\nfunction randomIntegerVector3WithinBox(box) {\n  return new THREE.Vector3(\n    randomInteger(box.min.x, box.max.x),\n    randomInteger(box.min.y, box.max.y),\n    randomInteger(box.min.z, box.max.z)\n  );\n}\n","import React from 'react';\n// import ReactDOM from \"react-dom\";\n\nimport \"./JungleGyms.css\";\n\nimport * as THREE from \"three\";\nimport { AnaglyphEffect } from 'three/examples/jsm/effects/AnaglyphEffect.js';\nimport { OBJLoader } from 'three/examples/jsm/loaders/OBJLoader.js';\nimport { MTLLoader } from 'three/examples/jsm/loaders/MTLLoader.js';\nimport { DDSLoader } from 'three/examples/jsm/loaders/DDSLoader.js';\nimport { OrbitControls } from 'three/examples/jsm/controls/OrbitControls.js';\n\nimport Frame from '../../shared/Frame/Frame';\n\n// store\nimport { connect } from 'react-redux';\nimport { setSketchMusic } from '../../../store/actions/music';\n\nimport Pipe from './Pipe';\n\n\n\nclass JungleGyms extends React.Component {\n\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      firstLoad: true\n    }\n\n    this.videoSwings = React.createRef();\n    this.videoGym = React.createRef();\n  }\n\n  componentDidMount() {\n    this.interval = setInterval(this.reset, 20000);\n    window.addEventListener('resize', this.handleWindowResize);\n\n    this.setupScene();\n    this.startAnimationLoop();\n\n    this.props.setSketchMusic(\"jungleGyms\", 0, .5);\n  }\n\n  componentWillUnmount() {\n    window.removeEventListener('resize', this.handleWindowResize);\n    window.cancelAnimationFrame(this.requestID);\n    this.controls.dispose();\n    clearInterval(this.interval);\n    // this.props.userLeaveRoom(\"jungle-gyms\");\n  }\n\n  componentDidUpdate(prevProps) {\n    const { ui } = this.props;\n    if (ui.compositionStarted && !prevProps.ui.compositionStarted) {\n      this.videoSwings.current.play();\n      this.videoGym.current.play();\n    }\n  }\n\n  handleWindowResize = () => {\n    const width = window.innerWidth; //this.el.clientWidth;\n    const height = window.innerHeight; //this.el.clientHeight;\n    this.renderer.setSize(width, height);\n    this.camera.aspect = width / height;\n    this.camera.updateProjectionMatrix();\n  };\n\n  setupScene = () => {\n    this.scene = new THREE.Scene();\n    this.camera = new THREE.PerspectiveCamera(45, window.innerWidth / window.innerHeight, 1, 100000);\n    this.renderer = new THREE.WebGLRenderer({ alpha: true, antialias: true, });\n    this.renderer.setSize(window.innerWidth, window.innerHeight);\n    // document.body.appendChild( renderer.domElement );\n    // use ref as a mount point of the Three.js scene instead of the document.body\n    this.mount.appendChild(this.renderer.domElement);\n\n\n    this.effect = new AnaglyphEffect(this.renderer);\n    this.effect.setSize(window.innerWidth, window.innerHeight);\n\n    this.controls = new OrbitControls(this.camera, this.renderer.domElement);\n    this.controls.minDistance = 1;\n    this.controls.maxDistance = 80;\n\n    var ambientLight = new THREE.AmbientLight(0xaaaaaa);\n    this.scene.add(ambientLight);\n    this.addLight(-10, 2, 4);\n    this.addLight(1, -10, -2);\n\n    this.addScreenCube(this.videoGym.current, 1920, 1080, .01, [0, 0, -8], [0, 0, 0], 47);\n    this.addScreenCube(this.videoSwings.current, 1080, 1920, .01, [6, 0, -20], [0, -Math.PI / 2, 0], 20);\n\n    this.pipes = [];\n    this.vines = [];\n    this.nodes = {};\n\n    this.addWallPaper();\n    this.addVines();\n    this.look();\n  }\n\n  startAnimationLoop = () => {\n    // this.renderer.render( this.scene, this.camera );\n    for (let i = 0; i < this.pipes.length; i++) {\n      this.pipes[i].update();\n    }\n    if (this.pipes.length === 0) {\n      for (let i = 0; i < 1 + (1 + chance(1 / 10)); i++) {\n        this.pipes.push(new Pipe(this.nodes, this.scene));\n      }\n    }\n    for (let i = 0; i < 3; i++) {\n      if (this.vines[i]) this.vines[i].position.y = -10 - i * 5 + Math.sin(new Date().getTime() / 1000);\n    }\n\n    if (this.controls) this.controls.update();\n    this.effect.render(this.scene, this.camera);\n    this.requestID = window.requestAnimationFrame(this.startAnimationLoop);\n\n  };\n\n\n  reset = () => {\n    // const {pipes} = this.state;\n    this.renderer.clear();\n    for (var i = 0; i < this.pipes.length; i++) {\n      this.scene.remove(this.pipes[i].object3d);\n    }\n    this.pipes = [];\n    this.nodes = {};\n    this.look();\n  }\n\n  addLight = (...pos) => {\n    const color = 0xFFFFFF;\n    const intensity = 1;\n    const light = new THREE.DirectionalLight(color, intensity);\n    light.position.set(...pos);\n    this.scene.add(light);\n  }\n\n  addScreenCube = (video, pW, pH, fac, pos, rot, boxLen) => {\n    var videoTex = new THREE.VideoTexture(video);\n    pW *= fac;\n    pH *= fac;\n\n    videoTex.minFilter = THREE.LinearFilter;\n    videoTex.magFilter = THREE.LinearFilter;\n    videoTex.format = THREE.RGBFormat;\n    var geometry = new THREE.PlaneGeometry(pW, pH, 1);\n    var material = new THREE.MeshBasicMaterial({ color: 0xffff00, side: THREE.DoubleSide, map: videoTex });\n    var plane = new THREE.Mesh(geometry, material);\n    plane.position.set(...pos);\n    plane.rotation.set(...rot);\n    this.scene.add(plane);\n\n\n    var geometry = new THREE.BoxGeometry(pW, pH, boxLen);\n    var material = new THREE.MeshPhongMaterial({ color: 0x00aa00, opacity: .3, transparent: true, side: THREE.DoubleSide }); //\n    var cube = new THREE.Mesh(geometry, material);\n    cube.position.set(...pos);\n    cube.rotation.set(...rot);\n    this.scene.add(cube);\n\n    var geometry = new THREE.BoxBufferGeometry(pW, pH, boxLen);\n    var edges = new THREE.EdgesGeometry(geometry);\n    var line = new THREE.LineSegments(edges, new THREE.LineBasicMaterial({ color: 0x00ff00, linewidth: 24 }));\n    line.position.set(...pos);\n    line.rotation.set(...rot);\n    this.scene.add(line);\n  }\n\n  addWallPaper = () => {\n    const url = window.AWS + \"/jungleGyms/wallpaper3.jpg\";\n    var wall = new THREE.TextureLoader().load(url);\n    wall.wrapS = THREE.RepeatWrapping;\n    wall.wrapT = THREE.RepeatWrapping;\n    wall.repeat.set(4, 4);\n    var geometry = new THREE.PlaneGeometry(200, 100, 1);\n    var material = new THREE.MeshBasicMaterial({ color: 0xffff00, side: THREE.DoubleSide, map: wall });\n    var plane = new THREE.Mesh(geometry, material);\n    plane.position.set(0, 0, -14);\n    // scene.add( plane );\n    this.scene.background = wall;\n  }\n\n  addVines = () => {\n    var self = this;\n    var modelPath = window.AWS + \"/jungleGyms/vines/\";\n    var model = \"Vines\";\n    var onProgress = function (xhr) {\n      if (xhr.lengthComputable) {\n        var percentComplete = xhr.loaded / xhr.total * 100;\n        // console.log(Math.round(percentComplete, 2) + '% downloaded');\n      }\n    }\n    var onError = function () { };\n    var manager = new THREE.LoadingManager();\n    manager.addHandler(/\\.dds$/i, new DDSLoader());\n    new MTLLoader(manager)\n      .setPath(modelPath)\n      .load(model + '.mtl', function (materials) {\n\n        materials.preload();\n\n        new OBJLoader(manager)\n          .setMaterials(materials)\n          .setPath(modelPath)\n          .load(model + '.obj', function (vine) {\n            vine.rotation.set(0, Math.PI, 0);\n            vine.position.set(-10, -10, -10);\n            vine.scale.set(5, 5, 5);\n            self.vines.push(vine);\n\n            var newVine = vine.clone();\n            newVine.position.set(0, -15, 0);\n            vine.rotation.set(0, 0, 0);\n            self.vines.push(newVine);\n\n            var newVine2 = vine.clone();\n            newVine2.rotation.set(0, -Math.PI / 2, 0);\n            self.vines.push(newVine2);\n            self.scene.add(vine);\n            self.scene.add(newVine);\n            self.scene.add(newVine2);\n\n          }, onProgress, onError);\n\n      });\n\n    //\n  }\n\n  look = () => {\n    // TODO: never don't change the view (except maybe while clearing)\n    if (this.state.firstLoad || chance(1 / 2)) {\n      // head-on view\n\n      this.camera.position.set(0, 0, 14);\n      this.setState({ firstLoad: false });\n    } else {\n      // random view\n\n      var vector = new THREE.Vector3(30, 0, 0);\n\n      var axis = new THREE.Vector3(random(-1, 1), random(-1, 1), random(-1, 1));\n      var angle = Math.PI / 2;\n      var matrix = new THREE.Matrix4().makeRotationAxis(axis, angle);\n\n      vector.applyMatrix4(matrix);\n      this.camera.position.copy(vector);\n    }\n    // camera.position.set(0, 0, 14);\n    var center = new THREE.Vector3(0, 0, 0);\n    this.camera.lookAt(center);\n    // camera.updateProjectionMatrix(); // maybe?\n    this.controls.update();\n  }\n\n  getControlsFrame = () => {\n    const w = 230;\n    return (\n      <Frame title=\"jungle gyms\" content={\n        <div className=\"jungleControls\">\n          <button>left</button>\n          <button>right</button>\n          <button>+</button>\n          <button>-</button>\n        </div>\n      }\n        width={w} height={50} x={window.innerWidth - w - 50} y={window.innerHeight - 124}\n      />\n    )\n  }\n\n  render() {\n    const gymUrl = window.AWS + \"/jungleGyms/gym.mp4\"\n    return (\n      <div className=\"JungleGyms Sketch\">\n        <div className=\"threeCanvas\" ref={ref => (this.mount = ref)} />\n        <video\n          playsInline\n          crossOrigin=\"anonymous\"\n          ref={this.videoGym}\n          autoPlay\n          muted\n          loop\n          className=\"gym\" >\n          <source src={gymUrl} type=\"video/mp4\" ></source>\n          Your browser does not support HTML5 video.\n        </video>\n        <video\n          playsInline\n          crossOrigin=\"anonymous\"\n          ref={this.videoSwings}\n          autoPlay\n          muted\n          loop\n          className=\"gym\" >\n          <source src={window.AWS + \"/jungleGyms/swings.mp4\"} type=\"video/mp4\" ></source>\n          Your browser does not support HTML5 video.\n        </video>\n\n        {/* { this.getControlsFrame()} */}\n        {/*Glasses />*/}\n      </div>\n    )\n  }\n}\n\nfunction random(x1, x2) {\n  return Math.random() * (x2 - x1) + x1;\n}\nfunction chance(value) {\n  return Math.random() < value;\n}\n\nfunction shuffleArrayInPlace(array) {\n  for (var i = array.length - 1; i > 0; i--) {\n    var j = Math.floor(Math.random() * (i + 1));\n    var temp = array[i];\n    array[i] = array[j];\n    array[j] = temp;\n  }\n}\n\nfunction showElementsIf(selector, condition) {\n  Array.from(document.querySelectorAll(selector)).forEach(function (el) {\n    if (condition) {\n      el.removeAttribute(\"hidden\");\n    } else {\n      el.setAttribute(\"hidden\", \"hidden\");\n    }\n  });\n}\n\nconst mapStateToProps = (state) => {\n  return {\n    ui: state.ui\n  }\n}\n\nconst mapDispatchToProps = () => {\n  return {\n    // doneLoadingApp\n    setSketchMusic\n  }\n}\n\n\nexport default connect(mapStateToProps, mapDispatchToProps())(JungleGyms);\n","import React from 'react';\nimport \"./HardDrives.css\";\n\nimport { AnaglyphUniversalCamera, HemisphericLight, Axis, Effect, PostProcess, Space, MeshBuilder, Vector3, Vector2, AssetContainer, SceneLoader, StandardMaterial, CubeTexture, Color3, Mesh, Texture } from 'babylonjs';\nimport BabylonScene from '../../shared/Babylon.jsx'; // import the component above linking to file we just created.\nimport { WaterMaterial } from 'babylonjs-materials';\nimport 'babylonjs-loaders';\n\n// store\nimport { connect } from 'react-redux';\nimport { setSketchMusic } from '../../../store/actions/music';\n\nimport Frame from '../../shared/Frame/Frame';\n// import Glasses from '../../shared/Glasses/Glasses';\n\nimport Birds from './Birds';\n\nimport socket from '../../shared/Socket/Socket';\n\n// palm https://poly.google.com/view/ficLBIjGliK\n\nvar trees = [];\nvar bottles = [];\nvar camera;\nvar water;\n\nvar start;\nvar changed = false;\n\nvar scaler = 4;\nvar seed = 13;\n\nclass HardDrives extends React.Component {\n\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      island: \"https://www.google.com/maps/embed?pb=!4v1591730465198!6m8!1m7!1sCAoSLEFGMVFpcFBTYW9SYVFBMmR0QjhoeTVaSUs5R3lQaGJBNVB5dVhFQ2o0UVdW!2m2!1d-17.3611139!2d177.1339841!3f99.14217177224654!4f16.212409154729073!5f0.5970117501821992\",\n      urlIndex: 0,\n\n    }\n    this.onRender = this.onRender.bind(this);\n\n  }\n\n\n  componentDidMount() {\n    this.props.setSketchMusic(\"hardDrives\", 0, .4);\n\n    // console.log(\"Thanks to Jarlan Perez for the lime: https://poly.google.com/view/4Ddq9357jQ-\");\n    // console.log(\"https://poly.google.com/view/3NwnG7YRk7A\")\n    // console.log(\"Thanks to Slanted Studios for the bird gif: https://giphy.com/media/l3Uchq9s6Hx0aK8F2/giphy.gif\");\n  }\n\n  componentWillUnmount() {\n  }\n\n  onSceneReady(scene) {\n    start = new Date();\n    // const camera = new UniversalCamera(\"UniversalCamera\", new Vector3(0, 1, -25), scene);\n    camera = new AnaglyphUniversalCamera(\"af_cam\", new Vector3(0, 8 * scaler, -5 * scaler), 0.033, scene);\n    scene.clearColor = Color3.Black();\n    camera.setTarget(new Vector3(0, 8 * scaler, 0));\n\n    const canvas = scene.getEngine().getRenderingCanvas();\n    camera.attachControl(canvas, true);\n    // camera.inputs.clear();\n    // camera.inputs.removeMouse();\n    camera.inputs.removeByType(\"FreeCameraKeyboardMoveInput\");\n\n    const light = new HemisphericLight(\"light1\", new Vector3(0, 1, 0), scene);\n    light.intensity = 1.7;\n\n\n    ///////////////////////////////////////////////////////////////////////////////\n    addPalms(scene);\n\n    // Ground\n    var groundTexture = new Texture(window.AWS + \"/shared/black_sand.jpg\", scene);\n    groundTexture.vScale = groundTexture.uScale = 20.0;\n\n    var groundMaterial = new StandardMaterial(\"groundMaterial\", scene);\n    groundMaterial.diffuseTexture = groundTexture;\n\n    var ground = Mesh.CreateGround(\"ground\", 512, 512, 32, scene, false);\n    ground.position.y = -1;\n    ground.rotation.y = Math.PI / 2;\n    ground.material = groundMaterial;\n\n    // Water\n    var waterMesh = Mesh.CreateGround(\"waterMesh\", 512 * scaler, 512 * scaler, 32, scene, false);\n    water = new WaterMaterial(\"water\", scene, new Vector2(1024, 1024));\n    water.backFaceCulling = true;\n    water.bumpTexture = new Texture(window.AWS + \"/shared/waterbump.png\", scene);\n    water.windForce = -5;\n    water.waveHeight = 0.8;\n    water.bumpHeight = 0.3;\n    water.waveLength = 0.3;\n    // water.colorBlendFactor = 0;\n    water.waterColor = new Color3(0, 0, .1);\n    water.colorBlendFactor = 0;\n    water.addToRenderList(ground);\n    // water.addToRenderList();\n\n    waterMesh.material = water;\n\n    addSkybox(scene);\n\n    addBottles(scene, water);\n\n  }\n\n\n  onRender(scene) {\n\n    for (let i = 0; i < trees.length; i++) {\n      var sign = i % 2 === 0 ? 1 : -1;\n      trees[i].rotation.y += .005 * sign;\n    }\n\n    for (let i = 0; i < bottles.length; i++) {\n      bottles[i].position.y = .7 * Math.sin(new Date() / 600 + bottles[i].position.x / 60);\n    }\n\n    let t = new Date();\n    if (!changed && t - start > 5000) {\n      // onInsta();\n      changed = true;\n    }\n\n  }\n\n  nextIsland() {\n    let islandIndex = this.state.urlIndex;\n    islandIndex++;\n    islandIndex %= this.beaches.length;\n    console.log(\"beaches\", this.beaches[islandIndex], islandIndex)\n    this.setState({ urlIndex: islandIndex, island: this.beaches[islandIndex] });\n  }\n\n  render() {\n    const { ui } = this.props;\n    const svFrame = {};\n    let f = .8;\n    if (ui.contentW >= 1920)\n      f = 1.3;\n    const ogW = 600 * f;\n    const ogH = 450 * .8 * f;\n    svFrame.w = ogW;\n    svFrame.h = ogH;\n    svFrame.x = (ui.contentW - svFrame.w) * .27;\n    svFrame.y = (ui.contentH - svFrame.h - 30) * .5;\n\n    if (ui.hasFooter || ui.isMobile) {\n      if (ui.orientation === \"portrait\") {\n        let wTemp = ui.width - 40;\n        if (wTemp < ogW) {\n          svFrame.w = wTemp; // Math.min(ui.width-40, ogW);\n          svFrame.h = svFrame.h * (svFrame.w / ogW);\n          svFrame.y = 20; //ui.headerH + 50;\n          svFrame.x = 18;\n        }\n        else {\n          svFrame.x = (ui.width - svFrame.w - 4) / 2;\n\n        }\n        svFrame.y = ui.height / 2 - svFrame.h * .8;\n      }\n      else {\n        const factor = ui.height / 500;\n\n        if (factor < 1) {\n          svFrame.h *= ui.height / 500;\n          svFrame.w *= ui.height / 500;\n          svFrame.y = 10; //ui.headerH + 20;\n          svFrame.x = 50;\n        }\n\n      }\n    }\n\n    const title = \"\";// (ui.isMobile || ui.hasFooter) ? \"\": \"hard drives on seashores\";\n\n    return (\n      <div className=\"HardDrives Sketch\">\n        <BabylonScene antialias onSceneReady={this.onSceneReady} onRender={this.onRender} id='babylon-canvas' />\n\n        <Frame title={title} content={\n          <iframe title=\"island view\" src={this.state.island} width={svFrame.w} height={svFrame.h} frameBorder=\"0\" allowFullScreen=\"\" aria-hidden=\"false\" tabIndex=\"0\"></iframe>\n        }\n          width={svFrame.w} height={svFrame.h} x={svFrame.x} y={svFrame.y}\n        />\n        <Birds />\n        {/*Glasses />*/}\n      </div>\n    )\n  }\n\n\n}\n\nfunction addSkybox(scene) {\n  // Skybox\n  var skybox;\n  skybox = Mesh.CreateBox(\"skyBox\", 1000.0, scene);\n  var skyboxMaterial = new StandardMaterial(\"skyBox\", scene);\n  skyboxMaterial.backFaceCulling = false;\n  // skyboxMaterial.reflectionTexture = new CubeTexture(process.env.PUBLIC_URL+\"/textures/skybox/TropicalSunnyDay\", scene);\n  skyboxMaterial.reflectionTexture = new CubeTexture(window.AWS + \"/hardDrives/skybox/skybox\", scene);\n  skyboxMaterial.reflectionTexture.coordinatesMode = Texture.SKYBOX_MODE;\n  skyboxMaterial.diffuseColor = new Color3(0, 0, 0);\n  skyboxMaterial.specularColor = new Color3(0, 0, 0);\n  skyboxMaterial.disableLighting = true;\n  skybox.material = skyboxMaterial;\n  if (skybox) water.addToRenderList(skybox);\n  // var dome = new PhotoDome(\"textureName\", process.env.PUBLIC_URL+\"/textures/skybox/sky-10.png\", {resolution: 32, size: 1000}, scene);\n\n}\nfunction printBottles(bottles) {\n  let bots = [];\n  for (let i = 0; i < bottles.length; i++) {\n    let bottle = bottles[i];\n    let { x, y, z } = bottle.position;\n    let pos = { x: x, y: y, z: z };\n\n    let rot = { x: bottle.rotation.x, y: bottle.rotation.y, z: bottle.rotation.z };\n    bots.push({ id: i, pos: pos, rot: rot });\n  }\n  console.log(JSON.stringify(bots));\n}\n\nfunction getRandom() {\n  var x = Math.sin(seed++) * 10000;\n  return x - Math.floor(x);\n}\nfunction getRandomNum(val) {\n  var x = Math.sin(val) * 10000;\n  return x - Math.floor(x);\n}\n\nfunction addBottles(scene, water) {\n  // var container = new AssetContainer(scene);\n  var url = window.AWS + \"/hardDrives/Corona/\"\n  SceneLoader.LoadAssetContainer(url, \"Corona2.obj\", scene, function (container) {\n    var meshes = container.meshes;\n    // var materials = container.materials;\n\n    // console.log(\"meshes\", meshes);\n\n    var bottle = meshes[1];\n    var diam = 280;\n    container.addAllToScene();  // Adds all elements to the scene\n    water.addToRenderList(bottle);\n\n    let bottleVectors = [\n      {},\n      { \"id\": 0, \"pos\": { \"x\": 88, \"y\": 0, \"z\": 128 }, \"rot\": { \"x\": 0, \"y\": 0, \"z\": 0 } },\n      { \"id\": 1, \"pos\": { \"x\": 38, \"y\": 0, \"z\": 78 }, \"rot\": { \"x\": 0, \"y\": 0, \"z\": 0 } },\n      { \"id\": 2, \"pos\": { \"x\": 68, \"y\": 0, \"z\": 108 }, \"rot\": { \"x\": 0, \"y\": 0, \"z\": 0 } },\n      { \"id\": 3, \"pos\": { \"x\": 0, \"y\": 0, \"z\": 108 }, \"rot\": { \"x\": 0, \"y\": 0, \"z\": 0 } },\n      { \"id\": 4, \"pos\": { \"x\": -88, \"y\": 0, \"z\": 98 }, \"rot\": { \"x\": 0, \"y\": 0, \"z\": 0 } },\n      { \"id\": 5, \"pos\": { \"x\": -78, \"y\": 0, \"z\": 68 }, \"rot\": { \"x\": 0, \"y\": 0, \"z\": 0 } },\n      { \"id\": 6, \"pos\": { \"x\": 3, \"y\": 0, \"z\": 148 }, \"rot\": { \"x\": 0, \"y\": 0, \"z\": 0 } },\n      { \"id\": 7, \"pos\": { \"x\": 4, \"y\": 0, \"z\": 28 }, \"rot\": { \"x\": 0, \"y\": 0, \"z\": 0 } },\n      { \"id\": 8, \"pos\": { \"x\": -40, \"y\": 0, \"z\": -98 }, \"rot\": { \"x\": 0, \"y\": 0, \"z\": 0 } }, // back\n      { \"id\": 8, \"pos\": { \"x\": -70, \"y\": 0, \"z\": 98 }, \"rot\": { \"x\": 0, \"y\": 0, \"z\": 0 } },\n\n      // back (repeat)\n      { \"id\": 0, \"pos\": { \"x\": 88, \"y\": 0, \"z\": -128 }, \"rot\": { \"x\": 0, \"y\": 0, \"z\": 0 } },\n      { \"id\": 1, \"pos\": { \"x\": 38, \"y\": 0, \"z\": -78 }, \"rot\": { \"x\": 0, \"y\": 0, \"z\": 0 } },\n      { \"id\": 2, \"pos\": { \"x\": 68, \"y\": 0, \"z\": -108 }, \"rot\": { \"x\": 0, \"y\": 0, \"z\": 0 } },\n      { \"id\": 3, \"pos\": { \"x\": 0, \"y\": 0, \"z\": -108 }, \"rot\": { \"x\": 0, \"y\": 0, \"z\": 0 } },\n      { \"id\": 4, \"pos\": { \"x\": -88, \"y\": 0, \"z\": -98 }, \"rot\": { \"x\": 0, \"y\": 0, \"z\": 0 } },\n      { \"id\": 5, \"pos\": { \"x\": -78, \"y\": 0, \"z\": -68 }, \"rot\": { \"x\": 0, \"y\": 0, \"z\": 0 } },\n      { \"id\": 6, \"pos\": { \"x\": 3, \"y\": 0, \"z\": -148 }, \"rot\": { \"x\": 0, \"y\": 0, \"z\": 0 } },\n\n\n      // left\n      { \"id\": 0, \"pos\": { \"x\": 188, \"y\": 0, \"z\": 48 }, \"rot\": { \"x\": 0, \"y\": 0, \"z\": 0 } },\n      { \"id\": 1, \"pos\": { \"x\": 138, \"y\": 0, \"z\": 28 }, \"rot\": { \"x\": 0, \"y\": 0, \"z\": 0 } },\n      { \"id\": 2, \"pos\": { \"x\": 168, \"y\": 0, \"z\": 0 }, \"rot\": { \"x\": 0, \"y\": 0, \"z\": 0 } },\n      { \"id\": 3, \"pos\": { \"x\": 100, \"y\": 0, \"z\": -20 }, \"rot\": { \"x\": 0, \"y\": 0, \"z\": 0 } },\n\n\n      // right\n      { \"id\": 0, \"pos\": { \"x\": -188, \"y\": 0, \"z\": 30 }, \"rot\": { \"x\": 0, \"y\": 0, \"z\": 0 } },\n      { \"id\": 1, \"pos\": { \"x\": -138, \"y\": 0, \"z\": 20 }, \"rot\": { \"x\": 0, \"y\": 0, \"z\": 0 } },\n      { \"id\": 2, \"pos\": { \"x\": -168, \"y\": 0, \"z\": 0 }, \"rot\": { \"x\": 0, \"y\": 0, \"z\": 0 } },\n      { \"id\": 3, \"pos\": { \"x\": -100, \"y\": 0, \"z\": -18 }, \"rot\": { \"x\": 0, \"y\": 0, \"z\": 0 } },\n    ]\n\n\n\n\n\n    for (let i = 1; i < bottleVectors.length; i++) {\n      let copy = container.instantiateModelsToScene().rootNodes[0];\n      copy.rotation.y = getRandom() * Math.PI * 2;\n      copy.rotation.x = Math.PI;\n      copy.rotation.z = (-.3 + getRandom() * .6);\n      copy.position.y = 2; //Math.abs((Math.sin(((x / 0.05) + time * water.waveSpeed)) * water.waveHeight * water.windDirection.x * 5.0) + (Math.cos(((z / 0.05) +  time * water.waveSpeed)) * water.waveHeight * water.windDirection.y * 5.0));\n      // copy.position.x = getRandom()*diam-diam/2;\n      // copy.position.z = getRandom()*diam-diam/2;\n\n      // copy.rotation.x = bottleVectors[i].rot.x;\n      // copy.rotation.y = bottleVectors[i].rot.y;\n      // copy.rotation.z = bottleVectors[i].rot.z;\n      copy.position.x = bottleVectors[i].pos.x;\n      // copy.position.y = bottleVectors[i].pos.y;\n      copy.position.z = bottleVectors[i].pos.z;\n\n      bottles.push(copy);\n      water.addToRenderList(copy);\n    }\n\n    // printBottles(bottles);\n  });\n\n}\n\nfunction addPalms(scene) {\n  var container = new AssetContainer(scene);\n  var url = window.AWS + \"/hardDrives/palm/\";\n  SceneLoader.LoadAssetContainer(url, \"QueenPalmTree.obj\", scene, function (container) {\n    var meshes = container.meshes;\n\n    let positions = [{ x: -5, y: 0, z: -2 }, { x: 5, y: 0, z: -2 }, { x: 4, y: 0, z: -10 }, { x: -4, y: 0, z: -10 }]\n\n    meshes[1].rotation.y = 0;\n    meshes[1].scaling = new Vector3(scaler, scaler, scaler);\n    meshes[1].position.x = positions[0].x * scaler;\n    meshes[1].position.y = positions[0].y * scaler;\n    meshes[1].position.z = positions[0].z * scaler;\n\n    trees.push(meshes[1]);\n\n    container.addAllToScene();  // Adds all elements to the scene\n    water.addToRenderList(trees[0]);\n\n    for (let i = 1; i < positions.length; i++) {\n      let copy = container.instantiateModelsToScene().rootNodes[1];\n      copy.rotation.y = Math.PI * 1.5;\n      copy.position.x = positions[i].x * scaler;\n      copy.position.z = positions[i].z * scaler;\n      trees.push(copy);\n      water.addToRenderList(copy);\n    }\n\n  });\n\n}\n\n\nconst mapStateToProps = (state) => {\n  return {\n    ui: state.ui\n  }\n}\n\nconst mapDispatchToProps = () => {\n  return {\n    // doneLoadingApp\n    setSketchMusic\n  }\n}\n\n\nexport default connect(mapStateToProps, mapDispatchToProps())(HardDrives);\n","import { Engine, Scene } from 'babylonjs'\nimport React, { useEffect, useRef, useState } from 'react'\n\nexport default (props) => {\n  const reactCanvas = useRef(null);\n  const { antialias, engineOptions, adaptToDeviceRatio, sceneOptions, onRender, onSceneReady, ...rest } = props;\n\n  useEffect(() => {\n    if(reactCanvas.current) {\n      const engine = new Engine(reactCanvas.current, antialias, engineOptions, adaptToDeviceRatio);\n      const scene = new Scene(engine, sceneOptions);\n      if (scene.isReady()) {\n        props.onSceneReady(scene)\n      } else {\n        scene.onReadyObservable.addOnce((scene) => props.onSceneReady(scene));\n      }\n\n      engine.runRenderLoop(() => {\n        if (typeof onRender === 'function') {\n          onRender(scene);\n        }\n        scene.render();\n      })\n\n      const resize = () => {\n        scene.getEngine().resize();\n      }\n\n      if (window) {\n        window.addEventListener('resize', resize);\n      }\n\n      return () => {\n        scene.getEngine().dispose();\n\n        if (window) {\n          window.removeEventListener('resize', resize);\n        }\n      }\n    }\n  }, [reactCanvas])\n\n  return (\n    <canvas touch-action=\"none\" id=\"renderCanvas\" tabIndex=\"1\" ref={reactCanvas} {...rest} />\n  );\n}\n","import React from 'react';\nimport './Frame.css';\nimport Toolbar from './Toolbar';\n// import Draggable from 'react-draggable';\n\nclass FrameSimple extends React.Component {\n  // https://codepen.io/JohJakob/pen/YPxgwo\n\n  // constructor(props) {\n  //   super(props);\n  //   this.state = {\n  //     isMinimized: false,\n  //     isClosed: false\n  //   }\n  //\n  //   this.toggleClosed = this.toggleClosed.bind(this);\n  //\n  // }\n\n  render() {\n    let toolBarH = 30;\n\n    // var title = this.props.title;\n\n    let x = Math.floor(this.props.px);\n    let y = Math.floor(this.props.py);\n    var sty = {\n      width: this.props.width,\n      height: this.props.height + toolBarH,\n      left: x,\n      top: y,\n      // display: this.state.isClosed?\"none\":\"block\"\n    }\n\n    let classN = \"Frame FrameSimple\";\n    if (this.props.notAbsolute) classN += \" static\"\n\n    // so i guess x/y in <FrameSimple x={..} ...} doesn't do anything?\n    // but px={} py={} does?\n    // how does this differ from <Frame ..> ?\n    // oh frame simple isn't draggable.. doi\n\n     return (\n      <div className={classN} style={sty}>\n        <div className=\"window\" style={this.props.windowStyle}>\n          <Toolbar title={this.props.title} toggleClosed={this.toggleClosed} toggleMinimzed={this.toggleMinimzed} toggleMaximized={this.toggleMaximized} />\n\n          <div className=\"content\">\n            {this.props.content}\n          </div>\n\n        </div>\n      </div>\n\n    );\n  }\n\n  toggleMinimzed() {\n    //ok...\n  }\n\n  toggleClosed() {\n    // this.setState({isClosed: true});\n  }\n}\n\n\n\nexport default FrameSimple\n","import React from 'react';\nimport FrameSimple from '../../shared/Frame/FrameSimple';\n\nclass Birds extends React.Component {\n\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      birdInitialsX: [],\n      birdInitialsY: [],\n      numVisibleBirds : 4,\n      flyIndex: 0,\n      flyDirection: true\n    }\n  }\n\n  componentDidMount() {\n    this.initBirds();\n    this.interval = setInterval(this.updateBirds, 50);\n  }\n\n  componentWillUnmount() {\n    clearInterval(this.interval);\n  }\n\n  render() {\n    return (\n      <div className=\"birds\">\n        {this.state.birdInitialsX.map((pos, index) => {\n          return (this.getBird(index))\n        })}\n      </div>\n    )\n  }\n\n  initBirds = () => {\n    let birds = [];\n    let xSpace = 100;\n    let ySpace = 80;\n    // let num = Math.floor(4*Math.random()+2);\n    // let d =  Math.random();\n    const dir = true;\n    const birdInitialsX = [];\n    const birdInitialsY = [];\n    const num = 5;\n    for (var i = 0; i < num; i++) {\n      let mid = num/2;\n\n      let dx = i * xSpace + Math.random()*30;\n      if (i >= mid) dx = (num - i) * xSpace + Math.random()*30;\n      if (num%2 == 0 && i>= mid) dx += xSpace/2;\n\n      let dy = i * ySpace + Math.random()*10;\n\n      let x0 = dx-300;\n      let y0 = dy;\n      birdInitialsX[i] = x0;\n      birdInitialsY[i] = y0;\n    }\n    this.setState({birdInitialsX, birdInitialsY, flyDirection: dir});\n  }\n\n  updateBirds = () => {\n    const maxW = this.state.windowWidth+600;\n    const {flyIndex, flyDirection} = this.state;\n    if (flyIndex > maxW) {\n      this.setState(prevState => ({\n        flyDirection: Math.random()>.5?true:false,\n        flyIndex: 0,\n        numVisibleBirds: Math.floor(4*Math.random()+2)\n      }));\n    }\n    else {\n      const inc = 5;\n      this.setState({flyIndex: this.state.flyIndex+inc});\n    }\n  }\n\n  getBird = (index) => {\n    const bird = this.getBirdLocation(index);\n    return (\n      <FrameSimple title=\"\" content={\n          <div className={\"bird \" + (this.state.flyDirection?\"flippedX\":\"\")}></div>\n        }\n        width={78+2} key={index} windowStyle={{background: \"transparent\"}} height={60} px={bird.x} py={bird.y}\n        />\n    )\n  }\n\n  getBirdLocation = (index) => {\n    const {numVisibleBirds, flyIndex, flyDirection, birdInitialsX, birdInitialsY, windowWidth} = this.state;\n    const bird = {};\n    if (index < numVisibleBirds) {\n      if (flyDirection) {\n        bird.x = flyIndex + birdInitialsX[index];\n        bird.y = birdInitialsY[index]+50*Math.sin(bird.x/100);\n        bird.y = Math.floor(bird.y);\n      } else {\n        bird.x = (windowWidth+100) - (flyIndex + birdInitialsX[index]);\n        bird.y = birdInitialsY[index]+50*Math.sin(bird.x/100);\n        bird.y = Math.floor(bird.y);\n      }\n    }\n    else {\n      bird.x = -1000;\n      bird.y = -1000;\n    }\n    return bird;\n  }\n\n\n}\n\nexport default Birds;\n","import React from 'react';\nimport Frame from '../../shared/Frame/Frame';\n// import FrameSimple from '../../shared/Frame/FrameSimple';\nimport './Wasted.css';\n\n// store\nimport { connect } from 'react-redux';\nimport {setNoSketchMusic} from '../../../store/actions/music';\n// import { doneLoadingApp } from '../../../store/actions/';\n\nclass Wasted extends React.Component {\n  // https://codepen.io/JohJakob/pen/YPxgwo\n  constructor(props) {\n    super(props);\n\n    this.startTime = 0;\n\n    this.state = {\n      currentFrame: 14,\n      increasing: true,\n      currentText: \"wasted\"\n    }\n\n    this.gridNum = 8;\n    this.setFrame = this.setFrame.bind(this);\n    this.setText = this.setText.bind(this);\n    this.heightBuffer = 70;\n\n\n    this.words = [\"wasted\", \"days\", \"are\", \"days\", \"wasted\"];\n\n  }\n\n\n  componentDidMount() {\n    this.props.setNoSketchMusic();\n    this.startTime = new Date();\n    this.intervalFrames = setInterval(this.setFrame, 200);\n  }\n\n  componentWillUnmount() {\n    clearInterval(this.intervalFrames);\n  }\n\n  setText() {\n    var wordIndex = Math.floor((this.state.currentFrame + 1) / 2);\n    if (wordIndex >= this.words.length) wordIndex = this.words.length - 1;\n    else if (wordIndex < 0) wordIndex = 0;\n    var word = this.words[wordIndex];\n    if (word) word = word.toUpperCase();\n    this.setState({ currentText: word });\n  }\n\n  setFrame() {\n    var fr = this.state.currentFrame;\n    if (this.state.increasing) {\n      fr++;\n      if (fr > this.gridNum) {\n        fr = this.gridNum;\n        this.setState({ increasing: false });\n      }\n    } else {\n      fr--;\n      if (fr < -2) {\n        fr = -1;\n        this.setState({ increasing: true });\n      }\n    }\n    this.setState({ currentFrame: fr });\n    this.setText();\n  }\n\n  render() {\n    const { ui } = this.props;\n    var fs = ui.width / 10;\n    if (fs > 180) fs = 180;\n\n    var grids = [];\n    for (var i = 0; i < this.gridNum; i++) {\n      grids.push(i);\n    }\n\n    // const bkImg = window.AWS + \"/three/3D/alps.jpg\";\n    const bkStyle = {};\n    // bkStyle.backgroundImage = 'url(' + bkImg + ')';\n\n    return (\n      <div className=\"Spacetimes Sketch\" style={bkStyle}>\n        { <div className=\"palindrome\" style={{ visibility: \"visible\", fontSize: fs }}>{this.state.currentText}</div>}\n\n\n        {grids.map((i) => {\n          let factor = ui.width / 1000;\n          if (factor > 1.5) factor = 1.5;\n          if (factor < .8) factor = .5;\n          const val = (980 - 100 * i) * factor;\n          const x = ui.width / 2 - val / 2;\n          const y = (ui.height - this.heightBuffer) / 2 - val / 2;\n          let title = this.words[(7 - i) % (this.words.length - 1)];\n\n          // console.log(windowHeight, y, val);\n          if (val < 150) title = \"...\";\n\n          return (<GridFrame\n            title={title}\n            isMinimized={false}\n            isHidden={this.state.currentFrame < i ? true : false}\n            dimW={val}\n            dimH={val}\n            key={i}\n            // src={bkImg}\n            src={ window.AWS+\"/spacetimes/parrot.png\"}\n            dimX={x}\n            dimY={y}\n          />);\n\n        }\n\n        )}\n      </div>\n    );\n  }\n\n}\n\nfunction GridFrame(props) {\n  return (\n    <Frame title={props.title}\n      isMinimized={props.isMinimized}\n      isHidden={props.isHidden}\n      content={\n        <img\n          className={\"grid-img\"}\n          width={props.dimW + \"px\"}\n          height={props.dimW + \"px\"}\n          src={props.src}\n          alt=\"3d grid background\"\n        />\n      }\n      width={props.dimW} height={props.dimW} x={props.dimX} y={props.dimY}\n    />\n  )\n\n}\n\n\nconst mapStateToProps = (state) => {\n  return {\n    ui: state.ui\n  }\n}\n\nconst mapDispatchToProps = () => {\n  return {\n    // doneLoadingApp\n    setNoSketchMusic\n  }\n}\n\n\nexport default connect(mapStateToProps, mapDispatchToProps())(Wasted);\n","import React from 'react';\n\n// Babylon\nimport { Scene, AnaglyphUniversalCamera, UniversalCamera,PBRMaterial, HemisphericLight, Vector3, Vector2, SceneLoader,AssetContainer, MeshBuilder, StandardMaterial,  VideoTexture, CubeTexture, Color3,Color4, Mesh, Texture } from 'babylonjs';\nimport BabylonScene from '../../../shared/Babylon.jsx';\nimport { WaterMaterial } from 'babylonjs-materials';\n\nimport Frame from '../../../shared/Frame/Frame';\n\nimport {getRandomNum} from '../../../shared/Helpers/Helpers';\n\nvar camera, water, waterMesh;\nvar tubes = [];\nvar seed = 1;\n\nexport default function(props) {\n  return (\n    <Frame title=\"\" content={\n      <BabylonScene className=\"noSelect fullContent\" antialias onSceneReady={onSceneReady} onRender={onRender} id='babylon-canvas' />\n    }\n    width={props.w} height={props.h} x={props.x} y={props.y} />\n  )\n}\n\nfunction onRender(scene) {\n  // nada\n}\n\nfunction onSceneReady(scene) {\n  // const camera = new UniversalCamera(\"UniversalCamera\", new Vector3(0, 1, -25), scene);\n  camera = new AnaglyphUniversalCamera(\"af_cam\", new Vector3(0, 8, -5), 0.033, scene);\n  scene.clearColor = new Color4(0, 0, 0, 0);\n  camera.setTarget(new Vector3(4, -8, -2));\n\n  const canvas = scene.getEngine().getRenderingCanvas();\n  camera.attachControl(canvas, true);\n\n  const light = new HemisphericLight(\"light1\", new Vector3(0, 1, 0), scene);\n  light.intensity = 0.7;\n\n  // Skybox\n  var skyW = 1000;\n  var skybox = Mesh.CreateBox(\"skyBox\", skyW, scene);\n  var skyboxMaterial = new StandardMaterial(\"skyBox\", scene);\n  skyboxMaterial.backFaceCulling = false;\n  skyboxMaterial.reflectionTexture = new CubeTexture(window.AWS+\"/mars/skybox/grid\", scene);\n  skyboxMaterial.reflectionTexture.coordinatesMode = Texture.SKYBOX_MODE;\n  skyboxMaterial.diffuseColor = new Color3(0, 0, 0);\n  skyboxMaterial.specularColor = new Color3(0, 0, 0);\n  skyboxMaterial.disableLighting = true;\n  skybox.material = skyboxMaterial;\n\n  // Water\n  waterMesh = Mesh.CreateGround(\"waterMesh\", 512, 512, 32, scene, false);\n  waterMesh.position.y = -9;\n  water = new WaterMaterial(\"water\", scene, new Vector2(1024, 1024));\n  water.backFaceCulling = true;\n  water.bumpTexture = new Texture(window.AWS+\"/shared/waterbump.png\", scene);\n  waterGo();\n  water.colorBlendFactor = 0;\n  water.addToRenderList(skybox);\n  waterMesh.material = water;\n\n  // drain\n  // var drainTex = new BABYLON.Texture(window.AWS+\"/mars/drain1.png\", scene);\n  // addDrain(scene);\n  // loadWhale(scene);\n  // addInnerTubes(4, scene, water);\n  // addSwimmer(scene);\n}\n\nfunction waterGo() {\n  water.windForce = -5;\n  water.waveHeight = 0.8;\n  water.bumpHeight = 0.3;\n  water.waveLength = 0.3;\n}\n\nfunction waterStop() {\n  // water.windForce*=2;\n  water.waveHeight=0;\n  water.bumpHeight*=2;\n  // water.waveLength *=2;\n}\n\nfunction addSwimmer(scene) {\n  for (let i = 0; i < 2; i++) {\n    var scaler = 3;\n    var swimmer = MeshBuilder.CreatePlane(\"plane\", {}, scene);\n    // var disc = MeshBuilder.CreateSphere(\"sphere\", {}, scene);\n    swimmer.scaling = new Vector3(scaler, scaler, scaler);\n    swimmer.position.x = 11-i*6;\n    swimmer.position.y = -14;\n    swimmer.position.z = -4+i*4;\n    swimmer.rotation.x = Math.PI/2;\n    var tex = new Texture(window.AWS+\"/mars/swimmers/swimmer\" + (i+1) + \".png\", scene);\n    swimmer.material  = new StandardMaterial(\"myMaterial\", scene);\n    // swimmer.material.diffuseColor = new Color3(1,1,1);\n    swimmer.material.diffuseTexture = tex;\n    swimmer.material.diffuseTexture.hasAlpha = true;\n    // disc.material.ambientColor = new Color3(1,1,1);\n    water.addToRenderList(swimmer);\n  }\n\n}\n\nfunction addDrainBottom(scene) {\n\n  var disc = MeshBuilder.CreateDisc(\"disc\", scene);\n  var scaler = 8.5;\n  // var disc = MeshBuilder.CreateSphere(\"sphere\", {}, scene);\n  disc.scaling = new Vector3(scaler, scaler, scaler);\n  disc.position.x = 11;\n  disc.position.y = -14;\n  disc.position.z = -4;\n  disc.rotation.x = Math.PI/2;\n  disc.material  = new StandardMaterial(\"myMaterial\", scene);\n  disc.material.diffuseColor = new Color3(1,1,1);\n  // disc.material.ambientColor = new Color3(1,1,1);\n  water.addToRenderList(disc);\n}\n\nfunction loadWhale(scene) {\n  var container = new AssetContainer(scene);\n\n  var url = process.env.PUBLIC_URL + \"/assets/mars/Whale/\";\n  SceneLoader.LoadAssetContainer(url, \"Whale.glb\", scene, function (container) {\n    var meshes = container.meshes;\n    console.log(meshes);\n    var scaler = .5;\n    for (const mesh of meshes) {\n      mesh.scaling = new Vector3(scaler, scaler, scaler);\n      // mesh.position.x = positions[0].x*scaler;\n      mesh.position.y = -5;\n      var material = new StandardMaterial(\"whale\", scene);\n      material.diffuseColor = new Color3(0, 0, 1);\n      mesh.material = material;\n      //   mesh.position.z = positions[0].z*scaler;\n      water.addToRenderList(mesh);\n    }\n    // var mesh = meshes[1];\n\n    // water.addToRenderList(meshes[1]);\n\n    // }\n    container.addAllToScene();  // Adds all elements to the scene\n\n\n\n  });\n}\n\nfunction addDrain(scene) {\n  var container = new AssetContainer(scene);\n\n  var url = process.env.PUBLIC_URL + \"/assets/mars/Drain/\";\n  SceneLoader.LoadAssetContainer(url, \"FloorDrain.obj\", scene, function (container) {\n    var meshes = container.meshes;\n    var scaler = 4;\n    let positions = [{x: 2.5, y: -3, z: -1}];\n    // 9\n    for (var mesh of meshes) {\n      // var mesh = meshes[9];\n      mesh.rotation.y = 0;\n      mesh.scaling = new Vector3(scaler, scaler, scaler);\n      mesh.position.x = positions[0].x*scaler;\n      mesh.position.y = positions[0].y*scaler;\n      mesh.position.z = positions[0].z*scaler;\n      water.addToRenderList(mesh);\n    }\n\n    addDrainBottom(scene);\n    container.addAllToScene();  // Adds all elements to the scene\n\n\n\n  });\n\n\n}\n\nfunction addInnerTubes(num, scene, water) {\n  for (let i = 0; i < num; i++) {\n\n    var tubeMat = new StandardMaterial(\"groundMaterial\", scene);\n    tubeMat.diffuseColor = new Color3(getRandomNum(i+2), getRandomNum(i+3), getRandomNum(i+4));\n    tubeMat.specularColor = new Color3(0.5, 0.6, 0.87);\n    tubeMat.emissiveColor = new Color3(.1, .1, .1);\n    tubeMat.ambientColor = new Color3(0.23, 0.98, 0.53);\n    tubeMat.alpha = 0.8;\n\n    // texture\n    // var tubeTex = new Texture(window.AWS+\"/shared/black_sand.jpg\", scene);\n    // tubeTex.vScale = groundTexture.uScale = 20.0;\n    // tubeMat.diffuseTexture = groundTexture;\n\n    var tube = MeshBuilder.CreateTorus(\"torus\", {diameter: 6/3, thickness: 2/3}, scene);\n    tube.position.y = 2;\n    tube.rotation.y = Math.PI/2;\n    tube.position.x = getRandomNum(50+i)*20-10;\n    tube.position.z = getRandomNum(10+i)*20-10;\n    tube.material = tubeMat;\n    water.addToRenderList(tube);\n\n    tubes.push(tube);\n  }\n\n}\n","var emoji;\nvar emojisTransparent = [];\n\nexport default function sketch(p) {\n  ;\n\n  let ps = [];\n  let percent = 0;\n  let emojiS = 34;\n  let scaler = 1;\n\n  let velocities = [\n    { velX: { min: -.8, max: 5 }, velY: { min: -.5, max: 0 } },\n    { velX: { min: -5, max: 2 }, velY: { min: -.5, max: 0 } },\n    { velX: { min: -5, max: .8 }, velY: { min: -.5, max: 0 } },\n    { velX: { min: -5, max: .8 }, velY: { min: -.5, max: 0 } },\n    { velX: { min: -5, max: 5 }, velY: { min: -.5, max: 0 } },\n    { velX: { min: -.5, max: 5 }, velY: { min: -.5, max: 0 } }\n  ];\n  // let offsets =     [{x:215,y:328}, {x:215,y:215}, {x:50,y:195}, {x:134,y:244}, {x:260,y:335}, {x:285,y:320}];\n  // let offsetsMin =  [{x:215,y:348}, {x:215,y:245}, {x:70,y:215}, {x:154,y:274}, {x:270,y:365}, {x:285,y:340}];\n  // let offsetsMax =  [{x:215,y:328}, {x:215,y:215}, {x:50,y:195}, {x:134,y:244}, {x:260,y:335}, {x:285,y:320}];\n\n  // if (p.windowWidth < 500)\n  //   offsets = [{x:215,y:348}, {x:215,y:245}, {x:70,y:215}, {x:154,y:274}, {x:270,y:365}, {x:285,y:340}];\n  // else if (p.windowWidth > 2000)\n  //   offsets = [{x:215,y:328}, {x:215,y:215}, {x:50,y:195}, {x:134,y:244}, {x:260,y:335}, {x:285,y:320}];\n\n  // for (let i = 0; i < offsets.length; i++) {\n  //   offsets[i].x *= scaler; //mapVal(p.windowWidth, 375, 2560, offsetsMin[i].x, offsetsMax[i].x);\n  //   offsets[i].y *= scaler; //mapVal(p.windowWidth, 375, 2560, offsetsMin[i].x, offsetsMax[i].x);\n  // }\n  let offsets = [{ x: 215, y: 295 }, { x: 230, y: 204 }, { x: 80, y: 195 }, { x: 164, y: 244 }, { x: 280, y: 315 }, { x: 295, y: 290 }];\n\n  let degrees = [0, 60, 90, 80, 40, 0];\n\n\n\n  p.setup = function () {\n    p.createCanvas(p.windowWidth, p.windowHeight); //, p.WEBGL\n\n    emoji = p.loadImage(\"https://lmd-bucket.s3.us-east-2.amazonaws.com/sketches/wetStreams/wateremoji.png\", (img) => p.createEmojisTransparent());\n  };\n\n  p.myCustomRedrawAccordingToNewPropsHandler = function (props) {\n    if (props.origins) {\n      scaler = props.scaler; //p.constrain(props.scaler, .5, 1.0);\n      const tb = 24;\n      if (ps.length === 0) {\n        for (let i = 0; i < props.origins.length; i++) {\n          // let sc = constrain(props.scaler, .4, 1);\n          let offsetX = offsets[i].x * scaler;\n          let offsetY = (offsets[i].y - tb) * scaler + tb;\n          let x = props.origins[i].x + offsetX;\n          let y = props.origins[i].y + offsetY;\n          ps[i] = new ParticleSystem(p, p.createVector(x, y), velocities[i].velX, velocities[i].velY, degrees[i], props.isPlaying[i]);\n          ps[i].initParticles(40);\n        }\n      }\n      else {\n        scaler = props.scaler;\n        for (let i = 0; i < ps.length; i++) {\n          let offsetX = offsets[i].x * scaler;\n          let offsetY = (offsets[i].y - tb) * scaler + tb;\n          let x = props.origins[i].x + offsetX + props.deltas[i].x;\n          let y = props.origins[i].y + offsetY + props.deltas[i].y;\n          let isPlaying = props.isPlaying[i];\n          ps[i].origin.set(x, y, 0);\n          ps[i].isPlaying = isPlaying;\n        }\n\n      }\n    }\n  };\n\n  p.createEmojisTransparent = function () {\n    for (let i = 0; i < 5; i++) {\n      emojisTransparent[i] = p.createGraphics(emojiS, emojiS);\n      emojisTransparent[i].clear();\n      emojisTransparent[i].tint(255, p.map(i, -1, 4, 0, 255));\n      // let imgSc = p.constrain(scaler, .4, 1);\n      let imgSc = 1;\n      // emojisTransparent[i].rect(0, 0, emojiS*imgSc, emojiS*imgSc);\n      emojisTransparent[i].image(emoji, 0, 0, emojiS * imgSc, emojiS * imgSc);\n    }\n  }\n\n  p.draw = function () {\n    percent += .1;\n\n    p.clear();\n    if (ps.length > 0) {\n      ps.forEach((sys) => {\n        sys.run(percent, scaler);\n      })\n    }\n\n\n    // p.fill(255);\n    // p.noStroke();\n    // p.rect(50, 50, 50, 50);\n    // p.fill(0);\n    // p.textSize(30);\n    // p.text(p.round(p.frameRate()), 50, 80);\n\n  };\n\n  p.windowResized = () => {\n    p.resizeCanvas(p.windowWidth, p.windowHeight);\n  }\n\n};\n\n// The Nature of Code\n// Daniel Shiffman\n// http://natureofcode.com\n\n// Simple Particle System\n\nfunction Particle(p, origin, id, velX, velY, deg) {\n  this.p5 = p;\n  this.acceleration = this.p5.createVector(0, 0);\n  this.gravity = this.p5.createVector(0, 0.1);\n  // this.isLeft = isLeft;\n  this.velX = velX;\n  this.velY = velY;\n  this.deg = deg;\n  this.velocity = this.p5.createVector(this.p5.random(velX.min, velX.max), this.p5.random(velY.min, velY.max));\n  // if (isLeft) this.velocity = this.p5.createVector(this.p5.random(-.8,5),this.p5.random(0,.5));\n  // else this.velocity = this.p5.createVector(this.p5.random(-5,.8),this.p5.random(0,.5));\n  this.positionOG = this.p5.createVector(origin.x, origin.y);\n  this.position = this.p5.createVector(origin.x, origin.y);\n  this.lifespan = 0;\n  this.r = Math.random() * 15 + 8;\n  this.id = id;\n  this.launched = false;\n\n  this.run = function (percent, origin, scaler) {\n    this.update(percent, origin);\n    this.display(percent, scaler);\n  }\n\n  // Method to update position\n\n\n  this.update = function (percent, origin) {\n    if (this.launched) {\n      this.acceleration.add(this.gravity);\n      this.velocity.add(this.acceleration);\n\n      this.position.add(this.velocity);\n\n      // let bufferX = 50;\n      // if (this.position.y > window.innerHeight-100) {\n      //   this.velocity.y *= -1*Math.random()*.3-.1;\n      //   this.position.y = window.innerHeight-100;\n      // }\n      // if (this.position.x < bufferX) {\n      //   this.position.x = bufferX;\n      //   this.velocity.x *= -1;\n      // }\n      // if (this.position.x > window.innerWidth-bufferX) {\n      //   this.position.x = window.innerWidth-bufferX;\n      //   this.velocity.x *= -1;\n      // }\n\n      this.acceleration.mult(0);\n      this.lifespan += 1;\n\n      this.isDead(origin);\n    }\n    // let c = 0.02;\n    // let friction = this.p5.createVector(this.velocity.x,this.velocity.y,this.velocity.z);\n    // friction.mult(-1);\n    // friction.normalize();\n    // friction.mult(c);\n    // this.acceleration.add(friction);\n\n  }\n\n\n  // Method to display\n  this.display = function (percent, scaler) {\n    if (this.launched) {\n      this.p5.noStroke();\n      let alpha = this.p5.map(this.lifespan, 0, 60, 255, 0);\n      this.p5.fill(0, alpha);\n      this.p5.textSize(30);\n      this.p5.push();\n      // this.p5.imageMode(this.p5.CENTER);\n      this.p5.translate(this.position.x, this.position.y);\n      this.p5.rotate(this.p5.radians(this.deg))\n      // this.p5.tint(alpha);\n\n      let index = this.p5.map(this.lifespan, 40, 0, 0, emojisTransparent.length - 1);\n      index = this.p5.floor(index);\n      if (emoji && emojisTransparent[index]) {\n        // this.p5.image(emoji, 0, -24, 30, 30);\n        this.p5.image(emojisTransparent[index], 0, 0);\n      }\n      // this.p5.noTint();\n      this.p5.pop();\n      // this.p5.ellipse(this.position.x,this.position.y,this.r,this.r);\n    }\n\n  }\n\n  // Is the particle still useful?\n  this.isDead = function (origin) {\n    if (this.lifespan > 40) {\n      this.launched = false;\n    }\n  }\n\n  this.launch = function (origin) {\n    if (!this.launched) {\n      this.lifespan = 0;\n      this.launched = true;\n      this.positionOG = this.p5.createVector(origin.x, origin.y);\n      this.position = this.p5.createVector(origin.x, origin.y);\n      // if (this.isLeft) this.velocity = this.p5.createVector(this.p5.random(-.8,5),this.p5.random(0,.5));\n      // else this.velocity = this.p5.createVector(this.p5.random(-5,.8),this.p5.random(0,.5));\n      this.velocity = this.p5.createVector(this.p5.random(velX.min, velX.max), this.p5.random(velY.min, velY.max));\n      return true;\n    }\n    return false;\n  }\n}\n\n// function percentBar(p5, x, y, w) {\n//   this.x = x;\n//   this.y = y;\n//   this.w = w;\n//   this.p5 = p5;\n//\n//   this.display = function(percent) {\n//     let swimmer = \"🏊🏾\";\n//     let posX = this.p5.map(percent, 0, 100, this.x, this.x + this.w);\n//     let posY = this.y + 10*this.p5.sin(this.p5.frameCount/10);\n//\n//     this.p5.textSize(40);\n//     this.p5.push();\n//     this.p5.scale(-1, 0);\n//     this.p5.translate(this.p5.textWidth(swimmer) + this.x, this.y);\n//     this.p5.text(swimmer, 0, 0);\n//     this.p5.pop();\n//   }\n// }\n\nfunction ParticleSystem(p, position, velX, velY, deg, isPlaying) {\n  this.p5 = p;\n  this.particles = [];\n  this.numParticle = 0;\n  this.origin = this.p5.createVector(position.x, position.y);\n  this.percent = 0;\n  // this.isLeft = true; //isLeft;\n  this.launchIndex = 0;\n  this.velX = velX;\n  this.velY = velY;\n  this.deg = deg;\n  this.isPlaying = isPlaying;\n\n  this.initParticles = function (num) {\n    for (let i = 0; i < num; i++) {\n      this.addParticle(i);\n    }\n  }\n\n  this.launchParticle = function () {\n    let p = this.particles[this.launchIndex % this.particles.length];\n    if (p.launch(this.origin)) this.launchIndex++;\n  }\n\n  this.setPercent = function (percent) {\n    this.percent = percent;\n  }\n\n  this.addParticle = function (id) {\n    this.particles.push(new Particle(this.p5, this.origin, id, this.velX, this.velY, this.deg));\n  }\n\n  this.run = function (percent, scaler) {\n    // if (this.percent > 100) this.percent = 100;\n    // this.percent = this.p5.mouseX/10; //this.p5.map(this.p5.mouseX, 0, window.innerWidth, 0, 100);\n    this.particles.forEach((particle) => {\n      particle.run(percent, this.origin, scaler);\n    });\n    if (this.isPlaying) {\n      this.launchParticle();\n    }\n  }\n}\n","import React from 'react';\nimport Frame from '../../../shared/Frame/Frame';\n\n\nclass SwimLane extends React.Component {\n\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      swimmerPos: [{y:3, dir:1}, {y:2, dir:-1}]\n    }\n\n    this.numSwimmers = Math.ceil(this.props.h/36.9);\n\n\n    this.getSwimmerLanes = this.getSwimmerLanes.bind(this);\n    this.changeSwimLane = this.changeSwimLane.bind(this);\n\n  }\n\n\n  componentDidMount() {\n    this.swimInterval = setInterval(this.changeSwimLane, 400);\n  }\n\n  componentWillUnmount() {\n    clearInterval(this.swimInterval);\n  }\n\n  render() {\n    const {w, h, x, y} = this.props;\n\n    return (\n      <Frame title=\"\" content={\n        <div className=\"umbrellas\">\n        {this.getSwimmerLanes()}\n        <div className=\"waterCover\"></div>\n        </div>\n      }\n      width={w} height={h} windowStyle={{background: \"black\"}} x={x} y={y}\n      />\n    )\n  }\n\n  changeSwimLane = () => {\n\n    const swimmerPos = [...this.state.swimmerPos];\n    for (let i = 0; i < swimmerPos.length; i++) {\n      const swimmer = {...swimmerPos[i]};\n      if (swimmer.dir === 1) {\n        swimmer.y++;\n        if (swimmer.y >= this.numSwimmers) {\n          swimmer.y = this.numSwimmers-1;\n          swimmer.dir = -1;\n        }\n      }\n      else {\n        swimmer.y--;\n        if (swimmer.y < 0) {\n          swimmer.y = 0;\n          swimmer.dir = 1;\n        }\n\n      }\n      swimmerPos[i] = swimmer;\n    }\n\n    this.setState({swimmerPos});\n  }\n\n  getSwimmerLanes = () => {\n    const swimmerPos = [...this.state.swimmerPos];\n    const y0 = swimmerPos[0].y;\n    const dir0 = swimmerPos[0].dir;\n    const y1 = swimmerPos[1].y;\n    const dir1 = swimmerPos[1].dir;\n    const lanes = [];\n    for (let i = 0; i < this.numSwimmers; i++) {\n      lanes[i] = i;\n    }\n    return (\n      <div className=\"lanes\">\n      {lanes.map((i) => {\n        let lane0 = \"\";\n        let lane1 = \"\";\n        let lane0Class =\"water\";\n        let lane1Class=\"water\";\n        if (i == y0) {\n          lane0=<img height={40} width={40} src={window.AWS+\"/mars/womanswim.png\"} />;\n          // if (dir0 === 1) lane0Class=\"rot\";\n          // else lane0Class=\"rotNeg90\";\n        }\n        if (i == y1) {\n          lane1=<img height={40} width={40} src={window.AWS+\"/mars/manswim.png\"} />;\n          // if (dir1 === 1) lane1Class=\"rot90\";\n          // else lane1Class=\"rotNeg90\";\n        }\n        return (\n          <div key={i} className=\"swimRow\"><span className={lane0Class} >{lane0}</span><span className={lane1Class} >{lane1}</span></div>\n        )\n      })}\n      </div>\n    )\n  }\n}\n\n\nexport default SwimLane;\n","import React from 'react';\nimport Frame from '../../../shared/Frame/Frame';\n\nexport default function(props) {\n\n  const {w, h, x, y, factor, buttonClick} = props;\n\n  const buttonStyle = {\n    paddingTop: Math.floor(factor * 16),\n    width: Math.floor(factor * 74), \n    fontSize: Math.floor(factor * 55)\n  };\n\n  const ftStyle = {\n    fontSize: Math.floor(factor * 18)\n  } \n  \n  return (\n    <Frame title=\"\" content={\n      <div className=\"tank\" style={{backgroundSize: `${Math.floor(39*factor)}px ${Math.floor(40*factor)}px`}}>\n      <button style={buttonStyle} onClick={() => {buttonClick(3)}}><span className=\"swimSign\">0</span><span style={ftStyle}>ft</span></button>\n      <button style={buttonStyle} onClick={() => {buttonClick(2)}}><span className=\"swimSign\">3</span><span style={ftStyle}>ft</span></button>\n      <button style={buttonStyle} onClick={() => {buttonClick(1)}}><span className=\"swimSign\">5</span><span style={ftStyle}>ft</span></button>\n      <button style={buttonStyle} onClick={() => {buttonClick(0)}}><span className=\"swimSign\">8</span><span style={ftStyle}>ft</span></button>\n      </div>\n    }\n    width={w} height={h} x={x} y={y}\n    />\n  )\n}\n","import React from 'react';\nimport Frame from '../../../shared/Frame/Frame';\n\n\nclass Chairs extends React.Component {\n\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      chairY: 0\n    }\n  }\n\n\n  componentDidMount() {\n    this.chairInterval = setInterval(this.chairUpdate, 50);\n  }\n\n  componentWillUnmount() {\n    clearInterval(this.chairInterval);\n  }\n\n  chairUpdate = () => {\n    this.setState({chairY: this.state.chairY+2});\n  }\n\n  render() {\n    const {w, h, x, y, factor} = this.props;\n    let sz = Math.floor(200*factor);\n    const chairStyle = {color: \"red\", backgroundPosition: `${this.state.chairY}px 0`, backgroundSize: `${sz}px ${sz}px`};\n\n    return (\n      <Frame title=\"\" content={<div className=\"blueChair\" style={chairStyle}></div>} width={w} height={h} x={x} y={y} />\n    )\n  }\n\n\n}\n\n\nexport default Chairs;\n","\n\nimport React from 'react';\nimport Frame from '../../../shared/Frame/Frame';\nimport { connect } from 'react-redux';\n\nclass BigCrater extends React.Component {\n\n  constructor(props) {\n    super(props);\n\n    this.poolRef = React.createRef();\n  }\n\n\n  componentDidUpdate(prevProps) {\n    const { ui } = this.props;\n    if (ui.compositionStarted && !prevProps.ui.compositionStarted) {\n      this.poolRef.current.play();\n    }\n  }\n\n  render() {\n    const { w, h, x, y, isFlipped, poolVid } = this.props;\n    const vidC = isFlipped ? \" rot90\" : \"\";\n\n    return (\n      <Frame title=\"\" content={\n        <div className={\"bigCrater\" + vidC} style={{ height: `${h}px`, backgroundSize: `${w}px ${h}px` }}>\n          <video\n            playsInline\n            className={\"poolVid\"}\n            ref={this.poolRef}\n            style={{ height: `${h}px`, width: `${w}px` }}\n            autoPlay\n            muted\n            loop>\n            <source src={poolVid} type=\"video/mp4\" ></source>\n      Your browser does not support HTML5 video.\n      </video>\n        </div>\n      }\n        width={w} height={h} x={x} y={y}\n      />\n    )\n  }\n}\n\nconst mapStateToProps = (state) => {\n  return {\n    ui: state.ui\n  }\n}\n\nconst mapDispatchToProps = () => {\n  return {\n  }\n}\n\n\nexport default connect(mapStateToProps, mapDispatchToProps())(BigCrater);\n\n","\n\n\n\nimport React from 'react';\nimport Frame from '../../../shared/Frame/Frame';\n\nexport default function(props) {\n\n  const {w, h, x, y, factor} = props;\n\n  return (\n    <Frame title=\"\" content={\n        <div className=\"smallCrater\" style={{backgroundSize: `${Math.floor(w)}px ${Math.floor(w)}px`}}>\n          <div className=\"bubbles\" style={{top: Math.floor(75*factor), left: Math.floor(74*factor)}}>\n            <img src={window.AWS + \"/mars/bubbles3.gif\"} width={w} height={h} />\n          </div>\n        </div>\n      }\n        width={w} height={h} x={x} y={y}\n      />\n  )\n}\n","\n\n\n\nimport React from 'react';\nimport Frame from '../../../shared/Frame/Frame';\n\nexport default function(props) {\n\n  const {w, h, x, y, factor} = props;\n\n  return (\n    <Frame title=\"\" \n    content={<div className=\"diving\" style={{height: Math.floor(152*factor), width: Math.floor(500*factor)}}></div>} \n    width={w} \n    height={h} \n    x={x} \n    y={y} \n    />\n\n  )\n}\n","\n\n\n\nimport React from 'react';\nimport {connect} from 'react-redux';\n\nimport BabylonWaterScene from './BabylonWater';\nimport SwimLane from './SwimLane';\nimport PoolButtons from './PoolButtons';\nimport Chairs from './Chairs';\nimport BigCrater from './BigCrater';\nimport SmallCrater from './SmallCrater';\nimport Board from './Board';\n\nimport { mapVal, constrain } from '../../../shared/Helpers/Helpers';\n\nclass MarsDesktop extends React.Component {\n\n\n    constructor(props) {\n        super(props);\n\n\n        this.poolVid0 = window.AWS + \"/mars/pool/mars_0.mp4\"\n        this.poolVid1 = window.AWS + \"/mars/pool/mars_1.mp4\"\n        this.poolVid2 = window.AWS + \"/mars/pool/mars_2.mp4\"\n        this.poolVid3 = window.AWS + \"/mars/pool/mars_3.mp4\"\n\n        this.state = {\n            poolVid: this.poolVid1\n        }\n    }\n\n\n    componentDidMount() {\n        this.props.addClass(\"overflow-all\");\n    }\n\n    componentWillUnmount() {\n        this.props.removeClass(\"overflow-all\");\n    }\n\n\n    buttonClick = (num) => {\n        let vids = [this.poolVid0, this.poolVid1, this.poolVid2, this.poolVid3];\n        this.setState({ poolVid: vids[num] });\n    }\n\n\n    render() {\n\n        const spacing = 25;\n\n        const { ui } = this.props;\n        let width = window.innerWidth;\n        let height = window.innerHeight;\n        this.factor = mapVal(width, 1440, 2560, 1, 1.3);\n        this.factor = constrain(this.factor, .6, 1.3);\n\n        const sketchW = 1225 * this.factor + 2* spacing;\n        const sketchH = 640 * this.factor;\n\n        // 1325, 716\n        // console.log(\"min w/h:\", sketchW+spacing*2, sketchH+spacing*2);\n\n        const startX = Math.max((width - sketchW)/2, spacing);\n\n        // isn't from start of header bar b/c overflow all\n        const startY = ui.headerH + (ui.contentH - (sketchH + ui.toolbarH))/2;\n        //(height-sketchH-ui.toolbarH)/2;//Math.max((height - sketchH + 34) / 2, spacing);\n\n\n        const pool = {\n            x: startX,\n            h: 640 * this.factor,\n            y: startY,\n            w: 0\n        };\n        pool.w = 548 / 1080 * pool.h;\n\n        const chairs = {\n            w: 600 * this.factor,\n            h: 200 * this.factor,\n            x: pool.x + pool.w + spacing,\n            y: pool.y\n        };\n        const smallCrater = {\n            w: 300 * this.factor,\n            h: 300 * this.factor,\n            x: chairs.x + chairs.w + spacing,\n            y: pool.y\n        };\n        const bab = {\n            w: chairs.w,//500,\n            h: pool.h - chairs.h - spacing - ui.toolbarH,\n            y: chairs.y + chairs.h + ui.toolbarH + spacing,\n            x: pool.x + pool.w + spacing//chairs.x + chairs.w - 500\n        };\n        const board = {\n            w: 500 * this.factor,\n            h: 152 * this.factor,\n            x: smallCrater.x + smallCrater.w - 500 * this.factor,\n            y: pool.y + pool.h - 152 * this.factor\n        };\n        const swimLaneFrame = {\n            w: 80 * this.factor,\n            h: 36 * 8.8 * this.factor,//bab.h,\n            x: bab.x + 30,//pool.x + pool.w + spacing,\n            y: bab.y + 50//chairs.y + chairs.h + toolbarH + spacing\n        };\n\n        const tank = {\n            w: smallCrater.w,\n            h: pool.h - smallCrater.h - board.h - 2 * ui.toolbarH - 2 * spacing,\n            x: smallCrater.x,\n            y: smallCrater.h + smallCrater.y + ui.toolbarH + spacing\n        }\n\n        const {poolVid} = this.state;\n\n        return (\n            <React.Fragment>\n                <div className=\"Mars-Desktop\">\n                <BigCrater w={pool.w} h={pool.h} x={pool.x} y={pool.y} poolVid={poolVid} />\n                <SmallCrater w={smallCrater.w} h={smallCrater.h} x={smallCrater.x} y={smallCrater.y} factor={this.factor} />\n                <PoolButtons w={tank.w} h={tank.h} x={tank.x} y={tank.y} factor={this.factor} buttonClick={this.buttonClick} />\n                <Chairs w={chairs.w} h={chairs.h} x={chairs.x} y={chairs.y} factor={this.factor} />\n                <BabylonWaterScene w={bab.w} h={bab.h} x={bab.x} y={bab.y} />\n                <Board w={board.w} h={board.h} x={board.x} y={board.y} factor={this.factor} />\n                <SwimLane w={swimLaneFrame.w} h={swimLaneFrame.h} x={swimLaneFrame.x} y={swimLaneFrame.y} />\n                </div>\n            </React.Fragment>\n        )\n    }\n\n}\n\n\n\nconst mapStateToProps = (state) => {\n    return {\n      ui: state.ui\n    }\n  }\n  \n  const mapDispatchToProps = () => {\n    return {\n  \n    }\n  }\n  \n  \n  export default connect(mapStateToProps, mapDispatchToProps())(MarsDesktop);\n  \n  ","\n\n\n\nimport React from 'react';\nimport { connect } from 'react-redux';\n// import { getCenterModalDim } from '../../../shared/CenterModal/Helper';\n// import CenterModal from '../../../shared/CenterModal/CenterModal';\n// import BabylonWaterScene from './BabylonWater';\n// import SwimLane from './SwimLane';\n// import PoolButtons from './PoolButtons';\nimport Chairs from './Chairs';\nimport BigCrater from './BigCrater';\n// import SmallCrater from './SmallCrater';\n// import Board from './Board';\n\n\n// import { mapVal, constrain } from '../../../shared/Helpers/Helpers';\n\nclass MarsMobile extends React.Component {\n\n\n    constructor(props) {\n        super(props);\n\n\n        this.poolVid0 = window.AWS + \"/mars/pool/mars_0.mp4\"\n        this.poolVid1 = window.AWS + \"/mars/pool/mars_1.mp4\"\n        this.poolVid2 = window.AWS + \"/mars/pool/mars_2.mp4\"\n        this.poolVid3 = window.AWS + \"/mars/pool/mars_3.mp4\"\n\n        this.state = {\n            poolVid: this.poolVid1,\n            isHidden: false\n        }\n    }\n\n\n    componentDidMount() {\n    }\n\n    componentWillUnmount() {\n    }\n\n    onHide = () => {\n        this.setState({ isHidden: true })\n    }\n\n    buttonClick = (num) => {\n        let vids = [this.poolVid0, this.poolVid1, this.poolVid2, this.poolVid3];\n        this.setState({ poolVid: vids[num] });\n    }\n\n    render() {\n        const {poolVid, isHidden} = this.state;\n        const {ui} = this.props;\n\n        let spacing = 20;\n        let availW = ui.contentW - spacing*2;\n        let availH = ui.contentH - spacing*2 - ui.toolbarH;\n\n        const pool = {\n            h: 640,\n            w: 325,\n            x: 0,\n            y: 0,\n            isFlipped: false\n        };\n        \n        if (ui.orientation === \"portrait\") {\n            // max h, setW\n            pool.w = pool.w * availH/pool.h;\n            pool.h = availH;\n            pool.x = (ui.contentW - pool.w)/2;\n            pool.y = ((ui.contentH - ui.toolbarH) - pool.h)/2; /// + ui.toolbarH;\n\n            return (\n                <BigCrater w={pool.w} h={pool.h} x={pool.x} y={pool.y} isFlipped={pool.isFlipped} poolVid={poolVid} />\n            )\n        }\n        else {\n            pool.h = 212;//pool.h * availW/pool.w;\n            pool.w = availW;\n            pool.x = (ui.contentW - pool.w)/2;\n            pool.y = ((ui.contentH - ui.toolbarH) - pool.h)/2 //+ ui.toolbarH;\n            pool.isFlipped = true;\n            return (\n                <Chairs w={pool.w} h={pool.h} x={pool.x} y={pool.y} factor={1} />\n            )\n        }\n\n        \n    }\n\n}\n\n\n\nconst mapStateToProps = (state) => {\n    return {\n        ui: state.ui\n    }\n}\n\nconst mapDispatchToProps = () => {\n    return {\n\n    }\n}\n\n\nexport default connect(mapStateToProps, mapDispatchToProps())(MarsMobile);\n\n","import React from 'react';\nimport \"./Mars.css\";\nimport MarsDesktop from './components/MarsDesktop';\nimport MarsMobile from './components/MarsMobile';\n\n// store\nimport { connect } from 'react-redux';\nimport { setSketchMusic } from '../../../store/actions/music';\n\nclass Mars extends React.Component {\n\n  constructor(props) {\n    super(props);\n\n\n  }\n\n\n  componentDidMount() {\n\n    this.props.setSketchMusic(\"mars\", 0, .1);\n  }\n\n  componentWillUnmount() {\n  }\n\n\n  justPool = () => {\n    const { ui } = this.props;\n    if (ui.orientation === \"portrait\" && ui.contentW < 750)\n      return true;\n    else if (ui.orientation === \"landscape\" && ui.contentH < 500)\n      return true;\n    return false;\n  }\n\n  render() {\n\n    return (\n      <div className=\"Mars Sketch\">\n        {this.justPool() ? <MarsMobile /> : <MarsDesktop addClass={this.props.addClass} removeClass={this.props.removeClass} />}\n      </div>\n    )\n  }\n\n\n}\n\n\nconst mapStateToProps = (state) => {\n  return {\n    ui: state.ui\n  }\n}\n\nconst mapDispatchToProps = () => {\n  return {\n    setSketchMusic\n  }\n}\n\n\nexport default connect(mapStateToProps, mapDispatchToProps())(Mars);\n\n","import React from 'react';\nimport Frame from '../../../shared/Frame/Frame';\n\nclass Shower extends React.Component {\n\n  constructor(props) {\n    super(props);\n\n    // this.state = {\n    //   deltaPosition: {x: 0, y: 0}\n    // }\n  }\n\n\n\n  render() {\n    const {isPlaying, dim, x, y, z, w, h, id, newFrameToTop, handleDrag, onMaximized, onMinimized, onClosed} = this.props;\n\n    let imgs = [7, 1, 3, 4, 8, 10];\n    let img = imgs[id];\n    let imgSrc = window.AWS+\"/wetStreams/showerHeads/\" + img + \".png\";\n    let title = \"\";\n    if (id === 1 && dim > 300) title = \"wet streams\";\n    let classn = id===5?\"showerhead flippedX\":\"showerhead\";\n\n    return (\n      <Frame id={id} onDrag={(position) => handleDrag(id, position)} title={\"\"} content={\n        <div className={classn}>\n        <img src={imgSrc} style={{width:w +\"px\", height:h+\"px\"}} alt=\"shower head\" />\n        </div>\n      }\n      width={w} height={h} x={x} y={y} onMaximized={() => onMaximized(id)} onMinimized={() => onMinimized(id)} onHide={() => onClosed(id)}  />\n    )\n  }\n}\n// z={z}\n//newFrameToTop={() => {newFrameToTop(id)}}\n\nexport default Shower;\n","import React from 'react';\nimport \"./WetStreams.css\";\n\n///////////////////// p5.js\nimport P5Wrapper from 'react-p5-wrapper';\nimport sketch from './wetSketch';\n\nimport Shower from './components/Shower';\nimport { connect } from 'react-redux';\nimport {setSketchMusic} from '../../../store/actions/music';\n\n// import {getNewZIndices} from '../../shared/Helpers/Helpers';\n// import Stair from './Stair';\n\n// import Glasses from '../../shared/Glasses/Glasses';\n\nclass WetStreams extends React.Component {\n\n  constructor(props) {\n    super(props);\n\n    // this.spacing = 15;\n    // const availH = window.innerHeight -34 -2*26-3*this.spacing;\n    // const dim = 300; //Math.max(availH/2, 300);\n    this.spacing = 15; //(window.innerHeight -30 -2*26-dim*2)/3;\n    // if (this.props.ui.contentW > 1500)\n    //   this.spacing = 60;\n    this.state = {\n      deltaPositions: [\n        { x: 0, y: 0 },\n        { x: 0, y: 0 },\n        { x: 0, y: 0 },\n        { x: 0, y: 0 },\n        { x: 0, y: 0 },\n        { x: 0, y: 0 }\n      ],\n      playingStreams: [true, true, true, true, true, true],\n      isMinimized: [false, false, false, false, false, false],\n      isClosed: [false, false, false, false, false, false],\n      // zIndices: [0, 1, 2, 3, 4, 5]\n    }\n  }\n\n\n  componentDidMount() {\n    // this.updateDimensions();\n    // window.addEventListener(\"resize\", this.updateDimensions.bind(this));\n    this.interval = setInterval(this.playStreamReset, 4000);\n    // this.props.userSetRoom(\"wet-streams\");\n    this.props.setSketchMusic(\"wetStreams\", 0, .6);\n  }\n\n  componentWillUnmount() {\n    // window.removeEventListener(\"resize\", this.updateDimensions.bind(this));\n    clearInterval(this.interval);\n    // this.props.userLeaveRoom(\"wet-streams\");\n  }\n\n  // updateDimensions() {\n  //   let showerFrame = {...this.state.showerFrame};\n  //   showerFrame.x = (window.innerWidth-showerFrame.w*3 - this.spacing*2)/2\n  //   showerFrame.y = Math.max((window.innerHeight -34 -2*26-showerFrame.h*2-this.spacing)/2, this.spacing)\n\n  //   this.setState({ showerFrame, windowWidth: window.innerWidth, windowHeight: window.innerHeight });\n  // }\n\n  playStreamReset = () => {\n    const playingStreams = [...this.state.playingStreams];\n    for (let i = 0; i < playingStreams.length; i++) {\n      playingStreams[i] = Math.random() > .4;\n    }\n    this.setState({ playingStreams })\n  }\n\n  // newFrameToTop = (id) => {\n  //   const newZ = getNewZIndices(id, this.state.zIndices);\n  //   this.setState({zIndices: newZ});\n  //   // console.log(\"ZZZ\", this.state.zIndices);\n  // }\n\n  onMinimized = (id) => {\n    let dps = [...this.state.isMinimized];\n    dps[id] = !dps[id];\n    this.setState({ isMinimized: dps });\n  }\n\n  onClosed = (id) => {\n    let dps = [...this.state.isClosed];\n    dps[id] = true;\n    this.setState({ isClosed: dps });\n  }\n\n  onMaximized = (id) => {\n    let dps = [...this.state.deltaPositions];\n    let dp = { ...dps[id] };\n    dp.x = 0;\n    dp.y = 0;\n    dps[id] = dp;\n    this.setState({ deltaPositions: dps });\n  }\n\n\n  handleDrag = (index, ui) => {\n    let dx = ui.deltaX;\n    let dy = ui.deltaY;\n    // 1. Make a shallow copy of the items\n    let dps = [...this.state.deltaPositions];\n    // 2. Make a shallow copy of the item you want to mutate\n    let dp = { ...dps[index] };\n    // 3. Replace the property you're intested in\n    dp.x += dx;\n    dp.y += dy;\n    // 4. Put it back into our array. N.B. we *are* mutating the array here, but that's why we made a copy first\n    dps[index] = dp;\n    // 5. Set the state to our new copy\n    // this.newFrameToTop(index);\n    this.setState({ deltaPositions: dps });\n  };\n\n\n  render() {\n    let { playingStreams, deltaPositions, isMinimized, isClosed } = this.state;\n    const { ui } = this.props;\n    let dim = 300;\n    if (ui.hasFooter || ui.isMobile) {\n      if (ui.orientation === \"portrait\") {\n        let dimW = (ui.width - this.spacing * 3)/2;\n        let dimH = (ui.height - 3* (this.spacing + ui.toolbarH) - this.spacing - 2*ui.headerH)/3;\n        dim  = Math.min(dimW, dimH);\n      }\n      else {\n        let dimW = (ui.width - this.spacing * 4 - 60)/3;\n        let dimH = (ui.height - 2* (this.spacing + ui.toolbarH) - this.spacing - ui.headerH)/2;\n        dim  = Math.min(dimW, dimH);\n      }\n     \n    }\n    else if (ui.contentW > 2000) {\n      dim = 370;\n    }\n    const showerFrame = {\n      w: dim,\n      h: dim\n    };\n    let origins = [];\n\n    if ((ui.isMobile || ui.hasFooter) && ui.orientation === \"portrait\") {\n      showerFrame.x = (ui.width - this.spacing - 2*dim) / 2; // space = dim = space = dim = space\n      // console.log(dim, 165*2+this.spacing*3, ui.width)\n      // header = space = dim+tool = space = dim+tool = space = dim+tool = space = footer\n      showerFrame.y = (ui.height - ui.headerH*2 - 3*(dim + this.spacing+ui.toolbarH) - this.spacing)/2 + 15;\n      for (let i = 0; i < 2; i++) {\n        origins[i] = { x: showerFrame.x + i * (showerFrame.w + this.spacing), y: showerFrame.y };\n        origins[2+i] = { x: showerFrame.x + i * (showerFrame.w + this.spacing), y: showerFrame.y + showerFrame.h + this.spacing + ui.toolbarH };\n        origins[4+i] = { x: showerFrame.x + i * (showerFrame.w + this.spacing), y: showerFrame.y + (showerFrame.h + this.spacing + ui.toolbarH)*2 };\n      }\n    }\n    else {\n      showerFrame.x = (ui.width - 3 * (dim + this.spacing) - this.spacing) / 2;\n      showerFrame.y = Math.max((ui.height - ui.headerH - 2 * ui.toolbarH - dim * 2 - this.spacing) / 2, this.spacing);\n      \n      if ((ui.isMobile || ui.hasFooter) && ui.orientation === \"landscape\" ) {\n        // showerFrame.x = this.spacing;\n        showerFrame.y = (ui.height - ui.headerH - 2*(dim +ui.toolbarH) - this.spacing)/2;\n      }\n      for (let i = 0; i < 3; i++) {\n        origins[i] = { x: showerFrame.x + i * (showerFrame.w + this.spacing), y: showerFrame.y };\n        origins[i + 3] = { x: showerFrame.x + i * (showerFrame.w + this.spacing), y: showerFrame.y + showerFrame.h + this.spacing + ui.toolbarH };\n      }\n    }\n\n   \n    \n\n    const showWater = [];\n    for (let i = 0; i < playingStreams.length; i++) {\n      showWater[i] = playingStreams[i] && !isMinimized[i] && !isClosed[i];\n    }\n\n    let bgimg = \"https://lmd-bucket.s3.us-east-2.amazonaws.com/sketches/wetStreams/blk2000.png\";\n    if (ui.contentW > 2000)\n      bgimg = \"https://lmd-bucket.s3.us-east-2.amazonaws.com/sketches/wetStreams/bigGrid2.png\";\n\n    return (\n      <div className=\"WetStreams Sketch\" style={{backgroundImage: `url(${bgimg})`}}>\n\n        {origins.map((origin, i) => {\n          const props = {\n            isPlaying: playingStreams[i] && !isMinimized[i],\n            x: origin.x,\n            y: origin.y,\n            // z: zIndices[i],\n            w: showerFrame.w,\n            h: showerFrame.h,\n            id: i,\n            dim: dim,\n            handleDrag: this.handleDrag,\n            onMaximized: this.onMaximized,\n            onMinimized: this.onMinimized,\n            onClosed: this.onClosed\n          }\n          return <Shower key={i} {...props} />\n        })};\n\n\n        <P5Wrapper className=\"p5sketch\" sketch={sketch}\n          origins={origins}\n          scaler={showerFrame.w / 400}\n          deltas={deltaPositions}\n          isPlaying={showWater}\n        />\n\n      </div>\n    )\n  }\n}\n\n\n\n\n\nconst mapStateToProps = (state) => {\n  return {\n    ui: state.ui\n  }\n}\n\nconst mapDispatchToProps = () => {\n  return {\n    // doneLoadingApp\n    setSketchMusic\n  }\n}\n\n\nexport default connect(mapStateToProps, mapDispatchToProps())(WetStreams);\n\n\n","import React from 'react';\nimport './LiveStream.css';\nimport { faEye } from \"@fortawesome/free-solid-svg-icons\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\n\nclass LiveBar extends React.Component {\n  // https://codepen.io/JohJakob/pen/YPxgwo\n  constructor(props) {\n    super(props);\n\n    const timeInc = Math.floor(Math.random() * 300);\n\n    this.state = {\n      timeInc: timeInc,\n      time: this.getTime(timeInc),\n      watchers: Math.floor(Math.random() * 200),\n    }\n  }\n\n  componentDidMount() {\n    this.intervalTimer = setInterval(this.updateTime, 1000);\n    this.intervalWatcher = setInterval(this.updateWatchers, 2200);\n  }\n\n  componentWillUnmount() {\n    clearInterval(this.intervalTimer);\n    clearInterval(this.intervalWatcher);\n  }\n\n  render() {\n    const { time, watchers } = this.state;\n    const {x, y} = this.props;\n    const style = {\n      top: y,\n      left: x,\n      width: 190\n    }\n    return (\n      <div className=\"liveStream\" style={style}><span className=\"live\">LIVE</span><span className=\"time\">{time}</span><span className=\"eye\"><FontAwesomeIcon icon={faEye} /> {watchers}</span></div>\n    );\n  }\n\n\n  getTime = (timeInc) => {\n    let sec = timeInc % 60;\n    let min = Math.floor(timeInc / 60);\n    let hr = Math.floor(min / 60);\n    hr %= 12;\n    // if (min < 10) min = \"0\" + min;\n    if (hr < 10) hr = \"0\" + hr;\n    if (sec < 10) sec = \"0\" + sec;\n\n    let time = min + \":\" + sec;\n    return time;\n  }\n\n  updateTime = () => {\n    // let {time, timeInc} = this.state;\n    // timeInc++;\n    const timeInc = this.state.timeInc + 1;\n    const time = this.getTime(timeInc);\n    this.setState({ time, timeInc });\n  }\n\n  updateWatchers = () => {\n    const watchers = this.state.watchers;\n    if (Math.random() < .3) {\n      this.setState({ watchers: watchers + 1 })\n    }\n    else if (Math.random() < .6) {\n      if (watchers - 1 < 1) this.setState({ watchers: 1 });\n      else this.setState({ watchers: watchers - 1 })\n    }\n  }\n}\n\n\n\nexport default LiveBar;\n","\nimport React from 'react';\nimport LiveBar from './LiveBar';\nimport Frame from '../../../../shared/Frame/Frame';\n\nimport { connect } from 'react-redux';\n\n\nclass PearlyGates extends React.Component {\n\n    constructor(props) {\n        super(props);\n        this.pearlyVid = React.createRef();\n    }\n\n    componentDidUpdate(prevProps) {\n        const { ui } = this.props;\n        if (ui.compositionStarted && !prevProps.ui.compositionStarted) {\n            this.pearlyVid.current.play();\n        }\n    }\n\n    render() {\n        const { w, h, x, y } = this.props;\n        const doveX = x + w / 2 - 45;\n        const doveY = y + h / 2 - 45;\n        let yLive = h - 55;\n        if (h < 400)\n            yLive = h - 35;\n\n        // this.pearlyVid = React.createRef();\n\n        return (\n            <React.Fragment>\n                <Frame className=\"stairway\" title=\"\" content={\n                    /*<video width={dimW-2} height={dimH} muted loop autoPlay><source src={videoDimURL} type=\"video/mp4\"></source></video>*/\n                    <div>\n                        <video\n                            ref={this.pearlyVid}\n                            autoPlay\n                            muted\n                            loop\n                            playsInline\n                            className={\"react-player mainContent\"}\n                            width={w}\n                            height={h}\n                        >\n                            <source src={window.AWS + \"/waveforms/waves2_lines.mp4\"} type=\"video/mp4\" ></source>\n                        </video>\n                        <LiveBar x={20} y={yLive} />\n                    </div>\n                }\n                    width={w} height={h} x={x} y={y}\n                />\n\n                <Frame className=\"doveFrame\" title=\"\" windowStyle={{ background: \"transparent\" }} content={\n                    <img src={window.AWS + \"/waveforms/dove_t.gif\"} width={90} height={90} />\n                }\n                    width={90} height={90} x={doveX} y={doveY}\n                />\n            </React.Fragment>\n        )\n    }\n\n}\n\n\nconst mapStateToProps = (state) => {\n    return {\n        ui: state.ui\n    }\n}\n\nconst mapDispatchToProps = () => {\n    return {\n    }\n}\n\n\nexport default connect(mapStateToProps, mapDispatchToProps())(PearlyGates);\n\n","\n\nimport React from 'react';\nimport Frame from '../../../shared/Frame/Frame';\nimport Webcam from \"react-webcam\";\n\n\nexport default function WebZoom(props) {\n    const { x, y, audioOn, videoOn, factor } = props;\n\n    const videoConstraints = {\n      width: 230 * 1.4 * 1,\n      height: 130 * 1.4 * 1,\n      facingMode: \"user\"\n    };\n\n    return (\n\n        <Frame className=\"static\" content={\n            /* <img height={130} width={230} src=\"https://media4.giphy.com/media/UiwxIx9BElaVi/giphy.gif?cid=ecf05e47a8bbe3d9385a466e6febc98bd9d83fe2e23ed054&rid=giphy.gif\" />*/\n            <div>\n                {videoOn?<Webcam videoConstraints={videoConstraints} />:null}\n                <img src={window.AWS + \"/waveforms/divine.gif\"} width={\"100%\"} height={\"100%\"} style={{ opacity: .3, position: \"absolute\", top: 0, left: 0 }} />\n            </div>\n        }\n            x={x} y={y} width={videoConstraints.width} height={videoConstraints.height}\n        />\n    )\n}","import React from 'react';\n\n\nclass Emojis extends React.Component {\n  // https://codepen.io/JohJakob/pen/YPxgwo\n  constructor(props) {\n    super(props);\n  }\n\n  render() {\n    const {emojis} = this.props;\n    return (\n      <div className=\"confession-emojis\">\n      {emojis?this.getEmojis():<div></div>}\n      </div>\n    );\n  }\n\n  getEmojis = () => {\n\n    const {emojis} = this.props;\n\n\n    return (\n      emojis.map((emoji, i) => {\n        const id = emoji.id;\n        const imgs = [\"prayer\", \"communion\", \"praise\", \"open\", \"raised\",\"halo\", \"heart_face\",\"hand_face\"];\n        const url = window.AWS + \"/waveforms/emojis/\" + imgs[id] + \".png\" ;\n        return (\n          <img key={i} src={url} style={{top:`${emoji.y}px`, left:`${emoji.x}px`, opacity: emoji.opacity}} />\n        )\n      })\n    )\n  }\n}\n\n\n\nexport default Emojis;\n","import React from 'react';\nimport Button from '@material-ui/core/Button';\nimport './BottomBar.css';\nimport { faEye, faRetweet, faVideo, faVideoSlash, faMicrophoneAlt, faMicrophoneAltSlash } from \"@fortawesome/free-solid-svg-icons\";\n// import { faComment, faHeart } from \"@fortawesome/free-regular-svg-icons\";\n// import { faTwitter } from \"@fortawesome/free-brands-svg-icons\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport Emojis from './Emojis';\n\nclass BottomBar extends React.Component {\n  // https://codepen.io/JohJakob/pen/YPxgwo\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      emojis: [],\n    }\n  }\n\n  componentDidMount() {\n    this.intervalEmoji = setInterval(this.updateEmojis, 50);\n  }\n\n  componentWillUnmount() {\n    clearInterval(this.intervalEmoji);\n  }\n\n  updateEmojis = () => {\n    const t = new Date();\n    const emojis = [...this.state.emojis];\n    if (emojis.length > 0) {\n      for (let i = 0; i < emojis.length; i++) {\n        const emoji = { ...emojis[i] };\n        emojis[i] = emoji; // is this proper immutability? I think so...?\n        if (emoji) {\n          emoji.y -= 12;\n          if (emoji.y < 0) {\n            emojis.splice(i, 1);\n            i--;\n          }\n          else {\n            emoji.x = emoji.startX + 30 * Math.sin(emoji.y / 70);\n            emoji.opacity = (emoji.y - 80) / window.innerHeight;\n            if (emoji.opacity < 0) emoji.opacity = 0;\n            else if (emoji.opacity > 1) emoji.opacity = 1;\n          }\n        }\n      }\n      this.setState({ emojis });\n      // console.log(new Date() - t, \"ms\");\n    }\n  }\n\n  addEmoji = (id) => {\n    // console.log(\"ADD EMOJI\", id);\n    const emoji = { startX: Math.random() * window.innerWidth, x: 0, y: window.innerHeight - 50, opacity: 1, id: id };\n    this.setState(prevState => ({\n      emojis: [...prevState.emojis, emoji]\n    }))\n  }\n\n\n  render() {\n    const emojis = this.state.emojis;\n    const { toggleAudio, toggleVideo, videoOn, audioOn, addCandle } = this.props;\n    const vidIcon = videoOn ? faVideo : faVideoSlash;\n    const audioIcon = audioOn ? faMicrophoneAlt : faMicrophoneAltSlash;\n\n    return (\n      <div>\n        <div className=\"confession-bottomBar\">\n          <div className=\"bar-emojis\">\n            {/* <div className=\"bar-vid\"> */}\n            <Button variant=\"contained\" className=\"vidButton\" onClick={toggleVideo}><FontAwesomeIcon icon={vidIcon} /></Button>\n            <Button variant=\"contained\" className=\"vidButton\" onClick={toggleAudio}><FontAwesomeIcon icon={audioIcon} /></Button>\n            {/* </div> */}\n            <span style={{ paddingRight: 70 }} />\n            <Button variant=\"contained\" onClick={() => this.addEmoji(0)}><img src={window.AWS + \"/waveforms/emojis/prayer.png\"} /></Button>\n            <Button variant=\"contained\" onClick={() => this.addEmoji(1)}><img src={window.AWS + \"/waveforms/emojis/communion.png\"} /></Button>\n            <Button variant=\"contained\" onClick={() => this.addEmoji(2)}><img src={window.AWS + \"/waveforms/emojis/praise.png\"} /></Button>\n            <Button variant=\"contained\" onClick={() => this.addEmoji(3)}><img src={window.AWS + \"/waveforms/emojis/open.png\"} /></Button>\n            <Button variant=\"contained\" onClick={() => this.addEmoji(4)}><img src={window.AWS + \"/waveforms/emojis/raised.png\"} /></Button>\n            <span style={{ paddingRight: 30 }} />\n            <Button variant=\"contained\" onClick={() => this.addEmoji(5)}><img src={window.AWS + \"/waveforms/emojis/halo.png\"} /></Button>\n            <Button variant=\"contained\" onClick={() => this.addEmoji(6)}><img src={window.AWS + \"/waveforms/emojis/heart_face.png\"} /></Button>\n            <Button variant=\"contained\" onClick={() => this.addEmoji(7)}><img src={window.AWS + \"/waveforms/emojis/hand_face.png\"} /></Button>\n            <span style={{ paddingRight: 70 }} />\n            {/* <div className=\"bar-good-bad\"> */}\n            {/* <Button variant=\"contained\" ><img src={window.AWS + \"/waveforms/emojis/halo.png\"} /></Button>\n            <Button variant=\"contained\" ><img src={window.AWS + \"/waveforms/emojis/devil.png\"} /></Button> */}\n            <Button variant=\"contained\" onClick={addCandle}><img src={window.AWS + \"/waveforms/emojis/candle.png\"} /></Button>\n            {/* </div> */}\n          </div>\n        </div>\n        <Emojis emojis={emojis} />\n      </div>\n    );\n  }\n\n}\n\n\n\nexport default BottomBar;\n","\nimport React from 'react';\nimport Frame from '../../../../shared/Frame/Frame';\nimport './ConfessForm.css';\n\nexport default class ConfessionFormContent extends React.Component {\n\n    constructor(props) {\n        super(props);\n        this.state = {\n            timePeriod: \"days\",\n            prayTo: \"Kanye\"\n        }\n    }\n\n    handleTimeChange = (event) => {\n        this.setState({ timePeriod: event.target.value });\n    };\n\n    handlePrayChange = (event) => {\n        this.setState({ prayTo: event.target.value });\n    };\n\n    render() {\n        const { w, h, x, y, onSubmit } = this.props;\n        // if (true) {\n            var line0 = (\n                <div className=\"line0 lineSp\">\n                    <div className=\"text-line0\">Bless me</div>\n                    <select className=\"confessional-box\" value={this.state.prayTo} onChange={this.handlePrayChange}>\n                        <option value=\"RBG\">RBG</option>\n                        <option value=\"Father\">Father</option>\n                        <option value=\"Mitch McConnel\">Mitch McConnel</option>\n                        <option value=\"Kanye\">Kanye</option>\n                    </select>\n                </div>\n            )\n        // }\n        // else {\n        //     var line0 = (\n        //         <React.Fragment>\n        //             <div className=\"lineSp\">Bless me</div>\n        //             <select className=\"lineSp confessional-box\" value={this.state.prayTo} onChange={this.handlePrayChange}>\n        //                 <option value=\"RBG\">RBG</option>\n        //                 <option value=\"Father\">Father</option>\n        //                 <option value=\"Mitch McConnel\">Mitch McConnel</option>\n        //                 <option value=\"Kanye\">Kanye</option>\n        //             </select>\n        //         </React.Fragment>\n        //     )\n        // }\n\n        return (\n\n            <div className=\"confessional\">\n                {line0}\n                <div className=\"lineSp\">for I have sinned. It has been:</div>\n\n                <div className=\"confessional-time lineSp\">\n                    <div className=\"confessional-box\">\n                        <input type=\"number\" placeholder=\"number\" />\n                    </div>\n\n                    <select className=\"confessional-box\" value={this.state.timePeriod} onChange={this.handleTimeChange}>\n                        <option value=\"days\">days</option>\n                        <option value=\"months\">months</option>\n                        <option value=\"years\">years</option>\n                        <option value=\"never\">never</option>\n                    </select>\n                </div>\n                <div className=\"lineSp\">since I last went to confession.</div>\n                <div className=\"txt-box\">\n                    <div className=\"multitext confessional-box\">\n                        <textarea\n                            id=\"outlined-multiline-static\"\n                            label=\"\"\n                            multiline=\"true\"\n                            placeholder=\"confession\"\n                            className=\"box text-line2\"\n                        />\n                    </div>\n                </div>\n                {onSubmit ? <button className=\"confessional-box\" onClick={onSubmit}>submit</button> : null}\n            </div>\n\n        )\n    }\n}","\n\n\nimport React from 'react';\nimport Frame from '../../../../shared/Frame/Frame';\nimport ConfessFormContent from './ConfessFormContent';\n\nexport default function ConfessionFormFrame(props) {\n\n    return (\n        <Frame title=\"\"\n            windowStyle={{ background: \"transparent\" }}\n            className={\"confessional-frame\"}\n            content={\n                <ConfessFormContent {...props} />\n            }\n            width={props.w}\n            height={props.h}\n            x={props.x}\n            y={props.y}\n        />\n\n    )\n}","\nimport React from 'react';\nimport CenterModal from '../../../../shared/CenterModal/CenterModal';\nimport ConfessFormContent from './ConfessFormContent';\n\n\nexport default class ConfessMobileForm extends React.Component {\n    \n    constructor(props) {\n        super(props);\n    }\n\n\n    render() {\n        const { isHidden, onHide, ui } = this.props;\n        return (\n            <CenterModal\n                title=\"\"\n                z={1000}\n                isHidden={isHidden}\n                onHide={onHide}\n                ui={ui}\n                classN=\"confessional-modal\"\n                isRelative={true}\n                content={<ConfessFormContent onSubmit={null} />}\n                buttons={this.getButtons()}\n            />\n        );\n    }\n\n\n    getButtons = () => {\n        return (\n          <div className=\"center-buttons\">\n            <button className=\"standardButton confess-button-secondary\" onClick={this.props.onHide}>cancel</button>\n            <button className=\"standardButton confess-button-primary\" onClick={this.props.onSubmit}>submit</button>\n          </div>\n        )\n        // return null;\n    }\n}","\n\n\nimport React from 'react';\nimport Frame from '../../../../shared/Frame/Frame';\n\nexport default function Candle(props) {\n\n    return (\n        <Frame title=\"\"\n            windowStyle={{ background: \"transparent\" }}\n            className={\"confessional-frame\"}\n            content={\n                <img src=\"https://lmd-bucket.s3.us-east-2.amazonaws.com/sketches/waveforms/candle.gif\" width=\"100%\" height=\"100%\" />\n            }\n            width={80}\n            height={90}\n            x={props.x}\n            y={props.y}\n        />\n\n    )\n}","import React from 'react';\nimport Candle from './Candle';\n\nclass Candles extends React.Component {\n  // https://codepen.io/JohJakob/pen/YPxgwo\n  constructor(props) {\n    super(props);\n\n  }\n\n  componentDidMount() {\n  }\n\n  componentWillUnmount() {\n  }\n\n\n\n\n  render() {\n    return (\n      this.props.candles.map((candle, i) => {\n        return <Candle key={i} x={candle.x} y={candle.y} />\n      })\n    );\n  }\n\n}\n\n\n\nexport default Candles;\n","import React from 'react';\nimport { connect } from 'react-redux';\nimport { withRouter } from 'react-router-dom';\n\nimport './Confessional.css';\n// store\n// import { doneLoadingApp } from '../../../store/actions/';\nimport { setSketchMusic } from '../../../store/actions/music';\n\nimport PearlyGates from './components/PearlyGates/PearlyGates';\nimport WebZoom from './components/WebZoom';\nimport BottomBar from './components/Emojis/BottomBar';\n\nimport ConfessFormFrame from './components/ConfessForm/ConfessFormFrame';\nimport ConfessMobileForm from './components/ConfessForm/ConfessMobileForm';\nimport Candles from './components/Candles/Candles';\n\nimport { mapVal, constrain } from '../../shared/Helpers/Helpers';\n\n// import DesktopIcon from '../../shared/DesktopIcon/DesktopIcon';\n// import FrameSimple from '../../shared/Frame/FrameSimple';\n\n\nimport ReactPlayer from 'react-player'\n// import Moment from 'react-moment';\n\n// import shellSound from \"./assets/shell_sound.wav\";\n// import Glasses from '../../shared/Glasses/Glasses';\n\n\n\nconst processString = require('react-process-string');\n\n\nclass Confessional extends React.Component {\n  // https://codepen.io/JohJakob/pen/YPxgwo\n  constructor(props) {\n    super(props);\n\n    const { ui } = this.props;\n\n    this.factor = mapVal(window.innerWidth, 1440, 2560, 1, 1.5);\n    this.factor = constrain(this.factor, 1, 1.5);\n\n    this.dimW = 1584 * this.factor * .3;\n    this.dimH = 1588 * this.factor * .3;\n\n    this.minVol = .01;\n\n\n\n\n\n    const bottomBar = 60;\n    const spacing = 120;\n    this.tweetW = 400;\n    this.winX = Math.max((window.innerWidth - this.dimW - this.tweetW - spacing) / 2, 50)\n    this.winY = (window.innerHeight - this.dimH - 26 - 30 - bottomBar) / 2 + 30;\n\n    // const webY = winY -50;\n    // const webX = tX;\n    // const webH = 200;\n\n\n\n\n    this.state = {\n      windowX: this.winX,//(window.innerWidth - this.dimW)/2,\n      windowY: this.winY,//(window.innerHeight - this.dimH-80)/2,\n      tweetX: this.winX + this.dimW + 100,\n      tweetY: this.winY + 20,\n      webX: this.winX + this.dimW + 100,\n      webY: this.winY - 50,\n      earCursor: this.props.cursor,\n      volume: this.minVol,\n      confessFormHidden: true,\n      audioOn: true,\n      videoOn: true,\n      candles: []\n    };\n\n\n    this.memberRef0 = React.createRef();\n\n  }\n\n\n  componentDidMount() {\n    // this.interval = setInterval(this.resetPlayer, 22000);\n    this.props.setSketchMusic(\"cloud\", 0, 1);\n  }\n\n  componentWillUnmount() {\n    // clearInterval(this.interval);\n  }\n\n\n\n  // resetPlayer = () => {\n  //   if (this.videoBack && this.videoMain) {\n  //     this.videoBack.currentTime = 0;\n  //     this.videoMain.currentTime = .50;\n  //   }\n  // }\n\n  addCandle = () => {\n    // console.log(\"ADD EMOJI\", id);\n    const { ui } = this.props;\n    const candle = { x: Math.random() * (ui.contentW - 150), y: Math.random() * (ui.contentH - 350) };\n    this.setState(prevState => ({\n      candles: [...prevState.candles, candle]\n    }))\n  }\n\n\n  onSubmit = () => {\n    alert(\"Thanks for your submission. Uploading to the cloud...\");\n    this.props.history.push(\"/confessions\");\n  }\n\n  toggleAudio = () => {\n    this.setState(prevState => ({\n      audioOn: !prevState.audioOn\n    }));\n  }\n\n  toggleVideo = () => {\n    this.setState(prevState => ({\n      videoOn: !prevState.videoOn\n    }));\n  }\n\n  render() {\n    const { tweetX, tweetY } = this.state;\n    const { ui } = this.props;\n    if (ui.isMobile || ui.hasFooter) {\n      return this.getMobile();\n    }\n    return this.getDesktop();\n  }\n\n  getButtonSty = (gates, ui) => {\n    let buttonW = 140;\n    let sp = 10;\n    const buttonSty = { top: 0, left: 0, position: \"absolute\" };\n    // if (ui.orientation === \"portrait\") {\n    buttonSty.top = gates.y + gates.dim + sp * 2 + ui.toolbarH;\n    buttonSty.left = ui.contentW / 2 - buttonW / 2;\n    // }\n    // else {\n\n    // }\n    return buttonSty;\n  }\n\n  getPearlyGatesDim = (ui) => {\n    const pearly = { x: this.winX, y: this.winY, dim: 475 };\n    let sp = 10;\n    let buttonH = 36;\n    // if (ui.orientation === \"portrait\") {\n    let availW = ui.contentW - sp * 2 - 4;\n    let availH = ui.contentH - ui.toolbarH - sp * 3 - buttonH;\n    let d = Math.min(availW, availH);\n    pearly.dim = Math.min(d, pearly.dim);\n    pearly.x = (ui.contentW - pearly.dim) / 2 - 2;\n    pearly.y = (ui.contentH - pearly.dim - sp - ui.toolbarH - buttonH) / 2;\n    // }\n    // else {\n\n    // }\n    return pearly;\n\n  }\n\n\n  getMobile = () => {\n    const { confessFormHidden } = this.state;\n    const { ui } = this.props;\n\n    const gates = this.getPearlyGatesDim(ui);\n    const buttonSty = this.getButtonSty(gates, ui);\n\n    return (\n      <div className=\"Confessional Sketch\">\n        <div className=\"confessions-form\">\n          <PearlyGates w={gates.dim} h={gates.dim} x={gates.x} y={gates.y} />\n          <button className=\"standardButton confess-button-primary\" style={buttonSty} onClick={this.showConfess}>confess</button>\n          <ConfessMobileForm\n            isHidden={confessFormHidden}\n            onHide={this.hideConfess}\n            onSubmit={this.onSubmit}\n            ui={ui}\n          />\n\n        </div>\n      </div>\n    )\n  }\n\n  showConfess = () => {\n    this.setState({ confessFormHidden: false });\n  }\n\n  hideConfess = () => {\n    this.setState({ confessFormHidden: true });\n  }\n\n  getDesktop = () => {\n    const { tweetX, tweetY, webX, webY, windowX, windowY, audioOn, videoOn, candles } = this.state;\n\n    return (\n      <div className=\"Confessional Sketch\">\n        <div className=\"confessions-form\">\n          <PearlyGates w={this.dimW} h={this.dimH} x={windowX} y={windowY} />\n          <div className=\"member\" ref={this.memberRef0}>\n            <WebZoom videoOn={videoOn} audioOn={audioOn} x={webX} y={webY} factor={this.factor} />\n          </div>\n          <ConfessFormFrame w={this.tweetW} h={310} x={tweetX} y={tweetY - 20} onSubmit={this.onSubmit} />\n          <Candles candles={candles} />\n          <BottomBar audioOn={audioOn} videoOn={videoOn} toggleAudio={this.toggleAudio} toggleVideo={this.toggleVideo} addCandle={this.addCandle} />\n        </div>\n      </div>\n    )\n  }\n\n}\n\n\n\n\nconst mapStateToProps = (state) => {\n  return {\n    ui: state.ui\n  }\n}\n\nconst mapDispatchToProps = () => {\n  return {\n    // doneLoadingApp\n    setSketchMusic\n  }\n}\n\n\nexport default withRouter(connect(mapStateToProps, mapDispatchToProps())(Confessional));\n","import React from 'react';\nconst processString = require('react-process-string');\n\nexport function initConfessions() {\n  let confessions = [\n    {txt: \"I am not thinking about my partner during sex.\"},\n    {txt: \"I said I love you but I didn't mean it.\"},\n    {txt: \"I took a macbook mouse from work\"},\n    {txt: \"I cursed at God because honestly, what is going on here.\"},\n    {txt: \"I told my neighbors they were little brats\"},\n    {txt: \"I said I hoped my boss would burn in hell.\"},\n    {txt: \"When I was diagnosed I was angry. It just felt so unfair. I blamed my husband, my myself, my kids. But most of all, I blamed God.\"},\n    {txt: \"No body tells you what's right. I mean, I guess God is supposed to do that, but I've lost hope that anyone's on the receiving end. If he'd just give me a sign or something maybe I wouldn't have so many doubts.\"}\n  ];\n  return confessions;\n}\n\nexport function initZIndicesIcons() {\n  const zind = [];\n  for (let i = 0; i < 8; i++) {\n    zind[i] = i; // icons\n  }\n  return zind;\n}\n\nexport function initZIndicesFrames() {\n  const zind = [];\n  for (let i = 0; i < 8; i++) {\n    zind[i] = i+100; // icons\n  }\n  return zind;\n}\n\nexport function getTweetContent(string) {\n  let config = [\n    {\n      // / delimits start/end\n      // parentheses creates capturing group\n      // [has any of these symbols]\n\n      // match @ []\n      // \\escape\n      // second set of parens apparently stops it. added |\\: to get retweet colon\n      regex: /\\@([a-z0-9_\\-]+?)( |\\,|$|\\.|\\:)/gim, //regex to match a username\n      fn: (key, result) =>  {\n        let username = result[0];\n        const profileUrl = \"https://twitter.com/\" + username.substring(1, username.length);\n        return <a key={key} href={profileUrl} target=\"_blank\">{username}</a>;\n        }\n      },\n      {\n        regex: /(http|https):\\/\\/(\\S+)\\.([a-z]{2,}?)(.*?)( |\\,|$|\\.)/gim,\n        fn: (key, result) => <span key={key}>\n        <a target=\"_blank\" href={`${result[1]}://${result[2]}.${result[3]}${result[4]}`}>{result[2]}.{result[3]}{result[4]}</a>{result[5]}\n        </span>\n      },\n      {\n        regex: /\\#([a-z0-9_\\-]+?)( |\\,|$|\\.|\\:)/gim, //regex to match a hashtag\n        fn: (key, result) => {\n          let hashtag = result[0];\n          const hashtagUrl = `https://twitter.com/hashtag/${hashtag.substring(1, hashtag.length)}?src=hashtag_click`;\n          return <a key={key} href={hashtagUrl} target=\"_blank\">{hashtag}</a>;\n          }\n        },\n        {\n          regex: /\\&amp/,\n          fn: (key, result) => {\n            let amp = result;\n            return \"&\";\n          }\n        }\n      ];\n\n      let processed = processString(config)(string);\n      return processed;\n    }\n\n\nfunction getMostEngagement(mode, tweets) {\n  let max = 0;\n  let id = 0;\n  let maxId = 0;\n\n  for (const tweet of tweets) {\n    let likes = tweet.public_metrics.like_count;\n    let rts = tweet.public_metrics.retweet_count;\n    let replies = tweet.public_metrics.reply_count;\n    let metrics = [likes, rts, replies];\n\n    if (metrics[mode] > max) {\n      max = likes;\n      maxId = id;\n    }\n    id++;\n  }\n  return maxId;\n}\n\nfunction mapVal(val, in_min, in_max, out_min, out_max) {\n  return (val - in_min) * (out_max - out_min) / (in_max - in_min) + out_min;\n}\n\nfunction getTweetTime(tweet_created_at) {\n  // const dateToFormat = new Date('1976-04-19T12:59-0500');\n  // const created_time = isoStringToDate(tweet_created_at);\n  // var timeDiff = new Date() - created_time;\n  // timeDiff /= 1000;\n  // var seconds = Math.round(timeDiff);\n  // console.log(created_time, timeDiff, seconds);\n  // return seconds + \"s\";\n  return \"5s\";\n}\n\nfunction isoStringToDate(s) {\n  var b = s.split(/[-t:+]/ig);\n  return new Date(Date.UTC(b[0], --b[1], b[2], b[3], b[4], b[5]));\n}\n\n// function urlify(text) {\n//   var urlRegex = /(https?:\\/\\/[^\\s]+)/g;\n//   return text.replace(urlRegex, function(url) {\n//     return '<a href=\"' + url + '\">' + url + '</a>';\n//   })\n// }","import React from 'react';\nimport './DesktopIcon.css';\n\nimport { connect } from 'react-redux';\nimport Frame from '../Frame/Frame';\nimport Draggable from 'react-draggable';\n\n\nclass DesktopIcon extends React.Component {\n  //https://github.com/STRML/react-draggable\n  // https://codepen.io/JohJakob/pen/YPxgwo\n  constructor(props) {\n    super(props);\n\n\n    this.state = {\n      isHidden: true,\n      controlledPosition: { x: props.x, y: props.y }\n    }\n\n    this.wrapper = React.createRef();\n  }\n\n  componentDidUpdate(prevProps) {\n    if (this.props.x !== prevProps.x || this.props.y !== prevProps.y) {\n      const dx = this.props.x - prevProps.x;\n      const dy = this.props.y - prevProps.y;\n      const controlledPosition = { ...this.state.controlledPosition }\n\n      this.setState({ controlledPosition: { x: controlledPosition.x + dx, y: controlledPosition.y + dy } });\n    }\n  }\n\n  onControlledDrag = (e, position) => {\n    const { x, y } = position;\n    this.setState({ controlledPosition: { x, y } });\n  };\n\n  onControlledDragStop = (e, position) => {\n    this.onControlledDrag(e, position);\n    this.onStop();\n  };\n  \n\n  onDblClick = () => {\n    // let {isHidden} = this.state;\n    // isHidden = !isHidden;\n    console.log(\"dbl\")\n    this.setState({ isHidden: false });\n    if (this.props.onDblClick) this.props.onDblClick(this.props.id);\n  }\n\n  onClick = () => {\n    if (this.props.newIconToTop) this.props.newIconToTop();\n    if (this.props.onClickMobile) {\n      this.props.onClickMobile();\n      console.log(\"mob cl\")\n      this.onDblClick();\n    } \n  }\n\n  onHide = () => {\n    this.setState({ isHidden: true });\n  }\n\n\n\n  render() {\n\n    const { ui } = this.props;\n    if (ui.isMobile)\n      return this.getMobileDesktop();\n    return this.getDesktopDesktop();\n\n  }\n\n  getDesktopDesktop = () => {\n    const { controlledPosition, isHidden } = this.state;\n    const parser = new DOMParser();\n    var title = this.props.title;\n\n    var classn = \"DesktopIcon\";\n    if (this.props.className) classn += \" \" + this.props.className;\n\n\n\n    // position = {...} makes it have a specific location. when you want direct control.\n    // let pos = this.state.controlledPosition;\n    let frameH = this.toolBarH + (this.state.isMinimized ? 0 : this.props.height);\n    // so if we make pos null, it stays where it is dragged to\n    // however, it doesn't update when the page width / height changes\n    // if we let pos be equal to props.px/ props.py, it changes location\n    const bounded = this.props.bounded ? \".App-Content\" : null;\n    return (\n      <div className=\"DesktopDiv\" >\n        <Draggable\n          axis=\"both\"\n          handle={\".DesktopIcon\"}\n          defaultPosition={{ x: this.props.x, y: this.props.y }}\n          position={controlledPosition}\n          grid={[1, 1]}\n          scale={1}\n          bounds={bounded}\n          cancel=\".close, .minimize, .zoom\"\n          onStart={this.handleStart}\n          onDrag={this.onControlledDrag}\n          onStop={this.handleStop}\n          nodeRef={this.wrapper}\n        >\n          <div ref={this.wrapper} onDoubleClick={this.onDblClick} onClick={this.onClick} className={classn} style={{ width: this.props.width + \"px\", height: this.props.height + \"px\", zIndex: this.props.zIcon ? this.props.zIcon : 0 }} >\n            <div className=\"content\">\n              {this.props.content}\n            </div>\n            <div className=\"desktop-text\">{this.props.title}</div>\n          </div>\n        </Draggable>\n        {this.props.disableWindow ? null : this.getFrame()}\n      </div>\n    );\n  }\n\n  getMobileDesktop = () => {\n\n    const parser = new DOMParser();\n    var title = this.props.title;\n\n    var classn = \"DesktopIcon DesktopIconMobile\";\n    if (this.props.className) classn += \" \" + this.props.className;\n\n    return (\n      <div className=\"DesktopDivMobile\"\n        onClick={this.onDblClick}\n        style={{\n          top: this.props.y,\n          left: this.props.x,\n          width: this.props.width,\n          height: this.props.height,\n          zIndex: this.props.zIcon ? this.props.zIcon : 0\n        }} >\n        <div className=\"content\">\n          {this.props.content}\n        </div>\n        <div className=\"desktop-text\">{this.props.title}</div>\n      </div>\n    );\n\n  }\n\n  getFrame() {\n    const { isHidden } = this.state;\n\n    return (\n      <Frame className=\"FolderOpenFrame\" title={this.props.title} isHidden={isHidden} onHide={this.onHide.bind(this)} x={this.props.box.x} y={this.props.box.y} z={this.props.zFrame ? this.props.zFrame : 0} width={this.props.box.w} height={this.props.box.h} content={this.props.frameContent} newFrameToTop={this.props.newFrameToTop} />\n\n    )\n  }\n\n}\n\n\n\n\nconst mapStateToProps = (state) => {\n  return {\n    ui: state.ui,\n  }\n}\n\nconst mapDispatchToProps = () => {\n  return {\n  }\n}\n\n\nexport default connect(mapStateToProps, mapDispatchToProps())(DesktopIcon);\n\n","import React from 'react';\nimport { faRetweet } from \"@fortawesome/free-solid-svg-icons\";\nimport { faComment, faHeart } from \"@fortawesome/free-regular-svg-icons\";\n// import { faTwitter } from \"@fortawesome/free-brands-svg-icons\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\n\nfunction TweetContent(props) {\n    if (!props.tweet && !props.confession) {\n        return <div></div>\n    }\n    else if (!props.tweet) {\n        return <div>{props.confession.txt}</div>\n    }\n\n\n    const {text, username, url, likes, rts, replies, time, tweetID} = props.tweet;\n    const tweetUri = `twitter.com/${username}/status/${tweetID}`;\n    const profileUrl = \"https://twitter.com/\" + username;\n    const tweetUriA = <a href={\"https://\"+tweetUri} target=\"_blank\">{tweetUri.substring(0, 15) + \"...\"}</a>;\n      var name = props.tweet.name;\n      if (name.length > 24) name = name.substring(0, 24) + \"...\";\n      return (\n        <div className=\"tweet\">\n          <div className=\"tweet-top\">\n            <div className=\"tweeter-icon\" style={{backgroundImage: `url(${url})`}}><div className=\"inner\"></div></div>\n            <div className=\"tweeter\">\n              <div className=\"person\"><a href={profileUrl} target=\"_blank\">{name}</a></div>\n              <div className=\"tweet-handle\"><a href={profileUrl} target=\"_blank\">@{username}</a></div>\n            </div>\n            <div className=\"tweet-time\">• {time}</div>\n          </div>\n          <div className=\"tweet-content\">{text}</div>\n          <div><hr /></div>\n          <div className=\"tweet-metrics\">\n            <div className=\"comments\"><FontAwesomeIcon icon={faComment} /><span>{likes}</span></div>\n            <div className=\"retweets\"><FontAwesomeIcon icon={faRetweet} /><span>{rts}</span></div>\n            <div className=\"likes\"><FontAwesomeIcon icon={faHeart} /><span>{replies}</span></div>\n          </div>\n        </div>\n      )\n  }\n\n  export default TweetContent;\n","import React from 'react';\nimport './Confession.css';\nimport { getRandom, getRandomNum } from '../../../../shared/Helpers/Helpers';\nimport DesktopIcon from '../../../../shared/DesktopIcon/DesktopIcon';\nimport TweetContent from './Tweet/TweetContent';\n// import txt from '../assets/Canned/txt-ligher.png';\nimport { connect } from 'react-redux';\n\nfunction Confession(props) {\n  const { i, ui, time, confession, tweet, onDblClick, zIcon, zFrame, newFrameToTop, newIconToTop, setTweetModal } = props;\n  const x = getRandomNum(i + 30) * (window.innerWidth - 100);\n  const y = 15 * Math.sin(time / 400 + x / 100) + getRandomNum(i + 3) * (window.innerHeight - 200);\n  const box = { x: 100 + i * 20, y: 100 + i * 20, w: 400 };\n  box.y = 15 * Math.sin(time / 400 + box.x / 100) + box.y;\n\n  if (ui.isMobile) {\n    return (\n      <DesktopIcon key={i} title={\"#confession\"} isMobile={true} onDblClick={() => setTweetModal(tweet, confession)} x={x} y={y} zIcon={zIcon} zFrame={zFrame} box={box}\n        content={\n          <img src={window.AWS + \"/waveforms/txt-ligher.png\"} width={80} height={80} />\n        }\n      />\n    )\n  }\n\n  return (\n    <DesktopIcon key={i} title={\"#confession\"} onDblClick={() => onDblClick(i + 1)} newFrameToTop={() => { newFrameToTop(i) }} newIconToTop={() => { newIconToTop(i) }} x={x} y={y} zIcon={zIcon} zFrame={zFrame} box={box}\n      content={\n        <img src={window.AWS + \"/waveforms/txt-ligher.png\"} width={80} height={80} />\n      }\n      frameContent={\n        <div className=\"confession-txt\"><TweetContent confession={confession} tweet={tweet} /></div>\n      }\n    />\n  )\n}\n\n\nconst mapStateToProps = (state) => {\n  return {\n    ui: state.ui\n  }\n}\n\nconst mapDispatchToProps = () => {\n  return {\n    // doneLoadingApp\n  }\n}\n\n\nexport default connect(mapStateToProps, mapDispatchToProps())(Confession);\n\n","import React from 'react';\nimport Frame from '../../shared/Frame/Frame';\nimport DesktopIcon from '../../shared/DesktopIcon/DesktopIcon';\nimport { connect } from 'react-redux';\nimport {setSketchMusic} from '../../../store/actions/music';\n// import FrameSimple from '../../shared/Frame/FrameSimple';\nimport './Xfinity.css';\nimport { mapVal } from '../../shared/Helpers/Helpers';\n\n// import Carousel from '../../shared/Carousel/Carousel';\n// import ReactScrollWheelHandler from \"react-scroll-wheel-handler\";\n// import Balloon from './assets/balloonsprite.png';\n// import cloudsVid from  \"../MacbookAir/assets/clouds3d.mp4\";\n// import folder from  \"./assets/folder.png\";\n\n// Babylon\nimport { AnaglyphUniversalCamera, HemisphericLight, Vector3, Vector2, StandardMaterial, Color4, Mesh, Texture } from 'babylonjs';\nimport BabylonScene from '../../shared/Babylon.jsx';\nimport { WaterMaterial } from 'babylonjs-materials';\n\n\nvar camera, water, waterMesh;\n\n\n\nclass Xfinity extends React.Component {\n  // https://codepen.io/JohJakob/pen/YPxgwo\n  constructor(props) {\n    super(props);\n\n    // this.imgW = 350;\n    this.numFrames = 15;\n    this.imgW = 450;\n    this.imgH = 254;\n    this.state = {\n      deltaX: 0,\n      deltaY: 0,\n      startX: (window.innerWidth - this.numFrames * 15 - this.imgW * 1 - 50) / 2 -80,\n      startY: (window.innerHeight - this.numFrames * 15 + 50) / 2,\n      imageIndex: 0,\n      touchS: 0,\n      mapDivs: [],\n      currentMobileDiv: 0\n    }\n\n    this.divRef = React.createRef();\n    this.preventDefault = e => e.preventDefault()\n\n    this.numImages = 51;\n\n    // this.wheel = this.wheel.bind(this);\n    // this.setImages = this.setImages.bind(this);\n  }\n\n\n  componentDidMount() {\n    this.divRef.current.addEventListener('wheel', this.preventDefault);\n    this.setImages();\n\n    this.props.setSketchMusic(\"xfinity\", 0, .3);\n  }\n\n  componentWillUnmount() {\n    this.divRef.current.removeEventListener('wheel', this.preventDefault);\n    // this.props.userLeaveRoom(\"xfinity-depths\");\n  }\n\n\n  setImages = () => {\n    const { imageIndex } = this.state;\n    const mapDivs = [...this.state.mapDivs];\n    for (let i = 0; i < this.numFrames; i++) {\n      mapDivs[i] = this.mod((imageIndex + i * 2) * this.imgW, this.imgW * this.numImages);\n    }\n    this.setState({ mapDivs });\n  }\n\n  wheel = (e) => {\n    var deltaY = this.state.deltaY + e.deltaY;\n\n    var imageIndex = deltaY / 40;\n    imageIndex = Math.floor(imageIndex);\n    imageIndex = this.mod(imageIndex, this.numImages);\n\n    const mapDivs = [...this.state.mapDivs];\n    for (let i = 0; i < this.numFrames; i++) {\n      mapDivs[i] = this.mod((imageIndex + i * 2) * this.imgW, this.imgW * this.numImages);\n    }\n\n    this.setState({ deltaY, imageIndex, mapDivs });\n    // this.setImages();\n\n    // console.log(imageIndex);\n    return false;\n  }\n\n  mod(a, b) {\n    return (((a % b) + b) % b);\n  }\n\n  onSceneReady(scene) {\n    // const camera = new UniversalCamera(\"UniversalCamera\", new Vector3(0, 1, -25), scene);\n    camera = new AnaglyphUniversalCamera(\"af_cam\", new Vector3(0, 8, -5), 0.033, scene);\n    scene.clearColor = new Color4(0, 0, 0, 0);\n    camera.setTarget(new Vector3(11, 3, -2));\n\n    const canvas = scene.getEngine().getRenderingCanvas();\n    // camera.attachControl(canvas, true);\n\n    const light = new HemisphericLight(\"light1\", new Vector3(0, 1, 0), scene);\n    light.intensity = 0.7;\n\n\n\n    // Water\n    waterMesh = Mesh.CreateGround(\"waterMesh\", 512, 512, 32, scene, false);\n    waterMesh.position.y = -9;\n    water = new WaterMaterial(\"water\", scene, new Vector2(1024, 1024));\n    water.backFaceCulling = true;\n    water.bumpTexture = new Texture(window.AWS + \"/shared/waterbump.png\", scene);\n    water.windForce = -5;\n    water.waveHeight = 0.8;\n    water.bumpHeight = 0.3;\n    water.waveLength = 0.3;\n    water.colorBlendFactor = 0;\n    waterMesh.material = water;\n\n    // Skybox\n    // var skyW = 1000;\n    // var skybox = Mesh.CreateBox(\"skyBox\", skyW, scene);\n    // var skyboxMaterial = new StandardMaterial(\"skyBox\", scene);\n    // skyboxMaterial.backFaceCulling = false;\n    // skyboxMaterial.reflectionTexture = new CubeTexture(window.AWS+\"/shared/sky/moon/moon\", scene);\n    // skyboxMaterial.reflectionTexture.coordinatesMode = Texture.SKYBOX_MODE;\n    // skyboxMaterial.diffuseColor = new Color3(0, 0, 0);\n    // skyboxMaterial.specularColor = new Color3(0, 0, 0);\n    // skyboxMaterial.disableLighting = true;\n    // skybox.material = skyboxMaterial;\n    // water.addToRenderList(skybox);\n\n\n    // Ground\n    var groundTexture = new Texture(window.AWS + \"/shared/sand2.jpg\", scene);\n    groundTexture.vScale = groundTexture.uScale = 10;\n    var groundMaterial = new StandardMaterial(\"groundMaterial\", scene);\n    groundMaterial.diffuseTexture = groundTexture;\n    var ground = Mesh.CreateGround(\"ground\", 512, 512, 32, scene, false);\n    ground.position.y = -10;\n    ground.material = groundMaterial;\n    water.addToRenderList(ground);\n\n    // SceneLoader.ImportMesh(\"\", \"https://lmd-bucket.s3.us-east-2.amazonaws.com/sketches/loop/\", \"fish.glb\", scene, function (meshes) {          \n    //     // scene.createDefaultCameraOrLight(true, true, true);\n    //     // scene.createDefaultEnvironment();\n    //     meshes.forEach((m) => {\n    //       m.position.x = 14;\n    //       m.position.z = 20;\n    //     })\n    // });\n\n  }\n\n\n  onRender(scene) {\n    let divFps = document.getElementById(\"fps\");\n    if (divFps) divFps.innerHTML = scene.getEngine().getFps().toFixed() + \" fps\";\n  }\n\n  getMouseWheel = (mouseX, mouseY, mouseW = 80) => {\n    return (\n      <Frame\n        // windowStyle={{ boxShadow: \"none\" }}\n        content={\n          <div className=\"mouse\">\n            <div className=\"mouse-icon\">\n              <span className=\"mouse-wheel\"></span>\n            </div>\n          </div>\n        }\n        width={mouseW}\n        height={mouseW}\n        bounded={true}\n        x={mouseX}\n        y={mouseY}\n      // z={1}\n      />\n    )\n  }\n\n  getCascadeDivs = () => {\n    return (\n      this.state.mapDivs.map((balloonX, i) => {\n        const opac = (i + 1) * (1 / this.numFrames);\n        const val = this.state.imageIndex * this.imgW;\n        return (\n\n          <Frame\n            windowStyle={{ opacity: opac }}\n            content={\n              <div className=\"balloon\" style={{ backgroundPosition: `${val}px 0px`, width: this.imgW, height: this.imgH }}></div>\n            }\n            key={i}\n            width={this.imgW}\n            height={this.imgH}\n            isControlled={false}\n            x={this.state.startX + i * 15}\n            y={this.state.startY - i * 15}\n            z={1}\n          />\n\n        );\n\n      })\n    )\n  }\n\n  getDesktopDivs = () => {\n    let mouseW = 80;\n    let mouseX = this.state.startX + this.imgW + (this.state.mapDivs.length * 15) + 80;\n    let mouseY = this.state.startY - (this.state.mapDivs.length * 15) + (this.imgH - mouseW) / 2 + this.props.ui.toolbarH;\n    return (\n      <React.Fragment>\n        {this.getCascadeDivs()}\n        {this.getMouseWheel(mouseX, mouseY, mouseW)}\n      </React.Fragment>\n\n    )\n  }\n\n  getMobileDivs = () => {\n    const { ui } = this.props;\n    let spacing = 15;\n    let mouseW = 80;\n   \n    if (ui.orientation === \"portrait\") {\n\n      var w = Math.min(this.props.ui.contentW - spacing * 2, this.imgW);\n      var h = w / this.imgW * this.imgH;\n      var x = (ui.contentW - w) / 2 - 2;\n      var y = mapVal(ui.contentH, 568, 1300, 80, 240);\n      var mouseY = y + h + ui.toolbarH + 50;\n      var mouseX = (ui.contentW - mouseW) / 2;\n    } else {\n      \n      let availW = ui.contentW - spacing*3 - mouseW;\n      let availH = ui.contentH - spacing*2 - ui.toolbarH;\n      let asp = availW/availH;\n      let imgAsp = this.imgW/this.imgH;\n      if (imgAsp > asp) {\n        var w = Math.min(availW, this.imgW);\n        var h = w/this.imgW * this.imgH;\n      }\n      else {\n        var h = Math.min(availH, this.imgH);\n        var w = h/this.imgH * this.imgW;\n      }\n      var x = (ui.contentW - mouseW - w) /3;\n      var y = (ui.contentH - ui.toolbarH - h)/2;\n      var mouseX = w + x + spacing;\n      var mouseY = (ui.contentH - ui.toolbarH - mouseW) / 2;\n    }\n\n    const val = this.state.imageIndex * this.imgW;\n    // let per = (w/this.imgW*100) + \"%\";\n    return (\n      <React.Fragment>\n\n\n        <Frame\n          windowStyle={{ opacity: 1 }}\n          content={\n            <div className=\"balloon\"\n              style={{\n                backgroundPosition: `${val}px 0px`,\n                width: w,\n                height: h\n              }}\n            ></div>\n          }\n          width={w}\n          height={h}\n          isControlled={true}\n          bounded={true}\n          x={x}\n          y={y}\n        // z={1}\n        />\n        <div className=\"backgroundCover\"\n          style={{ touchAction: \"none\" }}\n          onTouchStart={(e) => this.touchStart(e)}\n          onTouchMove={(e) => this.touchMove(e)}\n          onTouchEnd={(e) => this.touchEnd(e)}\n        />\n        {this.getMouseWheel(mouseX, mouseY, mouseW)}\n        <div className=\"backgroundCover\"\n          style={{ touchAction: \"none\" }}\n          onTouchStart={(e) => this.touchStart(e)}\n          onTouchMove={(e) => this.touchMove(e)}\n          onTouchEnd={(e) => this.touchEnd(e)}\n        />\n      </React.Fragment>\n    )\n  }\n\n  touchStart = (e) => {\n    // console.log(e.touches[0].clientY);\n    this.setState({ touchS: e.touches[0].clientY })\n  }\n\n  touchMove = (e) => {\n    var deltaY = e.touches[0].clientY + this.state.touchS;\n\n    var imageIndex = deltaY / 10;\n    imageIndex = Math.floor(imageIndex);\n    imageIndex = this.mod(imageIndex, this.numImages);\n    this.setState({ imageIndex });\n  }\n\n  touchEnd = (e) => {\n\n  }\n\n  render() {\n\n\n    return (\n      <div className=\"Xfinity Sketch\"\n        ref={this.divRef}\n        onWheel={(e) => this.wheel(e)}\n      >\n\n\n        { <BabylonScene className=\"noSelect backgroundCover\" antialias onSceneReady={this.onSceneReady} onRender={this.onRender} id='babylon-canvas' />}\n\n        {this.props.ui.isMobile ? this.getMobileDivs() : this.getDesktopDivs()}\n\n\n        {/*   <DesktopIcon x={100} y={100} width={60} height={90} title=\"dip\" content={\n      <img src={folder} width={60} height={60} />\n      }\n      />\n      <DesktopIcon x={100} y={220} width={60} height={90} title=\"dive\" content={\n      <img src={folder} width={60} height={60} />\n      }\n      />\n\n      <DesktopIcon x={100} y={340} width={60} height={90} title=\"descend\" content={\n      <img src={folder} width={60} height={60} />\n      }\n      />*/}\n      </div>\n    );\n  }\n\n}\n\nconst mapStateToProps = (state) => {\n  return {\n    ui: state.ui\n  }\n}\n\nconst mapDispatchToProps = () => {\n  return {\n    // doneLoadingApp\n    setSketchMusic\n  }\n}\n\n\nexport default connect(mapStateToProps, mapDispatchToProps())(Xfinity);\n\n","\nimport React from 'react';\nimport CenterModal from '../../../../../shared/CenterModal/CenterModal';\nimport TweetContent from './TweetContent';\nimport './TweetModal.css';\n\nexport default class TweetModal extends React.Component {\n    \n    constructor(props) {\n        super(props);\n    }\n\n\n    render() {\n        const { isHidden, onHide, ui, confession, tweet } = this.props;\n        \n        return (\n            <CenterModal\n                title=\"\"\n                z={1000}\n                isHidden={isHidden}\n                onHide={onHide}\n                ui={ui}\n                classN=\"tweet-modal\"\n                isRelative={true}\n                content={<TweetContent confession={confession} tweet={tweet} />}\n                buttons={this.getButtons()}\n            />\n        );\n    }\n\n\n    getButtons = () => {\n        return (\n          <div className=\"center-buttons\">\n            <button className=\"standardButton confess-button-primary\" onClick={this.props.onHide}>close</button>\n          </div>\n        )\n        // return null;\n    }\n}","import React from 'react';\nimport { connect } from 'react-redux';\nimport Frame from '../../shared/Frame/Frame';\n\n// import FrameSimple from '../../shared/Frame/FrameSimple';\nimport './Confessional.css';\nimport ReactPlayer from 'react-player'\n\n// import ReactAudioPlayer from 'src/components/sketches/Gallery/node_modules/react-audio-player';\n\nimport { getRandomNum, getNewZIndices } from '../../shared/Helpers/Helpers';\nimport { getTweetContent, initConfessions, initZIndicesIcons, initZIndicesFrames } from './components/Helpers';\nimport Confession from './components/ConfessionIcon/Confession';\n\nimport TweetModal from './components/ConfessionIcon/Tweet/TweetModal';\n\n// import mainVid from  \"./assets/waves2_lines.mp4\";\n// import dove from  \"./assets/dove_t.gif\";\n// import shellSound from \"./assets/shell_sound.wav\";\n\n// import Glasses from '../../shared/Glasses/Glasses';\n\n\n\n// import txt from './assets/Canned/txt.png';\n\nimport { faEye, faRetweet, faVideo, faMicrophoneAlt, faMicrophoneAltSlash } from \"@fortawesome/free-solid-svg-icons\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\n\n\nclass Confessions extends React.Component {\n  // https://codepen.io/JohJakob/pen/YPxgwo\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      confessions: initConfessions(),\n      tweets: [],\n      time: 0,\n      zIndicesIcons: initZIndicesIcons(),\n      zIndicesFrames: initZIndicesFrames(),\n      modalTweetHidden: true,\n      modalTweet: null,\n      modalTweetConfession: null\n    };\n\n\n    this.fetchTweets = this.fetchTweets.bind(this);\n    this.addTweet = this.addTweet.bind(this);\n  }\n\n\n  componentDidMount() {\n    this.interval = setInterval(() => this.setState({ time: Date.now() }), 30);\n    this.fetchTweets();\n    // this.props.userSetRoom(\"confessions\");\n  }\n\n  componentWillUnmount() {\n    clearInterval(this.interval);\n    // this.props.userLeaveRoom(\"confessions\");\n  }\n\n\n  async fetchTweets() {\n    // const query = encodeURI(\"\\#confession\");\n    // console.log(\"WERERE\", query);\n    const url = `/api/get/tweets/%23confession`;\n    const response = await fetch(url);\n    const initialRes = await response.json();\n\n    if (initialRes.tweets.data) {\n      // const mode = Math.floor(Math.random()*3);\n      // let id = 0;//getMostEngagement(mode, initialRes.tweets.data); //Math.floor(Math.random()*10);\n      // const tweet = initialRes.tweets.data[id];\n      // const user = initialRes.tweets.includes.users[id];\n      // this.addTweet(tweet, user);\n      let i = 0;\n      const users = initialRes.tweets.includes.users;\n\n      // console.log(\"USERS\", users);\n      for (const tweet of initialRes.tweets.data) {\n        const id = tweet.author_id;\n        const findUserByID = users.filter(user => {\n          return user.id == id\n        })\n        if (findUserByID[0] && tweet) this.addTweet(i++, tweet, findUserByID[0]);\n      }\n\n    }\n    else {\n      // console.log(\"NO TWEETS\");\n    }\n\n    // console.log(\"DONE\", this.state.tweets);\n  }\n\n\n\n\n  addTweet = (i, tweetObj, user) => {\n    // console.log(\"TWEET\", tweetObj);\n    // console.log(\"USER\", user);\n\n    let tweets = [...this.state.tweets];\n    const tweet = {};\n    tweet.text = getTweetContent(tweetObj.text);\n    tweet.time = \"5s\"; //getTweetTime(tweetObj.created_at);\n    tweet.tweetID = tweetObj.id;\n    tweet.name = user.name;\n    tweet.url = user.profile_image_url;\n    tweet.username = user.username;\n    tweet.likes = tweetObj.public_metrics.like_count;\n    tweet.rts = tweetObj.public_metrics.retweet_count;\n    tweet.replies = tweetObj.public_metrics.reply_count;\n    if (i === 0) tweets[0] = tweet;\n    else tweets.push(tweet);\n    this.setState({ tweets });\n  }\n\n\n\n  newIconToTop = (id) => {\n    // console.log(\"id\", id)\n    const newZ = getNewZIndices(id, this.state.zIndicesIcons);\n    this.setState({ zIndicesIcons: newZ });\n    // console.log(\"ZZZ\", this.state.zIndices);\n  }\n\n\n  newFrameToTop = (id) => {\n    const newZ = getNewZIndices(id, this.state.zIndicesFrames);\n    this.setState({ zIndicesFrames: newZ });\n    // console.log(\"ZZZ\", this.state.zIndices);\n  }\n\n  onDblClick = (id) => {\n    console.log(id);\n    this.newFrameToTop(id);\n  }\n\n\n  setTweetModal = (tweet, confession) => {\n    this.setState({ modalTweetHidden: false,  modalTweet: tweet, modalTweetConfession: confession })\n  }\n\n  hideTweetModal = () => {\n    this.setState({ modalTweetHidden: true });\n  }\n\n  render() {\n    const { confessions, tweets, time, zIndicesIcons, zIndicesFrames } = this.state;\n\n\n    return (\n      <div className=\"Confessional Sketch\">\n        {\n          confessions.map((confession, i) => {\n            const props = {\n              zIcon: zIndicesIcons[i],\n              zFrame: zIndicesFrames[i],\n              time: time,\n              tweet: tweets[i],\n              confession: confessions[i],\n              setTweetModal: this.setTweetModal,\n              onDblClick: this.onDblClick,\n              newFrameToTop: this.newFrameToTop,\n              newIconToTop: this.newIconToTop\n            }\n            if (this.props.ui.width > 500)\n              return (<Confession key={i} i={i}  {...props} />)\n            else if (i < 5)\n              return (<Confession key={i} i={i}  {...props} />)\n            return null;\n          })\n        }\n        {\n          this.props.ui.isMobile ?\n            <TweetModal\n              isHidden={this.state.modalTweetHidden}\n              onHide={this.hideTweetModal}\n              tweet={this.state.modalTweet}\n              confession={this.state.modalTweetConfession}\n              ui={this.props.ui}\n            />\n            : null\n        }\n      </div>\n    );\n  }\n}\n\nconst mapStateToProps = (state) => {\n  return {\n    ui: state.ui\n  }\n}\n\nconst mapDispatchToProps = () => {\n  return {\n    // doneLoadingApp\n  }\n}\n\n\nexport default connect(mapStateToProps, mapDispatchToProps())(Confessions);\n","import { Scene, MeshBuilder, StandardMaterial, CubeTexture, Color3,Color4,Vector3, Mesh, Texture } from 'babylonjs';\n\nexport default class Emoji {\n\n  constructor(scene) {\n    this.r = Math.random()*8;\n    this.ang = Math.random() * 2 * Math.PI;\n\n    const imgs = [\"wave\", \"angry\", \"angry2\", \"tp\", \"flag\", \"rabbit\", \"ok\"];\n    this.index = 0;\n    let rand = Math.random();\n\n    \n    if (rand < .1) this.index = 1;\n    else if (rand < .2) this.index = 2;\n    else if (rand < .3) this.index = 3;\n    else if (rand < .4) this.index = 4;\n    else if (rand < .45) this.index = 5;\n    else if (rand < .6) this.index = 6;\n\n    var emojiTexture = new Texture(`${window.AWS}/vorTech/emojis/${imgs[this.index]}.png`, scene);\n    // emojiTexture.vScale = emojiTexture.uScale = 10;\n    var emojiMaterial = new StandardMaterial(\"emojiMaterial\", scene);\n    emojiMaterial.diffuseTexture = emojiTexture;\n    emojiMaterial.diffuseTexture.hasAlpha = true;\n    this.emoji = Mesh.CreateGround(\"wave\", 1.2, 1.2, 1, scene, false);\n    this.emoji.rotation.x = -Math.PI/2;\n    this.emoji.material = emojiMaterial;\n    this.emoji.setEnabled(false);\n    // this.emoji = MeshBuilder.CreateSphere(\"sphere\", {}, scene);\n  }\n\n  startFlush() {\n    this.r = Math.random()*8+7;\n    this.ang = Math.random() * 2 * Math.PI;\n    this.emoji.setEnabled(true);\n  }\n\n  hide() {\n    this.emoji.setEnabled(false);\n  }\n\n  update(isStopping=false) {\n    if (this.r < 2 && isStopping) {\n      this.emoji.setEnabled(false);\n    } else if (this.r < 2) {\n      this.r = 8;//Math.random()*200+window.innerWidth/2;\n    }\n    else {\n\n      this.r -= .01;\n      // let speed = (9-this.r)*.01;\n      if (this.r > 6) this.ang -= .01;\n      else if (this.r > 5) this.ang -= .02;\n      else if (this.r > 4) this.ang -= .03;\n      else if (this.r > 3) this.ang -= .04;\n      else this.ang -= .08;\n\n      let sc = (this.r)/5.5;\n      if (sc > 1) sc = 1;\n      this.emoji.scaling = new Vector3(sc, sc, sc);\n      // this.ang -= speed;\n\n      this.emoji.position.y = this.r*Math.cos(this.ang)//+window.innerHeight/2;\n      this.emoji.position.x = this.r*Math.sin(this.ang)//+window.innerWidth/2;\n\n      this.emoji.position.z = ((8-this.r)*6);\n    }\n\n  }\n}\n","import React from 'react';\nimport Frame from '../../shared/Frame/Frame';\nimport './Flush.css';\n\nimport { connect } from 'react-redux';\nimport { setSketchMusic } from '../../../store/actions/music';\n\n// Babylon\nimport { AnaglyphUniversalCamera, HemisphericLight, Vector3, StandardMaterial, VideoTexture, Color4, Mesh } from 'babylonjs';\nimport BabylonScene from '../../shared/Babylon.jsx';\nimport Emoji from './Emoji';\n\n\nclass Flush extends React.Component {\n  // https://codepen.io/JohJakob/pen/YPxgwo\n  constructor(props) {\n    super(props);\n\n    // this.imgW = 350;\n\n    this.state = {\n      handleDown: false,\n      isFlushing: true,\n      isStopping: false\n    }\n\n  }\n\n\n  componentDidMount() {\n    this.props.setSketchMusic(\"flush\", 0, .2);\n  }\n\n  componentWillUnmount() {\n\n  }\n\n\n  mod(a, b) {\n    return (((a % b) + b) % b);\n  }\n\n\n  onSceneReady = (scene) => {\n    // const camera = new UniversalCamera(\"UniversalCamera\", new Vector3(0, 1, -25), scene);\n    this.scene = scene;\n    this.camera = new AnaglyphUniversalCamera(\"af_cam\", new Vector3(0, 0, -5), 0.033, this.scene);\n\n    this.scene.clearColor = new Color4(0, 0, 0, 0);\n    this.camera.setTarget(new Vector3(0, 0, 10));\n\n    // const canvas = this.scene.getEngine().getRenderingCanvas();\n    // this.camera.attachControl(canvas, true);\n\n    const light = new HemisphericLight(\"light1\", new Vector3(0, 0, -1), this.scene);\n    light.intensity = .5;\n\n\n\n    this.emojis = [];\n    for (let i = 0; i < 150; i++) {\n      this.emojis[i] = new Emoji(this.scene);\n    }\n\n\n    var mat = new StandardMaterial(\"groundMaterial\", this.scene);\n    this.vidTex = new VideoTexture(\"video\", window.AWS + \"/vorTech/whirl2.mp4\", this.scene, true);\n    this.vidTex.video.volume = 0;\n    // this.vidTex.video.play(); // is this needed?\n    mat.diffuseTexture = this.vidTex;\n\n    var plane = Mesh.CreateGround(\"plane\", 512, 512, 32, this.scene, false);\n    // plane.position.y = -10;\n    plane.position.z = 180;\n    plane.rotation.x = -Math.PI / 2;\n    plane.material = mat;\n\n    this.lastVolume = 0;\n  }\n\n\n  onRender = (scene) => {\n    for (const emoji of this.emojis) {\n      // if (isFlushing)\n      emoji.update(this.state.isStopping);\n      // else emoji.hide();\n    }\n    if (this.props.music.volume != this.lastVolume) {\n      this.vidTex.video.volume = 0; //this.props.music.volume * .2;\n      this.lastVolume = 0; //this.props.music.volume;\n    }\n\n    // for mobile??\n    if (this.vidTex.video && !this.isVideoPlaying()) {\n      this.vidTex.video.play();\n    }\n  }\n\n  isVideoPlaying = () => {\n    let vid = this.vidTex.video;\n    return !!(vid.currentTime > 0 && !vid.paused && !vid.ended && vid.readyState > 2);\n  }\n\n  flushToilet = () => {\n    // this.setState({isFlushing: true});\n    if (this.vidTex.video && !this.isVideoPlaying()) {\n      this.vidTex.video.play();\n    }\n    const isFlushing = true;\n    const handleDown = true;\n    const isStopping = false;\n    this.setState({ isFlushing, handleDown, isStopping })\n    for (const emoji of this.emojis) {\n      // if (isFlushing)\n      emoji.startFlush();\n      // else emoji.hide();\n    }\n    setTimeout(this.stopFlush, 5000);\n    setTimeout(this.handleUp, 1000);\n  }\n\n  stopFlush = () => {\n    const isFlushing = false;\n    const isStopping = true;\n    this.setState({ isFlushing, isStopping })\n    // this.setState({isFlushing: false});\n  }\n\n  handleUp = () => {\n    const handleDown = false;\n    this.setState({ handleDown })\n  }\n\n  render() {\n\n    const deg = this.state.handleDown ? \"rotate(-20deg)\" : \"rotate(0deg)\";\n    return (\n      <div className=\"Flush Sketch\" ref={this.divRef} >\n\n        { <BabylonScene className=\"noSelect\" antialias onSceneReady={this.onSceneReady} onRender={this.onRender} id='babylon-canvas' />}\n        <Frame title=\"\"\n          x={100}\n          y={100}\n          width={150}\n          height={60}\n          windowStyle={{ background: \"transparent\" }}\n          content={\n            <div className=\"flush\">\n              <button onClick={this.flushToilet} style={{ transform: deg }}><img src={window.AWS + \"/vorTech/flush2.png\"} /></button>\n            </div>\n          }\n        />\n      </div>\n    );\n  }\n\n}\n\n\nconst mapStateToProps = (state) => {\n  return {\n    ui: state.ui,\n    music: state.music\n  }\n}\n\nconst mapDispatchToProps = () => {\n  return {\n    // doneLoadingApp\n    setSketchMusic\n  }\n}\n\n\nexport default connect(mapStateToProps, mapDispatchToProps())(Flush);\n\n","\n\nexport const labels = [\n  [\n    // foyer\n    { lev: 0, id: 0, name: \"petrified wood\", x: .5, y: 5, img: \"wood\", stars: 3.2, description: \"What goes on a mantle? Can someone please answer this question? Highly-curated photos only, please.\" },\n    { lev: 0, id: 1, name: \"floppy fish\",x: 3, y: 3.5,  img: \"floppyfish\", stars: 2.6, description: \"Facebook ads for this interactive floppy fish really got me. So many videos of happy cats! Tacocat has been a pain in the ass lately and I thought an electronic toy would tire that boy out. Well, I'd give this thing 2 stars because he's excited about the fish for all of about 20 seconds before he could care less.\" },\n    { lev: 0, id: 2, name: \"2020 xmas ornament\", x: .5, y: 1, img: \"tp\", stars: 3, description: \"Glad to know that when the apocalyse actually happens, we will be wiping our asses with leaves. If we learned anything in 2020 it's that people can't live without Charmin. Let me hear you say LATE STAGE CAPITALISM.\" },\n\n    // living\n    { lev: 0, id: 3, name: \"plastic succulent\", x: 9, y: .2, img: \"plastic\", stars: 4.1, description: \"I could blame this fake plant purchase on the fact that the living room doesn't get much light, but the truth is that I'm really terrible at keeping things alive. But honestly, I don't think anyone can tell this thing is fake. Extra stars.\" },\n    { lev: 0, id: 4, name: \"color-coded books\",x: 6.5, y: 4.5, img: \"books\", stars: 3.3, description: \"thank god I saved all those physics textbooks so that I can create a color-coded mantle filled with (mostly) meaningless items I'll never use again.\" },\n    { lev: 0, id: 5, name: \"trash TV\", x: 7.5, y: 5.5, img: \"tv\", stars: 4.9, description: \"Seriously, the things people throw away?? My netflix and chill game just stepped way up. This is like a 2010 Samsung. So maybe the resolution isn't excellent, but shit people.\" },\n\n    // bath\n    { lev: 0, id: 6, name: \"sopping wet bath mat\", x: 14.5, y: 2, img: \"bathmat\", stars: 4, description: \"I discovered in my thirties that people use a towel to dry off before exiting the shower. I have been leaving mini lakes on the bathroom floor since about 1989. I'd give this $12 Target bath mat 4 stars b/c it's soft and good bang for your buck. But still can't compete with my post-shower deluge.\" },\n    { lev: 0, id: 7, name: \"dying house plant\", x: 14.2, y: 5.5, img: \"plant\", stars: 1.1, description: \"I'm not very good at plant care. Sorry, plants? Insta ladies make it look so easy.\" },\n    \n    // kitchen\n    { lev: 0, id: 8, name: \"craft drawer\", x: .5, y: 7, img: \"craft\", stars: 4.5, description: \"Craft, craft, craft! What is better than having every tool that you need to pull off that Lundi Gras headdress? Hot glue to the max! Also, Perler beads are the best rediscovery of my 30s.\" },\n    { lev: 0, id: 9, name: \"hiding vodka\", x: 1.5, y: 10.8, img: \"vodka\", stars: 2.0, description: \"I hid this bottle to prevent my partner from drinking like a fish. I can't tell if my hiding solution has had any effect.\" },\n    { lev: 0, id: 10, name: \"old takeout\", x: 6, y: 9, img: \"takeout\", stars: 3.3, description: \"Was this takeout ever any good? No. But what is the value of pulling food directly out of the fridge? Has to be worth like a letter grade or two on the food scale. I'll give this B- fried rice an 92.5%; and this teacher rounds up.\" },\n    \n    // bedroom\n    { lev: 0, id: 11, name: \"mardi gras ephemera\", x: 14, y: 8, stars: 5.0, img: \"mardi\", description: \"Every New Orleanian has a mardi gras closet. I think most New Orleanians need a Mardi Gras room. Seriously, best day of life.\" },\n    { lev: 0, id: 12, name: \"maw maw's painting\", x: 11, y: 7, stars: 2.8, img: \"mawmaw\", description: \"My grandmother described herself as a primitive Acadian artist. I'm pretty sure we don't use the word 'primitive' anymore. Secretly, I don't particularly care for her work.\" },\n    { lev: 0, id: 13, name: \"booty shorts\", x: 11.5, y: 11, stars: 3.6, img: \"booty\", description: \"More Mardi Gras accessories for my bootaytay. These shorts verge on wedgy-dom. I really don't like wedgies, which is why I have never-ever worn a thong. Except maybe that one time in 8th grade because maybe that's what the cool girls were doing or something. I don't get the butt floss, sorry.\" },\n\n  ],\n  [\n    // foyer\n    { lev: 1, id: 0, name: \"stanky litter box\", x: 4.5, y: 5, stars: 1.4, img: \"litter\", description: \"Tacocat has started pooping outside, which iis the best thing ever. Except for the garden. Or the neighbors? Not actually sure where his excrement ends up. Regardless, stoked this litter requries less input.\" },\n    { lev: 1, id: 1, name: \"cat pee rug stain\", x: 4, y: 3, stars: 0.1, img: \"rug\", description: \"To clarify, this pee stain came from a previous roommate's cat. Cat pee is the worst.\" },\n\n    // living\n    { lev: 1, id: 2, name: \"forgotten coffee\", x: 7, y: 2, stars: 2.2, img: \"coffee\", description: \"I have this weird proclivity for making tea and subsequently forgetting all about said tea.I have this weird proclivity for making coffee and subsequently forgetting all about said coffee. Sometimes I wonder if I even like coffee, or if I just drink it because that is a normalized part of our culture? Does it actually make me feel more awake? I guess placebo is real.\" },\n    { lev: 1, id: 3, name: \"unused DSLR\", x: 9, y: 4, stars: 2.9, img: \"dslr\", description: \"A decade old DSLR that I bought like a true hipstter for way too much money and never learned how to use properly. I wouldn't be surprised if my iphone takes better pictures.\" },\n    { lev: 1, id: 4, name: \"Alexa, listening...\", x: 12, y: .5, stars: 1.8, img: \"alexa\", description: \"This one time I was home all alone, and (THIS IS TRUE), out of the blue that bitch goes, 'JESUS CHRIST' and starts reading the wikipedia page of Jesus. Don't think I've been that afraid, like ever. Why are we submitting to this shit?\"  },\n\n    // bath\n    { lev: 1, id: 5, name: \"hairballs\", x: 14.4, y: 1, stars: 0.8, img: \"hairball\", description: \"I feel like I could create a voluminous wig from the hair I lose after every shower.\" },\n    { lev: 1, id: 6, name: \"unecessary tampons\", x: 15, y: 3, stars: 4.5, img: \"tampons\", description: \"Woooo UTI. I went the hormonal route b/c who wants worse periods??? Except what are those hormones doing to my sex drive and psyche and long-term health? Whatever, no babies.\" },\n\n    // kitchen\n    { lev: 1, id: 7, name: \"gnarly sponge\", x: 1, y: 9, stars: 0.6, img: \"sponge\", description: \"Why do sponges smell that gross and very specific sponge smell? Wet towels don't smell that way? Rotting food doesn't? Please educate me, internet.\" },\n    { lev: 1, id: 8, name: \"overused swiffer pad\", x: 5, y: 10, stars: 2.1, img: \"swiffer\", description: \"Strangely, I ordered these on Amazon and they were delivered with a handwritten note that said something lke, 'please invest in our family-run business,' which has to be a scam?? Based on the Amazon review, there is no way this is a small family operation. Or maybe I just don't understand how Amazon actually works. I know, I know. Get off that shit!\" },\n\n    // bedroom\n    { lev: 1, id: 9, name: \"friendly scale\", x: 15, y: 11.5, stars: 4.4, img: \"scale\", description: \"I think the house is sinking and the floor is off-kilter which is why the scale always has nice things to say.\" },\n    { lev: 1, id: 10, name: \"8 weeks of laundry\", x: 14, y: 6.5, stars: 1.2, img: \"laundry\", description: \"I haven't done the laundry since I started dating my partner. He is amazing. But if it's left to me, I have way too many pairs of underwear to get that shit done.\" },\n    { lev: 1, id: 11, name: \"jewelry box\", x: 11, y: 9, img: \"jewelry\", stars: 2.6, description: \"My mom gave me this jewelry box. Most of the stuff in here are things I got from my grandmother that I would never wear (gaudy necklaces, mostly). Time to clear this baby out.\" },\n\n  ],\n  [\n    // foyer\n    { lev: 2, id: 0, name: \"$27,256 in student loans\", x: -.5, y: 5.5, stars: 1.1, img: \"bills\", description: \"LOAN FORGIVNESS LETS GO. College is becoming (already is? has been?) a racket.\" },\n    { lev: 2, id: 1, name: \"uncle's erotic art\", x: .5, y: 2, img: \"por\", stars: 2.0, description: \"I think my dad's family talks about sex more than certainly any other family I've ever heard about. This is not a joke. Some pervy dudes. At least it's out in the open? This '20th century erotic art masters' book was a gift from one of those horny uncles. Ew (?)\" },\n\n    // living\n    { lev: 2, id: 2, name: \"money jars\", x: 11, y: 2.5, img: \"money\", stars: 3.4, description: \"Here's da bank! Bills bills bills.\" },\n    { lev: 2, id: 3, name: \"letters from exes\", x: 11.3, y: 4.5, stars: 3.6, img: \"exes\", description: \"There is something nice about receiving a written letter. Is that a dying art? Honestly I kind of like having Google Doc love letters; easier to keep track of. Better hope Google's encrypting those saucy bits.\" },\n    { lev: 2, id: 4, name: \"passport, social\", x: 7, y: 3.5, stars: 4.4, img: \"passport\", description: \"Passport, social, birth certificate - everything you need to take over my identity.\" },\n\n    // bath\n    { lev: 2, id: 5, name: \"mania meds\", x: 15, y: 4.2, img: \"meds\", stars: 2.5, description: \"About 8 years ago I had a manic psychotic break and completely lost my mind. Thought I was the second coming of Christ and went on a meadering journey all over NY and New Jersey until my family tracked me down with Twitter...\" },\n\n    // kitchen\n    { lev: 2, id: 6, name: \"dank green\", x: .5, y: 10, img: \"green\", stars: 4.6, description: \"I honestly think I might be done with the green. No more psychosis for me.\" },\n    { lev: 2, id: 7, name: \"stolen pint glasses\", x: 8, y: 6.5, stars: 2.8, img: \"glass\", description: \"I didn't steal them, so no guilt. They're kind of tacky, though. When are we supposed to become the Pinterest versions of ourselves? Let's go with 40.\" },\n\n    // bedroom\n    { lev: 2, id: 8, name: \"large black dildo\", x: 10.1, y: 10, stars: 3.6, img: \"dildo\", description: \"Consistently 9 inches. Need I say more?\" },\n    { lev: 2, id: 9, name: \"nippy bra\", x: 10.7, y: 7.8, img: \"bra\", stars: 1.1, description: \"From Free People. I honestly don't know why this bra exists. It does literally nothing to support the boob or hide the nip. It is super flimsy and pointless. It's like Free People can just sell tissue and people will buy it. (This was given to me, not purchased)\" },\n\n  ]\n]\n\nexport const rooms = [\n  { \"id\": 0, \"name\": \"foyer\", \"icon\": \"foyer\", stars: 2.2, \"points\": [0, 0, 0, 0, 0, 6, 6, 0, 6, 6, 0, 0, 0, 0, 0], \"iconPos\": { x: 3, y: 3 }, img: \"foyer\", description: \"The foyer is really just the, 'leave your crap here' room. One time I was waiting for the subway in Brooklyn with a huge IKEA bag full of random shit and this rat ran out from the tracks, grabbed a napkin, and pulled it into its little hole. We really aren't much different from subway mammals.\" },\n  { \"id\": 1, \"name\": \"living room\", \"icon\": \"living\", stars: 4.4, \"points\": [6, 0, 0, 6, 0, 6, 14, 0, 6, 14, 0, 0, 6, 0, 0], \"iconPos\": { x: 10, y: 3 }, img: \"living\", description: \"The purchase of a Pottery Barn couch was such a game changer. When you get a good couch, you become a real adult. That is my honest metric.\" },\n  { \"id\": 2, \"name\": \"bathroom\", \"icon\": \"bathroom\", stars: 4.1, \"points\": [14, 0, 0, 14, 0, 6, 18, 0, 6, 18, 0, 0, 14, 0, 0], \"iconPos\": { x: 16, y: 3 }, img: \"bathroom\", description: \"Please let subway tile be cool for at least 5 years. Just re-did the bathroom to match the Pinterest so that shit better not change until I get my money's worth.\" },\n  { \"id\": 3, \"name\": \"kitchen\", \"icon\": \"kitchen\", stars: 2.4, \"points\": [0, 0, 6, 0, 0, 12, 10, 0, 12, 10, 0, 6, 0, 0, 6], \"iconPos\": { x: 5, y: 9 }, img: \"fridge\", description: \"This kitchen accidentally got painted this really offensive lime green (the paint swatches are hard to visualize on a wall if you aren't good at color!); color needs to go. Painting is just such a pain in the ass.\" },\n  { \"id\": 4, \"name\": \"bedroom\", \"icon\": \"bedroom\", stars: 3.9, \"points\": [10, 0, 6, 10, 0, 12, 18, 0, 12, 18, 0, 6, 10, 0, 6], \"iconPos\": { x: 12, y: 8 }, img: \"bedroom\", description: \"I inherited a Scandinavian bedroom set from my mom. Probably the bed I was conceived in. Try not to think about that too much.\" },\n  { \"id\": 5, \"name\": \"back yard\", \"icon\": \"backyard\", stars: 4.0, \"points\": [], \"iconPos\": { x: 20, y: 8 }, img: \"bbq\", description: \"We used the back porch so much before covid! Had a few great gatherings with fire pits; admittedly burned the deck and the plastic rug... oopsie.\" },\n  { \"id\": 6, \"name\": \"front porch\", \"icon\": \"frontporch\", stars: 3.7, \"points\": [], \"iconPos\": { x: -2, y: 3 }, img: \"front\", description: \"Porch game is so solid in New Orleans. I'd say this porch is pretty solid; the light can be kind of intense in the evening.\" }\n];\n\nexport const roads = [\n  [-2, 0, 3, 16, 0, 3],\n  [3, 0, 3, 3, 0, 8, 5, 0, 9],\n  [10, 0, 3, 12, 0, 8, 20, 0, 8]\n];\n\nexport const doors = [\n  [0, 0, 2, 0, 0, 4], //outsideDoor\n  [2, 0, 6, 4, 0, 6], //kitchen\n  [6, 0, 2, 6, 0, 4], // to living\n  [14, 0, 2, 14, 0, 4], // bath\n  [11, 0, 6, 13, 0, 6], // bed\n  [18, 0, 7, 18, 0, 9] // back\n]\n\nexport const roomLines = [\n  [0, 0, 12, 18, 0, 12], // tophoriz\n  [0, 0, 6, 2, 0, 6], // mid horiz\n  [4, 0, 6, 11, 0, 6],\n  [13, 0, 6, 18, 0, 6],\n  [0, 0, 0, 18, 0, 0], // bottom horiz\n  [0, 0, 0, 0, 0, 2], // vert bot left\n  [0, 0, 4, 0, 0, 12],\n  [6, 0, 0, 6, 0, 2],\n  [6, 0, 4, 6, 0, 6],\n  [10, 0, 6, 10, 0, 12],\n  [14, 0, 0, 14, 0, 2],\n  [14, 0, 4, 14, 0, 6],\n  [18, 0, 0, 18, 0, 7],\n  [18, 0, 9, 18, 0, 12],\n]\n\n\n\n// export const labelsOg2 = [\n//   [\n//     { lev: 0, id: 0, name: \"forgotten coffee cup\", x: 12, y: 11.5, img: \"coffee\", description: \"I have this weird proclivity for making tea and subsequently forgetting all about said tea.I have this weird proclivity for making tea and subsequently forgetting all about said tea.I have this weird proclivity for making tea and subsequently forgetting all about said tea.I have this weird proclivity for making tea and subsequently forgetting all about said tea.I have this weird proclivity for making tea and subsequently forgetting all about said tea.I have this weird proclivity for making tea and subsequently forgetting all about said tea.I have this weird proclivity for making tea and subsequently forgetting all about said tea.I have this weird proclivity for making tea and subsequently forgetting all about said tea.I have this weird proclivity for making tea and subsequently forgetting all about said tea.I have this weird proclivity for making tea and subsequently forgetting all about said tea.I have this weird proclivity for making tea and subsequently forgetting all about said tea.\" },\n//     { lev: 0, id: 1, name: \"Alexa, listening...\", x: 10, y: 4, img: \"bathroom\", description: \"des1\" },\n//     { lev: 0, id: 2, name: \"dying house plant\", x: 1, y: 1, img: \"plant\", description: \"des2\" },\n//     { lev: 0, id: 3, name: \"smelly sponge\", x: 1, y: 10.8, img: \"sponge\", description: \"des3\" },\n//   ],\n//   [\n//     { lev: 1, id: 0, name: \"nippy bra\", x: 6.5, y: 5, img: \"bra\", description: \"des4\" },\n//     { lev: 1, id: 1, name: \"love letters from exes\", x: 3, y: 4, img: \"bathroom\", description: \"des5\" },\n//     { lev: 1, id: 2, name: \"rat-sized drain hairball\", x: 14.4, y: 1, img: \"bathroom\", description: \"des6\" },\n//     { lev: 1, id: 3, name: \"8 weeks of laundry\", x: 14, y: 7, img: \"bathroom\", description: \"des7\" },\n//   ],\n//   [\n//     { lev: 2, id: 0, name: \"$27,256 in student loan bills\", x: 11, y: 10, img: \"bathroom\", description: \"des8\" },\n//     { lev: 2, id: 1, name: \"mania meds\", x: 14, y: 5, img: \"meds\", description: \"des9\" },\n//     { lev: 2, id: 2, name: \"box full of green\", x: 6.5, y: 3, img: \"bathroom\", description: \"des00\" },\n//     { lev: 2, id: 3, name: \"large black dildo\", x: 7, y: 2, img: \"dildo\", description: \"des0000\" },\n//   ]\n// ]\n\n// var labelsOG = [\n\n//   // foyer\n//   { txt: \"Foster Wallace books (for looks)\", x: 240, y: 250, sc: 2 },\n//   { txt: \"house plant that I overwatered\", x: 355, y: 90, sc: 2 },\n//   { txt: \"past-due Amazon return\", x: 220, y: 200, sc: 3 },\n//   { txt: \"forgotten lunch tupperware\", x: 380, y: 220, sc: 3 },\n//   { txt: \"decorative jar stolen (taken?) from bougie hotel\", x: 350, y: 280, sc: 4 },\n//   { txt: \"$27,256 in student loan bills\", x: 220, y: 50, sc: 4 },\n\n\n//   // bedroom\n//   { txt: \"lukewarm peppermint tea\", x: 210, y: 500, sc: 2 },\n//   { txt: \"favorite earring lost behind dresser\", x: 220, y: 360, sc: 2 },\n//   { txt: \"love letters from exes\", x: 300, y: 330, sc: 3 },\n//   { txt: \"(free) cherry flavored condoms\", x: 380, y: 520, sc: 3 },\n//   { txt: \"period blood-stained undies\", x: 350, y: 550, sc: 4 },\n//   { txt: \"mania meds\", x: 200, y: 400, sc: 4 },\n//   { txt: \"valuables box: birth certificate, social, passport\", x: 380, y: 470, sc: 4 },\n\n//   // bathroom\n//   { txt: \"termite dust...\", x: 580, y: 500, sc: 2 },\n//   { txt: \"rat-sized drain hairball\", x: 580, y: 530, sc: 3 },\n//   { txt: \"15-year-expired laxatives\", x: 580, y: 410, sc: 4 },\n\n//   // bathroom 2\n//   { txt: \"fungus amungus\", x: 1140, y: 470, sc: 2 },\n//   { txt: \"shower blowie\", x: 1160, y: 550, sc: 3 },\n\n//   // hall\n//   { txt: \"unplugged fire alarm\", x: 695, y: 365, sc: 2 },\n\n//   // back porch\n//   { txt: \"fat cat sightings\", x: 1270, y: 330, sc: 2 },\n//   { txt: \"spliff butts\", x: 1255, y: 400, sc: 4 },\n\n//   // front porch\n//   { txt: \"3 Amazon packages worth of glitter\", x: 50, y: 340, sc: 2 },\n//   { txt: \"not so secret key\", x: 55, y: 500, sc: 3 },\n\n//   // kitchen\n//   { txt: \"ramen for days\", x: 950, y: 260, sc: 2 },\n//   { txt: \"hot glue-able Mardi Gras bedazzlers\", x: 1080, y: 80, sc: 2 },\n//   { txt: \"multiple dead cockroaches\", x: 900, y: 150, sc: 3 },\n//   { txt: \"pantry moth infestation\", x: 1000, y: 220, sc: 3 },\n//   { txt: \"very gassy gumbo\", x: 1080, y: 260, sc: 4 },\n//   { txt: \"box full of green\", x: 1080, y: 140, sc: 4 },\n\n//   // living\n//   { txt: \"color-coordinated textbooks\", x: 700, y: 250, sc: 2 },\n//   { txt: \"side-of-the-road chair\", x: 590, y: 50, sc: 2 },\n//   { txt: \"plastic World Market succulent\", x: 700, y: 190, sc: 3 },\n//   { txt: \"Alexa, listening...\", x: 740, y: 100, sc: 3 },\n//   { txt: \"afternoon delight\", x: 740, y: 170, sc: 4 },\n//   { txt: \"unused ADT alarm\", x: 550, y: 270, sc: 4 },\n\n//   // 2nd bedroom\n//   { txt: \"$4.34 in (scattered) change\", x: 900, y: 460, sc: 2 },\n//   { txt: \"aspirational jeans\", x: 790, y: 550, sc: 2 },\n//   { txt: \"70s porn mags from creepy uncle\", x: 940, y: 340, sc: 3 },\n\n//   { txt: \"8 weeks of laundry\", x: 840, y: 500, sc: 3 },\n//   { txt: \"magic mushrooms\", x: 840, y: 420, sc: 4 },\n//   { txt: \"\", x: 920, y: 550, sc: 4 },\n\n\n// ];\n","import React from 'react';\nimport './Modal.css';\nimport { connect } from 'react-redux';\nimport Frame from '../../../shared/Frame/Frame';\nimport CenterModal from '../../../shared/CenterModal/CenterModal';\nimport ReactPlayer from 'react-player';\n// import { setOneMenu, hideFaq, toggleFaq } from '../../../../store/actions/menuItems';\n\n\nclass Modal extends React.Component {\n\n    constructor(props) {\n\n        super(props);\n\n        this.state = {\n            currentContent: 0,\n            contentHidden: true\n        }\n    }\n\n    render() {\n        const { ui } = this.props;\n        if (ui.isMobile || ui.hasFooter) {\n            return this.getMobileModal();\n        }\n        return this.getDesktopModal();\n    }\n\n    getDesktopModal = () => {\n        const { onHide, isHidden, ui } = this.props;\n        const w = ui.width - 40;\n        const h = ui.contentH - 40;\n        return (\n            <Frame title=\"\"\n                bounded={true}\n                isHidden={isHidden}\n                onHide={onHide}\n                className=\"home-page-modal\"\n                windowStyle={{ background: \"rgba(0, 0, 0, .9)\" }}\n                content={this.getModalContentPortrait()}\n                width={300}\n                height={this.getModalFrameH()}\n                x={20}\n                y={20}\n                z={1000}\n            />\n        );\n    }\n\n    getMobileModal = () => {\n        const { ui, isHidden, onHide } = this.props;\n        let h = ui.contentH;\n        let w = ui.contentW;\n        const content = ui.orientation === \"portrait\" ? this.getModalContentPortrait() : this.getModalContentLandscape();\n        return (\n            <CenterModal\n                title=\"\"\n                isHidden={isHidden}\n                onHide={onHide}\n                ui={ui}\n                classN=\"home-modal\"\n                content={content}\n                isRelative={true}\n                buttons={this.getButtons()}\n                z={1000}\n            />\n        )\n    }\n\n    getModalFrameH = () => {\n        const {ui} = this.props;\n        const fullH = ui.contentH - ui.toolbarH - 2*ui.edgeSpacing ;\n        return Math.min(fullH, 800);\n    }\n\n    getModalContentLandscape = (w, h) => {\n        return null;\n    }\n\n    getModalContentPortrait = () => {\n        const { ui, data } = this.props;\n        let fH = this.getModalFrameH();\n        let imgH = 300;\n        let imgW = 300;\n        let txtH = fH - imgH;\n\n        let classN = \"loc-content\";\n        if (ui.hasFooter || ui.isMobile) {\n            classN += \" mobile\";\n            imgH = 200;\n            if (ui.orientation === \"landscape\")\n                classN += \" landscape\"\n        }\n\n        const imgStyle = {\n            backgroundImage: `url(${window.AWS}/homePage/thumbnails/${data.img}.jpg)`,\n            height: imgH,\n            width: imgW\n        }\n\n        let stars = \"\";\n        for (let i = 0; i < Math.round(data.stars); i++) {\n            stars += \"*\";\n        }\n\n        return (\n            <div className={classN} style={{height: fH}}>\n                {/* <div className=\"loc-img\" style={imgStyle} /> */}\n                <ReactPlayer\n                    className={\"react-player loc-vid\"}\n                    playing\n                    muted\n                    loop\n                    width={imgH}\n                    height={imgW}\n                    playsInline\n                    url={`${window.AWS}/homePage/vids/${data.img}.mp4`}\n                />\n                <div className=\"loc-container\" style={{ height: txtH, width: imgW }}>\n                    <div className=\"loc-txt\">\n                        <div className=\"loc-title\">{data.name}</div>\n                        <div className=\"loc-stars\">{data.stars + \" \" + stars}</div>\n                        <div className=\"loc-description\">{data.description}</div>\n                    </div>\n                </div>\n            </div>\n        )\n    }\n\n    getButtons = () => {\n        const {onHide} = this.props;\n        return (\n            <div className=\"center-buttons\">\n                <button className=\"standardButton primary\" onClick={onHide}>close</button>\n            </div>\n        )\n    }\n}\n\nconst mapStateToProps = (state) => {\n    return {\n        ui: state.ui,\n    }\n}\n\nconst mapDispatchToProps = () => {\n    return {\n    }\n}\n\n\nexport default connect(mapStateToProps, mapDispatchToProps())(Modal);\n","import React, { Component } from \"react\";\n// import ReactDOM from \"react-dom\";\nimport * as THREE from \"three\";\nimport './Oogle.css';\nimport { AnaglyphEffect } from 'three/examples/jsm/effects/AnaglyphEffect';\nimport { Interaction } from 'three.interaction';\nimport { OBJLoader } from 'three/examples/jsm/loaders/OBJLoader.js';\n// import { VertexNormalsHelper } from 'three/examples/jsm/helpers/VertexNormalsHelper.js';\n// import { VertexTangentsHelper } from 'three/examples/jsm/helpers/VertexTangentsHelper.js';\nimport { SVGLoader } from 'three/examples/jsm/loaders/SVGLoader.js';\n// import { BufferGeometryUtils } from 'three/examples/jsm/utils/BufferGeometryUtils.js';\n\nimport { MapControls, OrbitControls } from 'three/examples/jsm/controls/OrbitControls.js';\n\nimport { Line2 } from 'three/examples/jsm/lines/Line2.js';\nimport { LineGeometry } from 'three/examples/jsm/lines/LineGeometry.js';\nimport { LineMaterial } from 'three/examples/jsm/lines/LineMaterial.js';\nimport { Wireframe } from 'three/examples/jsm/lines/Wireframe.js';\nimport { WireframeGeometry2 } from 'three/examples/jsm/lines/WireframeGeometry2.js';\n// import { GeometryUtils } from 'three/examples/jsm/utils/GeometryUtils.js';\n\nimport { rooms, roomLines, roads, doors, labels } from './data';\n\nimport Modal from './components/Modal';\n\n// store\nimport { connect } from 'react-redux';\nimport { doneLoadingApp } from '../../../store/actions/';\nimport { setNoSketchMusic } from '../../../store/actions/music';\n\n\nvar mapR = 0;\n\nclass Oogle extends Component {\n\n  constructor(props) {\n    super(props);\n\n    this.mount = React.createRef();\n    this.canvas = React.createRef();\n\n    this.state = {\n      currentPoint: labels[0][0],\n      isModalHidden: true\n    }\n  }\n\n\n\n\n  componentDidMount() {\n\n    this.props.setNoSketchMusic();\n    this.icons = [];\n    this.labelGroups = [[], [], [], []];\n    this.roomLabels = [];\n\n    this.scaler = 100;\n    this.startX = -8 * this.scaler;\n    this.startZ = -6 * this.scaler;\n\n    this.init();\n    this.startAnimationLoop();\n\n  }\n\n  componentWillUnmount() {\n    window.removeEventListener('resize', this.handleWindowResize);\n    window.cancelAnimationFrame(this.requestID);\n    this.controls.dispose();\n  }\n\n  startAnimationLoop = () => {\n    this.scene.rotation.y = mapR;\n\n    var time = 0\n    this.light.position.x = Math.sin(time * 1.7) * 300;\n    this.light.position.y = Math.cos(time * 1.5) * 400;\n    this.light.position.z = Math.cos(time * 1.3) * 300;\n\n\n    this.setRoomIconTransforms();\n    this.setLabelTransforms();\n    this.setVisibleLabels();\n\n    if (this.controls)\n      this.controls.update();\n    this.effect.render(this.scene, this.camera);\n    this.requestID = window.requestAnimationFrame(this.startAnimationLoop);\n\n  };\n\n\n  init = () => {\n    this.scene = new THREE.Scene();\n    this.initRenderer(this.mount);\n    this.initCamera();\n\n    // new a interaction, then you can add interaction-event with your free style\n    const interaction = new Interaction(this.renderer, this.scene, this.camera);\n\n\n    this.initControls();\n    this.initAnaglyph();\n\n    this.initLights();\n\n    this.initRoomIcons();\n    this.initLabels();\n    this.initRooms();\n    this.initRoads();\n    // initDoors();\n\n    this.initModels(this.loadingDone);\n    this.initGrids();\n    // addSkybox();\n\n    window.addEventListener('resize', this.onWindowResize, false);\n\n  }\n\n  initRenderer = () => {\n    this.renderer = new THREE.WebGLRenderer();\n    this.renderer.setPixelRatio(window.devicePixelRatio);\n    this.renderer.setSize(window.innerWidth, window.innerHeight);\n    this.mount.appendChild(this.renderer.domElement);\n    this.renderer.setClearColor(0xffff00, 1);\n  }\n\n  initCamera = () => {\n    this.camera = new THREE.PerspectiveCamera(70, window.innerWidth / window.innerHeight, 1, 10000);\n    // this.camera.position.z = 1200;\n    this.camera.position.set(0, 1200, 0);\n    this.camera.lookAt(this.scene.position);\n  }\n\n  initControls = () => {\n    this.controls = new MapControls(this.camera, this.renderer.domElement);\n    // this.controls.maxPolarAngle = 0;\n    this.controls.minZoom = .1;\n    // this.controls.maxZoom = .5;\n    this.controls.maxDistance = 2000;\n    this.controls.update();\n  }\n\n  initAnaglyph = () => {\n    this.effect = new AnaglyphEffect(this.renderer);\n    this.effect.setSize(window.innerWidth, window.innerHeight);\n  }\n\n  initLights = () => {\n    this.light = new THREE.PointLight();\n    this.light.position.set(200, 100, 150);\n    this.scene.add(this.light);\n  }\n\n  initModels = (callback) => {\n    const wallH = 400;\n    var promises = [];\n    promises.push(this.loadObj(window.AWS + '/homePage/models/sofa/Sofa_01.obj', { x: 9 * this.scaler, y: -200, z: 1 * this.scaler }, 15, -Math.PI / 2));\n    promises.push(this.loadObj(window.AWS + '/homePage/models/toilet/Toilet_01.obj', { x: 17 * this.scaler, y: -200, z: 5 * this.scaler }, 18, Math.PI));\n    promises.push(this.loadObj(window.AWS + '/homePage/models/bed3/Bed_01.obj', { x: 16 * this.scaler, y: -200, z: 10 * this.scaler }, 15, -Math.PI / 2));\n    promises.push(this.loadObj(window.AWS + '/homePage/models/window/Window_02.obj', { x: 0 * this.scaler, y: -50, z: 9 * this.scaler }, 10, 0));\n\n    promises.push(this.loadObj(window.AWS + '/homePage/models/kitchen/cabinets.obj', { x: 7.6 * this.scaler, y: -80, z: 9.5 * this.scaler }, 130, Math.PI));\n\n    Promise.all(promises)\n      .then(callback);\n  }\n\n  initGrids = () => {\n    this.drawGrid(12 * this.scaler, { x: 6 * this.scaler, y: -200, z: 6 * this.scaler });\n    this.drawGrid(6 * this.scaler, { x: 9 * this.scaler + 6 * this.scaler, y: -200, z: -3 * this.scaler + 6 * this.scaler });\n    this.drawGrid(6 * this.scaler, { x: 9 * this.scaler + 6 * this.scaler, y: -200, z: 3 * this.scaler + 6 * this.scaler });\n  }\n\n  initLabels = () => {\n    let level = 0;\n    for (const labelLevel of labels) {\n      for (let i = 0; i < labelLevel.length; i++) {\n        const label = labelLevel[i];\n        let path = window.AWS + `/homePage/labels/l${level}/${i}.svg`;\n        // let path = '/assets/s3-bucket/oogle/labels/l' + level + '/0.svg';\n        let callback = (group, lev) => {\n          group.position.set(label.x * this.scaler + this.startX, -180, label.y * this.scaler + this.startZ);\n          // group.scale.set(10, 10,);\n          this.labelGroups[lev].push(group);\n\n          let h = 40\n          let w = label.name.length * 15.6;\n          const geo = new THREE.PlaneGeometry(w, h, 32);\n          const material = new THREE.MeshBasicMaterial({ color: 0xffffff, transparent: true, opacity: 0, side: THREE.DoubleSide });\n          const plane = new THREE.Mesh(geo, material);\n          plane.position.set(w / 2, 0, 0);\n          group.add(plane);\n\n          group.cursor = 'pointer';\n          group.on('click', (ev) => {\n            this.setLabel(label.lev, label.id);\n            this.onShowModal();\n          });\n\n\n          this.scene.add(group);\n        }\n        let l = level;\n        this.loadSVG(path, { x: 0, y: 0, z: 0 }, Math.PI / 2, (group) => callback(group, l));\n      }\n      level++;\n    }\n  }\n\n  initRoomIcons = () => {\n    for (const room of rooms) {\n\n\n      let labelCallback = (gl, gi) => {\n\n\n        var pivot = new THREE.Object3D();\n        // gl.scale\n        pivot.add(gl);\n        pivot.add(gi);\n        // pivot.scale.multiplyScalar(5 );\n        const x = room.iconPos.x * this.scaler + this.startX;\n        const y = room.iconPos.y * this.scaler + this.startZ;\n        pivot.position.set(x, 0, y);\n\n        let sc = 8.7;\n        let w = 150 * (room.name.length / sc);\n        let h = 30;\n        let xs = -20;\n        let sp = room.name.indexOf(\" \");\n        if (sp > -1) {\n          let word = room.name.substring(0, sp);\n          w = 150 * (word.length / sc);\n          xs = -30;\n          h = 50;\n        }\n        const geometry = new THREE.PlaneGeometry(w, h, 32);\n        const material = new THREE.MeshBasicMaterial({ color: 0xffffff, transparent: true, opacity: 0, side: THREE.DoubleSide });\n        const plane1 = new THREE.Mesh(geometry, material);\n        plane1.rotation.x = Math.PI / 2;\n        plane1.position.set(xs + w / 2, 0, h / 2);\n\n        h = 30\n        w = 22;\n        const geo = new THREE.PlaneGeometry(w, h, 32);\n        const plane2 = new THREE.Mesh(geo, material);\n        plane2.rotation.x = Math.PI / 2;\n        plane2.position.set(0, 0, -h / 2);\n\n        pivot.cursor = 'pointer';\n        pivot.on('click', (ev) => {\n          this.setRoom(room.id);\n          this.onShowModal();\n        });\n        pivot.add(plane1);\n        pivot.add(plane2);\n\n        this.scene.add(pivot);\n        this.icons.push(pivot);\n        this.roomLabels.push(gl);\n\n      }\n      let iconCallback = (group) => {\n        // group.scale.multiplyScalar(2 );\n        let path = window.AWS + \"/homePage/labels/rooms/\" + room.icon + \".svg\";\n        // let path = \"/assets/s3-bucket/homePage/labels/rooms/txt.svg\";\n        this.loadSVG(path, { x: -20, y: .1, z: 5 }, Math.PI / 2, (gl) => labelCallback(gl, group));\n      }\n      let path = window.AWS + \"/homePage/assets/icons/icon2.svg\"; // + points[i].icon + \".svg\"\n      this.loadSVG(path, { x: -10, y: .1, z: -30 }, Math.PI / 2, iconCallback);\n    }\n\n  }\n\n\n  onWindowResize = () => {\n    this.camera.aspect = window.innerWidth / window.innerHeight;\n    this.camera.updateProjectionMatrix();\n    this.renderer.setSize(window.innerWidth, window.innerHeight);\n  }\n\n\n  setRoomIconTransforms = () => {\n    for (const group of this.icons) {\n      group.rotation.y = this.camera.rotation.z - mapR;\n      // let sc = this.camera.position.y/500;\n      var scaleVector = new THREE.Vector3();\n      var scaleFactor = 500;\n      var scale = scaleVector.subVectors(this.scene.position, this.camera.position).length() / scaleFactor;\n      group.scale.set(scale, scale, scale)\n    }\n  }\n\n  setLabelTransforms = () => {\n    let lev = 1;\n    for (const level of this.labelGroups) {\n      for (const group of level) {\n        group.rotation.z = -this.camera.rotation.z + mapR;\n        let val = 1;\n        // if (level === 1) val = .7;\n        // else if (val === 2) val = .6;\n        let sc = (this.camera.position.y - group.position.y) / 800 * val;\n        var scaleVector = new THREE.Vector3();\n        // var scaleFactor = 600+(lev++)*50;\n        // var scaleFactor = 700;\n        // var scale = scaleVector.subVectors(new THREE.Vector3(this.camera.position.x, 0, this.camera.position.z), this.camera.position).length() / scaleFactor;\n        // group.scale.set(scale, scale, scale)\n        group.scale.set(sc, sc, sc)\n      }\n    }\n  }\n\n  setVisibleLabels = () => {\n    this.setRoomLabels();\n    this.resetLabelGroups();\n\n    // other labels\n    // reset\n\n    const y = this.camera.position.y;\n\n    if (y > 0) {\n      if (y < 900) {\n        for (const lg of this.labelGroups[0]) {\n          lg.visible = true;\n        }\n      }\n      if (y < 500) {\n        for (const lg of this.labelGroups[1]) {\n          lg.visible = true;\n        }\n      }\n      if (y < 300) {\n        for (const lg of this.labelGroups[2]) {\n          lg.visible = true;\n        }\n      }\n\n    }\n\n  }\n\n  resetLabelGroups = () => {\n    for (const level of this.labelGroups) {\n      for (const lg of level) {\n        lg.visible = false;\n      }\n    }\n  }\n\n\n  setRoomLabels = () => {\n    const y = this.camera.position.y;\n    // room labels\n    for (const g of this.roomLabels) {\n      if ((y < 1100) && y > 0) {\n        g.visible = true;\n      }\n      else g.visible = false;\n    }\n  }\n\n\n\n\n  initRooms = () => {\n    // console.log(\"len\", roomLines.length)\n    for (const room of roomLines) {\n      const roomPoints = room.map((x, i) => {\n        if ((i - 1) % 3 == 0)\n          return -200;\n        return x * this.scaler;\n      });\n      this.addLine(roomPoints, 0x000000, 2);\n    }\n  }\n\n  initRoads = () => {\n    // for (let i = 0; i < 4; i++) {\n    //   const l0 = [points[i].x, 0, points[i].y, points[i+1].x, 0, points[i+1].y];\n    //   addLine(l0);\n    // }\n    for (const road of roads) {\n      const roadPoints = road.map((x) => { return x * this.scaler; });\n      this.addLine(roadPoints);\n    }\n  }\n\n  initDoors = () => {\n    for (const door of doors) {\n      const doorPoints = door.map((x) => {\n        return x * this.scaler;\n      });\n      this.addLine(doorPoints, 0xffff00, 8);\n    }\n  }\n\n  // positions needs to be an array of vector3s\n  addLine = (positions, col = 0x000000, lW = 5) => {\n    // OG?\n    //create a blue LineBasicMaterial\n    // var material = new THREE.LineBasicMaterial( { color: 0x0000ff } );\n    // var geometry = new THREE.BufferGeometry().setFromPoints( pts );\n    // var line = new THREE.Line( geometry, material );\n    // this.scene.add( line );\n\n    var geometry = new LineGeometry();\n    geometry.setPositions(positions);\n    // geometry.setColors( colors );\n\n    var matLine = new LineMaterial({\n      color: col,\n      linewidth: lW, // in pixels\n      vertexColors: false,\n      //resolution:  // to be set by this.renderer, eventually\n      dashed: false\n\n    });\n    matLine.resolution.set(window.innerWidth, window.innerHeight);\n\n    var line = new Line2(geometry, matLine);\n    line.position.set(this.startX, 0, this.startZ);\n    line.computeLineDistances();\n    line.scale.set(1, 1, 1);\n    this.scene.add(line);\n  }\n\n  loadSVG = (url, { x, y, z }, rot, callback) => {\n    var loader = new SVGLoader();\n    loader.load(url, (data) => {\n      var paths = data.paths;\n\n      var group = new THREE.Group();\n\n      group.position.x = x;\n      group.position.y = y;\n      group.position.z = z;\n      // group.scale.y *= - 1;\n      group.rotation.x = rot;\n      // group.rotation.z = Math.PI;\n\n\n\n      for (var i = 0; i < paths.length; i++) {\n\n        var path = paths[i];\n\n        var fillColor = path.userData.style.fill;\n        var drawFills = true;\n        if (drawFills && fillColor !== undefined && fillColor !== 'none') {\n\n          var material = new THREE.MeshBasicMaterial({\n            color: new THREE.Color().setStyle(fillColor),\n            opacity: path.userData.style.fillOpacity,\n            transparent: path.userData.style.fillOpacity < 1,\n            side: THREE.DoubleSide,\n            depthWrite: false,\n            wireframe: false\n          });\n\n          var shapes = path.toShapes(true);\n\n          for (var j = 0; j < shapes.length; j++) {\n\n            var shape = shapes[j];\n\n            var geometry = new THREE.ShapeBufferGeometry(shape);\n            var mesh = new THREE.Mesh(geometry, material);\n            // mesh.geometry.translate(0, 0, 0 );\n            group.add(mesh);\n\n          }\n\n        }\n\n        var strokeColor = path.userData.style.stroke;\n        var drawStrokes = true;\n        if (drawStrokes && strokeColor !== undefined && strokeColor !== 'none') {\n\n          var material = new THREE.MeshBasicMaterial({\n            color: new THREE.Color().setStyle(strokeColor),\n            opacity: path.userData.style.strokeOpacity,\n            transparent: path.userData.style.strokeOpacity < 1,\n            side: THREE.DoubleSide,\n            depthWrite: false,\n            wireframe: false\n          });\n\n          for (var j = 0, jl = path.subPaths.length; j < jl; j++) {\n\n            var subPath = path.subPaths[j];\n\n            var geometry = SVGLoader.pointsToStroke(subPath.getPoints(), path.userData.style);\n\n            if (geometry) {\n\n              var mesh = new THREE.Mesh(geometry, material);\n\n              group.add(mesh);\n\n            }\n\n          }\n\n        }\n\n      }\n\n      // this.scene.add( group );\n      callback(group);\n    });\n\n  }\n\n\n  drawGrid = (w, { x, y, z }) => {\n    let div = w / 100;\n    var gridHelper = new THREE.GridHelper(w, div, 0x000000, 0x808080);\n    gridHelper.position.set(x + this.startX, y, z + this.startZ);\n    this.scene.add(gridHelper);\n\n    // var geometry = new THREE.PlaneGeometry( 400, 200, 40, 40 );\n    // var material = new THREE.MeshBasicMaterial( {color: 0xffffff, side: THREE.DoubleSide} );\n    // var plane = new THREE.Mesh( geometry, material );\n    // plane.position.set(-50, -200, 0);\n    // var helper = new THREE.PlaneHelper( plane, 1, 0xffff00 );\n    // this.scene.add( helper );\n  }\n\n  drawRoom = ({ w, h, d }, { x, y, z }, opac, color) => {\n    var geometry = new THREE.BoxGeometry(w, h, d);\n    const material = new THREE.MeshPhongMaterial({\n      color: color,\n      opacity: opac,\n      transparent: true,\n    });\n    const cube = new THREE.Mesh(geometry, material);\n\n    var geometryL = new WireframeGeometry2(geometry);\n    var matLine = new LineMaterial({\n      color: 0x4080ad,\n      linewidth: 5, // in pixels\n      //resolution:  // to be set by this.renderer, eventually\n      dashed: false\n    });\n    matLine.resolution.set(window.innerWidth, window.innerHeight);\n    var wireframe = new Wireframe(geometryL, matLine);\n    wireframe.computeLineDistances();\n    // wireframe.scale.set( sc, sc, sc );\n    // this.scene.add( wireframe );\n    this.scene.add(cube);\n    wireframe.position.set(x, y, z);\n    cube.position.set(x, y, z);\n  }\n\n  isoLines = () => {\n    var geo = new THREE.IcosahedronBufferGeometry(20, 1);\n    var geometry = new WireframeGeometry2(geo);\n    var matLine = new LineMaterial({\n      color: 0x4080ff,\n      linewidth: 5, // in pixels\n      //resolution:  // to be set by this.renderer, eventually\n      dashed: false\n    });\n    var wireframe = new Wireframe(geometry, matLine);\n    wireframe.computeLineDistances();\n    wireframe.scale.set(30, 30, 30);\n    this.scene.add(wireframe);\n  }\n\n  addSkybox = () => {\n    // skybox\n    var path = window.AWS + \"/hardDrives/skybox/skybox_\";\n    var format = '.jpg';\n    var urls = [\n      path + 'px' + format, path + 'nx' + format,\n      path + 'py' + format, path + 'ny' + format,\n      path + 'pz' + format, path + 'nz' + format\n    ];\n    var textureCube = new THREE.CubeTextureLoader().load(urls);\n    this.scene.background = textureCube;\n\n  }\n\n  loadObj = (path, { x, y, z }, sc, rot) => {\n\n\n    return new Promise((resolve, reject) => {\n      var object;\n\n      const loadModel = () => {\n        object.traverse((child) => {\n          if (child.isMesh) {\n            const materialT = new THREE.MeshPhongMaterial({\n              color: 0xffffff,\n              opacity: .2,\n              transparent: true,\n              side: THREE.DoubleSide,\n              depthWrite: false\n            });\n            child.material = materialT;\n\n          }\n        });\n\n        object.position.set(x + this.startX, y, z + this.startZ);\n        object.rotation.y = rot;\n        object.scale.set(sc, sc, sc);\n\n        this.scene.add(object);\n        // object.cursor = 'pointer';\n        // object.on('click', function(ev) {\n        //   console.log(\"???\")\n        // });\n        resolve();\n      }\n      var manager = new THREE.LoadingManager(loadModel);\n      manager.onProgress = (item, loaded, total) => {\n        // console.log(item, loaded, total);\n      };\n      // model\n      const onProgress = (xhr) => {\n        if (xhr.lengthComputable) {\n          var percentComplete = xhr.loaded / xhr.total * 100;\n          // console.log('model ' + Math.round(percentComplete, 2) + '% downloaded');\n        }\n      }\n      const onError = () => {\n        reject();\n      }\n\n      var loader = new OBJLoader(manager);\n      loader.load(path, (obj) => {\n        object = obj;\n      }, onProgress, onError);\n\n    });\n\n  }\n  rotateMap = (amt) => {\n    mapR += amt / 3;\n  }\n\n  onHideModal = () => {\n    this.setState({ isModalHidden: true })\n  }\n\n  onShowModal = () => {\n    this.setState({ isModalHidden: false })\n  }\n\n\n  loadingDone = () => {\n    this.props.doneLoadingApp();\n  }\n\n  setRoom = (id) => {\n    this.setState({ currentPoint: rooms[id] })\n  }\n\n  setLabel = (level, id) => {\n    this.setState({ currentPoint: labels[level][id] })\n  }\n\n  render() {\n    return (\n      <div className=\"Oogle Sketch\">\n        <div className=\"Three\" ref={ref => (this.mount = ref)}></div>\n        <canvas ref={ref => (this.canvas = ref)} />\n        {/* <button className=\"rotateL\" onClick={() => this.rotateMap(-Math.PI / 2)}>right</button>\n        <button className=\"rotateR\" onClick={() => this.rotateMap(Math.PI / 2)}>left</button> */}\n        <Modal data={this.state.currentPoint} isHidden={this.state.isModalHidden} onHide={this.onHideModal} />\n      </div>\n    )\n  }\n}\n\nconst mapStateToProps = (state) => {\n  return {\n    ui: state.ui\n  }\n}\n\nconst mapDispatchToProps = () => {\n  return {\n    doneLoadingApp,\n    setNoSketchMusic\n  }\n}\n\n\nexport default connect(mapStateToProps, mapDispatchToProps())(Oogle);\n\n","import React from 'react';\nimport { connect } from 'react-redux';\nimport Frame from '../../shared/Frame/Frame';\nimport DesktopIcon from '../../shared/DesktopIcon/DesktopIcon';\n// import Dock from '../../shared/Dock/Dock';\nimport { setSketchMusic, setSketchVolume, setSong } from '../../../store/actions/music';\nimport { mapVal, constrain, randomInRange } from '../../shared/Helpers/Helpers';\nimport './Yosemite.css';\n\nclass Yosemite extends React.Component {\n  // https://codepen.io/JohJakob/pen/YPxgwo\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      numPops: 0,\n      popTime: 3000,\n      hasStarted: false,\n      popups: this.getPopUps(),\n      numFrames: 0,\n      popW: 80\n    }\n\n    this.start = new Date();\n  }\n\n\n  componentDidMount() {\n\n    // this.popInterval = setTimeout(this.popUp, 4000);\n    this.popInterval = setTimeout(this.startPop, 9000);\n    this.props.setSketchMusic(\"yosemite\", 1, 0);\n  }\n\n  componentWillUnmount() {\n    if (this.popInterval)\n      clearInterval(this.popInterval)\n  }\n\n  componentDidUpdate(prevProps, prevState) {\n    if (prevProps.ui.compositionStarted !== this.props.ui.compositionStarted) {\n      this.popInterval = setTimeout(this.startPop, 4000);\n    }\n  }\n\n  startPop = () => {\n    if (!this.state.hasStarted) {\n      this.setState({ hasStarted: true }, this.popUp);\n    }\n  }\n\n  popUp = () => {\n\n    const { ui } = this.props;\n    let t = this.state.popTime - 200;\n    let minT = 300;\n    if (t < minT)\n      t = minT;\n\n    let numPop = this.state.numPops + 1;\n    numPop %= this.state.popups.length;\n    let popW = constrain(this.state.popW + 10, 0, 3000);\n\n    const popups = [...this.state.popups];\n    let pop = { ...popups[numPop] };\n    pop.isHidden = false;\n    // pop.w += 20;\n    pop.w = popW;\n    pop.x = randomInRange(0, ui.width - pop.w);\n    let bottom = ui.contentH;\n    let yMax = bottom - pop.w - 30;\n    let yMin = 60;\n    pop.y = randomInRange(yMin, yMax);\n    popups[numPop] = pop;\n    this.setState({ numPops: numPop, popTime: t, popups, popW })\n\n    // let blazeVal = 300;\n    // let vol = mapVal(popW, 0, blazeVal, 0, 1);\n    // if (popW > blazeVal) {\n    //   if (this.props.music.currentSong === 0) \n    //     this.props.setSong(1);\n    //   vol = mapVal(popW, blazeVal, 1000, .1, 1);\n    // }\n    let vol = mapVal(popW, 80, 300, 0, 1);\n    vol = constrain(vol, 0, 1);\n\n    this.props.setSketchVolume(vol);\n    this.popInterval = setTimeout(this.popUp, t);\n\n  }\n\n  onHide = (id) => {\n    const popups = [...this.state.popups];\n    let pop = { ...popups[id] };\n    pop.isHidden = true;\n    popups[id] = pop;\n    this.setState({ popups })\n  }\n\n  getPopUps = () => {\n    const { ui } = this.props;\n    let numPops = constrain(ui.width / 30, 20, 60);\n    let maxS = mapVal(ui.width, 300, 5120, 130, 800);\n    maxS = constrain(maxS, 130, 500);\n    let minS = mapVal(ui.width, 300, 5120, 80, 130);\n    minS = constrain(minS, 80, 130);\n    let popups = [];\n    for (let i = 0; i < numPops; i++) {\n\n      // let z = randomInRange(0, numPops);\n\n      // let w = mapVal(z, 0, numPops, minS, maxS);\n      // w = Math.floor(w);\n      let w = 80;//Math.floor(maxS);\n      let x = randomInRange(0, ui.width - w);\n      let bottom = ui.contentH;\n      // if (ui.hasFooter && ui.orientation === \"portrait\")\n      //   bottom = ui.contentH - 60;\n      let yMax = bottom - w - 30;\n      // let yMin = Math.min(yMax - 100, bottom * .75);\n      let yMin = 60;\n      let y = randomInRange(yMin, yMax);\n      let z = i;\n      let isHidden = true;\n      let classN = \"\";\n      popups.push({ x, y, z, w, isHidden, classN });\n    }\n    return popups;\n  }\n\n  render() {\n\n    // console.log(this.state.numPops)\n    let i = 0;\n    var box = { x: 100, y: 100, w: 300, h: 200 };\n\n    return (\n      <React.Fragment>\n        <div className=\"Sketch Yosemite\">\n\n          {\n            this.state.popups.map((pop, i) => {\n              // console.log(i);\n              return (\n                <Frame\n                  windowStyle={{ background: \"rgba(0, 0, 0, .3)\" }}\n                  content={\n                    <div className=\"fyre\" ></div>\n                  }\n                  key={i}\n                  onHide={() => this.onHide(i)}\n                  isHidden={pop.isHidden}\n                  bounded={true}\n                  width={pop.w}\n                  height={pop.w}\n                  // title={i === this.state.numPops?\"ALERT\":\"\"}\n                  // className={i === this.state.numPops?\"fire\":\"\"}\n                  className=\"fire\"\n                  x={pop.x}\n                  y={pop.y}\n                  z={i === this.state.numPops ? this.state.popups.length : i}\n                />\n              );\n\n            })\n          }\n          <DesktopIcon\n            disableWindow={true}\n            onDblClick={() => this.onDblClick(0)}\n            x={this.props.ui.contentW - 150}\n            y={100}\n            width={83}\n            height={90}\n            box={box}\n            title={\"home\"}\n            content={\n              <img src={window.AWS + \"/shared/homeicon.png\"} width={80} height={80} />\n            }\n            frameContent={\n              <div className=\"test\">home</div>\n            }\n          />\n\n          {this.getFrames()}\n          {/* <DesktopIcon\n            title={\"home\"}\n            x={this.props.ui.width - 140}\n            y={100}\n            bounded={false}\n            box={box}\n            content={\n              <img src={window.AWS + \"/shared/homeicon.png\"} width={80} height={80} />\n            }\n            frameContent={<div></div>}\n          /> */}\n\n        </div>\n        {/* <Dock showDock={true} /> */}\n      </React.Fragment>\n    )\n  }\n\n  getFireH = () => {\n    let startW = 80;\n    let endW = 400;\n    if (this.props.width < 500)\n      endW = 80;\n    else if (this.props.width < 800)\n      endW = 200;\n    return constrain(mapVal(new Date() - this.start, 0, 20000, startW, endW), startW, endW);\n  }\n\n  onDblClick = (i) => {\n    console.log(i);\n    let { numFrames } = this.state;\n    numFrames++;\n    this.setState({ numFrames });\n  }\n\n\n  clicked = (id) => {\n    // console.log(\"clicked\")\n    this.setState({ numFrames: this.state.numFrames + 1 });\n  }\n\n  getFrames = () => {\n    const { numFrames } = this.state;\n    const { ui } = this.props;\n    let frames = [];\n    for (let i = 0; i < numFrames; i++) {\n      frames[i] = i;\n    }\n\n    //\"backups_failed\",\"autosaves_disabled\",\n    // let docNames = [[\"home\"], [\"timelines\",\"documents\"], [\"portfolio\",\"receipts\"],[\"moments\",\"portraits\",\"selfies\", \"landcapes\"], [\"browsing_history\",\"auto_saves\"],[\"close_ups\", \"nudes\"]]\n    // let docNames = [\"can_t\",\"remix\",\"burnt\",\"shit\"]\n    return (\n      <div className=\"openedFrames\">\n        {frames.map((frame, i) => {\n          let framesW = 20;\n          let startX = 100;\n          if (ui.contentW < 500) {\n            framesW = 5;\n            startX = 20;\n          }\n\n          let direction = Math.floor(frame / framesW);\n\n          let x = 0;\n          if (direction % 2 == 0) x = startX + frame % framesW * 20;\n          else x = startX + framesW * 20 - frame % framesW * 20;\n\n          // let t0 = docNames[i % docNames.length];\n          // let t1 = docNames[(i + 1) % docNames.length]\n\n          let src = window.AWS + '/loop/folder.png';\n          // if (new Date() - this.start > i * 4000)\n          //   src = window.AWS + '/yosemite/fireemoji.png';\n\n          //docNames[(i)%docNames.length]\n          //docNames[(i+1)%docNames.length\n          return (\n            <Frame\n              handle={\".App\"}\n              key={frame}\n              // bounded={true}\n              x={x}\n              y={100 + frame * 20}\n              width={300}\n              height={150}\n              title={\"\"}\n              windowStyle={{ background: \"white\" }}\n              content={\n                <div className=\"burned-folders\">\n                  {this.getFolderList([\"backup_\" + (i + 1)], this.props.ui.isMobile, frame)}\n                </div>\n              }\n            />\n          )\n        })}\n      </div>\n    )\n\n  }\n\n  getFolderList = (titles, isMobile, frame) => {\n    return (\n\n      titles.map((title, i) => {\n        if (isMobile) {\n          return (\n            <div className=\"folder-item\" key={i} onClick={(event) => this.clicked(frame)}>\n              <div className=\"folder-img\" />\n              <div className=\"folder-title\">{title}</div>\n            </div>\n          )\n        }\n        return (\n          <div className=\"folder-item\" key={i} onDoubleClick={(event) => this.clicked(frame)}>\n            <div className=\"folder-img\" />\n\n            <div className=\"folder-title\">{title}</div>\n          </div>\n\n        )\n      })\n\n    )\n\n  }\n\n}\n\n\n\nconst mapStateToProps = (state) => {\n  return {\n    ui: state.ui,\n    music: state.music\n  }\n}\n\nconst mapDispatchToProps = () => {\n  return {\n    setSketchMusic,\n    setSketchVolume,\n    setSong\n  }\n}\n\n\nexport default connect(mapStateToProps, mapDispatchToProps())(Yosemite);\n\n","export default class Button {\n\n    constructor(x, y, p5) {\n        this.r = 10;\n        this.x = x;\n        this.y = y;\n        this.p5 = p5;\n    }\n\n    display(mx, my, col) {\n        this.p5.stroke(col);\n        this.p5.strokeWeight(2);\n        this.p5.noFill();\n\n        if (this.mouseOver(mx, my)) {\n            this.p5.fill(col);\n        }\n        this.p5.ellipse(this.x, this.y, this.r);\n    }\n\n    mouseOver(mx, my) {\n        let d = this.p5.dist(mx, my, this.x, this.y);\n        return d < this.r/2;\n    }\n\n\n}\n\n","import Draggable from './Draggable';\nimport {mapVal, constrain} from '../../../../../shared/Helpers/Helpers';\n\nexport default class BlindsDraggable extends Draggable {\n\n    constructor(id, x, y, w, h, blinds, shadow, p5) {\n        super(id, x, y, w, h, p5, null);\n        // super(id, x, y, w, h, p5, null, shadow);\n\n        this.isClosed = true;\n        this.closeAmt = 0;\n        this.blinds = blinds;\n    }\n\n    displayMask(pg, color) {\n        if (!this.closed && !this.minimized) {\n            pg.fill(color);\n            pg.noStroke();\n            pg.rect(this.x, this.y, this.w, this.h+this.barH, this.bRad);\n            \n            // pg.rect(this.x, this.y+this.barH, this.w, this.h, this.bRad);\n            // pg.rect(this.x, this.y+this.barH, this.w, this.barH);\n        }\n      \n    }\n\n\n    displayContent(col) {\n  \n        const dx = this.p5.mouseX - this.x;\n        // if (this.props.id == 0) console.log(pos, ogPos);\n        const dy = this.p5.mouseY - this.y;\n        const dis = Math.sqrt(dx* dx + dy*dy);\n        let maxDis = mapVal(window.innerWidth, 400, 2560, 240, 500);\n        maxDis = constrain(maxDis, 240, 500);\n        this.isClosed = dis < maxDis?true: false;\n    \n        let closeSpeed = .03;\n        if (this.isClosed) {\n            this.closeAmt += closeSpeed;\n            if (this.closeAmt > 1) \n                this.closeAmt = 1;\n        }\n        else {\n            this.closeAmt -= closeSpeed;\n            if (this.closeAmt < 0.0001)\n             this.closeAmt = 0.0001;\n        }\n\n        if (this.blinds) \n            this.p5.image(this.blinds, 0, 24, this.w, this.h * this.closeAmt*.97); //1.11//1.14\n        // super.displayContent(col);\n    }\n\n    // displayShadow() {\n\n    //     var backW = this.w * 1.25;\n    //     var backH = this.h * 1.2;\n\n    //     var backY = 0;\n\n    //     this.p5.push();\n    //     this.p5.translate(0, this.barH);\n    //     this.p5.image(this.shadow, 0, backY, backW, backH);\n    //     this.p5.pop();\n    // }\n\n}\n","import Button from './Button';\n\nexport default class Draggable {\n  constructor(id, x, y, w, h, p5, content) {\n    this.p5 = p5;\n    this.x = x;\n    this.y = y;\n    this.w = w;\n    this.h = h;\n    this.id = id;\n    this.origX = this.x;\n    this.origY = this.y;\n    this.offsetX = 0;\n    this.offsetY = 0;\n    this.toolbarH = 25;\n    // this.opacity = p5.map(this.id, 0, 20, 0, 1);\n    this.startDrag = { x: 0, y: 0 };\n    this.startDragCoords = { x: 0, y: 0 };\n\n    this.dragging = false;\n    this.locked = false;\n\n    this.closed = false;\n    this.minimized = false;\n\n    this.barH = 26;\n    this.bRad = 10;\n\n    let xp = 15;\n    let yp = 12;\n    let sp = 20;\n    this.closeButton = new Button(xp, yp, p5);\n    this.minButton = new Button(xp + sp, yp, p5);\n    this.maxButton = new Button(xp + sp * 2, yp, p5);\n\n    this.content = content;\n\n    this.sw = 2;\n    // this.mask;\n    // this.initMask();\n  }\n\n  initMask() {\n    this.mask = this.p5.createGraphics(this.w, this.h + this.barH);\n    this.mask.background(0);\n    this.mask.fill(255);\n    this.mask.noStroke();\n    // this.mask.rect(0, 0, this.w, this.h, this.bRad, this.bRad);\n    this.mask.ellipse(this.w / 2, this.h / 2, 50, 50);\n    if (this.content && this.content.width > 0) {\n\n      this.content.mask(this.mask);\n    }\n  }\n\n  display(col) {\n    this.p5.push();\n    this.p5.translate(this.x, this.y);\n    if (!this.closed) {\n      if (!this.minimized) this.displayContent(col);\n    }\n    this.p5.pop();\n  }\n\n  displayArcToolbar(fillC, strokeC) {\n    this.p5.strokeWeight(2);\n    this.p5.fill(fillC);\n    this.p5.stroke(strokeC);\n    // this.p5.push();\n\n    // this.p5.translate(this.x, this.y);\n    // top arcs\n    this.p5.arc(this.bRad, this.bRad, this.bRad * 2, this.bRad * 2, Math.PI, Math.PI + Math.PI / 2);\n    this.p5.arc(this.w - this.bRad, this.bRad, this.bRad * 2, this.bRad * 2, Math.PI + Math.PI / 2, 0);\n\n    this.p5.noStroke();\n    this.p5.rect(this.bRad, 0, this.w - this.bRad * 2, this.bRad);\n    this.p5.rect(0, this.bRad, this.w, this.barH - this.bRad);\n\n    this.p5.stroke(strokeC);\n    // top bottom\n    this.p5.line(this.bRad, 0, this.w - this.bRad, 0);\n    this.p5.line(0, this.barH, this.w, this.barH);\n    // left and right\n    this.p5.line(0, this.bRad, 0, this.barH - this.bRad);\n    this.p5.line(this.w, this.bRad, this.w, this.barH - this.bRad);\n    // this.p5.pop();\n  }\n\n  displayArcFrame(strokeC) {\n    this.p5.strokeWeight(2);\n    this.p5.noFill();\n    this.p5.stroke(strokeC);\n    // bottom arcs\n\n    this.p5.push();\n    this.p5.translate(0, this.h+this.barH - this.bRad);\n    this.p5.arc(this.bRad, 0, this.bRad * 2, this.bRad * 2, Math.PI / 2, Math.PI);\n    this.p5.arc(this.w - this.bRad, 0, this.bRad * 2, this.bRad * 2, 0, Math.PI/2);\n    this.p5.pop();\n\n    // bottom\n    this.p5.line(this.bRad, this.h + this.barH, this.w-this.bRad, this.h+this.barH);\n\n    // left and right\n    this.p5.line(0, this.bRad, 0, this.barH+this.h - this.bRad);\n    this.p5.line(this.w, this.bRad, this.w, this.barH+this.h - this.bRad);\n  }\n\n  displayToolBar(toolC, frameC, buttonC) {\n    this.p5.push();\n    this.p5.translate(this.x, this.y);\n    if (!this.closed) {\n      this.p5.fill(toolC);\n      this.p5.noStroke();\n      // this.p5.stroke(frameC);\n      // this.p5.strokeWeight(2);\n      if (!this.minimized)\n        // this.p5.rect(0, 10, this.w, (this.barH - 10));\n        this.displayArcToolbar(toolC, frameC)\n      else this.p5.rect(0, 0, this.w, this.barH, this.bRad);\n\n      let mx = this.p5.mouseX - this.x;\n      let my = this.p5.mouseY - this.y;\n\n      this.closeButton.display(mx, my, buttonC);\n      this.minButton.display(mx, my, buttonC);\n      this.maxButton.display(mx, my, buttonC);\n\n\n      if (!this.minimized)\n        this.displayArcFrame(frameC);\n      else this.displayFrame(frameC);\n      // this.p5.line(0, this.barH, this.w, this.barH);\n    }\n\n    this.p5.pop();\n\n  }\n\n  displayContent(col) {\n    // this.p5.fill(255);\n    this.p5.push();\n\n    this.p5.translate(0, this.barH);\n    if (this.content)\n      this.p5.image(this.content, 0, 0, this.w, this.h);\n    this.p5.pop();\n    this.displayFrame(col);\n\n  }\n\n  // displaySolidBack(col) {\n  //   this.p5.fill(col);\n  //   this.p5.stroke(0);\n  //   this.p5.strokeWeight(2);\n  //   this.p5.rect(0, 0, this.w, this.h + this.barH, this.bRad);\n  // }\n\n  displayFrame(col) {\n    this.p5.noFill();\n    this.p5.stroke(col);\n    this.p5.strokeWeight(this.sw);\n    this.p5.rect(0, 0, this.w, this.h + this.barH, this.bRad);\n  }\n\n  checkButtons() {\n    if (this.closed)\n      return false;\n    let mouse = { x: this.p5.mouseX, y: this.p5.mouseY };\n    mouse.x -= this.x;\n    mouse.y -= this.y;\n    if (this.closeButton.mouseOver(mouse.x, mouse.y)) {\n      this.closeWindow();\n      return true;\n    }\n    else if (this.minButton.mouseOver(mouse.x, mouse.y)) {\n      this.toggleMinimze();\n      return true;\n    }\n    else if (this.maxButton.mouseOver(mouse.x, mouse.y)) {\n      this.maximizeWindow();\n      return true;\n    }\n    return false;\n  }\n\n  checkDragging() {\n    if (this.closed)\n      return false;\n    let mouse = { x: this.p5.mouseX, y: this.p5.mouseY };\n    // console.log(mx, my, userX, userY, this.x, this.y);\n    let overTool = this.overToolBar(this.p5.mouseX, this.p5.mouseY);\n    if (overTool) {\n      // console.log(\"over toolbar\");\n      // this.draggingOn(mx, my);\n      this.dragging = true;\n      this.startDrag.x = this.p5.mouseX;\n      this.startDrag.y = this.p5.mouseY;\n      this.startDragCoords.x = this.x;\n      this.startDragCoords.y = this.y;\n      return true;\n    }\n    return false;\n  }\n\n  overToolBar(mx, my) {\n    return mx > this.x && mx < this.x + this.w && my > this.y && my < this.y + this.barH;\n  }\n\n  // draggingOn(mx, my) {\n  //   // dragging.dragging = true;\n  //   this.offsetX = this.p5.mouseX - this.startDrag.x;\n  //   this.offsetY = this.p5.mouseY - this.startDrag.y;\n  // }\n\n  endDrag() {\n    this.dragging = false;\n  }\n\n  update() {\n    if (this.dragging) {\n      this.offsetX = this.p5.mouseX - this.startDrag.x;\n      this.offsetY = this.p5.mouseY - this.startDrag.y;\n\n      this.x = this.startDragCoords.x + this.offsetX;\n      this.y = this.startDragCoords.y + this.offsetY;\n    }\n  }\n\n  toggleCloseWindow(div) {\n    this.locked = !this.locked;\n    this.closeWindow(div);\n  }\n\n  openWindow() {\n    this.closed = false;\n    this.minimized = false;\n    this.locked = false; // ? what does this do\n  }\n\n  closeWindow() {\n    // div.style(\"display\", \"none\");\n    this.closed = true;\n  }\n\n  maximizeWindow() {\n    this.x = this.origX;\n    this.y = this.origY;\n    this.offsetX = 0;\n    this.offsetY = 0;\n  }\n\n  resetWindow(div = this.div) {\n    this.x = this.origX;\n    this.y = this.origY;\n    this.locked = false;\n    this.closeWindow(div);\n    // div.position(this.x, this.y);\n    // div.style(\"display\", \"block\");\n    this.minimized = false;\n    this.minimizeWindow(this.content);\n    // this.setSize(400);\n  }\n\n  toggleMinimze() {\n    this.minimized = !this.minimized;\n  }\n}\n","import BlindsDraggable from './Draggable/BlindsDraggable';\nimport {mapVal, constrain} from '../../../../shared/Helpers/Helpers';\n\nexport const addMobilePortraitDivs = (ui, divs, blinds, shadow, p5) => {\n    divs.windows = [];\n    const bufferW = 50;\n    const bufferH = 50;\n    const spacing = 20;\n\n    const availW = ui.contentW - bufferW;\n    const availH = (ui.contentH - ui.toolbarH*2 - spacing*3)/2;\n    const dim = Math.min(availW, availH);\n\n    const startX = (ui.contentW - dim)/2;\n    const startY = (ui.contentH - 2*dim - 2*ui.toolbarH) / 3;\n\n    divs.windows.push(new BlindsDraggable(0, startX, startY, dim, dim, blinds, shadow, p5));\n    divs.windows.push(new BlindsDraggable(0, startX, startY*2 + ui.toolbarH + dim, dim, dim, blinds, shadow, p5))\n}\n\nexport const addMobileLandscapeDivs = (ui, divs, blinds, shadow, p5) => {\n    divs.windows = [];\n    const bufferW = 50;\n    const bufferH = 50;\n    const spacing = 20;\n\n    const availW = (ui.contentW - spacing*3)/2;\n    const availH = (ui.contentH - ui.toolbarH - bufferH);\n    const dim = Math.min(availW, availH);\n\n    const startX = (ui.contentW - dim*2)/3;\n    const startY = (ui.contentH - dim - ui.toolbarH) / 2;\n\n    divs.windows.push(new BlindsDraggable(0, startX, startY, dim, dim, blinds, shadow, p5));\n    divs.windows.push(new BlindsDraggable(0, startX*2 + dim, startY, dim, dim, blinds, shadow, p5))\n}\n\nexport const addDesktopDivs = (ui, divs, blinds, shadow, p5) => {\n    divs.windows = [];\n    \n    const bufferX = 30; // buffer\n    const bufferY = 30; // buffer\n    const spacing = 30; // between elements\n    const minW = 160;\n    const maxW = 230;\n    let w = mapVal(ui.contentW, 1440, 2560, minW, maxW);\n    w = constrain(w, minW, maxW);\n    const h = w;\n    // const imgW = (w+spacing)*4;\n    // const imgH = (h+24+spacing)*4;\n   \n    let numFramesW = Math.floor((ui.contentW-2*bufferX+spacing)/(w+spacing));\n    let numFramesH = Math.floor((ui.contentH-2*bufferY+spacing)/(h+24+spacing));\n    numFramesW = Math.min(numFramesW, 6);\n    numFramesH = Math.min(numFramesH, 4);\n    const startX = (ui.contentW - numFramesW*(w+spacing)+spacing)/2;\n    const startY = (ui.contentH-(h+ ui.toolbarH+spacing)*numFramesH+spacing)/2; //(window.innerHeight-this.numFramesH*(h+24+spacing)+spacing)/2;\n    \n    let i = 0;\n    for (let x = 0; x < numFramesW; x++) {\n        for (let y = 0; y < numFramesH; y++) {\n          // const xx = i%2===0?x-spacing/2:x;\n          const xx = startX + x*(w+spacing);\n          const yy = startY + y*(h + spacing + 24);\n        // const xx = Math.random()*(window.innerWidth-w);\n        // const yy = Math.random()*(window.innerHeight-w-30)+30;\n          divs.windows.push(new BlindsDraggable(i++, xx, yy, w, h, blinds, shadow, p5))\n          // i++;\n        }\n  \n      }\n}\n\n\nexport const drawDivSquares = (divs, mask, color) => {\n    for (const col of divs.windows) {\n        col.displayMask(mask, color);\n    }\n}\nexport const displayDivs = (divs, toolC, frameC, buttonC) => {\n    for (const col of divs.windows) {\n        col.display(frameC);\n        col.displayToolBar(toolC, frameC, buttonC);\n    }\n}\n\n\nexport function endDivDrag(divs) {\n    let keys = Object.keys(divs);\n    for (const key of keys) {\n        for (const div of divs[key])\n            div.endDrag();\n    }\n}\n\nexport function updateDivs(divs) {\n\n    let keys = Object.keys(divs);\n    for (const key of keys) {\n\n        for (const div of divs[key])\n            div.update();\n    }\n\n}\n\n\nexport const checkDivPress = (divs) => {\n    let keys = Object.keys(divs);\n    for (const key of keys) {\n        for (const div of divs[key])\n            if (checkDiv(div))\n                return true;\n    }\n    return false;\n}\n\nconst checkDiv = (div) => {\n    if (div.checkButtons()) {\n        return true;\n    }\n    else if (div.checkDragging()) {\n        return true;\n    }\n    return false;\n}\n","import React from \"react\";\nimport Sketch from \"react-p5\";\nimport { addDesktopDivs, addMobilePortraitDivs,addMobileLandscapeDivs, displayDivs, updateDivs, drawDivSquares, checkDivPress, endDivDrag, addMobilePortrait } from './components/divs';\n\nvar divs = { windows: [] };\nlet blinds;\nlet coverImg;\nlet isDragging = false;\nlet wallTexture;\n// let bkImg;\nlet shadow;\n\nlet ui;\n//////////////\n// PROPS\n\n\nexport default (props) => {\n    //   user = props.user;\n    ui = props.ui;\n\n    const preload = (p5) => {\n        const url = \"https://lmd-bucket.s3.us-east-2.amazonaws.com/sketches\";\n        blinds = p5.loadImage(url + \"/blinds/blinds_sm.png\");\n        wallTexture = p5.loadImage(url + \"/blinds/wallpaper/stuccoblk.jpg\");\n        shadow = p5.loadImage(url + \"/gallery/tracklights/black_shadow.png\");\n    }\n\n    ////////////////////////////////////////////////////////////////////////\n    // INITIALIZE\n    ////////////////////////////////////////////////////////////////////////\n    const setup = (p5, canvasParentRef) => {\n        // use parent to render the canvas in this ref\n        // (without that p5 will render the canvas outside of your component)\n\n        const cnv = p5.createCanvas(p5.windowWidth, p5.windowHeight);\n        cnv.parent(canvasParentRef);\n        cnv.mousePressed(() => canvasPressed(p5));\n\n        // let dim = getCenterCoverDim(p5, wallTexture.width, wallTexture.height);\n        // wallTexture.resize(dim.w, dim.h)\n        wallTexture.resize(wallTexture.width*.4, wallTexture.height*.4 )\n\n        if (ui.hasFooter && ui.orientation === \"portrait\")\n            addMobilePortraitDivs(ui, divs, blinds, shadow, p5)\n        else if (ui.hasFooter && ui.orientation === \"landscape\")\n            addMobileLandscapeDivs(ui, divs, blinds, shadow, p5)\n        else\n            addDesktopDivs(ui, divs, blinds, shadow, p5);\n        initGraphics(p5);\n\n        // p5.textFont(dogica, 14);\n        // p5.frameRate(20);\n\n        props.loadingDone();\n\n        // wallTexture.resize(p5.windowWidth, p5.windowHeight);\n\n    };\n\n    ////////////////////////////////////////////////////////////////////////\n    // DRAW\n    ////////////////////////////////////////////////////////////////////////\n    const draw = (p5) => {\n        p5.clear();\n        // let bkDim = getCenterCoverDim(p5, bkImg.width, bkImg.height);\n        // p5.image(bkImg, bkDim.x, bkDim.y, bkDim.w, bkDim.h);\n\n\n        p5.image(coverImg, 0, 0, p5.windowWidth, p5.windowHeight);\n        //    purple\n        // let col = p5.color(10, 0, 20, 250)\n        // let col2 = p5.color(255, 0, 255, 150);\n        // displayDivs(divs, col, col2, col2);\n\n        // white\n        // let col = p5.color(220, 255)\n        // let col2 = p5.color(255, 0);\n        // displayDivs(divs, col, col2, p5.color(100));\n\n        let buttoncol = p5.color(255);\n        let framecol = p5.color(255, 0)\n        // let toolcol = p5.color(150, 150, 100, 100);\n        let toolcol = p5.color(110, 119, 54, 180);\n        displayDivs(divs, toolcol, framecol, buttoncol);\n        updateDivs(divs);\n\n    }\n\n    const updateGraphics = (p5) => {\n        if (coverImg) {\n            coverImg.push();\n            coverImg.clear();\n            // coverImg.background(10, 0, 20);\n            coverImg.background(0)\n\n            // let dim = getCenterCoverDim(p5, wallTexture.width, wallTexture.height);\n            // coverImg.image(wallTexture, dim.x, dim.y, dim.w, dim.h);\n\n            for (let x = 0; x < coverImg.width + wallTexture.width; x += wallTexture.width) {\n                for (let y = 0; y < coverImg.height + wallTexture.height; y += wallTexture.height) {\n                    coverImg.image(wallTexture, x, y);\n                }\n            }\n\n\n            coverImg.blendMode(p5.REMOVE);\n            drawDivSquares(divs, coverImg, p5.color(255));\n            coverImg.pop();\n        }\n\n    }\n\n\n\n    const initGraphics = (p5) => {\n        coverImg = p5.createGraphics(p5.windowWidth, p5.windowHeight);\n        updateGraphics(p5);\n    }\n\n\n    const mouseDragged = (p5) => {\n        updateGraphics(p5);\n\n    }\n\n    const keyPressed = (p5) => {\n\n    }\n\n    const canvasPressed = (p5) => {\n        isDragging = true;\n        updateGraphics(p5);\n        checkDivPress(divs);\n    }\n\n\n    const mouseReleased = (p5) => {\n        endDivDrag(divs);\n        updateGraphics(p5);\n        isDragging = false;\n    }\n\n    const windowResized = (p5) => {\n        p5.resizeCanvas(p5.windowWidth, p5.windowHeight);\n        initGraphics(p5);\n\n    }\n\n    const doubleClicked = (p5) => {\n\n    }\n\n    // const maskGraphics = (pg, inputMask, p5) => {\n\n    //         if (inputMask === undefined) {\n    //           inputMask = this;\n    //         }\n    //         const currBlend = this.drawingContext.globalCompositeOperation;\n\n    //         let scaleFactor = 1;\n    //         if (inputMask instanceof p5.Renderer) {\n    //           scaleFactor = inputMask._pInst._pixelDensity;\n    //         }\n\n    //         const copyArgs = [\n    //           inputMask,\n    //           0,\n    //           0,\n    //           scaleFactor * inputMask.width,\n    //           scaleFactor * inputMask.height,\n    //           0,\n    //           0,\n    //           this.width,\n    //           this.height\n    //         ];\n\n    //         this.drawingContext.globalCompositeOperation = 'destination-in';\n    //         p5.Renderer2D.prototype.copy.apply(this, copyArgs);\n    //         this.drawingContext.globalCompositeOperation = currBlend;\n\n    //       }\n    // }\n\n    return <Sketch preload={preload} setup={setup} draw={draw} windowResized={windowResized} keyPressed={keyPressed} mouseReleased={mouseReleased} mouseDragged={mouseDragged} doubleClicked={doubleClicked} />;\n};\n\nfunction getCenterCoverDim(p5, imgW, imgH) {\n    let imgRatio = imgW / imgH;\n    let containerHeight = p5.windowHeight;\n    let containerWidth = p5.windowWidth;\n    let containerRatio = containerWidth / containerHeight;\n    if (containerRatio < imgRatio) {\n        var finalHeight = containerHeight\n        var finalWidth = (containerHeight * imgRatio)\n    }\n    else {\n        var finalWidth = containerWidth\n        var finalHeight = (containerWidth * imgRatio)\n    }\n    // center it\n    let dx = (containerWidth - finalWidth) / 2;\n    let dy = (containerHeight - finalHeight) / 2;\n    return { w: finalWidth, h: finalHeight, x: dx, y: dy };\n}","import React from 'react';\nimport \"./Blinds.css\";\n\nimport Sketch from './p5/BlindsSketch';\n\n// store\nimport { connect } from 'react-redux';\nimport { doneLoadingApp } from '../../../store/actions';\nimport { setSketchMusic } from '../../../store/actions/music';\n\nimport * as THREE from \"three\";\nimport { OBJLoader } from 'three/examples/jsm/loaders/OBJLoader.js';\n// import { AnaglyphEffect } from 'three/examples/jsm/effects/AnaglyphEffect';\nimport { OrbitControls } from 'three/examples/jsm/controls/OrbitControls.js';\n// import { Line2 } from 'three/examples/jsm/lines/Line2.js';\n// import { LineGeometry } from 'three/examples/jsm/lines/LineGeometry.js';\n// import { LineMaterial } from 'three/examples/jsm/lines/LineMaterial.js';\n// import { Wireframe } from 'three/examples/jsm/lines/Wireframe.js';\n// import { WireframeGeometry2 } from 'three/examples/jsm/lines/WireframeGeometry2.js';\n\nvar AnaglyphEffect = require('../../shared/3D/AnaglyphEffect')(THREE);\n\n\nclass Blinds extends React.Component {\n\n\n  constructor(props) {\n    super(props);\n\n    this.mount = React.createRef();\n  }\n\n\n  componentDidMount() {\n    this.props.setSketchMusic(\"cloud\", 0, .2);\n    this.scene = new THREE.Scene();\n    this.columns = [];\n    this.hercules = [];\n\n    this.framesSpacing = 200;\n    this.numFrames = 10;\n\n    this.initCamera();\n    this.initRenderer(this.mount);\n    this.initControls();\n    this.initLights();\n    this.initFloor();\n    this.initGround();\n    // this.initSkybox();\n    this.initStatues();\n    this.initEffect();\n    this.initFrames();\n\n    window.addEventListener('resize', this.onWindowResize, false);\n\n    this.startAnimationLoop();\n  }\n\n  componentWillUnmount() {\n    window.removeEventListener('resize', this.onWindowResize);\n    window.cancelAnimationFrame(this.requestID);\n    this.controls.dispose();\n  }\n\n  initCamera = () => {\n\n    // CAMERA\n    var SCREEN_WIDTH = window.innerWidth, SCREEN_HEIGHT = window.innerHeight;\n    var VIEW_ANGLE = 45, ASPECT = SCREEN_WIDTH / SCREEN_HEIGHT, NEAR = 0.1, FAR = 20000;\n    this.camera = new THREE.PerspectiveCamera(VIEW_ANGLE, ASPECT, NEAR, FAR);\n    this.scene.add(this.camera);\n    this.scene.fog = new THREE.FogExp2(0xccddbb, 0.002);//efd1b5\n    this.camera.position.set(0, 100, 400);\n    this.camera.lookAt(this.scene.position);\n\n  }\n\n\n  initRenderer = (mount) => {\n    this.renderer = new THREE.WebGLRenderer();\n    this.renderer.setPixelRatio(window.devicePixelRatio);\n    this.renderer.setSize(window.innerWidth, window.innerHeight);\n    mount.appendChild(this.renderer.domElement);\n    // renderer.setClearColor(0xffff00, 1);\n  }\n\n  initControls = () => {\n    this.controls = new OrbitControls(this.camera, this.renderer.domElement);\n  }\n\n  initLights = () => {\n    // LIGHT\n    var light = new THREE.PointLight(0xdddddd);\n    light.position.set(-100, 200, 260);\n    this.scene.add(light);\n  }\n\n  initFloor = () => {\n    // FLOOR\n    var floorTexture = new THREE.TextureLoader().load(window.AWS + \"/blinds/wallpaper/blkmar.jpg\");\n    floorTexture.wrapS = floorTexture.wrapT = THREE.RepeatWrapping;\n    floorTexture.repeat.set(4, 4);\n    this.floorMaterial = new THREE.MeshBasicMaterial({ map: floorTexture, side: THREE.BackSide });\n    var floorGeometry = new THREE.PlaneGeometry(1000, 1500, 10, 10);\n    var floor = new THREE.Mesh(floorGeometry, this.floorMaterial);\n    floor.position.y = -0.5;\n    floor.rotation.x = Math.PI / 2;\n    floor.position.z = - 200\n    this.scene.add(floor);\n  }\n\n  // initSkybox = () => {\n  //   // SKYBOX\n  //   var skyBoxGeometry = new THREE.CubeGeometry(10000, 10000, 10000);\n  //   // var skyBoxMaterial = new THREE.MeshBasicMaterial({ color: 0x000000, side: THREE.BackSide });\n  //   var skyBox = new THREE.Mesh(skyBoxGeometry, this.floorMaterial);\n  //   this.scene.add(skyBox);\n  // }\n\n\n  initStatues = () => {\n    const objLoader = new OBJLoader();\n    objLoader.load(window.AWS + \"/blinds/models/column/column_blend.obj\", (root) => {\n      var column = root;\n      var mat = new THREE.MeshLambertMaterial({ color: 0xdd0000 });\n      column.material = mat;\n      column.scale.set(60, 60, 60);\n      column.position.set(0, 80, 0);\n      this.columns.push(column)\n      // scene.add(column);\n\n      for (let i = 0; i < 10; i++) {\n        let newCL = column.clone();\n        newCL.position.set(-200, 78, i * -100 + 100);\n        newCL.material = mat;\n        this.scene.add(newCL);\n        this.columns.push(newCL);\n\n        let newCR = column.clone();\n        newCR.position.set(200, 78, i * -100 + 100);\n        this.scene.add(newCR);\n        this.columns.push(newCR);\n      }\n\n    });\n\n    objLoader.load(window.AWS + \"/blinds/models/hercules/hercules.obj\", (root) => {\n      var hercules = root;\n      var mat = new THREE.MeshLambertMaterial({ color: 0xdddddd });\n      hercules.material = mat;\n      let sc = 2;\n      hercules.scale.set(sc, sc, sc);\n      hercules.rotation.y = -3;\n      hercules.position.set(0, 40, 260);\n      // this.hercules.push(hercules);\n      this.scene.add(hercules);\n\n      // for (let i = 0; i < 4; i++) {\n      //   let newCL = hercules.clone();\n      //   // newCL.position.set(-100, 0, i * -150 + 200);\n      //   this.scene.add(newCL);\n      //   this.hercules.push(newCL);\n\n      //   // let newCR = hercules.clone();\n      //   // newCR.position.set(100, 0, i * -200 + 200);\n      //   // newCR.rotation.set(0, -Math.PI / 3, 0);\n      //   // this.scene.add(newCR);\n      //   // this.hercules.push(newCR);\n      // }\n\n    });\n\n    objLoader.load(window.AWS + \"/blinds/models/blockchain/model.obj\", (root) => {\n      var fence = root;\n      var mat = new THREE.MeshLambertMaterial({ color: 0xdddddd });\n      fence.material = mat;\n      let sc = 200;\n      fence.scale.set(sc, sc, sc);\n\n      for (let i = 0; i < 3; i++) {\n        var fenceR = fence.clone();\n        fenceR.rotation.y = 2;\n        fenceR.position.set(-50 - i * 30, 40, 260 - 200 * i);\n        // this.hercules.push(hercules);\n        this.scene.add(fenceR);\n\n        var fenceL = fence.clone();\n        fenceL.rotation.y = -2;\n        fenceL.position.set(50 + i * 30, 40, 260 - 200 * i);\n        this.scene.add(fenceL);\n      }\n\n    });\n\n\n  }\n\n  initEffect = () => {\n    var width = window.innerWidth || 2;\n    var height = window.innerHeight || 2;\n\n    this.effect = new AnaglyphEffect(this.renderer, width, height);\n    this.effect.setSize(width, height);\n  }\n\n  initGround = () => {\n\n    const size = 500;\n    const divisions = 70;\n\n    const gridHelper = new THREE.GridHelper(size, divisions);\n    this.scene.add(gridHelper);\n  }\n\n  initFrames = () => {\n    this.frames = [];\n    const texture = new THREE.TextureLoader().load(window.AWS + \"/blinds/frame.png\");\n    const material = new THREE.MeshBasicMaterial({ map: texture, transparent: true });\n    for (let i = 0; i < this.numFrames; i++) {\n      const frameH = 100;\n      const geometry = new THREE.BoxGeometry(frameH, frameH, 1);\n\n      const frame = new THREE.Mesh(geometry, material);\n      frame.position.z = -i * this.framesSpacing;\n      frame.position.y = frameH / 2 + 20;\n\n      this.frames.push(frame);\n      this.scene.add(frame);\n    }\n  }\n  updateFrames = () => {\n    for (let i = 0; i < this.frames.length; i++) {\n      const frame = this.frames[i];\n      frame.position.z += .7;\n      if (frame.position.z > 1000)\n        frame.position.z = -1000;\n    }\n  }\n\n  loadingDone = () => {\n    this.props.doneLoadingApp();\n  }\n\n  onWindowResize = () => {\n    this.camera.aspect = window.innerWidth / window.innerHeight;\n    this.camera.updateProjectionMatrix();\n    // renderer.setSize(window.innerWidth, window.innerHeight);\n    this.effect.setSize(window.innerWidth, window.innerHeight);\n  }\n\n  startAnimationLoop = () => {\n    if (this.controls)\n      this.controls.update();\n    for (const c of this.columns)\n      c.rotation.y += .02;\n    this.effect.render(this.scene, this.camera);\n    this.requestID = window.requestAnimationFrame(this.startAnimationLoop);\n\n    this.updateFrames();\n  }\n\n\n  render() {\n    const { ui } = this.props;\n    return (\n      <div className=\"Blinds Sketch\" >\n        <div className=\"Three\" ref={ref => (this.mount = ref)} />\n        {ui.loading ? <div className=\"backgroundCover\" style={{ backgroundColor: \"black\" }} /> : null}\n        <Sketch className=\"p5sketch\" ui={ui} loadingDone={this.loadingDone} />\n\n\n      </div>\n\n    )\n  }\n}\n\n\n\n\nconst mapStateToProps = (state) => {\n  return {\n    ui: state.ui\n  }\n}\n\nconst mapDispatchToProps = () => {\n  return {\n    doneLoadingApp,\n    setSketchMusic\n  }\n}\n\n\nexport default connect(mapStateToProps, mapDispatchToProps())(Blinds);\n","import React from 'react';\nimport './Pulse.css';\nimport Frame from '../../../../shared/Frame/Frame';\n\n\nexport default class Pulse extends React.Component {\n\n    componentDidMount() {\n\n    }\n\n    componentWillUnmount() {\n\n    }\n\n    render() {\n        const w = 300;\n        const h = 90;\n        const x = 200;\n        const y = 200;\n        const { heartRate, ui } = this.props;\n\n        let hr = Math.floor(heartRate);\n        if (hr > 40)\n            hr = Math.floor(heartRate / 5) * 5;\n\n\n        return (\n            <Frame title=\"\" content={\n                <div className=\"Pulse\">\n                    <div className=\"heartRate\">{hr}</div>\n                    <div className=\"bpm\">\n                        <div>BPM</div>\n                        <div>❤️</div>\n                    </div>\n                </div>\n            }\n                width={w} height={h} x={x} y={y}\n            />\n        )\n    }\n\n\n}","import React from 'react';\nimport Frame from '../../../../shared/Frame/Frame';\nimport './LikeButton.css';\n\nexport default function LikeButton(props) {\n    const { x, y, w, h, heartClicked } = props;\n    //    const w = 80;\n    //    const h = 34;\n    return (\n\n        <Frame title=\"\" content={\n            <div className=\"LikeButton\">\n                <div className=\"btn\"\n                    style={{ width: w-10, height: h-10 }}\n                    onClick={() => heartClicked(1)}\n                />\n            </div>\n        }\n            width={w} height={h} x={x} y={y}\n        />\n    )\n}","import { mapVal, constrain } from '../../../../shared/Helpers/Helpers';\n\nexport function getDim(ui) {\n    if (ui.hasFooter || ui.isMobile) {\n        if (ui.orientation === \"landscape\")\n            return getMobileDimHoriz(ui);\n        else\n            return getMobileDimVert(ui);\n    }\n    return getDimDesktop(ui);\n}\n\nfunction getMobileDimHoriz(ui) {\n    let isVert = false;\n    let w;\n\n    let buttonW = 80;\n    let buttonH = 34;\n    let buffer = 20;\n    let availW = ui.contentW - 3 * buffer - buttonW;\n\n    let fontS = mapVal(availW, 0, 800, 18, 32);\n    fontS = Math.floor(constrain(fontS, 18, 32));\n    let h = fontS + 10;\n    // buttonW = h;\n    buttonH = h;\n\n    let repeats = Math.floor(availW / fontS / 5);\n    w = repeats * 5 * fontS + 10;\n\n    buttonW = Math.floor((h / buttonH) * buttonW);\n\n    let barW = buttonW + w + buffer;\n    let xB = (ui.contentW - barW) / 2;\n    let x = xB + buttonW + buffer;\n    let y = ui.contentH - h - ui.toolbarH - 20;\n    let yB = y;\n\n    return { x, y, w, h, xB, yB, bW: buttonW, bH: buttonH, fontS, repeats, isVert };\n}\n\nfunction getMobileDimVert(ui) {\n    let isVert = true;\n    let w = 80;\n\n    let buffer = 20;\n    let buttonH = 80;\n    let buttonW = 80;\n\n    let availH = ui.contentH - 3 * buffer - ui.toolbarH * 2 - buttonH;\n\n    let fontS = mapVal(availH, 0, 800, 18, 32);\n    fontS = Math.floor(constrain(fontS, 18, 32));\n\n\n    let repeats = Math.floor(availH / fontS / 5);\n    let h = repeats * 5 * fontS + 10;\n\n    let barH = ui.toolbarH * 2 + buttonH + h + buffer;\n    let yB = (ui.contentH - barH) / 2;\n    let y = yB + ui.toolbarH + buttonH + buffer;\n    let x = ui.contentW - w - buffer;\n    let xB = x;\n\n    return { x, y, xB, yB, bW: buttonW, bH: buttonH, w, h, fontS, repeats, isVert };\n}\n\nfunction getDimDesktop(ui) {\n    let isVert = false;\n    let w = 80;\n    let x, y;\n\n    let availLen = 0;\n    let buffer = 20;\n\n\n    if (isVert) {\n        availLen = ui.contentH - 2 * buffer - ui.toolbarH;\n    }\n    else {\n        availLen = ui.contentW - 2 * buffer;\n    }\n    let fontS = mapVal(availLen, 0, 800, 18, 32);\n\n    fontS = Math.floor(constrain(fontS, 18, 32));\n    let maxLen = fontS * 20 + 10;\n    let h = Math.min(availLen, maxLen);\n\n    let repeats = Math.floor(h / fontS / 5);\n    h = repeats * 5 * fontS + 10;\n\n    if (!isVert) {\n        w = h;\n        h = fontS + 10;\n        y = (ui.contentH - h - ui.toolbarH) * .9;\n        x = (ui.contentW - w) / 2;\n    }\n    else {\n        y = (ui.contentH - h - ui.toolbarH) / 2;\n        x = ui.contentW * .1;\n    }\n\n    return { x, y, w, h, bW: 0, bH: 0, fontS, repeats, isVert };\n\n}\n","import React from 'react';\nimport './EmojiMonitor.css';\nimport LikeButton from '../LikeButton/LikeButton';\nimport Frame from '../../../../shared/Frame/Frame';\nimport { mapVal, constrain } from '../../../../shared/Helpers/Helpers';\nimport { getDim } from './Helper';\n\nimport { connect } from 'react-redux';\n\nclass EmojiMonitor extends React.Component {\n\n    componentDidMount() {\n\n    }\n\n    componentWillUnmount() {\n\n    }\n\n\n\n    render() {\n\n        // const w = 200;\n        // const h = 200;\n        const { heartRate, maxHeart, ui, heartClicked } = this.props;\n        const dim = getDim(ui);\n        const { x, y, w, h, xB, yB, bW, bH, fontS, repeats, isVert } = dim;\n\n        let emojis = this.getEmojis(repeats);\n\n        let hr = Math.floor(heartRate);\n        if (hr > 40)\n            hr = Math.floor(heartRate / 5) * 5;\n        let hearts = new Array(20).fill(0);\n        const numHearts = Math.floor(mapVal(heartRate, 30, maxHeart, 0, hearts.length));\n\n\n        return (\n            <React.Fragment>\n                <Frame title=\"\" content={\n                    <div className=\"Emoji-Monitor\">\n                        <div style={{ fontSize: fontS }} className={\"pulse-emojis\" + (isVert ? \" vert\" : \"\")}>\n                            {hearts.map((h, i) => {\n                                let classN = \"light\";\n                                if (i < numHearts) {\n                                    classN = \"full\"\n                                }\n                                return <div key={i} className={classN}>{emojis[i]}</div>\n                            })}\n                        </div>\n                    </div>\n                }\n                    width={w} height={h} x={x} y={y}\n                />\n                {(ui.hasFooter || ui.isMobile) ?\n                    <LikeButton x={xB} y={yB} w={bW} h={bH} heartClicked={heartClicked} /> :\n                    null\n                }\n            </React.Fragment>\n        )\n    }\n\n\n    getEmojis = (repeats) => {\n        //,\"🤪\",\n        let emojiList = [\"❤️\", \"💋\", \"🔥\", \"💥\", \"🥵\"];\n        let emojis = [];\n        for (const emoji of emojiList) {\n            for (let i = 0; i < repeats; i++) {\n                emojis.push(emoji);\n            }\n        }\n        return emojis;\n    }\n}\n\n\n\nconst mapStateToProps = (state) => {\n    return {\n        ui: state.ui\n    }\n}\n\nconst mapDispatchToProps = () => {\n    return {\n        // doneLoadingApp,\n    }\n}\n\n\nexport default connect(mapStateToProps, mapDispatchToProps())(EmojiMonitor);\n","import React from 'react';\nimport Frame from '../../../../shared/Frame/Frame';\nimport {mapVal} from '../../../../shared/Helpers/Helpers';\n\n// import './Rose.css';\n\nexport default function Rose(props) {\n    const { x, y, w, heartRate} = props;\n    const h = w;\n\n    const numFrames = 37;\n    let fr = Math.floor(mapVal(heartRate, 30, 400, 0, numFrames));\n    let dx = -fr*w;\n\n    const roseStyle = {\n        backgroundImage: `url(\"${window.AWS}/clickMe/rosesprite3.png\")`,\n        backgroundSize: \"cover\",\n        backgroundPosition: `${dx}px 0px`,\n        width: w,\n        height: h\n    };\n\n    \n\n    return (\n\n        <Frame title=\"\" content={\n            <div className=\"rose\" style={roseStyle} />\n\n        }\n            width={w} height={h} x={x} y={y}\n        />\n    )\n}\n","import React from 'react';\nimport \"./ClickMe.css\";\n\nimport Pulse from './components/Pulse/Pulse';\nimport EmojiMonitor from './components/EmojiMonitor/EmojiMonitor';\nimport Rose from './components/Rose/Rose';\nimport { getDim } from './components/EmojiMonitor/Helper';\n\n// import Chat from './old/Chat';\nimport Frame from '../../shared/Frame/Frame';\nimport { constrain, mapVal } from '../../shared/Helpers/Helpers';\n\n// store\nimport { connect } from 'react-redux';\nimport { doneLoadingApp } from '../../../store/actions';\nimport { setSketchMusic, setSketchVolume } from '../../../store/actions/music';\n\nimport * as THREE from \"three\";\nimport { OBJLoader } from 'three/examples/jsm/loaders/OBJLoader.js';\nimport { MTLLoader } from 'three/examples/jsm/loaders/MTLLoader.js';\nimport { OrbitControls } from 'three/examples/jsm/controls/OrbitControls.js';\n\nimport { GUI } from 'three/examples/jsm/libs/dat.gui.module.js';\nimport { LightningStrike } from 'three/examples/jsm/geometries/LightningStrike.js';\nimport { LightningStorm } from 'three/examples/jsm/objects/LightningStorm.js';\nimport { EffectComposer } from 'three/examples/jsm/postprocessing/EffectComposer.js';\nimport { RenderPass } from 'three/examples/jsm/postprocessing/RenderPass.js';\nimport { OutlinePass } from 'three/examples/jsm/postprocessing/OutlinePass.js';\n\n\nvar AnaglyphEffect = require('../../shared/3D/AnaglyphEffect')(THREE);\nvar mouse;\nvar heartRate = 60;\nvar heartVelocity = 0;\nvar heartAcceleration = -.01;\nvar heartTotal = 0;\nconst maxHeart = 400;\n// var lastPump = new Date();\n\nclass ClickMe extends React.Component {\n\n\n    constructor(props) {\n        super(props);\n\n        this.mount = React.createRef();\n\n        this.state = {\n            cursor: 0,\n            // heartRate: 60,\n            // lastPump: new Date(),\n            heartSz: 1,\n            hR: heartRate,\n            hT: 0,\n            pulse: 0\n        }\n    }\n\n\n    componentDidMount() {\n        this.props.setSketchMusic(\"clickMe\", 0, 0);\n\n        this.interval = setInterval(this.setHeart, 20);\n        this.props.addClass(\"clickMe\");\n\n        let width, height;\n        let scene, renderer, composer, gui;\n        let anaglyphEffect;\n        let currentSceneIndex = 0;\n        let currentTime = 0;\n        let blinds = [];\n        let heart;\n        let face;\n        let showLightning = true;\n\n        const sceneCreators = [\n            createPlasmaBallScene\n        ];\n\n        const clock = new THREE.Clock();\n\n        const raycaster = new THREE.Raycaster();\n        mouse = new THREE.Vector2();\n        mouse.x = -1;\n        mouse.y = 0;\n        mouse.z = 0;\n\n        init(this.mount);\n        animate();\n\n        function init(mount) {\n\n            renderer = new THREE.WebGLRenderer();\n            renderer.setPixelRatio(window.devicePixelRatio);\n            renderer.setSize(window.innerWidth, window.innerHeight);\n            mount.appendChild(renderer.domElement);\n\n            var width = window.innerWidth || 2;\n            var height = window.innerHeight || 2;\n            anaglyphEffect = new AnaglyphEffect(renderer, width, height);\n            anaglyphEffect.setSize(width, height);\n\n            composer = new EffectComposer(renderer);\n\n\n            createScene();\n            initFace();\n            initJar();\n            initHeart();\n            initBlinds();\n        }\n\n        function createScene() {\n\n            scene = sceneCreators[currentSceneIndex]();\n\n            createGUI();\n\n        }\n\n        function onWindowResize() {\n            scene.userData.camera.aspect = window.innerWidth / window.innerHeight;\n            scene.userData.camera.updateProjectionMatrix();\n\n            renderer.setSize(window.innerWidth, window.innerHeight);\n\n            composer.setSize(window.innerWidth, window.innerHeight);\n            anaglyphEffect.setSize(window.innerWidth, window.innerHeight);\n        }\n\n\n\n        function createGUI() {\n\n            if (gui) {\n\n                gui.destroy();\n\n            }\n\n            gui = new GUI({ width: 350 });\n            gui.hide();\n            const sceneFolder = gui.addFolder(\"Scene\");\n\n            scene.userData.sceneIndex = currentSceneIndex;\n\n            sceneFolder.add(scene.userData, 'sceneIndex', { \"Electric Cones\": 0, \"Plasma Ball\": 1, \"Storm\": 2 }).name('Scene').onChange(function (value) {\n\n                currentSceneIndex = value;\n\n                createScene();\n\n            });\n\n            scene.userData.timeRate = 1;\n            sceneFolder.add(scene.userData, 'timeRate', scene.userData.canGoBackwardsInTime ? - 1 : 0, 1).name('Time rate');\n\n            sceneFolder.open();\n\n            const graphicsFolder = gui.addFolder(\"Graphics\");\n\n            graphicsFolder.add(scene.userData, \"outlineEnabled\").name(\"Glow enabled\");\n\n            scene.userData.lightningColorRGB = [\n                scene.userData.lightningColor.r * 255,\n                scene.userData.lightningColor.g * 255,\n                scene.userData.lightningColor.b * 255\n            ];\n            graphicsFolder.addColor(scene.userData, 'lightningColorRGB').name('Color').onChange(function (value) {\n\n                scene.userData.lightningMaterial.color.setRGB(value[0], value[1], value[2]).multiplyScalar(1 / 255);\n\n            });\n            scene.userData.outlineColorRGB = [\n                scene.userData.outlineColor.r * 255,\n                scene.userData.outlineColor.g * 255,\n                scene.userData.outlineColor.b * 255\n            ];\n            graphicsFolder.addColor(scene.userData, 'outlineColorRGB').name('Glow color').onChange(function (value) {\n\n                scene.userData.outlineColor.setRGB(value[0], value[1], value[2]).multiplyScalar(1 / 255);\n\n            });\n\n            graphicsFolder.open();\n\n            const rayFolder = gui.addFolder(\"Ray parameters\");\n\n            rayFolder.add(scene.userData.rayParams, 'straightness', 0, 1).name('Straightness');\n            rayFolder.add(scene.userData.rayParams, 'roughness', 0, 1).name('Roughness');\n            rayFolder.add(scene.userData.rayParams, 'radius0', 0.1, 10).name('Initial radius');\n            rayFolder.add(scene.userData.rayParams, 'radius1', 0.1, 10).name('Final radius');\n            rayFolder.add(scene.userData.rayParams, 'radius0Factor', 0, 1).name('Subray initial radius');\n            rayFolder.add(scene.userData.rayParams, 'radius1Factor', 0, 1).name('Subray final radius');\n            rayFolder.add(scene.userData.rayParams, 'timeScale', 0, 5).name('Ray time scale');\n            rayFolder.add(scene.userData.rayParams, 'subrayPeriod', 0.1, 10).name('Subray period (s)');\n            rayFolder.add(scene.userData.rayParams, 'subrayDutyCycle', 0, 1).name('Subray duty cycle');\n\n            if (scene.userData.recreateRay) {\n\n                // Parameters which need to recreate the ray after modification\n\n                const raySlowFolder = gui.addFolder(\"Ray parameters (slow)\");\n\n                raySlowFolder.add(scene.userData.rayParams, 'ramification', 0, 15).step(1).name('Ramification').onFinishChange(function () {\n\n                    scene.userData.recreateRay();\n\n                });\n\n                raySlowFolder.add(scene.userData.rayParams, 'maxSubrayRecursion', 0, 5).step(1).name('Recursion').onFinishChange(function () {\n\n                    scene.userData.recreateRay();\n\n                });\n\n                raySlowFolder.add(scene.userData.rayParams, 'recursionProbability', 0, 1).name('Rec. probability').onFinishChange(function () {\n\n                    scene.userData.recreateRay();\n\n                });\n\n                raySlowFolder.open();\n\n            }\n\n            rayFolder.open();\n\n        }\n\n\n\n        function animate() {\n            requestAnimationFrame(animate);\n\n            render();\n            // stats.update();\n\n        }\n\n        function render() {\n            if (window.innerWidth !== width || window.innerHeight !== height) {\n                width = window.innerWidth;\n                height = window.innerHeight;\n                onWindowResize();\n            }\n\n            currentTime += scene.userData.timeRate * clock.getDelta();\n\n            if (currentTime < 0) {\n\n                currentTime = 0;\n\n            }\n\n\n            heartPump();\n\n            scene.userData.render(currentTime);\n            if (scene.userData.rayParams.ramification) {\n                let ram = Math.floor(mapVal(heartRate, 30, maxHeart, 1, 12));\n                if (ram !== scene.userData.rayParams.ramification) {\n                    scene.userData.rayParams.ramification = ram;\n                    scene.userData.recreateRay();\n                }\n\n            }\n\n\n            if (blinds[0]) {\n                const hr = mapVal(heartRate, 30, maxHeart, .2, 8);\n                for (const blind of blinds) {\n                    blind.position.y += hr;\n                    if (blind.position.y > 2000)\n                        blind.position.y = -2000;\n                }\n            }\n        }\n\n        function createOutline(scene, objectsArray, visibleColor) {\n\n            const outlinePass = new OutlinePass(new THREE.Vector2(window.innerWidth, window.innerHeight), scene, scene.userData.camera, objectsArray);\n            outlinePass.edgeStrength = 2.5;\n            outlinePass.edgeGlow = 0.7;\n            outlinePass.edgeThickness = 2.8;\n            outlinePass.visibleEdgeColor = visibleColor;\n            outlinePass.hiddenEdgeColor.set(0);\n            composer.addPass(outlinePass);\n\n            scene.userData.outlineEnabled = true;\n\n            return outlinePass;\n\n        }\n\n        function createPlasmaBallScene() {\n\n            const scene = new THREE.Scene();\n\n            scene.userData.canGoBackwardsInTime = true;\n\n            scene.userData.camera = new THREE.PerspectiveCamera(27, window.innerWidth / window.innerHeight, 10, 50000);\n\n            const ballScene = new THREE.Scene();\n            ballScene.background = new THREE.Color(0x454545);\n\n            // Lights\n\n            const ambientLight = new THREE.AmbientLight(0x444444);\n            scene.add(ambientLight);\n\n            const light1 = new THREE.DirectionalLight(0xffffff, 0.5);\n            light1.position.set(1, 1, 1);\n            scene.add(light1);\n\n            const light2 = new THREE.DirectionalLight(0xffffff, 1.5);\n            light2.position.set(- 0.5, 1, 0.2);\n            scene.add(light2);\n\n            // const light3 = new THREE.DirectionalLight(0xffffff, 1.5);\n            // light3.position.set(- 0.5, 100, -200);\n            // scene.add(light3);\n\n            // Plasma ball\n\n            scene.userData.lightningColor = new THREE.Color(0x00FF00);\n            scene.userData.outlineColor = new THREE.Color(0x00FF00);\n\n            scene.userData.lightningMaterial = new THREE.MeshBasicMaterial({ color: scene.userData.lightningColor, side: THREE.DoubleSide });\n\n\n\n            const sphereMaterial = new THREE.MeshPhongMaterial({ color: 0xdddddd, specular: 0x009900, shininess: 30 });\n\n            const sphereHeight = 300;\n            const sphereRadius = 800;\n\n            scene.userData.camera.position.set(0, 2 * sphereHeight, 8 * 200);\n\n            const sphereMesh = new THREE.Mesh(new THREE.SphereGeometry(sphereRadius, 80, 40), sphereMaterial);\n            sphereMesh.position.set(0, sphereHeight, 0);\n            // scene.add(sphereMesh);\n\n            const sphere = new THREE.Sphere(sphereMesh.position, sphereRadius);\n\n            // const spherePlasma = new THREE.Mesh(new THREE.SphereGeometry(sphereRadius * 0.05, 24, 12), scene.userData.lightningMaterial);\n            // spherePlasma.position.copy(sphereMesh.position);\n            // spherePlasma.scale.y = 0.6;\n            // scene.add(spherePlasma);\n\n            // const post = new THREE.Mesh(\n            //     new THREE.CylinderGeometry(sphereRadius * 0.06, sphereRadius * 0.06, sphereHeight, 6, 1, true),\n            //     new THREE.MeshLambertMaterial({ color: 0x020202 })\n            // );\n            // post.position.y = sphereHeight * 0.5 - sphereRadius * 0.05 * 1.2;\n            // scene.add(post);\n\n            // const box = new THREE.Mesh(new THREE.BoxGeometry(sphereHeight * 0.5, sphereHeight * 0.1, sphereHeight * 0.5), post.material);\n            // box.position.y = sphereHeight * 0.05 * 0.5;\n            // scene.add(box);\n\n            const rayDirection = new THREE.Vector3();\n            let rayLength = 0;\n            const vec1 = new THREE.Vector3();\n            const vec2 = new THREE.Vector3();\n\n            const start = { ...sphereMesh.position };\n            start.z = -200;\n            scene.userData.rayParams = {\n\n                sourceOffset: start, //sphereMesh.position,\n                destOffset: new THREE.Vector3(sphereRadius, 0, 0).add(sphereMesh.position),\n                radius0: 4,\n                radius1: 4,\n                radius0Factor: 0.82,\n                minRadius: 2.5,\n                maxIterations: 6,\n                isEternal: true,\n\n                timeScale: 0.6,\n                propagationTimeFactor: 0.15,\n                vanishingTimeFactor: 0.87,\n                subrayPeriod: 0.8,\n                ramification: 2,\n                recursionProbability: 0.8,\n\n                roughness: 0.85,\n                straightness: 0.7,\n\n                onSubrayCreation: function (segment, parentSubray, childSubray, lightningStrike) {\n\n                    lightningStrike.subrayConePosition(segment, parentSubray, childSubray, 0.6, 0.9, 0.7);\n\n                    // THREE.Sphere projection\n\n                    vec1.subVectors(childSubray.pos1, lightningStrike.rayParameters.sourceOffset);\n                    vec2.set(0, 0, 0);\n\n                    if (lightningStrike.randomGenerator.random() < 0.7) {\n\n                        vec2.copy(rayDirection).multiplyScalar(rayLength * 1.0865);\n\n                    }\n\n                    vec1.add(vec2).setLength(rayLength);\n                    childSubray.pos1.addVectors(vec1, lightningStrike.rayParameters.sourceOffset);\n\n                }\n\n            };\n\n            scene.userData.rayParams2 = { ...scene.userData.rayParams };\n            let lightningStrike;\n            let lightningStrikeMesh;\n            let lightningStrike2;\n            let lightningStrikeMesh2;\n            const outlineMeshArray = [];\n            const outlineMeshArray2 = [];\n\n            scene.userData.recreateRay = function () {\n\n                if (lightningStrikeMesh) {\n                    scene.remove(lightningStrikeMesh);\n                }\n                // if (lightningStrikeMesh2)\n                //     scene.remove(lightningStrikeMesh2);\n\n                lightningStrike = new LightningStrike(scene.userData.rayParams);\n                lightningStrikeMesh = new THREE.Mesh(lightningStrike, scene.userData.lightningMaterial);\n\n\n                ;\n                // lightningStrike2 = new LightningStrike(scene.userData.rayParams2);\n                // lightningStrikeMesh2 = new THREE.Mesh(lightningStrike2, scene.userData.lightningMaterial);\n\n                // outlineMeshArray.length = 0;\n                // outlineMeshArray.push(lightningStrikeMesh);\n\n\n                scene.add(lightningStrikeMesh);\n                // scene.add(lightningStrikeMesh2);\n\n            };\n\n\n            scene.userData.recreateRay();\n\n            // Compose rendering\n\n            composer.passes = [];\n\n            composer.addPass(new RenderPass(ballScene, scene.userData.camera));\n\n            const rayPass = new RenderPass(scene, scene.userData.camera);\n            rayPass.clear = false;\n            composer.addPass(rayPass);\n\n            const outlinePass = createOutline(scene, outlineMeshArray, scene.userData.outlineColor);\n\n            scene.userData.render = function (time) {\n\n                rayDirection.subVectors(lightningStrike.rayParameters.destOffset, lightningStrike.rayParameters.sourceOffset);\n                rayLength = rayDirection.length();\n                rayDirection.normalize();\n\n                if (showLightning)\n                    lightningStrike.update(time);\n                // lightningStrike2.update(time);\n\n\n                // controls.update();\n\n                checkIntersection(mouse);\n\n                outlinePass.enabled = false; //scene.userData.outlineEnabled;\n\n                // composer.render();\n                anaglyphEffect.render(scene, scene.userData.camera);\n            };\n\n\n            // Controls\n\n            const controls = new OrbitControls(scene.userData.camera, renderer.domElement);\n            controls.target.copy(sphereMesh.position);\n            controls.enableDamping = true;\n            controls.dampingFactor = 0.05;\n            controls.update();\n            controls.enabled = false;\n            // THREE.Sphere mouse raycasting\n\n            // container.style.touchAction = 'none';\n            // container.addEventListener('pointermove', onPointerMove);\n\n\n\n            const intersection = new THREE.Vector3();\n            // this.interval = setInterval(changeComputer, 3000);\n\n            // function changeComputer() {\n            //     let i = Math.floor(Math.random() * comps.length);\n            //     if (comps[i])\n            //         lightningStrike2.rayParameters.destOffset = comps[i].position;\n            // }\n\n            function checkIntersection(mouse) {\n                raycaster.setFromCamera(mouse, scene.userData.camera);\n                intersection.z = 1000;\n                const result = raycaster.ray.intersectSphere(sphere, intersection);\n\n                if (result !== null) {\n\n                    lightningStrike.rayParameters.destOffset.copy(intersection);\n\n                }\n\n            }\n\n            return scene;\n\n        }\n\n\n        function initBlinds() {\n            const GROUND_SIZE = 1000;\n\n            var blindsTexture = new THREE.TextureLoader().load(window.AWS + \"/clickMe/textures/blinds.jpeg\");\n            blindsTexture.wrapS = THREE.RepeatWrapping;\n            blindsTexture.wrapT = THREE.RepeatWrapping;\n            blindsTexture.repeat.set(2, 2);\n            blindsTexture.offset.set(0, 0);\n\n            const groundMat = new THREE.MeshLambertMaterial({ color: 0x6071a6, transparent: true, opacity: .7, map: blindsTexture });\n            const z = -400;\n            blinds[0] = new THREE.Mesh(new THREE.PlaneGeometry(GROUND_SIZE, GROUND_SIZE), groundMat);\n            blinds[0].position.z = z;\n            blinds[0].position.y = 1000;\n            scene.add(blinds[0]);\n\n            blinds[1] = new THREE.Mesh(new THREE.PlaneGeometry(GROUND_SIZE, GROUND_SIZE), groundMat);\n            blinds[1].position.z = z;\n            blinds[1].position.y = 0;\n            scene.add(blinds[1]);\n\n            blinds[2] = new THREE.Mesh(new THREE.PlaneGeometry(GROUND_SIZE, GROUND_SIZE), groundMat);\n            blinds[2].position.z = z;\n            blinds[2].position.y = -1000;\n            scene.add(blinds[2]);\n\n            blinds[3] = new THREE.Mesh(new THREE.PlaneGeometry(GROUND_SIZE, GROUND_SIZE), groundMat);\n            blinds[3].position.z = z;\n            blinds[3].position.y = -2000;\n            scene.add(blinds[3]);\n\n        }\n\n\n\n        function initFace() {\n            const url = window.AWS + \"/clickMe/models/face/blockydebb.obj\";\n            const objLoader = new OBJLoader();\n            objLoader.load(url, (root) => {\n                face = root;\n                var mat = new THREE.MeshLambertMaterial({ color: 0xdd0000 });\n                face.material = mat;\n                const sc = 1.4;\n                face.scale.set(sc, sc, sc);\n                face.rotation.x = -Math.PI / 2;\n                face.rotation.y = -.1;\n                face.rotation.z = 2.1;\n                face.position.set(-60, 250, -110);\n\n                scene.add(face);\n\n            });\n        }\n\n        function initJar() {\n            const MTLFile = window.AWS + \"/clickMe/models/jar/materials.mtl\";\n            const url = window.AWS + \"/clickMe/models/jar/model.obj\";\n\n            const objLoader = new OBJLoader();\n            objLoader.load(url, (root) => {\n                var jar = root;\n\n                const jarMaterial = new THREE.MeshPhysicalMaterial({\n                    transparent: true,\n                    opacity: .5,\n                    depthWrite: true,\n                    color: 'white',\n                    metalness: 1,\n                    roughness: .2,\n                });\n                jar.traverse(function (child) {\n\n                    if (child instanceof THREE.Mesh) {\n\n                        child.material = jarMaterial;\n\n                    }\n\n                });\n                const sc = 800;\n                jar.scale.set(sc, sc, sc);\n                let y = 100;\n                let x = 0;\n                let z = -100;\n                jar.rotation.y = Math.PI;\n                jar.position.set(x, y, z);\n                scene.add(jar);\n\n            });\n\n        }\n        function initHeart() {\n            const MTLFile = window.AWS + \"/clickMe/models/heart/heart.mtl\";\n            const url = window.AWS + \"/clickMe/models/heart/heart.obj\";\n\n            new MTLLoader()\n                .load(MTLFile, function (materials) {\n                    materials.preload();\n                    const objLoader = new OBJLoader();\n                    objLoader.setMaterials(materials);\n                    objLoader.load(url, (root) => {\n                        heart = root;\n                        const sc = 50;\n                        heart.scale.set(sc, sc, sc);\n                        heart.rotation.y = -.3;\n                        let y = 300;\n                        let x = -30;\n                        let z = -200;\n                        heart.position.set(x, y, z);\n                        scene.add(heart);\n                    });\n                });\n\n        }\n\n        function heartPump() {\n            heartVelocity += heartAcceleration;\n            if (heartRate < 70)\n                heartVelocity = constrain(heartVelocity, -2, 14);\n            else\n                heartVelocity = constrain(heartVelocity, -2, .5);\n            heartRate += heartVelocity;\n            heartRate = constrain(heartRate, 30, maxHeart);\n            heartTotal += (heartRate / 60) * .1;\n            let ampX = mapVal(heartRate, 30, maxHeart, 2, 5);\n            let heartSz = 50 + ampX * Math.sin(heartTotal);\n            if (heart)\n                heart.scale.set(heartSz, heartSz, heartSz);\n            if (face) {\n                let faceSz = 1.4 + .03 * Math.sin(heartTotal);\n                face.scale.set(faceSz, faceSz, faceSz);\n                face.rotation.z = 1.8 - .02 * Math.sin(heartTotal);\n\n            }\n\n        }\n    }\n\n    componentWillUnmount() {\n        clearInterval(this.interval);\n        this.props.removeClass(\"clickMe\");\n    }\n\n    onPointerMove = (event) => {\n\n        if (event.isPrimary === false) return;\n\n\n        if (!this.props.ui.isMobile) {\n            mouse.x = (event.clientX / window.innerWidth) * 2 - 1 + .1;\n            mouse.y = - (event.clientY / window.innerHeight) * 2 + 1;\n            mouse.z = 6 * 200;\n        }\n    }\n\n    setCursor = (id) => {\n        this.setState({ cursor: id });\n    }\n\n\n    heartClicked = (amt) => {\n        if (heartRate <= 32) {\n            heartVelocity += 10;\n        }\n        else {\n            if (heartVelocity < 0)\n                heartVelocity = 0;\n            heartVelocity += .2;\n        }\n    }\n\n\n\n    setHeart = () => {\n        this.setState({ hR: heartRate, hT: heartTotal });\n        let vol = mapVal(heartRate, 30, maxHeart, .02, 1);\n        this.props.setSketchVolume(vol);\n    }\n\n    render() {\n        const { ui } = this.props;\n        const { hR, hT } = this.state;\n\n        const dim = getDim(ui);\n        const { x, y, w, h } = dim;\n\n        const roseDim = 80;\n        const roseBuffer = 20;\n\n        const roseBL = { x: x - roseDim - roseBuffer, y: y - (ui.toolbarH + roseDim) / 2 };\n        const roseBR = { x: x + w + roseBuffer, y: roseBL.y };\n\n        const roseTL = { x: x, y: ui.contentH - y - ui.toolbarH - h };\n        const roseTR = { x: x + w - roseDim, y: roseTL.y };\n\n        const bigRoseTL = { x: roseTL.x - roseBuffer - roseDim * 2, y: roseTL.y + roseDim };\n        const bigRoseTR = { x: roseTR.x + roseBuffer + roseDim, y: bigRoseTL.y };\n        return (\n            <div className={\"ClickMe Sketch \" + \"point\" + this.state.cursor} onClick={() => this.heartClicked(1)} onMouseMove={this.onPointerMove} >\n                <div className=\"Three\" ref={ref => (this.mount = ref)} />\n                {(ui.isMobile || ui.hasFooter) ?\n                    null :\n                    <React.Fragment>\n                        {/* <Pulse heartRate={this.state.hR} maxHeart={maxHeart} /> */}\n                        <Rose w={roseDim * 2} x={bigRoseTL.x} y={bigRoseTL.y} heartRate={hR} heartTotal={hT} />\n                        <Rose w={roseDim * 2} x={bigRoseTR.x} y={bigRoseTR.y} heartRate={hR} heartTotal={hT} />\n\n                        <Rose w={roseDim} x={roseBL.x} y={roseBL.y} heartRate={hR} heartTotal={hT} />\n                        <Rose w={roseDim} x={roseBR.x} y={roseBR.y} heartRate={hR} heartTotal={hT} />\n                        <Rose w={roseDim} x={roseTL.x} y={roseTL.y} heartRate={hR} heartTotal={hT} />\n                        <Rose w={roseDim} x={roseTR.x} y={roseTR.y} heartRate={hR} heartTotal={hT} />\n                        {/* <Rose w={roseDim} x={500} y={100} heartRate={hR} heartTotal={hT} /> */}\n                    </React.Fragment>\n                }\n                <EmojiMonitor heartTotal={hT} heartRate={hR} maxHeart={maxHeart} heartClicked={this.heartClicked} />\n            </div>\n\n        )\n    }\n}\n\n\n\n\nconst mapStateToProps = (state) => {\n    return {\n        ui: state.ui\n    }\n}\n\nconst mapDispatchToProps = () => {\n    return {\n        doneLoadingApp,\n        setSketchMusic,\n        setSketchVolume\n    }\n}\n\n\nexport default connect(mapStateToProps, mapDispatchToProps())(ClickMe);\n","import React from 'react';\n// import { Link } from 'react-router-dom';\nimport './Pages.css';\nimport { connect } from 'react-redux';\nimport { setNoSketchMusic } from '../../store/actions/music';\n\nclass About extends React.Component {\n\n  componentDidMount() {\n    this.props.setNoSketchMusic();\n  }\n\n  render() {\n    const { ui } = this.props;\n    let classN = \"Page \" + ui.size;\n    if (ui.hasFooter && ui.orientation === \"landscape\")\n      classN += \" landscape\";\n\n\n    return (\n      <div className={classN}>\n\n        <div className=\"About container\">\n          {/* <div className=\"container\"> */}\n          <h1>about</h1>\n          <h3>Tulane University</h3>\n          <h3>MFA Thesis Exhibition</h3>\n          <h3>April 2021</h3>\n\n          <br></br>\n          <p>Jenna deBoisblanc is a New Orleans native, a creative coder, and a teacher. She received her undergraduate degree in physics from Pomona College and her MFA in digital art from Tulane University in New Orleans. She has shown work locally at Good Children Gallery and at Luna Fete, as well as at light festivals in the SouthWest. Her clients include Toyota, the Aloft Hotel, the Florida Aquarium, and NASA.</p>\n          <br></br>\n          <h3>---</h3>\n          <p>\n            <a href=\"https://jdeboi.com\">jdeboi.com</a>\n            <br></br>\n            <a href=\"https://www.instagram.com/jdeboi/\">@jdeboi</a>\n            <br></br>\n          jdeboi at gmail\n          </p>\n          {/* </div> */}\n        </div>\n      </div>\n    );\n  }\n}\n\n\nconst mapStateToProps = (state) => {\n  return {\n    // ui: state.ui\n  }\n}\n\nconst mapDispatchToProps = () => {\n  return {\n    // doneLoadingApp,\n    setNoSketchMusic\n  }\n}\n\n\nexport default connect(mapStateToProps, mapDispatchToProps())(About);\n","import React from 'react';\nimport './Pages.css';\nimport { connect } from 'react-redux';\nimport { setNoSketchMusic } from '../../store/actions/music';\n\n\nclass Statement extends React.Component {\n\n    componentDidMount() {\n        this.props.setNoSketchMusic();\n    }\n\n    render() {\n        const { ui } = this.props;\n        let classN = \"Page \" + ui.size;\n        if (ui.hasFooter && ui.orientation === \"landscape\")\n            classN += \" landscape\";\n        return (\n            <div className={classN}>\n\n                <div className=\"Statement container\">\n                    {/* <div className=\"container\"> */}\n                    <h1>statement</h1>\n                    <p>Over the last year, Covid-19 has dramatically altered our spatial and temporal experiences. Physical space has collapsed as we confine ourselves to our homes. Time has warped into infinite loops of monotony. And as our worlds have gotten smaller, we’ve increasingly retreated into digital worlds with their own cyber-spacetime dimensions. As we increasingly work and communicate through digital portals, questions regarding the nature of reality online face new urgency. Cyberspace affords new explorations, connections, and communities that keep us sane in a time of isolation and physical confinement. At the same time, the internet houses vortexes of extremism, invades our privacy, and traps our attention in vapid, mindless scrolling.</p>\n                    <p>Losing My Dimension seeks to characterize the nature of spacetime during quarantine. I hope that this work reveals a set of paradoxes, of space as simultaneously analog and digital, confined and liberated, multi-dimensional and flat, safe and exposed. By reflecting upon quarantine and our digital transition more broadly, I hope to inspire nuanced reflections upon the ways in which our temporal and spatial experiences are changing in these uncertain times.</p>\n                    {/* </div> */}\n                </div>\n            </div>\n        );\n    }\n}\n\nconst mapStateToProps = (state) => {\n    return {\n    }\n}\n\nconst mapDispatchToProps = () => {\n    return {\n        setNoSketchMusic\n    }\n}\n\n\nexport default connect(mapStateToProps, mapDispatchToProps())(Statement);\n","import React from 'react';\nimport './Pages.css';\nimport { connect } from 'react-redux';\nimport { setNoSketchMusic } from '../../store/actions/music';\n\n// \"Parasol Open Close\" by Sungebob is licensed under Creative Commons Attribution. https://skfb.ly/6USQZ To view a copy of this license, visit http://creativecommons.org/licenses/by/4.0/. umbrella\nclass Credits extends React.Component {\n\n  componentDidMount() {\n    this.props.setNoSketchMusic();\n  }\n\n  render() {\n    const { ui } = this.props;\n    let classN = \"Page \" + ui.size;\n    if (ui.hasFooter && ui.orientation === \"landscape\")\n      classN += \" landscape\";\n    \n      return (\n      <div className={classN}>\n        <div className=\"Credits container\">\n          {/* <div className=\"container\"> */}\n          <h1>credits</h1>\n          <p>I'd like to thank my thesis committee (Kevin Jones, Anne Nelson, and Sean Fader) and my awesome cohort for helping me pull off this body of work. Additionally, I used the following assets, which were provided through an open-source license providing that I credit the creator.</p>\n          <h3>Assets:</h3>\n          <ul>\n            <li>thanks to Google for the <a href=\"https://poly.google.com/view/8Qwgncb6dJT\">Umbrella Palm Tree</a>, licensed under CC BY 2.0</li>\n            <li>thanks to bhgilad for the <a href=\"https://www.turbosquid.com/3d-models/80s-pool-chair-3d-model-1489585\">pool chair</a></li>\n            <li>thanks to Google for the <a href=\"https://poly.google.com/view/8Qwgncb6dJT\">Umbrella Palm Tree</a>, licensed under CC BY 2.0</li>\n            <li>thanks to Slanted Studios for the <a href=\"https://giphy.com/media/l3Uchq9s6Hx0aK8F2/giphy.gif\">bird gif</a></li>\n            <li>special thanks to <a href=\"https://github.com/1j01/pipes/blob/master/screensaver.js\">Isaiah Odhner for the pipes code</a></li>\n          </ul>\n          {/* </div> */}\n        </div>\n      </div>\n    );\n  }\n}\n\nconst mapStateToProps = (state) => {\n  return {\n    // ui: state.ui\n  }\n}\n\nconst mapDispatchToProps = () => {\n  return {\n    // doneLoadingApp,\n    setNoSketchMusic\n  }\n}\n\n\nexport default connect(mapStateToProps, mapDispatchToProps())(Credits);\n\n","import React from 'react';\nimport './Pages.css';\n\nfunction NotFound() {\n  return (\n    <div className=\"Sketch NotFound\">\n      <div className=\"container\">\n        <h1>Sorry, page not found</h1>\n      </div>\n    </div>\n  );\n}\n\nexport default NotFound;\n","import React from \"react\";\nimport Sketch from \"react-p5\";\n\n//////////////\n// HELPERS\nimport { doorCrossing, roomDoorCrossing, roomDoorEntryCrossing, roomDoorBoundary, roomBoundary, wallBoundary } from '../../sketches/Gallery/p5/functions/crossing';\nimport { roundToMult2 } from '../../sketches/Gallery/p5/functions/round';\nimport { drawAllFloors } from '../../sketches/Gallery/p5/functions/floor';\nimport { drawWalls, drawRooms } from '../../sketches/Gallery/p5/functions/building';\nimport { displayDancers, updateDucks } from '../../sketches/Gallery/p5/functions/emojis';\nimport { reachedDestination, getNextStep, showMouseLoc, showUserEllipses, showDestination, mouseDidMove } from '../../sketches/Gallery/p5/functions/destination';\nimport { drawUser, drawUsers, checkUserClicked } from '../../sketches/Gallery/p5/functions/users';\nimport { drawPlantRow, drawGrassPatch } from '../../sketches/Gallery/p5/functions/garden';\nimport { addTableDivs, displayTableDivs, addSwingDivs, displaySwingDivs, displayOakDivs, displayTreeDivs, displayBarDivs, displayTrashDivs, checkTrashDivsDouble, addTrashDivs, displayRoomLabelDivs, addDoorDivs, addLightDivs, addColumnDivs, addTreeDivs, addBarDivs, addOakDivs, addFolderDivs, displayDoorDivs, displayLightDivs, displayColumnDivs, displayDivs, endDivDrag, updateDivs, checkDivPress, displayFolderDivs, checkFolderDivsDouble, addRoomLabelDivs } from '../../sketches/Gallery/p5/functions/divs';\nimport TreeSlider from '../../sketches/Gallery/p5/components/TreeSlider';\n\n//////////////\n// COMPONENTS\nimport Wall from \"../../sketches/Gallery/p5/components/Wall\";\nimport Room from \"../../sketches/Gallery/p5/components/Room\";\nimport Duck from '../../sketches/Gallery/p5/components/Duck';\nimport Dancer from '../../sketches/Gallery/p5/components/Dancer';\n// import MiniMap from \"./components/MiniMap\";\n\n\n//////////////\n// CONFIG\nimport { globalConfig, p5ToDomCoords } from \"../../sketches/Gallery/constants\";\nvar isClosed;\n\n//////////////\n// BUILDING \nvar walls = [];\nvar rooms = [];\nvar roomTextures = [];\nvar eyeIcon;\nvar doors = [];\nvar doorImgs = [];\nvar floorTex;\nvar lightImgs = [];\nvar tableImgs = [];\nvar trashFiles = [];\nvar columnGif;\nvar closedSign;\n\n//////////////\n// PLANTS \nvar flowerRow, ivory, tree, oakImg;\nvar treeSlider;\n\n//////////////\n// ICONS\nvar txtFile, instaImg;\n\n//////////////\n// EMOJIS\nvar ducks = [];\nvar duckImg;\nvar dancers = [];\nvar dancerImgs = [];\nvar baby;\n\n//////////////\n// FONT\nvar dogica;\n\n//////////////\n// DRAGGABLE DIVS\nvar divs = {};\n\n// var miniMap;\n\n//////////////\n// MOVEMENT\nvar stepTo = { x: 0, y: 0 };\nvar userEase = { x: 0, y: 0 };\nvar viewTime = 0;\nvar stepToIndex = 0;\n\n//////////////\n// PROPS\nvar user, roomCount, isMobile;\nvar users = []\n\n\nexport default (props) => {\n    user = props.user;\n    users = props.users;\n    isMobile = props.isMobile;\n    roomCount = props.roomCount;\n    isClosed = props.isClosed;\n\n    const preload = (p5) => {\n        const url = \"https://lmd-bucket.s3.us-east-2.amazonaws.com/sketches/gallery/\";\n\n        //////////////\n        // building textures\n        floorTex = p5.loadImage(url + \"concrete-512.jpg\");\n        doorImgs[0] = p5.loadImage(url + \"door/frame2.png\");\n        doorImgs[1] = p5.loadImage(url + \"door/leftdoor2.png\");\n        roomTextures[0] = p5.loadImage(url + \"rooms/bot.png\");\n        roomTextures[1] = p5.loadImage(url + \"rooms/right.png\");\n        roomTextures[2] = p5.loadImage(url + \"rooms/left.png\");\n        eyeIcon = p5.loadImage(url + \"eye.png\")\n        closedSign = p5.loadImage(url + \"closed.png\");\n\n        //////////////\n        // emojis\n        duckImg = p5.loadImage(url + \"duck.png\");\n        dancerImgs[0] = p5.loadImage(url + \"dancers/dancer0.png\");\n        dancerImgs[1] = p5.loadImage(url + \"dancers/dancer1.png\");\n        dancerImgs[2] = p5.loadImage(url + \"dancers/dancer2.png\");\n        baby = p5.loadImage(url + \"swing/baby.png\");\n\n        //////////////\n        // plants\n        tree = p5.loadImage(url + \"grass/tree.png\");\n        ivory = p5.loadImage(url + \"grass/ivory.png\");\n        flowerRow = p5.loadImage(url + \"grass/cac3.png\")\n        oakImg = p5.loadImage(url + \"grass/oak.png\");\n\n        //////////////\n        // folder icons\n        txtFile = p5.loadImage(\"https://lmd-bucket.s3.us-east-2.amazonaws.com/sketches/waveforms/txt.png\");\n        instaImg = p5.loadImage(url + \"instagram.png\");\n        trashFiles[0] = p5.loadImage(url + \"trash/fullrec.png\")\n        trashFiles[3] = p5.loadImage(url + \"trash/trash0.png\")\n        trashFiles[2] = p5.loadImage(url + \"trash/trash1.png\")\n        trashFiles[1] = p5.loadImage(url + \"trash/trash2.png\")\n\n        //////////////\n        // tables\n        tableImgs[0] = p5.loadImage(url + \"table/um_open.png\")\n        tableImgs[1] = p5.loadImage(url + \"table/um_closed.png\")\n\n        //////////////\n        // lights\n        lightImgs[0] = p5.loadImage(url + \"tracklights/tracklights_vert.jpg\");\n        lightImgs[1] = p5.loadImage(url + \"tracklights/light_shadow.png\");\n        lightImgs[2] = p5.loadImage(url + \"tracklights/tracklights_dark_vert.jpg\");\n        lightImgs[3] = p5.loadImage(url + \"tracklights/black_shadow.png\");\n\n        // columnGif = p5.loadImage(url + \"column.gif\");\n        columnGif = p5.loadGif(\"/assets/column.gif\"); //not sure why this one has a cors issue\n\n        // font\n        dogica = p5.loadFont(url + \"fonts/dogica.ttf\");\n\n    }\n\n    ////////////////////////////////////////////////////////////////////////\n    // INITIALIZE\n    ////////////////////////////////////////////////////////////////////////\n    const setup = (p5, canvasParentRef) => {\n        // use parent to render the canvas in this ref\n        // (without that p5 will render the canvas outside of your component)\n\n        initBuilding(p5);\n        initEmojis(p5);\n        initDivs(p5);\n        treeSlider = new TreeSlider(31, 40, 2);\n        // miniMap = new MiniMap(p5, 50, p5.windowHeight - 200 - 80, 200, 200);\n        stepTo = { x: 0, y: 0 };\n\n\n        const cnv = p5.createCanvas(p5.windowWidth, p5.windowHeight);\n        cnv.parent(canvasParentRef);\n        // cnv.mousePressed(() => triggerMove(props.setUserActive, p5));\n\n        p5.textFont(dogica, 14);\n        p5.frameRate(20);\n\n        props.loadingDone();\n    };\n\n    const initEmojis = (p5) => {\n        for (let i = 0; i < 8; i++) {\n            ducks.push(new Duck(p5, 300, 2200, duckImg));\n        }\n        dancers[0] = new Dancer(p5, dancerImgs[0], 10, 160, false);\n        dancers[1] = new Dancer(p5, dancerImgs[1], 200, 380, false);\n        dancers[2] = new Dancer(p5, dancerImgs[2], 300, 150, true);\n    }\n\n    const initBuilding = (p5) => {\n        for (let i = 0; i < 2; i++) {\n            walls.push(new Wall(p5, i, globalConfig));\n        }\n        for (let i = 0; i < 13; i++) {\n            rooms.push(new Room(p5, i));\n        }\n    }\n\n    const initDivs = (p5) => {\n        addOakDivs(divs, oakImg, p5);\n        addDoorDivs(divs, doors, doorImgs, p5);\n        addLightDivs(divs, lightImgs, p5);\n        addColumnDivs(divs, columnGif, lightImgs[3], p5);\n        addTreeDivs(divs, tree, p5);\n        addTableDivs(divs, tableImgs, p5);\n        addBarDivs(divs, lightImgs[3], p5);\n        addTrashDivs(divs, trashFiles, lightImgs[3], p5);\n        addFolderDivs(divs, instaImg, txtFile, p5);\n        addRoomLabelDivs(divs, eyeIcon, p5);\n        addSwingDivs(divs, baby, null, p5);\n    }\n\n    ////////////////////////////////////////////////////////////////////////\n    // DRAW\n    ////////////////////////////////////////////////////////////////////////\n    const draw = (p5) => {\n        p5.clear();\n\n        // NOTE: Do not use setState in the draw function or in functions that are executed\n        // in the draw function...\n        // please use normal variables or class properties for these purposes\n        p5.push();\n        p5.translate(p5.windowWidth / 2, p5.windowHeight / 2);\n\n        p5.push();\n        p5.translate(-userEase.x, -userEase.y);\n\n\n        p5.push();\n        p5.translate(globalConfig.x * globalConfig.scaler, globalConfig.y * globalConfig.scaler)\n\n        //////////////\n        // floors\n        drawAllFloors(floorTex, p5);\n\n        //////////////\n        // plants\n        drawGrassPatch(ivory, ivory, p5);\n        drawPlantRow(-5, 17, 1, 1, flowerRow, p5);\n        drawPlantRow(0, 22, 1, 1, flowerRow, p5);\n        drawPlantRow(5, 27, 1, 1, flowerRow, p5);\n        drawPlantRow(20, 21, 1, 1, flowerRow, p5);\n        drawPlantRow(27, 15, 1, 1, flowerRow, p5);\n\n        //////////////\n        // building\n        drawWalls(walls, p5);\n        drawRooms(rooms, roomTextures, eyeIcon, roomCount, p5);\n        if (!isClosed)\n            displayRoomLabelDivs(dogica, roomCount, userEase.x, userEase.y, divs);\n\n        //////////////\n        // emojis\n        displayDancers(dancers);\n        updateDucks(false, userEase.x, userEase.y, ducks);\n\n        //////////////\n        // draggable\n        displayOakDivs(userEase.x, userEase.y, divs);\n        displayTableDivs(userEase.x, userEase.y, divs);\n        p5.textFont(dogica, 10);\n        displaySwingDivs(userEase.x, userEase.y, divs);\n\n        // seeUserClicked(userEase, users, p5)\n\n        p5.pop();\n        p5.pop();\n        p5.pop();\n\n        //////////////\n        // step visualization\n        // mouseStep();\n        // showTarget(p5);\n\n        //////////////\n        // drawing\n        drawOverTarget(p5);\n        // drawUser(user, p5);\n        drawOverUser(p5);\n\n        //////////////\n        // updating\n        if (users)\n            updateDivs(userEase, users, doors, divs, true);\n        treeSlider.update(p5);\n        // updateUserEase(p5);\n        updateView(p5, 18000);\n\n    };\n\n    const updateView = (p5, t) => {\n\n        if (p5.millis() - viewTime > t) {\n\n            viewTime = p5.millis();\n\n            let coords = [\n                [5, 5],\n                [20, 5],\n                [20, 18],\n                [16, 33],\n                [5, 33],\n                [12, 14]\n            ]\n            let coord = coords[stepToIndex++%coords.length];\n            stepTo = p5ToDomCoords(coord[0], coord[1]); //p5.random(-1000, 1000);\n\n            //   userEase.y = -1000; //p5.random(-10, 1000);\n        }\n\n        // transition to location\n        let stepS = 15;\n        if (p5.abs(stepTo.x - userEase.x) <= stepS) {\n            userEase.x = stepTo.x;\n        }\n        else if (userEase.x < stepTo.x) {\n            userEase.x += stepS;\n        }\n        else if (userEase.x > stepTo.x) {\n            userEase.x -= stepS;\n        }\n\n        if (p5.abs(stepTo.y - userEase.y) <= stepS) {\n            userEase.y = stepTo.y;\n        }\n        else if (userEase.y < stepTo.y) {\n            userEase.y += stepS;\n        }\n        else if (userEase.y > stepTo.y) {\n            userEase.y -= stepS;\n        }\n    }\n\n    const drawOverTarget = (p5) => {\n        p5.push();\n        p5.translate(p5.windowWidth / 2, p5.windowHeight / 2);\n        p5.translate(-userEase.x, -userEase.y);\n        p5.translate(globalConfig.x * globalConfig.scaler, globalConfig.y * globalConfig.scaler)\n\n        if (users)\n            drawUsers(userEase, users, dogica, p5);\n\n        p5.pop();\n    }\n\n\n\n    const drawOverUser = (p5) => {\n        p5.push();\n        p5.translate(p5.windowWidth / 2, p5.windowHeight / 2);\n        p5.translate(-userEase.x, -userEase.y);\n        p5.translate(globalConfig.x * globalConfig.scaler, globalConfig.y * globalConfig.scaler);\n        displayDoorDivs(userEase.x, userEase.y, divs, isClosed, closedSign);\n        displayBarDivs(userEase.x, userEase.y, divs);\n        displayTreeDivs(userEase.x, userEase.y, treeSlider.getValue(p5), divs);\n        displayLightDivs(userEase.x, userEase.y, divs);\n        displayColumnDivs(userEase.x, userEase.y, divs);\n\n        p5.textFont(dogica, 12);\n        displayFolderDivs(divs);\n        displayTrashDivs(userEase.x, userEase.y, divs);\n\n        treeSlider.display(p5);\n\n        p5.pop();\n\n        if (p5.windowWidth !== p5.width || p5.windowHeight !== p5.height)\n            windowResized(p5);\n    }\n\n    ////////////////////////////////////////////////////////////////////////\n    // MOVEMENT\n    ////////////////////////////////////////////////////////////////////////\n    //   const showTarget = (p5) => {\n    //     showDestination(userEase, destination, isWalking, p5);\n    //     showUserEllipses(userEase, destination, isWalking, p5);\n\n    //     if (mouseDidMove(p5)) {\n    //       lastMouseMove = new Date();\n    //     }\n    //     showMouseLoc(isMobile, lastMouseMove, p5);\n    //   }\n\n    //   const userTakeStep = (x, y) => {\n    //     var t = new Date();\n    //     let space = globalConfig.stepS;\n    //     const prevStep = { x: stepTo.x, y: stepTo.y }\n    //     const userStep = { x: stepTo.x + x * space, y: stepTo.y + y * space };\n    //     const outsideDoor = doorCrossing(doors, prevStep, userStep);\n    //     const roomDoorEntry = roomDoorEntryCrossing(rooms, prevStep, userStep);\n    //     const roomDoor = roomDoorCrossing(rooms, prevStep, userStep);\n    //     const roomDoorB = roomDoorBoundary(rooms, prevStep, userStep);\n    //     // const poolB = poolBoundaryCrossing(userStep);\n    //     // check if entering a room door\n    //     // check if crossing into outside\n    //     // check crossed an inside boundary\n    //     // check if crossed a room boundary\n\n    //     if (!isClosed && roomDoor) {\n    //       if (window.confirm('Leave the main gallery?')) {\n    //         props.userNewRoom(roomDoor);\n    //       }\n    //       isWalking = false;\n    //       // console.log(\"entering room\", roomDoor);\n    //     }\n    //     // else if (poolB) {\n    //     //   isWalking = false;\n    //     // }\n    //     else if (!isClosed && outsideDoor) {\n    //       // props.userMove(userStep.x, userStep.y);\n    //       stepTo = { x: userStep.x, y: userStep.y };\n    //       // console.log(\"outside door\")\n    //       props.toggleOutside();\n    //     }\n    //     else if (!isClosed && roomDoorEntry) {\n    //       // props.userMove(userStep.x, userStep.y);\n    //       stepTo = { x: userStep.x, y: userStep.y };\n    //       // console.log(\"enter/exit room\")\n    //     }\n    //     else if (!isClosed && roomBoundary(rooms, prevStep, userStep)) {\n    //       isWalking = false;\n    //       // console.log(\"room boundary\")\n    //     }\n    //     else if (!isClosed && roomDoorB) {\n    //       isWalking = false;\n    //       // console.log(\"room door boundary\")\n    //     }\n    //     else if (wallBoundary(walls, prevStep, userStep)) {\n    //       isWalking = false;\n    //       // console.log(\"wall boundary\")\n    //     }\n    //     else {\n    //       // props.userMove(userStep.x, userStep.y);\n    //       stepTo = { x: userStep.x, y: userStep.y };\n    //     }\n    //     // console.log(new Date() - t);\n    //   }\n\n    //   const updateUserEase = (p5) => {\n    //     if (!reachedDestination(userEase, stepTo)) {\n    //       let amt = .7;\n    //       userEase.x = userEase.x * amt + stepTo.x * (1 - amt);\n    //       userEase.y = userEase.y * amt + stepTo.y * (1 - amt);\n    //       let d = p5.dist(userEase.x, userEase.y, stepTo.x, stepTo.y);\n    //       if (d < 15) {\n    //         userEase.x = stepTo.x;\n    //         userEase.y = stepTo.y;\n    //         // isStepping = false;\n    //         props.userMove(userEase.x, userEase.y);\n    //       }\n\n    //     }\n    //   }\n\n    //   const triggerMove = (setUserActive, p5) => {\n    //     let userClicked = false;\n    //     if (users)\n    //       userClicked = checkUserClicked(userEase, users, p5);\n    //     if (userClicked) {\n    //       setUserActive(userClicked);\n    //       return;\n    //     }\n    //     else if (treeSlider.checkDragging(userEase.x, userEase.y, p5))\n    //       return;\n    //     else if (checkDivPress(userEase.x, user.y, divs))\n    //       return;\n\n    //     else {\n    //       const dx = p5.mouseX > p5.windowWidth / 2 ? 50 : -50;\n    //       const dy = p5.mouseY > p5.windowHeight / 2 ? 50 : -50;\n    //       const mx = roundToMult2((p5.mouseX - p5.windowWidth / 2) + dx, globalConfig.stepS);\n    //       const my = roundToMult2((p5.mouseY - p5.windowHeight / 2) + dy, globalConfig.stepS);\n    //       if (!(mx === 0 && my === 0)) {\n    //         const x = mx + user.x;\n    //         const y = my + user.y;\n    //         const time = new Date();\n    //         destination = { x, y, time };\n    //         isWalking = true;\n    //       }\n    //     }\n\n    //   }\n\n    //   const mouseStep = () => {\n    //     if (isWalking) {\n    //       if (reachedDestination(stepTo, destination)) {\n    //         isWalking = false;\n    //         // console.log(\"reached\");\n    //       }\n    //       else if (new Date() - destination.time > 150) {\n    //         let step = getNextStep(stepTo, destination);\n    //         userTakeStep(step[0], step[1]);\n    //         destination.time = new Date();\n    //       }\n    //     }\n    //   }\n\n    //   const keyPressed = (p5) => {\n    //     if (p5.keyCode === p5.UP_ARROW) {\n    //       userTakeStep(0, -1);\n    //     }\n    //     else if (p5.keyCode === p5.RIGHT_ARROW) {\n    //       userTakeStep(1, 0);\n    //     }\n    //     else if (p5.keyCode === p5.LEFT_ARROW) {\n    //       userTakeStep(-1, 0);\n    //     }\n    //     else if (p5.keyCode === p5.DOWN_ARROW) {\n    //       userTakeStep(0, 1);\n    //     }\n    //   }\n\n    //   const mouseReleased = (p5) => {\n    //     endDivDrag(divs);\n    //     if (treeSlider) treeSlider.endDrag();\n    //   }\n\n    const windowResized = (p5) => {\n        p5.resizeCanvas(p5.windowWidth, p5.windowHeight);\n    }\n\n    //   const doubleClicked = (p5) => {\n    //     // console.log(\"db\");\n    //     checkFolderDivsDouble(userEase.x, userEase.y, divs);\n    //     checkTrashDivsDouble(userEase.x, userEase.y, divs);\n    //   }\n\n    return <Sketch preload={preload} setup={setup} draw={draw} windowResized={windowResized} />;\n};\n","import React from 'react';\nimport './RegisterDesktop.css';\nimport { connect } from 'react-redux';\nimport { setUserComp } from '../../../store/actions/user';\n\n// import { Link } from 'react-router-dom';\n\nclass RegisterDesktop extends React.Component {\n    constructor(props) {\n        super(props);\n\n        this.state = {\n            computerNumber: 0\n        }\n    }\n\n    handleChange = (event) => {\n        this.setState({ computerNumber: event.target.value });\n    }\n\n    handleSubmit = (event) => {\n        this.props.setUserComp(this.state.computerNumber);\n        alert('Computer set to: ' + this.state.computerNumber);\n        event.preventDefault();\n\n    }\n\n    render() {\n        return (\n            <div className=\"Desktop-Register Sketch\">\n                <div className=\"container\">\n                    <form onSubmit={this.handleSubmit}>\n                        <label>\n                            Computer number:\n                        <input type=\"text\" value={this.state.computerNumber} onChange={this.handleChange} />\n                        </label>\n                        <input className=\"\" type=\"submit\" value=\"Submit\" />\n                    </form>\n                </div>\n            </div>\n        );\n    }\n\n}\n\n\nconst mapStateToProps = (state) => {\n    return {\n        ui: state.ui\n    }\n}\n\nconst mapDispatchToProps = () => {\n    return {\n        // doneLoadingApp\n        setUserComp\n    }\n}\n\n// redux store global state so that it can be accessed from all components\n// to have a page that shows the avatars associated with partiuclar desktops, \n// it has to be registered in a database / stored on the server\n// basically we need to know with each update what the computer # is\n// maybe this is stored in the user object as null, turned to a number\n// if registered on the computer\n// needs to be stored in a cookie on the computer in case the app is restarted/ refreshed\n// so let's make a redux function\n\nexport default connect(mapStateToProps, mapDispatchToProps())(RegisterDesktop);\n\n","import React from 'react';\nimport './RegisterDesktop.css';\nimport { connect } from 'react-redux';\nimport { removeUserComp } from '../../../store/actions/user';\n\n// import { Link } from 'react-router-dom';\n\nclass UnregisterDesktop extends React.Component {\n    \n\n\n    handleSubmit = (event) => {\n        this.props.removeUserComp();\n        alert(\"unregistered\");\n        event.preventDefault();\n\n    }\n\n    render() {\n        return (\n            <div className=\"Desktop-Register Sketch\">\n                <div className=\"container\">\n                    <button className=\"secondary standardButton\" onClick={this.handleSubmit}>unregister</button>\n                </div>\n            </div>\n        );\n    }\n\n}\n\n\nconst mapStateToProps = (state) => {\n    return {\n        ui: state.ui\n    }\n}\n\nconst mapDispatchToProps = () => {\n    return {\n        // doneLoadingApp\n        removeUserComp\n    }\n}\n\n// redux store global state so that it can be accessed from all components\n// to have a page that shows the avatars associated with partiuclar desktops, \n// it has to be registered in a database / stored on the server\n// basically we need to know with each update what the computer # is\n// maybe this is stored in the user object as null, turned to a number\n// if registered on the computer\n// needs to be stored in a cookie on the computer in case the app is restarted/ refreshed\n// so let's make a redux function\n\nexport default connect(mapStateToProps, mapDispatchToProps())(UnregisterDesktop);\n\n","import React from 'react';\nimport { connect } from 'react-redux';\n\nclass ViewUsers extends React.Component {\n    constructor(props) {\n        super(props);\n\n        this.state = {\n        }\n    }\n\n    render() {\n        const { users, user } = this.props;\n        const computerUsers = users.filter((user) => user.comp != null);\n        console.log(users, user);\n        return (\n            <div className=\"View-Users\">\n                {computerUsers.map((user) => {\n                    return <div>{user.avatar}</div>\n                })}\n            </div>\n        );\n    }\n\n}\n\n\nconst mapStateToProps = (state) => {\n    return {\n        ui: state.ui,\n        user: state.user\n    }\n}\n\nconst mapDispatchToProps = () => {\n    return {\n\n    }\n}\n\n\n\nexport default connect(mapStateToProps, mapDispatchToProps())(ViewUsers);\n\n","import React from 'react';\nimport \"../../sketches/Gallery/Gallery.css\";\n\nimport Sketch from './PanSketch';\nimport { wineLocation, djLocation } from '../../sketches/Gallery/constants';\nimport LoadingPage from '../../shared/LoadingPage/LoadingPage';\n\n\n// store\nimport { connect } from 'react-redux';\nimport { doneLoadingApp } from '../../../store/actions';\n\nclass PanGallery extends React.Component {\n\n  componentDidMount() {\n  }\n\n  componentWillUnmount() {\n  }\n\n  loadingDone = () => {\n    this.props.doneLoadingApp();\n    clearInterval(this.loadingInterval);\n  }\n\n  render() {\n    const { users, roomCount, ui, isClosed } = this.props;\n\n    return (\n      <div className=\"Gallery Sketch\" >\n        <Sketch\n          className=\"p5sketch\"\n          users={users}\n          roomCount={roomCount}\n          isClosed={false}\n          loadingDone={this.loadingDone}\n          isMobile={ui.isMobile}\n        />\n      </div>\n    )\n  }\n}\n\n// // store\n// import { connect } from 'react-redux';\n// import { doneLoadingApp } from '../../../store/actions';\n// import { moveUser, toggleOutside } from '../../../store/actions/user';\n// import { setUserActiveChat } from '../../../store/actions/userActiveChat';\n// import { setOneMenu, showChat } from '../../../store/actions/menuItems';\n\n\n// import ReactAudioPlayer from 'react-audio-player';\n\n\n\n\n//   constructor(props) {\n//     super(props);\n\n//     this.songs = [\n//       window.AWS + \"/gallery/music/lounge.mp3\",\n//       window.AWS + \"/gallery/music/sexy.mp3\",\n//       window.AWS + \"/gallery/music/jazzriff.mp3\",\n//       window.AWS + \"/gallery/music/samba.mp3\",\n//       window.AWS + \"/gallery/music/jazzpiano.mp3\",\n//       window.AWS + \"/gallery/music/trap.mp3\",\n//     ];\n\n//     this.state = {\n//       keyDown: false,\n//       numEllipses: 0,\n//       // zIndex: [3, 4, 5, 6],\n//       // zIndicesIcons: initZIndicesIcons(),\n//       // zIndicesFrames: initZIndicesFrames(),\n//       volume: .5\n//     }\n\n\n//   }\n\n//   componentDidMount() {\n//     this.loadingInterval = setInterval(this.cycleEllipses, 300);\n//     // window.addEventListener(\"resize\", this.handleResize);\n//   }\n\n//   componentWillUnmount() {\n//     if (this.loadingInterval)\n//       clearInterval(this.loadingInterval);\n//   }\n\n//   cycleEllipses = () => {\n//     this.setState({ numEllipses: (this.state.numEllipses + 1) % 4 })\n//   }\n\n//   // newFrameToTop = (id) => {\n//   //   const newZ = getNewZIndices(id, this.state.zIndicesFrames);\n//   //   this.setState({ zIndicesFrames: newZ });\n//   // }\n\n//   // newIconToTop = (id) => {\n//   //   // console.log(\"id\", id)\n//   //   const newZ = getNewZIndices(id, this.state.zIndicesIcons);\n//   //   this.setState({ zIndicesIcons: newZ });\n//   //   // console.log(\"ZZZ\", this.state.zIndices);\n//   // }\n\n//   // onDblClick = (id) => {\n//   //   // console.log(id);\n//   //   this.newFrameToTop(id);\n//   // }\n\n\n//   enterRoom = (room) => {\n//     this.props.history.push(room);\n//   }\n\n//   loadingDone = () => {\n//     this.props.doneLoadingApp();\n//     clearInterval(this.loadingInterval);\n//   }\n\n//   getHomeComponents = () => {\n//     const { users, user, ui } = this.props;\n\n//     // const { zIndicesIcons, zIndicesFrames } = this.state;\n//     if (ui.loading)\n//       return (\n//         <LoadingPage ui={ui} />\n//       );\n//     return (\n//       <React.Fragment>\n\n//         {/* <MiniMap users={users} user={user} x={ui.edgeSpacing} y={ui.edgeSpacing} wineLocation={wineLocation} /> */}\n\n//       </React.Fragment>\n//     )\n//   }\n\n//   getEllipses = () => {\n//     const str = \"...\";\n//     return str.substring(0, this.state.numEllipses);\n//   }\n\n//   getVolume = () => {\n//     const { user, music } = this.props;\n//     if (music.isMuted || music.volume === 0)\n//       return 0;\n//     let dx = djLocation.x - user.x;\n//     let dy = djLocation.y - user.y;\n//     let dis = Math.sqrt(dx * dx + dy * dy);\n//     if (this.props.outside) {\n//       let minVol = this.mapVal(music.volume, 1, 0, .3, 0);\n//       let v = this.mapVal(dis, 0, 3000, music.volume, 0);\n//       if (v > music.volume) v = music.volume;\n//       else if (v < minVol) v = minVol;\n//       return v;\n//     }\n//     return this.mapVal(music.volume, 1, 0, .1, 0);\n//   }\n\n//   mapVal = (num, in_min, in_max, out_min, out_max) => {\n//     return (num - in_min) * (out_max - out_min) / (in_max - in_min) + out_min;\n//   }\n\n//   setUserActive = (otherUser) => {\n//     this.props.setUserActiveChat(otherUser);\n//     this.props.showChat();\n//     // this.props.setOneMenu(\"chat\");\n//   }\n\n//   render() {\n//     const { users, user, roomCount, ui, isClosed } = this.props;\n//     // const { zIndex, zIndicesIcons, zIndicesFrames } = this.state;\n\n//     return (\n//       <div className=\"Gallery Sketch\" >\n//         <Sketch\n//           className=\"p5sketch\"\n//           user={user}\n//           users={users}\n//           roomCount={roomCount}\n//           isClosed={isClosed}\n//           userMove={(x, y) => this.props.moveUser(x, y, wineLocation)}\n//           userTransition={(x, y) => this.props.transitionUser(x, y, wineLocation)}\n//           userNewRoom={this.props.userNewRoom}\n//           loadingDone={this.loadingDone}\n//           toggleOutside={this.props.toggleOutside}\n//           isMobile={ui.isMobile}\n//           setUserActive={this.setUserActive}\n//         />\n\n//         {this.getHomeComponents()}\n//         <ReactAudioPlayer\n//           src={this.songs[this.props.music.currentSong]}\n//           autoPlay={true}\n//           volume={0}//{this.getVolume()}\n//           controls={false}\n//           loop={true}\n//           ref={player => {\n//             this.audioPlayer = player;\n//           }}\n//         />\n//       </div>\n//     )\n//   }\n// }\n\n\n\nconst mapStateToProps = (state) => {\n  return {\n    // user: state.user,\n    // music: state.music,\n    // outside: state.outside,\n    ui: state.ui\n  }\n}\n\nconst mapDispatchToProps = () => {\n  return {\n    // moveUser,\n    // toggleOutside,\n    doneLoadingApp,\n    // setUserActiveChat,\n    // setOneMenu,\n    // showChat\n  }\n}\n\n\nexport default connect(mapStateToProps, mapDispatchToProps())(PanGallery);\n","import React from 'react';\nimport { Route, Switch, withRouter } from \"react-router-dom\";\n\n// import './ScrollSketches.css';\n\n// store\nimport { connect } from 'react-redux';\nimport { loadingApp, resizeApp, startComposition } from '../../../store/actions';\n\n// sketches\nimport MacbookAir from '../../sketches/MacbookAir/MacbookAir';\nimport JungleGyms from '../../sketches/JungleGyms/JungleGyms';\nimport HardDrives from '../../sketches/HardDrives/HardDrives';\nimport Mars from '../../sketches/Mars/Mars';\nimport WetStreams from '../../sketches/WetStreams/WetStreams';\nimport Confessional from '../../sketches/Confessional/Confessional';\n\n\nclass ScrollSketches extends React.Component {\n\n    constructor(props) {\n        super(props);\n        this.state = {\n            currentSketch: 0\n        };\n    }\n\n\n    componentDidMount() {\n        this.interval = setInterval(this.changeSketch, 8000);\n    }\n\n    componentWillUnmount() {\n\n    }\n\n    changeSketch = () => {\n        this.setState({currentSketch: (this.state.currentSketch+1)%6});\n    }\n\n    render() {\n        // const counter = useSelector(state => state.counterReducer);\n        // console.log(counter);\n        const { ui, addClass, removeClass } = this.props;\n        const { currentSketch } = this.state;\n\n        return (\n            <React.Fragment>\n                {currentSketch === 0 ? < MacbookAir /> : null}\n                {currentSketch === 1 ? < JungleGyms /> : null}\n                {currentSketch === 2 ? < HardDrives /> : null}\n                {currentSketch === 3 ? <Mars addClass={addClass} removeClass={removeClass} /> : null}\n                {currentSketch === 4 ? < WetStreams /> : null}\n                {currentSketch === 5 ? < Confessional /> : null}\n            </React.Fragment>\n        );\n    }\n\n\n}\n\n\nconst mapStateToProps = (state) => {\n    return {\n        user: state.user,\n        ui: state.ui\n    }\n}\n\nconst mapDispatchToProps = () => {\n    return {\n        loadingApp,\n    }\n}\n//\n\nexport default withRouter(connect(mapStateToProps, mapDispatchToProps())(ScrollSketches));\n","import React from 'react';\nimport { Route, Switch, withRouter, useLocation } from \"react-router-dom\";\n\nimport './App.css';\n\nimport Cookies from 'js-cookie';\nimport socket from \"../components/shared/Socket/Socket\";\n\n// shared components\nimport Header from '../components/shared/Header/Header';\nimport MobileFooter from '../components/shared/Header/MobileFooter/MobileFooter';\nimport Chat from '../components/shared/Chat/Chat';\nimport YouTube from '../components/shared/LiveStream/YouTube';\nimport ReactAudioPlayer from 'react-audio-player';\n\n// import FPSStats from \"react-fps-stats\";\n\n// store\nimport { connect } from 'react-redux';\nimport { loadingApp, resizeApp, startComposition } from '../store/actions';\nimport { hideMenus, setOneMenu, showSignIn, setGalleryActive } from '../store/actions/menuItems';\nimport { setUserRoom, setUser, moveUser, setWine } from '../store/actions/user';\nimport { addMessage, addMessageNotification } from '../store/actions/messages';\n\n// menu frames\nimport SignIn from '../components/shared/SignIn/SignIn';\nimport Welcome from '../components/shared/Welcome/Welcome';\nimport FAQFrame from '../components/shared/FAQ/FAQFrame';\n// import Volume from '../components/shared/Volume/Volume';\nimport RoomDecal from '../components/shared/RoomDecal/RoomDecal';\n\n// sketches\nimport { sketches, getUrl } from '../components/sketches/Sketches';\nimport Gallery from '../components/sketches/Gallery/Gallery';\nimport MacbookAir from '../components/sketches/MacbookAir/MacbookAir';\nimport JungleGyms from '../components/sketches/JungleGyms/JungleGyms';\nimport HardDrives from '../components/sketches/HardDrives/HardDrives';\nimport Wasted from '../components/sketches/Wasted/Wasted';\nimport Mars from '../components/sketches/Mars/Mars';\nimport WetStreams from '../components/sketches/WetStreams/WetStreams';\nimport Confessional from '../components/sketches/Confessional/Confessional';\nimport Confessions from '../components/sketches/Confessional/Confessions';\nimport Xfinity from '../components/sketches/Xfinity/Xfinity';\nimport Flush from '../components/sketches/Flush/Flush';\nimport Oogle from '../components/sketches/Oogle/Oogle';\nimport Yosemite from '../components/sketches/Yosemite/Yosemite';\nimport Blinds from '../components/sketches/Blinds/Blinds';\nimport ClickMe from '../components/sketches/ClickMe/ClickMe';\n\n// pages\nimport About from '../components/pages/About';\nimport Statement from '../components/pages/Statement';\nimport Credits from '../components/pages/Credits';\nimport NotFound from '../components/pages/NotFound';\n\n// utilities\nimport RegisterDesktop from '../components/utilities/RegisterDesktop/RegisterDesktop';\nimport UnregisterDesktop from '../components/utilities/RegisterDesktop/UnregisterDesktop';\nimport ViewUsers from '../components/utilities/ViewUsers/ViewUsers';\nimport PanGallery from '../components/utilities/PanGallery/PanGallery';\nimport ScrollSketches from '../components/utilities/ScrollSketches/ScrollSketches';\n\n// users\nimport { djLocation, wineLocation, hostBotLocation } from '../components/sketches/Gallery/constants';\n\n\nconst DEBUG = true;\nwindow.AWS = \"https://lmd-bucket.s3.us-east-2.amazonaws.com/sketches\";\n\n\nclass App extends React.Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      cursor: 0,\n      cursorID: 0,\n      classes: [\"App\"],\n      showSideBar: false,\n      hasAvatar: false,\n      showSignIn: false,\n      showWelcome: false,\n      showDock: true,\n      sessionID: null,\n      usersChange: false,\n      users: [],\n      hasLoadedRoom: false,\n      // userAxctiveChat: null,\n      roomCount: { \"flush\": 0, \"click-me-baby\": 0, \"macbook-air\": 0, \"hard-drives-on-seashores\": 0, \"wet-streams\": 0, \"jungle-gyms\": 0, \"cloud-confessional\": 0, \"esc-to-mars\": 0, \"xfinity-depths\": 0, \"wasted-days\": 0, \"home-page\": 0, \"gallery\": 0, \"blind-eye\": 0 }\n    };\n\n    this.isClosed = true;\n    this.isMenuOn = false;\n  }\n\n\n  componentDidMount() {\n    this.socketSetup();\n    const hasAvatar = Cookies.get('hasAvatar');\n\n    // this.props.router.setRouteLeaveHook(this.props.route, this.onLeave); \n\n    if (hasAvatar) {\n      const userName = Cookies.get('userName');\n      const avatar = Cookies.get('avatar');\n\n      const room = this.getRoom(this.props.location.pathname);\n      this.props.setUser(userName, avatar);\n      this.props.setUserRoom(room);\n      this.setState({ hasAvatar: true, showWelcome: false }); // false\n      // this.props.setGalleryActive();\n    }\n    else {\n      this.setState({ hasAvatar: false, showWelcome: true });\n    }\n\n\n\n    window.addEventListener(\"resize\", this.updateDeviceDimensions);\n    window.addEventListener(\"keydown\", this.handleKeyPress);\n\n    // this.unlisten = this.props.history.listen((location, action) => this.pageChange(location));\n    this.props.loadingApp();\n  }\n\n  componentWillUnmount() {\n    window.removeEventListener(\"resize\", this.updateDeviceDimensions);\n    window.removeEventListener(\"keydown\", this.handleKeyPress);\n    // this.unlisten();\n  }\n\n\n  componentDidUpdate(prevProps) {\n    if (this.state.usersChange)\n      this.setState({ usersChange: false });\n\n    if (this.props.location.pathname !== prevProps.location.pathname)\n      this.pageChange();\n  }\n\n  handleKeyPress = (e) => {\n    if (e.keyCode === 13) {\n      const { user } = this.props;\n      const { hasLoadedRoom } = this.state;\n      if (!hasLoadedRoom && user.room !== \"gallery\") {\n        this.setState({ hasLoadedRoom: true });\n        this.props.startComposition();\n      }\n    }\n  }\n\n  pageChange = () => {\n    let newPath = this.props.location.pathname;\n    // console.log(\"PAGE CHANGE\", newPath)\n    this.props.hideMenus();\n    const nextRoom = this.getRoom(newPath);\n    if (nextRoom != this.props.user.room) {\n      this.props.loadingApp();\n      this.setState({ hasLoadedRoom: false });\n    }\n    this.props.setUserRoom(nextRoom);\n  }\n\n  toggleSideBar = () => {\n    // if (DEBUG) console.log(\"TOGGLED\");\n    this.setState(prevState => ({\n      showSideBar: !prevState.showSideBar\n    }));\n  }\n\n  handleDrawerClose = () => {\n    // if (DEBUG) console.log(\"CLOSED\")\n    this.setState({ showSideBar: false });\n  }\n\n  updateDeviceDimensions = () => {\n    // console.log(\"resizing\");\n    this.props.resizeApp(window.innerWidth, window.innerHeight);\n  }\n\n  addClass = (classn) => {\n    let classes = [...this.state.classes];\n    classes.push(classn);\n    this.setState({ classes });\n    //\" \" + this.state.cursor\n  }\n\n  removeClass = (classn) => {\n    let classes = [...this.state.classes];\n    let indexOfClass = classes.indexOf(classn);\n    if (indexOfClass > -1) {\n      classes.splice(indexOfClass, 1);\n      this.setState({ classes });\n    }\n  }\n\n  //////////////////////////////////////////////////////////\n  // USERS\n  socketSetup = () => {\n    socket.on('connect', () => {\n      const user = this.props.user;\n      this.setState({ sessionID: socket.id });\n      // if (DEBUG) console.log(\"SETUP SOCKET, SET\", user);\n      // socket.emit(\"setUser\", user);\n      socket.emit(\"joinRoom\", user.room);\n      // this.props.setUser()\n      this.addBots();\n    });\n\n\n    socket.on(\"usersUpdate\", data => {\n      var { sessionID } = this.state;\n      var filteredArray = data.filter(function (user) {\n        return user.id != sessionID;\n      });\n      this.setRoomCount();\n      // if (DEBUG) console.log(\"USERS UPDATED\", data);\n      this.setState({ users: filteredArray });\n    });\n\n    socket.on(\"message\", data => {\n      // console.log(\"message received\", data);\n      const message = { ...data }\n      const user = { ...this.props.user };\n      if (message.to === user.room) {\n        message.to = \"room\"\n      }\n      else if (message.to !== \"all\") {\n        message.to = \"me\";\n      }\n      message.from = this.getUserNameById(message.from);\n      // this.addUserMessage(message);\n      this.props.addMessage(message);\n      this.props.addMessageNotification();\n    })\n\n    socket.on(\"userJoined\", data => {\n      const user = { ...this.props.user };\n      this.setState({ usersChange: true });\n      // console.log(\"SOMEONE JOINED\");\n    })\n\n    socket.on(\"userDisconnected\", data => {\n      this.setState({ usersChange: true });\n      // socket.emit(\"leaveRoom\", user.room); // not sure if we need this?\n      // console.log(\"SOMEONE DISCONNECTED\");\n    })\n  }\n\n  addBots = () => {\n    const hostBot = { x: hostBotLocation.x, y: hostBotLocation.y, room: \"gallery\", avatar: \"😷\", userName: \"hostBot\", id: 4 };\n    const cheeseBot = { x: wineLocation[0].x - 100, y: wineLocation[0].y + 80, avatar: \"🤖\", room: \"gallery\", userName: \"cheeseBot\", id: 0 };\n    const wineBot = { x: wineLocation[1].x + 120, y: wineLocation[1].y + 50, avatar: \"🤖\", room: \"gallery\", userName: \"wineBot\", id: 1 };\n    const cocktailBot = { x: wineLocation[2].x + 120, y: wineLocation[2].y + 50, avatar: \"🤖\", room: \"gallery\", userName: \"cocktailBot\", id: 2 };\n    const dj = { x: djLocation.x + 100, y: djLocation.y - 30, room: \"gallery\", avatar: \"🎧\", userName: \"DJ\", id: 3 };\n    socket.emit(\"setBot\", cheeseBot);\n    socket.emit(\"setBot\", wineBot);\n    socket.emit(\"setBot\", cocktailBot);\n    socket.emit(\"setBot\", dj);\n    socket.emit(\"setBot\", hostBot);\n  }\n\n\n  setRoomCount = () => {\n    const roomCount = { ...this.state.roomCount };\n    // reset it\n    for (var key in roomCount) {\n      if (roomCount.hasOwnProperty(key)) {\n        roomCount[key] = 0;\n      }\n    }\n    if (this.state.users) {\n      for (const usr of this.state.users) {\n        var room = usr.room;\n        if (room in roomCount)\n          roomCount[room]++;\n      }\n      this.setState({ roomCount })\n    }\n\n  }\n\n\n  getUserNameById = (id) => {\n    const users = this.state.users;\n    if (users) {\n      let obj = users.find(o => o.id === id);\n      if (obj) return obj.userName;\n    }\n    return \"\";\n  }\n\n  getAvatarById = (id) => {\n    const users = this.state.users;\n    if (users) {\n      let obj = users.find(o => o.id === id);\n      if (obj) return obj.avatar;\n    }\n    return \"\";\n  }\n\n  avatarClicked = () => {\n    if (DEBUG) console.log(\"SHOW AV\")\n    if (!this.state.showWelcome) {\n      this.setState({ showSignIn: true });\n      this.props.showSignIn();\n    }\n  }\n\n  userNewRoom = (room) => {\n    // alert(\"door!\");\n    this.props.history.push(room);\n    this.props.setUserRoom(room);\n  }\n\n\n  getRoom = (path) => {\n    var rm = path.substring(1, path.length);\n\n    if (rm == \"\") rm = \"gallery\";\n    else if (rm == \"confessions\") rm = \"cloud-confessional\";\n\n    const pages = sketches.map((sketch) => sketch.link);\n    pages.push(\"gallery\");\n    pages.push(\"gallerytest\");\n    const pages2 = [\"statement\", \"thesis\", \"bio\", \"about\", \"credits\"];\n    if (!pages.includes(rm) && !pages2.includes(rm)) rm = \"\";\n\n    return rm;\n  }\n\n  getRoomTitle = (path) => {\n    var rm = this.getRoom(path);\n    rm = rm.replace(/-/g, ' ');\n    return rm;\n  }\n\n\n  closeWelcome = () => {\n    this.setState({ showWelcome: false, hasAvatar: true, hasLoadedRoom: true })\n    // this.props.setGalleryActive();\n  }\n\n  getStringClasses = () => {\n    var str = \"\";\n    for (const classn of this.state.classes) {\n      str += classn + \" \";\n    }\n    str = str.substring(0, str.length - 1);\n    return str;\n  }\n\n  handleMouseMove = e => {\n    let showDock = this.state.showDock;\n    if (showDock) {\n      if (e.clientY < window.innerHeight - 100) {\n        this.setState({ showDock: false });\n      }\n    }\n    else if (e.clientY > window.innerHeight - 25) {\n      this.setState({ showDock: true });\n    }\n  };\n\n  startMedia = () => {\n    // console.log(\"starting media\");\n    if (this.props.music.hasAudio && this.audioPlayer) {\n      // if (this.audioPlayer.audioEl) \n      // this.audioPlayer.audioEl.play();\n    }\n    this.setState({ hasLoadedRoom: true });\n  }\n\n  render() {\n\n    const { ui, music, user } = this.props;\n    const appHeaderClass = \"App-Header\" + (ui.isMobile || ui.hasFooter ? \" mobile\" : \"\");\n    const currentPage = this.getRoomTitle(this.props.location.pathname);\n\n    return (\n      <div className={this.getStringClasses()}>\n        <div className={appHeaderClass}>\n          <div className=\"BackHeader\"></div>\n          <Header currentPage={currentPage} user={this.props.user} avatarClicked={this.avatarClicked} isClosed={this.isClosed} isMenuOn={this.isMenuOn} />\n        </div>\n        <div className=\"App-Content inner-outline\" onMouseMove={this.handleMouseMove}>\n          <Switch>\n            <Route exact path=\"/\" render={() => (<Gallery users={this.state.users} userNewRoom={this.userNewRoom} roomCount={this.state.roomCount} showDock={this.state.showDock} isClosed={this.isClosed} />)} />\n\n            {/* Sketches */}\n            <Route exact path={getUrl(\"mac\")} render={() => (<MacbookAir />)} />\n            <Route exact path={getUrl(\"jung\")} render={() => (<JungleGyms />)} />\n            <Route exact path={getUrl(\"hard\")} render={() => (<HardDrives />)} />\n            <Route exact path={getUrl(\"wasted\")} render={() => (<Wasted />)} />\n            <Route exact path={getUrl(\"esc\")} render={() => (<Mars addClass={this.addClass} removeClass={this.removeClass} />)} />\n            <Route exact path={getUrl(\"wet\")} render={() => (<WetStreams />)} />\n            <Route exact path={getUrl(\"xfin\")} render={() => (<Xfinity />)} />\n            <Route exact path={getUrl(\"cloud\")} render={() => (<Confessional cursor={this.state.cursorID} />)} />\n            <Route exact path=\"/confessions\" render={() => (<Confessions />)} />\n            <Route exact path={getUrl(\"flush\")} render={() => (<Flush />)} />\n            <Route exact path={getUrl(\"home\")} render={() => (<Oogle />)} />\n            <Route exact path={getUrl(\"blind\")} render={() => (<Blinds />)} />\n            <Route exact path={getUrl(\"yose\")} component={Yosemite} />\n            <Route exact path={getUrl(\"click\")} render={() => (<ClickMe addClass={this.addClass} removeClass={this.removeClass} />)} />\n\n            {/* Pages */}\n            <Route exact path=\"/about\" render={() => (<About ui={this.props.ui} />)} />\n            <Route exact path=\"/statement\" render={() => (<Statement ui={this.props.ui} />)} />\n            <Route exact path=\"/credits\" render={() => (<Credits ui={this.props.ui} />)} />\n\n            {/* Utilities */}\n            <Route exact path=\"/gallerytest\" render={() => (<Gallery users={this.state.users} userNewRoom={this.userNewRoom} roomCount={this.state.roomCount} showDock={this.state.showDock} isClosed={false} />)} />\n            <Route exact path=\"/register\" render={() => (<RegisterDesktop />)} />\n            <Route exact path=\"/unregister\" render={() => (<UnregisterDesktop />)} />\n            <Route exact path=\"/viewusers\" render={() => <ViewUsers users={this.state.users} />} />\n            <Route exact path=\"/pangallery\" render={() => <PanGallery users={this.state.users} roomCount={this.state.roomCount} />} />\n            <Route exact path=\"/scroll\" render={() => <ScrollSketches addClass={this.addClass} removeClass={this.removeClass} />} />\n\n            {/* catch all */}\n            <Route path=\"*\" component={NotFound} />\n          </Switch>\n\n        </div>\n        {/* {<FPSStats top={window.innerHeight - 255} left={10} />} */}\n        <Chat users={this.state.users} usersChange={this.state.usersChange} />\n        {/* <Volume /> */}\n        <FAQFrame />\n        <SignIn hasAvatar={this.state.hasAvatar} showSignIn={this.state.showSignIn} isFrame={true} />\n        <RoomDecal startMedia={this.startMedia} hasLoadedRoom={this.state.hasLoadedRoom} users={this.state.users} />\n        <Welcome isClosed={this.isClosed} user={this.props.user} hasAvatar={this.state.hasAvatar} showWelcome={this.state.showWelcome} closeWelcome={this.closeWelcome} />\n        <MobileFooter currentPage={currentPage} user={this.props.user} avatarClicked={this.avatarClicked} />\n        <YouTube />\n        { user.comp === null && ((currentPage === \"gallery\" && !this.state.showWelcome) ||\n          ui.compositionStarted) ?\n          <ReactAudioPlayer\n            src={music.currentSongTitle}\n            autoPlay={true}\n            volume={music.isMuted?0:music.volume}\n            controls={false}\n            loop={true}\n            ref={player => {\n              this.audioPlayer = player;\n            }}\n          /> : null\n        }\n      </div>\n    );\n  }\n\n\n}\n\n\nconst mapStateToProps = (state) => {\n  return {\n    user: state.user,\n    ui: state.ui,\n    music: state.music\n  }\n}\n\nconst mapDispatchToProps = () => {\n  return {\n    setUserRoom,\n    setUser,\n    moveUser,\n    setWine,\n    addMessage,\n    addMessageNotification,\n    resizeApp,\n    loadingApp,\n    hideMenus,\n    setOneMenu,\n    startComposition,\n    showSignIn,\n    setGalleryActive\n  }\n}\n\nexport default withRouter(connect(mapStateToProps, mapDispatchToProps())(App));\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' }\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import { truncate } from 'fs';\nimport {\n  SETONEMENU, HIDEMENUS,\n  SHOWMAP, HIDEMAP, TOGGLEMAP,\n  SHOWCHAT, HIDECHAT, TOGGLECHAT,\n  SHOWUSERICONS, HIDEUSERICONS, TOGGLEUSERICONS,\n  SHOWFAQ, HIDEFAQ, TOGGLEFAQ,\n  SHOWSIGNIN, HIDESIGNIN, TOGGLESIGNIN,\n  SHOWVOLUME, HIDEVOLUME, TOGGLEVOLUMEMENU,\n  SHOWLIVESTREAM, HIDELIVESTREAM, TOGGLELIVESTREAM,\n  SETGALLERYACTIVE\n} from '../actions/menuItems';\n\nconst initState = {\n  mobile: null,\n  isMapHidden: true,\n  isFaqHidden: true,\n  isSignInHidden: true,\n  isVolumeHidden: true,\n  isChatHidden: true,\n  isUserIconsHidden: true,\n  isLiveStreamHidden: true,\n  isGalleryActive: false,\n}\n\nconst getOneMenu = (oldMenu, show) => {\n  let newMenu = { ...initState };\n  // if the same menu is tapped, toggle it off (return init state)\n  if (!show || oldMenu.mobile === show) {\n    newMenu.isGalleryActive = true;\n    return newMenu;\n  }\n\n  // otherwise, set mobile and individual state for desktop\n\n  newMenu.mobile = show;\n  switch (show) {\n    case \"signIn\":\n      newMenu.isSignInHidden = false;\n      newMenu.isGalleryActive = false;\n      return newMenu;\n    case \"faq\":\n      newMenu.isFaqHidden = false;\n      newMenu.isGalleryActive = false;\n      return newMenu;\n    case \"volume\":\n      newMenu.isVolumeHidden = false;\n      return newMenu;\n    case \"liveStream\":\n      newMenu.isLiveStreamHidden = false;\n      return newMenu;\n    case \"map\":\n      newMenu.isMapHidden = false;\n      newMenu.isGalleryActive = true;\n      return newMenu;\n    case \"chat\":\n      newMenu.isChatHidden = false;\n      newMenu.isGalleryActive = false;\n      return newMenu;\n    case \"users\":\n      newMenu.isUserIconsHidden = false;\n      newMenu.isGalleryActive = false;\n      return newMenu;\n  }\n}\n\nexport const menuReducer = (state = initState, action) => {\n  const menu = { ...state };\n  switch (action.type) {\n\n    // all\n    case HIDEMENUS:\n      return { ...initState };\n    case SETONEMENU:\n      return getOneMenu(menu, action.payload.show);\n\n    case SETGALLERYACTIVE:\n      menu.isGalleryActive = true;\n      return menu;\n\n    // map\n    case SHOWMAP:\n      menu.isMapHidden = false;\n      return menu;\n    case HIDEMAP:\n      menu.isMapHidden = true;\n      return menu;\n    case TOGGLEMAP:\n      menu.isMapHidden = !menu.isMapHidden;\n      return menu;\n\n    // faq\n    case SHOWFAQ:\n      menu.isFaqHidden = false;\n      return menu;\n    case HIDEFAQ:\n      menu.isFaqHidden = true;\n      return menu;\n    case TOGGLEFAQ:\n      menu.isFaqHidden = !menu.isFaqHidden;\n      return menu;\n\n    // chat\n    case SHOWCHAT:\n      menu.isChatHidden = false;\n      return menu;\n    case HIDECHAT:\n      menu.isChatHidden = true;\n      return menu;\n    case TOGGLECHAT:\n      menu.isChatHidden = !menu.isChatHidden;\n      return menu;\n\n    // Sign In\n    case SHOWSIGNIN:\n      menu.mobile = \"signIn\";\n      menu.isSignInHidden = false;\n      return menu;\n    case HIDESIGNIN:\n      menu.mobile = null;\n      menu.isSignInHidden = true;\n      return menu;\n    case TOGGLESIGNIN:\n      menu.isSignInHidden = !menu.isSignInHidden;\n      if (menu.isSignInHidden)\n        menu.mobile = null;\n      else\n        menu.mobile = \"signIn\";\n      return menu;\n\n    // Volume\n    case SHOWVOLUME:\n      menu.isVolumeHidden = false;\n      return menu;\n    case HIDEVOLUME:\n      menu.isVolumeHidden = true;\n      return menu;\n    case TOGGLEVOLUMEMENU:\n      menu.isVolumeHidden = !menu.isVolumeHidden;\n      return menu;\n\n    // livestream\n    case SHOWLIVESTREAM:\n      menu.isLiveStreamHidden = false;\n      return menu;\n    case HIDELIVESTREAM:\n      menu.isLiveStreamHidden = true;\n      return menu;\n    case TOGGLELIVESTREAM:\n      menu.isLiveStreamHidden = !menu.isLiveStreamHidden;\n      return menu;\n\n\n    default:\n      return menu;\n  }\n}","import { SETUSERROOM, REMOVEUSERCOMP, SETUSERCOMP, SETUSER, MOVEUSER, MOVEUSERROOM, TOGGLEOUTSIDE, SETWINE, RESETWINE, ADDWINE, SETCHEESE, RESETCHEESE, ADDCHEESE, SETCOCKTAIL, RESETCOCKTAIL, ADDCOCKTAIL } from '../actions/user';\nimport { SETUSERACTIVECHAT, SETUSERHOVERCHAT, USERHOVERCHATLEAVE } from '../actions/userActiveChat';\n\nimport Cookies from 'js-cookie';\nimport socket from \"../../components/shared/Socket/Socket\";\n\nimport { globalConfig } from '../../components/sketches/Gallery/constants';\n\n// reducer (check what to do with action)\nconst initState = { avatar: \"😀\", userName: \"\", room: \"gallery\", comp: null, roomX: 0, roomY: 0, x: globalConfig.stepS / 2, y: globalConfig.stepS / 2, hasWine: null, needsWine: false, hasCheese: null, needsCheese: false, hasCocktail: null, needsCocktail: false };\n\nexport const userReducer = (state = initState, action) => {\n  const user = { ...state };\n\n  switch (action.type) {\n\n    case SETUSERROOM:\n      const prevRoom = user.room;\n      const nextRoom = action.payload.room;\n      user.roomX = 50;\n      user.roomY = 50;\n      user.room = nextRoom;\n      socket.emit(\"leaveRoom\", prevRoom);\n      socket.emit(\"joinRoom\", nextRoom);\n      socket.emit(\"setUser\", user);\n      return user;\n\n    case SETUSER:\n      user.avatar = action.payload.avatar;\n      user.userName = action.payload.userName;\n\n      const comp = Cookies.get('comp');\n      if (comp)\n        user.comp = comp;\n\n      Cookies.set(\"hasAvatar\", true);\n      Cookies.set(\"avatar\", user.avatar);\n      Cookies.set(\"userName\", user.userName);\n      socket.emit(\"setUser\", user);\n\n      return user;\n\n    case REMOVEUSERCOMP:\n      user.comp = null;\n      Cookies.remove(\"comp\");\n      return user;\n    case SETUSERCOMP:\n      user.comp = action.payload.comp;\n      Cookies.set(\"comp\", user.comp);\n      return user;\n    case MOVEUSER:\n      user.x = action.payload.x;\n      user.y = action.payload.y;\n      var wineLocation = action.payload.wineLocation;\n      if (userNearBar(user, wineLocation[1]) && user.needsWine) {\n        user.needsWine = false;\n        user.hasWine = new Date();\n      }\n      else if (userNearBar(user, wineLocation[0]) && user.needsCheese) {\n        user.needsCheese = false;\n        user.hasCheese = new Date();\n      }\n      else if (userNearBar(user, wineLocation[2]) && user.needsCocktail) {\n        user.needsCocktail = false;\n        user.hasCocktail = new Date();\n      }\n      socket.emit(\"setUser\", user);\n      return user;\n\n    case MOVEUSERROOM:\n      user.roomX = action.payload.x;\n      user.roomY = action.payload.y;\n      // action.payload.exitLocation\n      return user;\n\n    case ADDWINE:\n      user.needsWine = true;\n      var location = action.payload.location;\n      // console.log(\"WINE\", location);\n      if (userNearBar(user, location)) {\n        user.needsWine = false;\n        user.hasWine = new Date();\n      }\n      socket.emit(\"setUser\", user);\n      return user;\n\n    case SETWINE:\n      user.needsWine = action.payload.needsWine;\n      user.hasWine = action.payload.hasWine;\n      socket.emit(\"setUser\", user);\n      return user;\n\n    case RESETWINE:\n      user.hasWine = false;\n      user.needsWine = null;\n      socket.emit(\"setUser\", user);\n      return user;\n\n    ////////////////////////\n    case ADDCHEESE:\n      user.needsCheese = true;\n      var location = action.payload.location;\n      if (userNearBar(user, location)) {\n        user.needsCheese = false;\n        user.hasCheese = new Date();\n      }\n      socket.emit(\"setUser\", user);\n      return user;\n\n    case SETCHEESE:\n      user.needsCheese = action.payload.needsCheese;\n      user.hasCheese = action.payload.hasCheese;\n      socket.emit(\"setUser\", user);\n      return user;\n\n    case RESETCHEESE:\n      user.needsCheese = false;\n      user.hasCheese = null;\n      socket.emit(\"setUser\", user);\n      return user;\n\n\n    ////////////////////////\n    case ADDCOCKTAIL:\n      user.needsCocktail = true;\n      var location = action.payload.location;\n      if (userNearBar(user, location)) {\n        user.needsCocktail = false;\n        user.hasCocktail = new Date();\n      }\n      socket.emit(\"setUser\", user);\n      return user;\n\n    case SETCOCKTAIL:\n      user.needsCocktail = action.payload.needsCocktail;\n      user.hasCocktail = action.payload.hasCocktail;\n      socket.emit(\"setUser\", user);\n      return user;\n\n    case RESETCOCKTAIL:\n      user.needsCocktail = false;\n      user.hasCocktail = null;\n      socket.emit(\"setUser\", user);\n      return user;\n\n    default:\n      return state;\n  }\n}\n\n\nfunction userNearBar(user, location) {\n  var dx = user.x - (location.x + location.w / 2);\n  var dy = user.y - (location.y + location.h / 2);\n  var dis = Math.sqrt(dx * dx + dy * dy);\n  // console.log(\"DIS\", dis < 200);\n  return dis < 200;\n}\n\n\nexport const userActiveChatReducer = (state = { userName: \"Everyone\", avatar: \"👥\" }, action) => {\n  switch (action.type) {\n    case SETUSERACTIVECHAT:\n      const user = { ...action.payload.user };\n      return user;\n    default:\n      return state;\n  }\n}\n\nexport const userHoverChatReducer = (state = null, action) => {\n  switch (action.type) {\n    case SETUSERHOVERCHAT:\n      const user = { ...action.payload.user };\n      return user;\n\n    case USERHOVERCHATLEAVE:\n      return null;\n\n    default:\n      return state;\n  }\n}\n\nexport const userOutsideReducer = (state = true, action) => {\n  switch (action.type) {\n    case TOGGLEOUTSIDE:\n      return !state;\n    default:\n      return state;\n  }\n}","import { \n    UNMUTEVOLUME, MUTEVOLUME, \n    TOGGLEVOLUME, SETVOLUME, SETSKETCHVOLUME,\n    SETSKETCHMUSIC, SETNOSKETCHMUSIC,\n    INCREMENTSONG, DECREMENTSONG, \n    SETSONG, SETRANDOMSONG \n} from '../actions/music';\n\nconst songs = {\n    gallery: [\n        \"https://lmd-bucket.s3.us-east-2.amazonaws.com/sketches/gallery/music/lounge.mp3\",\n        \"https://lmd-bucket.s3.us-east-2.amazonaws.com/sketches/gallery/music/sexy.mp3\",\n        \"https://lmd-bucket.s3.us-east-2.amazonaws.com/sketches/gallery/music/jazzriff.mp3\",\n        \"https://lmd-bucket.s3.us-east-2.amazonaws.com/sketches/gallery/music/samba.mp3\",\n        \"https://lmd-bucket.s3.us-east-2.amazonaws.com/sketches/gallery/music/jazzpiano.mp3\",\n        \"https://lmd-bucket.s3.us-east-2.amazonaws.com/sketches/gallery/music/trap.mp3\",\n    ],\n    yosemite: [\n        \"https://lmd-bucket.s3.us-east-2.amazonaws.com/sketches/yosemite/crackle.mp3\",\n        \"https://lmd-bucket.s3.us-east-2.amazonaws.com/sketches/yosemite/fire.mp3\"\n    ],\n    cloud: [\n        \"https://lmd-bucket.s3.us-east-2.amazonaws.com/sketches/waveforms/wind.mp3\",\n        \"https://lmd-bucket.s3.us-east-2.amazonaws.com/sketches/waveforms/choir.mp3\"\n    ],\n    hardDrives: [\n        \"https://lmd-bucket.s3.us-east-2.amazonaws.com/sketches/hardDrives/seagulls.mp3\", \n    ],\n    xfinity: [\n        \"https://lmd-bucket.s3.us-east-2.amazonaws.com/sketches/loop/underwater.mp3\",\n    ],\n    mars: [\n        \"https://lmd-bucket.s3.us-east-2.amazonaws.com/sketches/mars/pool.mp3\",\n    ],\n    wetStreams: [\n        \"https://lmd-bucket.s3.us-east-2.amazonaws.com/sketches/wetStreams/shower.mp3\", \n    ],\n    macBookAir: [\n        \"https://lmd-bucket.s3.us-east-2.amazonaws.com/sketches/macbookAir/air.mp3\", \n    ],\n    jungleGyms: [\n        \"https://lmd-bucket.s3.us-east-2.amazonaws.com/sketches/jungleGyms/gym_audio.mp3\", \n    ],\n    flush: [\n        \"https://lmd-bucket.s3.us-east-2.amazonaws.com/sketches/vorTech/whirl_audio.mp3\",\n    ],\n    clickMe: [\n        \"https://lmd-bucket.s3.us-east-2.amazonaws.com/sketches/clickMe/electric.mp3\",\n    ],\n    default: [\n        \"https://lmd-bucket.s3.us-east-2.amazonaws.com/sketches/gallery/music/lounge.mp3\"\n    ]\n}\n\nconst initState = {\n    currentSong: 0,\n    currentSketch: \"default\",\n    currentSongTitle: songs.default[0],\n\n    hasAudio: false,\n    isMuted: false,\n    masterVolume: .5,\n    sketchVolume: 0,\n    volume: 0\n}\n\nconst NUM_SONGS = 3;\n\nexport const musicReducer = (state = initState, action) => {\n    const music = { ...state };\n    switch (action.type) {\n        case MUTEVOLUME:\n            music.isMuted = true;\n            return music;\n        case UNMUTEVOLUME:\n            music.isMuted = false;\n            return music;\n        case TOGGLEVOLUME:\n            music.isMuted = !music.isMuted;\n            return music;\n        case SETVOLUME:\n            music.masterVolume = action.payload.volume;\n            music.volume = music.sketchVolume * music.masterVolume;\n            return music;\n        case SETSKETCHVOLUME:\n            music.sketchVolume = action.payload.volume;\n            music.volume = music.sketchVolume * music.masterVolume;\n         return music;\n\n        case SETSKETCHMUSIC:\n            let sketch = action.payload.sketch;\n            let id = action.payload.id;\n            let song = songs[sketch][id];\n            music.hasAudio = true;\n            music.currentSong = id;\n            music.currentSketch = sketch;\n            music.currentSongTitle = song;\n            music.sketchVolume = action.payload.volume;\n            music.volume = music.sketchVolume * music.masterVolume;\n            // music.isMuted = false;\n            return music;\n        case SETNOSKETCHMUSIC:\n            return initState;\n\n        case SETSONG:\n            let song2 = action.payload.song;\n            if (song2 >= 0 && song2 < songs[music.currentSketch].length) {\n                music.currentSong = song2;\n                music.currentSongTitle = songs[music.currentSketch][song2];\n                return music;\n            }\n            return state;\n        case INCREMENTSONG:\n            music.currentSong += 1;\n            music.currentSong %= songs[music.currentSketch].length;\n            return music;\n        case DECREMENTSONG:\n            music.currentSong -= 1;\n            if (music.currentSong < 0)\n                music.currentSong = songs[music.currentSketch].length - 1;\n            music.currentSongTitle = songs[music.currentSketch][music.currentSong];\n            return music;\n        case SETRANDOMSONG:\n            let numSongs = songs[music.currentSketch].length;\n            let current = music.currentSong;\n            let r = Math.floor(Math.random() * (numSongs - 2) + 1);\n            music.currentSong = (current + r) % numSongs;\n            music.currentSongTitle = songs[music.currentSketch][music.currentSong];\n            return music;\n        default:\n            return state;\n    }\n}\n\n","import { LOADINGAPP, DONELOADINGAPP, RESIZEAPP, STARTCOMPOSITION } from '../actions';\n\nlet initW = typeof window === 'object' ? window.innerWidth : null;\nlet initH = typeof window === 'object' ? window.innerHeight : null;\nconst footerMobileH = 60;\nconst headerMobileH = 60;\nconst headerH = 34;\n\nconst initialState = {\n    width: initW,\n    height: initH,\n    isMobile: getIsMobile(),\n    orientation: getOrientation(initW, initH),\n    size: getWindowSize(initW),\n    hasFooter: getHasFooter(initW, initH),\n    loading: true,\n    headerH: getHeaderH(initW, initH),\n    toolbarH: 26,\n    contentW: getContentW(initW, initH),\n    contentH: getContentH(initW, initH),\n    compositionStarted: false,\n    edgeSpacing: getEdgeSpacing(initW, initH)\n};\n\nfunction getHasFooter(w, h) {\n    //788\n    return (w < 835 || h < 600);\n}\n\nfunction getOrientation(w, h) {\n    return w > h ? \"landscape\" : \"portrait\";\n}\n\nfunction getIsMobile() {\n    return (/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent));\n}\n\nfunction getWindowSize(w) {\n    if (!w)\n        return 'medium';\n    else if (w < 340)\n        return 'xxsmall';\n    else if (w < 480)\n        return 'xsmall';\n    else if (w < 788)\n        return 'small';\n    else if (w < 992)\n        return 'medium';\n    else if (w < 1200)\n        return 'large';\n    return 'xlarge';\n}\n\nfunction getContentW(w, h) {\n    if (getHasFooter(w, h) || getIsMobile(w, h)) {\n        if (getOrientation(w, h) === \"portrait\") {\n            return w;\n        }\n        return w - footerMobileH; // right hand menu\n    }\n    return w;\n}\n\nfunction getContentH(w, h) {\n    if (getHasFooter(w, h) || getIsMobile(w, h)) {\n        if (getOrientation(w, h) === \"portrait\") {\n            return h - footerMobileH - headerMobileH;\n        }\n        return h - headerMobileH;\n    }\n    return h - headerH;\n}\n\nfunction getHeaderH(w, h) {\n    return (getHasFooter(w, h) || getIsMobile()) ? headerMobileH : headerH;\n}\n\nfunction getEdgeSpacing(w, h) {\n    if (w < 800)\n        return 10;\n    else if (w >= 1920)\n        return 30;\n    return 20;\n}\n\nexport const windowReducer = (state = initialState, action) => {\n\n    const window = { ...state };\n    switch (action.type) {\n\n        case RESIZEAPP:\n            window.width = action.payload.width;\n            window.height = action.payload.height;\n            window.orientation = getOrientation(window.width, window.height);\n            window.isMobile = getIsMobile();\n            window.size = getWindowSize(window.width);\n            window.hasFooter = getHasFooter(window.width, window.height);\n            window.headerH = getHeaderH(window.width, window.height);\n            window.contentW = getContentW(window.width, window.height);\n            window.contentH = getContentH(window.width, window.height);\n            window.edgeSpacing = getEdgeSpacing(window.width, window.height);\n            return window;\n\n        case LOADINGAPP:\n            window.loading = true;\n            return window;\n\n        case DONELOADINGAPP:\n            window.loading = false;\n            window.compositionStarted = false;\n            return window;\n\n        case STARTCOMPOSITION:\n            window.compositionStarted = true;\n            return window;\n        \n            default:\n            return state;\n\n    }\n}","/*\nReducers modify state, and set default state\nstore is created from reducers; it's what holds state\n*/\n\nimport { combineReducers } from 'redux';\nimport { messagesReducer, messageNotificationReducer } from './messages';\n// import { mapReducer, faqReducer, chatReducer, loginReducer, userIconsReducer, menuReducer, volumeReducer } from './menuItems';\nimport { menuReducer } from './menuItems';\n\nimport { userReducer, userActiveChatReducer, userHoverChatReducer, userOutsideReducer } from './user';\nimport { musicReducer } from './music';\nimport { windowReducer} from './window';\n\nimport Cookies from 'js-cookie';\n\n\nconst allReducers = combineReducers({\n  user: userReducer,\n  messages: messagesReducer,\n  menu: menuReducer,\n  userActiveChat: userActiveChatReducer,\n  userHoverChat: userHoverChatReducer,\n  chatNotifications: messageNotificationReducer,\n  music: musicReducer,\n  outside: userOutsideReducer,\n  ui: windowReducer\n})\n\n// export default allReducers;\n\n// in order to reset app, set state of allReducers to undefined\n// https://www.digitalocean.com/community/tutorials/redux-reset-state-redux\nconst rootReducer = (state, action) => {\n\n  if (action.type === 'RESETAPP') {\n    Cookies.remove(\"hasAvatar\");\n    Cookies.remove(\"avatar\");\n    Cookies.remove(\"userName\");\n\n    state = undefined;\n  }\n\n  return allReducers(state, action);\n}\n\nexport default rootReducer;","import { ADDMESSAGE, INCREMENTMESSAGENOTIFICATION, RESETMESSAGENOTIFICATION } from '../actions/messages';\n\nexport const messagesReducer = (state=[], action) => {\n  switch(action.type) {\n    case ADDMESSAGE:\n      const messages = [...state, action.payload.message];\n      return messages;\n    default:\n      return state;\n  }\n}\n\n\nexport const messageNotificationReducer = (state=0, action) => {\n  switch(action.type) {\n    case INCREMENTMESSAGENOTIFICATION:\n      return state + 1;\n    case RESETMESSAGENOTIFICATION:\n      return 0;\n    default:\n      return state;\n  }\n}\n\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App/App';\nimport { BrowserRouter } from 'react-router-dom';\nimport * as serviceWorker from './serviceWorker';\n\nimport { createStore } from 'redux';\nimport { Provider } from 'react-redux';\nimport allReducers from './store/reducers/';\nlet store = createStore(allReducers, window.__REDUX_DEVTOOLS_EXTENSION__ && window.__REDUX_DEVTOOLS_EXTENSION__());\n\n\nReactDOM.render(\n  <React.StrictMode>\n    <Provider store={store} >\n      <BrowserRouter>\n        <App />\n      </BrowserRouter>\n    </Provider>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}