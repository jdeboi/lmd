(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{119:function(e,t,a){},121:function(e,t,a){},136:function(e,t,a){e.exports=a.p+"static/media/dogica.57d7ce13.ttf"},150:function(e,t,a){e.exports=a(257)},155:function(e,t,a){},157:function(e,t,a){},158:function(e,t,a){},164:function(e,t,a){},169:function(e,t,a){},198:function(e,t){},202:function(e,t,a){},203:function(e,t,a){},204:function(e,t,a){},206:function(e,t,a){},209:function(e,t,a){},210:function(e,t,a){},211:function(e,t,a){},229:function(e,t,a){},230:function(e,t,a){},232:function(e,t,a){},233:function(e,t,a){},234:function(e,t,a){},235:function(e,t,a){},236:function(e,t,a){var n={"./0.png":237,"./1.png":238,"./10.png":239,"./11.png":240,"./2.png":241,"./3.png":242,"./4.png":243,"./5.png":244,"./6.png":245,"./7.png":246,"./8.png":247,"./9.png":248};function i(e){var t=r(e);return a(t)}function r(e){if(!a.o(n,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return n[e]}i.keys=function(){return Object.keys(n)},i.resolve=r,e.exports=i,i.id=236},237:function(e,t,a){e.exports=a.p+"static/media/0.32b7aa62.png"},238:function(e,t,a){e.exports=a.p+"static/media/1.47599ef2.png"},239:function(e,t,a){e.exports=a.p+"static/media/10.1e6a8e72.png"},240:function(e,t,a){e.exports=a.p+"static/media/11.6e21d3da.png"},241:function(e,t,a){e.exports=a.p+"static/media/2.f93fc873.png"},242:function(e,t,a){e.exports=a.p+"static/media/3.e64897a9.png"},243:function(e,t,a){e.exports=a.p+"static/media/4.b692a53e.png"},244:function(e,t,a){e.exports=a.p+"static/media/5.a1b7768d.png"},245:function(e,t,a){e.exports=a.p+"static/media/6.490c6cbe.png"},246:function(e,t,a){e.exports=a.p+"static/media/7.5f8cc232.png"},247:function(e,t,a){e.exports=a.p+"static/media/8.27fedc65.png"},248:function(e,t,a){e.exports=a.p+"static/media/9.13ccb29c.png"},251:function(e,t,a){},252:function(e,t,a){},253:function(e,t,a){},254:function(e,t){e.exports=function(e,t){return function(t,a,n,i){this.colorMatrixLeft=(new e.Matrix3).fromArray([1.0671679973602295,-.0016435992438346148,.0001777536963345483,-.028107794001698494,-.00019593400065787137,-.0002875397040043026,-.04279090091586113,15809757314855233e-21,-.00024287120322696865]),this.colorMatrixRight=(new e.Matrix3).fromArray([-.0355340838432312,-.06440307199954987,.018319187685847282,-.10269022732973099,.8079727292060852,-.04835830628871918,.0001224992738571018,-.009558862075209618,.567823588848114]);var r=new e.OrthographicCamera(-1,1,1,-1,0,1),s=new e.Scene,o=new e.Scene,l=new e.OrthographicCamera(-1,1,1,-1,0,1),c=new e.StereoCamera;c.eyeSep=.4;var d={minFilter:e.LinearFilter,magFilter:e.NearestFilter,format:e.RGBAFormat};void 0===n&&(n=512),void 0===i&&(i=512);var u=new e.WebGLRenderTarget(n,i,d),m=new e.WebGLRenderTarget(n,i,d),h=new e.WebGLRenderTarget(n,i,d),p=new e.ShaderMaterial({uniforms:{mapLeft:{value:u.texture},mapRight:{value:m.texture},mapBG:{value:h.texture},colorMatrixLeft:{value:this.colorMatrixLeft},colorMatrixRight:{value:this.colorMatrixRight}},vertexShader:["varying vec2 vUv;","void main() {","\tvUv = vec2( uv.x, uv.y );","\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );","}"].join("\n"),fragmentShader:["uniform sampler2D mapLeft;","uniform sampler2D mapRight;","uniform sampler2D mapBG;","varying vec2 vUv;","uniform mat3 colorMatrixLeft;","uniform mat3 colorMatrixRight;","float lin( float c ) {","\treturn c <= 0.04045 ? c * 0.0773993808 :","\t\t\tpow( c * 0.9478672986 + 0.0521327014, 2.4 );","}","vec4 lin( vec4 c ) {","\treturn vec4( lin( c.r ), lin( c.g ), lin( c.b ), c.a );","}","float dev( float c ) {","\treturn c <= 0.0031308 ? c * 12.92","\t\t\t: pow( c, 0.41666 ) * 1.055 - 0.055;","}","void main() {","\tvec2 uv = vUv;","\tvec4 colorL = lin( texture2D( mapLeft, uv ) );","\tvec4 colorR = lin( texture2D( mapRight, uv ) );"," vec4 colorBG = lin( texture2D( mapBG, uv ) );","if (colorL[3] == 0.) {","colorL = colorBG;","}","if (colorR[3] == 0.) {","colorR = colorBG;","}","\tvec3 color = clamp(","\t\t\tcolorMatrixLeft * colorL.rgb +","\t\t\tcolorMatrixRight * colorR.rgb, 0., 1. );","\tgl_FragColor = vec4(","\t\t\tdev( color.r ), dev( color.g ), dev( color.b ),","\t\t\tmax( colorL.a, colorR.a ) );","}"].join("\n")}),v=new e.Mesh(new e.PlaneBufferGeometry(2,2),p);s.add(v);var w=(new e.TextureLoader).load(a),f=new e.MeshBasicMaterial({color:16777215,map:w}),g=new e.Mesh(new e.PlaneBufferGeometry(2,2),f);o.add(g),this.setSize=function(e,a){t.setSize(e,a);var n=t.getPixelRatio();u.setSize(e*n,a*n),m.setSize(e*n,a*n),h.setSize(e*n,a*n)},this.render=function(e,a){var n=t.getRenderTarget();e.updateMatrixWorld(),null===a.parent&&a.updateMatrixWorld(),c.update(a),t.setRenderTarget(h),t.clear(),t.render(o,l),t.setRenderTarget(u),t.clear(),t.render(e,c.cameraL),t.setRenderTarget(m),t.clear(),t.render(e,c.cameraR),t.setRenderTarget(null),t.render(s,r),t.setRenderTarget(n)},this.dispose=function(){u&&u.dispose(),m&&m.dispose(),v&&v.geometry.dispose(),p&&p.dispose(),h&&h.dispose(),f&&f.dispose(),g&&g.geometry.dispose(),w&&w.dispose()}}}},255:function(e,t,a){},256:function(e,t,a){},257:function(e,t,a){"use strict";a.r(t);var n=a(0),i=a.n(n),r=a(25),s=a.n(r),o=(a(155),a(17)),l=a(16),c=a(4),d=a(5),u=a(7),m=a(6),h=a(19),p=(a(156),a(157),a(10)),v=(a(158),a(29));var w=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(e){return Object(c.a)(this,a),t.call(this,e)}return Object(d.a)(a,[{key:"render",value:function(){var e=this.props,t=e.title,a=e.link,n=e.dimensions,r=e.callback,s=function(e,t){return null===e||""===e||t<500?null:(new DOMParser).parseFromString(e,"text/html").body.innerHTML}(this.props.shortcut,n.windowWidth),o=""===s||null===s||"mobile"===n.device?"noShortcut":"shortcut";return a&&""!==a?i.a.createElement(v.b,{to:a},i.a.createElement("li",{key:t,className:o,shortcut:s},t)):i.a.createElement("li",{key:t,className:o,onClick:r,shortcut:s},t)}}]),a}(i.a.PureComponent),f=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).state={isVisible:!1},n.toggleHidden=n.toggleHidden.bind(Object(p.a)(n)),n.setWrapperRef=n.setWrapperRef.bind(Object(p.a)(n)),n.handleClickOutside=n.handleClickOutside.bind(Object(p.a)(n)),n}return Object(d.a)(a,[{key:"componentDidMount",value:function(){document.addEventListener("mousedown",this.handleClickOutside)}},{key:"componentWillUnmount",value:function(){document.removeEventListener("mousedown",this.handleClickOutside)}},{key:"setWrapperRef",value:function(e){this.wrapperRef=e}},{key:"handleClickOutside",value:function(e){this.wrapperRef&&!this.wrapperRef.contains(e.target)&&this.setState({isVisible:!1})}},{key:"toggleHidden",value:function(){this.setState((function(e){return{isVisible:!e.isVisible}}))}},{key:"render",value:function(){var e=this,t=this.props.title,a="";""===t&&(a=i.a.createElement("i",{className:this.props.icon}));var n=this.props.specialClass,r=this.props.ulSpecialClass;"mobile"===this.props.dimensions.device&&(r+=" mobile");var s=this.props.listItems;return i.a.createElement("li",{className:"expandable ".concat(n," ").concat(this.state.isVisible?"selected":""),onClick:this.toggleHidden,ref:this.setWrapperRef},i.a.createElement("span",{id:"pageTitle"},t),a,i.a.createElement("div",{className:"submenu ".concat(this.state.isVisible?"visible":"")},i.a.createElement("ul",{className:r},s.map((function(t){return i.a.createElement(w,{key:t.title,dimensions:e.props.dimensions,shortcut:t.shortcut,title:t.title,link:t.link,callback:t.callback})})),"  ")))}}]),a}(i.a.PureComponent),g=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).state={currentTimeString:0},n.updateClock=n.updateClock.bind(Object(p.a)(n)),n}return Object(d.a)(a,[{key:"componentDidMount",value:function(){this.updateClock(),this.interval=setInterval(this.updateClock,1e3)}},{key:"componentWillUnmount",value:function(){clearInterval(this.interval)}},{key:"updateClock",value:function(){var e=new Date,t=e.getHours(),a=e.getMinutes();a=(a<10?"0":"")+a;var n=t<12?"AM":"PM";t=0===(t=t>12?t-12:t)?12:t;var i=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"][e.getDay()]+" "+t+":"+a+" "+n;this.setState({currentTimeString:i})}},{key:"render",value:function(){return i.a.createElement("span",{id:"clock"},this.state.currentTimeString)}}]),a}(i.a.PureComponent),y=a(122),b=a.n(y),x=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).state={currentTimeString:0,showSideBar:!0},n.getRightMenus=n.getRightMenus.bind(Object(p.a)(n)),n.handleClick=n.handleClick.bind(Object(p.a)(n)),n.getAvatar=n.getAvatar.bind(Object(p.a)(n)),n}return Object(d.a)(a,[{key:"handleClick",value:function(e){console.log(e)}},{key:"render",value:function(){return i.a.createElement("header",{className:"Header menuTheme"},i.a.createElement("ul",{className:"left"},i.a.createElement(f,{dimensions:this.props.dimensions,title:"",icon:"fa fa-cube",specialClass:"apple",listItems:[{title:"statement",link:"/words",shortcut:"&#128222"},{title:"thesis",link:"/words",shortcut:"&#128222"},{title:"credits",link:"/credits",shortcut:""},{title:"help",link:"/words",shortcut:"&#128222"}]}),i.a.createElement(f,{dimensions:this.props.dimensions,title:"losing my dimension",icon:"",specialClass:"bold",listItems:[{title:"homepage",link:"/",shortcut:"&#x2318;0"},{title:"macbook air",link:"/macbook-air",shortcut:"&#x2318;1"},{title:"wet streams",link:"/wet-streams",shortcut:"&#x2318;2"},{title:"hard drives on seashores",link:"/hard-drives-on-seashores",shortcut:"&#x2318;3"},{title:"jungle gyms",link:"/jungle-gyms",shortcut:"&#x2318;4"},{title:"wasted days are days wasted",link:"/wasted-days-are-days-wasted",shortcut:"&#x2318;5"},{title:"esc to mars",link:"/esc-to-mars",shortcut:"&#x2318;6"},{title:"xfinity depths",link:"/xfinity-depths",shortcut:"&#x2318;7"},{title:"cloud confessional",link:"/cloud-confessional",shortcut:"&#x2318;8"}]})),"desktop"===this.props.dimensions.device?this.getRightMenus():i.a.createElement("div",null))}},{key:"getRightMenus",value:function(){return i.a.createElement("ul",{className:"right"},i.a.createElement("li",null,i.a.createElement(g,null)),i.a.createElement("li",{className:"header-avatar expandable",onClick:this.props.avatarClicked},this.getAvatar()),i.a.createElement("li",{className:"expandable",onClick:this.props.toggleSideBar},i.a.createElement("i",{className:"fas fa-bars"})))}},{key:"getAvatar",value:function(){var e=this.props.user;return e?e.avatar:i.a.createElement(b.a,null)}}]),a}(i.a.Component),E=(a(164),a(99),a(69)),S=a.n(E);var k=function(e){return i.a.createElement("div",{className:"titlebar menuTheme handle"},i.a.createElement("div",{className:"buttons"},i.a.createElement("div",{className:"close circleButton",onClick:e.toggleClosed},i.a.createElement("div",{className:"closebutton"},i.a.createElement("div",{className:"innerC"}))),i.a.createElement("div",{className:"minimize circleButton",onClick:e.toggleMinimzed},i.a.createElement("div",{className:"minimizebutton"},i.a.createElement("div",{className:"innerC"}))),i.a.createElement("div",{className:"zoom circleButton",onClick:e.toggleMaximized},i.a.createElement("div",{className:"zoombutton"},i.a.createElement("div",{className:"innerC"})))),i.a.createElement("div",{className:"titleTxtContainer"},e.title))},C=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(e){var n;Object(c.a)(this,a),(n=t.call(this,e)).onControlledDrag=function(e,t){var a=t.x,i=t.y;n.setState({controlledPosition:{x:a,y:i}})},n.onControlledDragStop=function(e,t){n.onControlledDrag(e,t),n.onStop()},n.eventLogger=function(e,t){console.log("Event: ",e),console.log("Data: ",t)},n.onStart=function(){n.setState({activeDrags:n.state.activeDrags+1}),n.props.onStart&&n.props.onStart()},n.onStop=function(){n.setState({activeDrags:n.state.activeDrags-1}),n.props.onStop&&n.props.onStop()},n.handleStart=function(){n.props.newFrameToTop&&n.props.newFrameToTop()},n.handleClick=function(){n.props.newFrameToTop&&n.props.newFrameToTop()},n.toolBarH=26;var r=n.props,s=r.x,o=r.y;return n.origCoords={x:s,y:o},n.state={isVisible:!0,isMinimized:!1,deltaPosition:{x:0,y:0},controlledPosition:{x:s,y:o}},n.toggleMaximized=n.toggleMaximized.bind(Object(p.a)(n)),n.toggleMinimzed=n.toggleMinimzed.bind(Object(p.a)(n)),n.toggleClosed=n.toggleClosed.bind(Object(p.a)(n)),n.wrapper=i.a.createRef(),n}return Object(d.a)(a,[{key:"componentDidUpdate",value:function(e){if(this.props.x!==e.x||this.props.y!==e.y){var t=this.props.x-e.x,a=this.props.y-e.y,n=Object(o.a)({},this.state.controlledPosition);this.setState({controlledPosition:{x:n.x+t,y:n.y+a}})}}},{key:"toggleClosed",value:function(){console.log("CLOSE"),this.setState({isVisible:!1}),this.props.onHide&&this.props.onHide()}},{key:"toggleMinimzed",value:function(){var e=this;this.setState((function(e){return{isMinimized:!e.isMinimized}}),(function(){e.props.onMinimized&&e.props.onMinimized()}))}},{key:"toggleMaximized",value:function(){var e=Object(o.a)({},this.state.controlledPosition);e.x=this.origCoords.x,e.y=this.origCoords.y,this.setState({controlledPosition:e},(function(){}))}},{key:"render",value:function(){var e=new DOMParser,t=this.props.title,a=(this.onStart,this.onStop,this.state),n=(a.deltaPosition,a.controlledPosition);""===t&&(t=e.parseFromString(this.props.icon,"text/html").body.innerHTML);var r="Frame";null!=this.props.isHidden||this.state.isVisible?this.props.isHidden?r+=" hidden":this.props.isMinimized|this.state.isMinimized&&(r+=" minimized"):r+=" hidden",this.state.isMaximized&&(r+=" maximized"),this.props.className&&(r+=" "+this.props.className);var s={display:this.state.isMinimized?"none":"block",height:this.props.height+"px",width:this.props.width+"px"},o=this.toolBarH+(this.state.isMinimized?0:this.props.height),l=this.props.bounded?".App-Content":null;return i.a.createElement(S.a,{axis:"both",handle:this.props.handle?".handle, "+this.props.handle:".handle",defaultPosition:{x:this.props.x,y:this.props.y},position:n,positionOffset:null,grid:[1,1],scale:1,bounds:l,cancel:".close, .minimize, .zoom",onStart:this.handleStart,onDrag:this.onControlledDrag,onStop:this.handleStop,nodeRef:this.wrapper},i.a.createElement("div",{ref:this.wrapper,onClick:this.handleClick,className:r,style:{width:this.props.width+2+"px",height:o+"px",zIndex:this.props.z?this.props.z:0}},i.a.createElement("div",{className:this.props.window?"window "+this.props.window:"window",style:this.props.windowStyle},i.a.createElement(k,{title:this.props.title,toggleClosed:this.toggleClosed,toggleMinimzed:this.toggleMinimzed,toggleMaximized:this.toggleMaximized}),i.a.createElement("div",{className:"content",style:s},this.props.content))))}},{key:"closeFrame",value:function(){}}]),a}(i.a.Component),j=a(74),O=a(75),M=a(301),N=a(14),R=a(302),W=a(308),D=a(303),z=a(126),T=a.n(z),I=a(127),L=a.n(I),B=a(128),A=a.n(B),H=a(36),F=a(307),P=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).getInitialUserNames=function(){var e,t=[],a=Object(H.a)(n.initialUsers);try{for(a.s();!(e=a.n()).done;){var i=e.value;t.push(i.userName)}}catch(r){a.e(r)}finally{a.f()}return t},n.setInputValue=function(e){e?n.setState({inputValue:e}):n.setState({inputValue:""})},n.getUserListInRoom=function(){var e=n.getInitialUserNames();if(n.props.users)for(var t=0;t<n.props.users.length;t++){var a=Object(o.a)({},n.props.users[t]);a.room===n.props.room&&e.push(n.getLabel(a))}return e},n.getUsersInRoomTrunc=function(){var e=n.initialUsers;if(n.props.users)for(var t=0;t<n.props.users.length;t++){var a=Object(o.a)({},n.props.users[t]);a.room===n.props.room&&e.push({avatar:a.avatar,userName:a.userName})}return e},n.getUsersInRoom=function(){var e=n.initialUsers;return n.props.users&&(e=[].concat(Object(l.a)(e),Object(l.a)(n.props.users))),e.filter((function(e,t){return t<2||e.room===n.props.room}))},n.setValue=function(e){n.props.setRecipient(e)},n.state={inputValue:""},n.initialUsers=[{userName:"Everyone",avatar:"\ud83d\udc65"},{userName:"Room",avatar:"\ud83d\udeaa"}],n}return Object(d.a)(a,[{key:"componentDidUpdate",value:function(e){if(e.userActiveChat!==this.props.userActiveChat){var t="";this.props.userActiveChat&&(t=this.getLabel(this.props.userActiveChat)),this.setState({inputValue:t})}}},{key:"getLabel",value:function(e){return e?"".concat(e.avatar," ").concat(e.userName):""}},{key:"getUserObjectByListID",value:function(e){var t=this,a=this.initialUsers;return this.props.users&&(a=[].concat(Object(l.a)(a),Object(l.a)(this.props.users))),a.find((function(a){return e===t.getLabel(a)}))}},{key:"render",value:function(){var e=this,t=this.getUsersInRoom(),a=this.state.inputValue,n=this.props.userActiveChat;this.props.classes;return i.a.createElement(F.a,{id:"combo-box-demo",className:"autocomplete",value:n,onChange:function(t,a){e.setValue(a)},inputValue:a,onInputChange:function(t,a){e.setInputValue(a)},options:t,getOptionLabel:function(t){return e.getLabel(t)},getOptionSelected:function(t,a){return e.getLabel(t)===e.getLabel(a)},fullWidth:!0,renderInput:function(e){return i.a.createElement("div",{ref:e.InputProps.ref},i.a.createElement("input",Object.assign({className:"autocomplete-input .blueOutline",style:{},type:"text",placeholder:"select recipient"},e.inputProps)))}})}}]),a}(i.a.Component),U=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).getUserById=function(e){var t=n.state.users;return t?t.find((function(t){return t.id===e})):null},n.getUserNameById=function(e){var t=n.state.users;if(t){var a=t.find((function(t){return t.id===e}));if(a)return a.userName}return""},n.scrollToBottom=function(){n.messagesEnd.scrollIntoView({behavior:"smooth"})},n.state={},n}return Object(d.a)(a,[{key:"componentDidMount",value:function(){this.scrollToBottom()}},{key:"componentDidUpdate",value:function(){this.scrollToBottom()}},{key:"render",value:function(){var e=this;return i.a.createElement("div",{className:"Chat-messages-box blueOutline"},i.a.createElement("div",{className:"Chat-messages-inner-box"},this.props.messages.map((function(e,t){var a="chat-from-"+("me"===e.from?"me":"other"),n="me"===e.from?"hidden":"",r="room"===e.to||"all"===e.to?"message-to-red":"message-to";return i.a.createElement("div",{key:t,className:"bubbleContainer "+a},i.a.createElement("div",{className:"avatar "+n},e.avatar),i.a.createElement("div",{className:"bubble",key:t},i.a.createElement("div",{className:"message-deets"},i.a.createElement("span",{className:"message-from"},e.from)," ",i.a.createElement("span",{className:r},"(to ",e.to,")"),":"),i.a.createElement("div",{className:"message-txt"},e.message)))})),i.a.createElement("div",{className:"dummyText",style:{float:"left",clear:"both"},ref:function(t){e.messagesEnd=t}})))}}]),a}(i.a.Component),V=a(71),G=a.n(V),Y=(a(169),a(125)),_=a.n(Y)()("http://localhost:5000/"),q=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).handleTextBoxChange=function(e){var t=e.target.value;n.props.userActiveChat&&""!==t?n.setState({textBox:t,buttonDisabled:!1}):n.setState({textBox:t,buttonDisabled:!0})},n.setRecipient=function(e){var t=n.state.textBox;e&&""!==t?(n.setState({buttonDisabled:!1}),n.props.userSetActiveChat(e)):(n.setState({buttonDisabled:!0}),n.props.userSetActiveChat(e))},n.sendToOne=function(e,t){console.log("send to one",t,"msg:",e);var a=n.props.userActiveChat,i={socketId:t,message:e,time:new Date,avatar:n.props.user.avatar};_.connected&&_.emit("messageUser",i),n.props.addUserMessage({from:"me",to:a.userName,message:e,time:new Date})},n.sendToRoom=function(e){console.log("send to room ",n.props.room);var t={room:n.props.room,message:e,time:new Date,avatar:n.props.user.avatar};_.connected&&_.emit("messageRoom",t),n.props.addUserMessage({to:"room",from:"me",message:e,time:new Date})},n.sendToAll=function(e){console.log("send to all");var t={message:e,room:n.props.room,time:new Date,avatar:n.props.user.avatar};_.connected&&_.emit("messageAll",t),n.props.addUserMessage({to:"all",from:"me",message:e,time:new Date})},n.sendToHostBot=function(e){},n.sendToWineBot=function(e){var t={to:"wineBot",from:"me",message:e,time:new Date};n.props.addUserMessage(t),setTimeout((function(){return n.wineBotRespond(e)}),1e3)},n.wineBotRespond=function(e){var t=n.state.wineBotJustAsked,a=n.props.userActiveChat;if(t){var i=e.toLowerCase(),r="";"y"===i||i.indexOf("yes")>-1?(r="Stop by the bar to pick up your glass.",n.props.addWine()):r="Cool, I don't drink either.",n.props.addUserMessage({to:"me",from:"wineBot",message:r,time:new Date,avatar:a.avatar}),n.setState({wineBotJustAsked:!1})}else{n.props.addUserMessage({to:"me",from:"wineBot",message:"hi, would you like some wine? Y/N.",time:new Date,avatar:a.avatar}),n.setState({wineBotJustAsked:!0})}},n.onSubmit=function(){n.props.userActiveChat&&""!==n.state.textBox&&(n.sendMessage(n.state.textBox),n.setState({textBox:"",buttonDisabled:!0}))},n.handleKeyDown=function(e){"Enter"===e.key&&n.onSubmit()},n.sendMessage=function(e){var t=n.props.userActiveChat;e&&t&&("Everyone"===t.userName?n.sendToAll(e):"Room"===t.userName?n.sendToRoom(e):"wineBot"===t.userName?n.sendToWineBot(e):"hostBot"===t.userName?n.sendToHostBot(e):n.sendToOne(e,t.id))},n.setUserHover=function(e){n.setState({userHover:e})},n.setUserHoverLeave=function(){n.setState({userHover:null})},n.state={textBox:"",userHover:null,buttonDisabled:!0,wineBotJustAsked:!1},n}return Object(d.a)(a,[{key:"render",value:function(){var e=this.props.users;e||(e=[]);this.state.userHover,this.props.classes;return i.a.createElement("div",{className:"Chat Panel"},i.a.createElement("div",{className:"Chat-messages"},i.a.createElement("div",{className:"Chat-title"},i.a.createElement("div",{className:"Panel-title"},"chat")),i.a.createElement(U,{messages:this.props.messages,addUserMessage:this.props.addUserMessage}),i.a.createElement("div",{className:"Chat-form"},i.a.createElement("div",{className:"to-form"},i.a.createElement("div",{className:"to-div"},"To: "),i.a.createElement(P,Object.assign({},this.props,{setRecipient:this.setRecipient}))),i.a.createElement("div",{className:"Chat-send"},i.a.createElement("div",{className:"Chat-send-item"},i.a.createElement("input",{label:"",id:"margin-dense",className:"form-item blueOutline",placeholder:"message",value:this.state.textBox,onChange:this.handleTextBoxChange,onKeyDown:this.handleKeyDown})),i.a.createElement("button",{className:"form-item blueOutline",disabled:this.state.buttonDisabled,onClick:this.onSubmit},i.a.createElement(G.a,{disabled:this.state.buttonDisabled}))))))}}]),a}(i.a.Component),X=Object(N.a)((function(e){return{root:{},textField:{backgroundColor:"yellow"}}}),{withTheme:!0})(q),K=a(52),J=a.n(K),Q=a(72),$=(a(202),function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).getPublicRoomCritiques=function(){return n.state.critiques.filter((function(e){return e.room===n.props.room&&e.public}))},n.handleCheckClick=function(){n.setState((function(e){return{checked:!e.checked}}))},n.handleTextBoxChange=function(e){var t=e.target.value;n.setState({textBox:t,buttonDisabled:""===t})},n.onSubmit=function(){if(""===n.state.textBox)alert("please enter a crit");else{var e={from:n.props.user.userName,room:n.props.room,crit:n.state.textBox,public:n.state.isPublic,time:new Date},t={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)};fetch("/api/post/critique",t).then((function(e){return e.json()})).then((function(e){n.setState({textBox:""})})).catch((function(e){console.error("Error:",e)}))}},n.handleKeyDown=function(e){"Enter"===e.key&&n.onSubmit()},n.state={isPublic:!0,textBox:"",buttonDisabled:!0,critiques:[],checked:!0},n}return Object(d.a)(a,[{key:"componentDidMount",value:function(){var e=this;this.fetchRoomCritiques(),_.on("critique",(function(t){var a=[].concat(Object(l.a)(e.state.critiques),[t]);e.setState({critiques:a})}))}},{key:"fetchRoomCritiques",value:function(){var e=Object(Q.a)(J.a.mark((function e(){var t,a,n,i;return J.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t="/api/get/critiques/".concat(this.props.room),e.next=3,fetch(t);case 3:return a=e.sent,e.next=6,a.json();case 6:(n=e.sent)?(i=[].concat(Object(l.a)(this.state.critiques),Object(l.a)(n)),this.setState({critiques:i})):console.log("NO crits");case 8:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.getPublicRoomCritiques().reverse();return i.a.createElement("div",{className:"Critique Panel"},i.a.createElement("div",{className:"Critique-Box"},i.a.createElement("div",{className:"Critique-title"},i.a.createElement("div",{className:"Panel-title"},"submit crit"),i.a.createElement("div",{className:"checkbox"},i.a.createElement("input",{type:"checkbox",id:"public",name:"public",checked:this.state.checked,onChange:this.handleCheckClick}),i.a.createElement("label",{htmlFor:"public"},"Public"))),i.a.createElement("div",{className:"Critique-text"},i.a.createElement("div",{className:"Critique-text-inner blueOutline"},i.a.createElement("textarea",{label:"",className:"form-item",placeholder:"enter a critique",value:this.state.textBox,onChange:this.handleTextBoxChange}))),i.a.createElement("button",{className:"",id:"critButton",disabled:this.state.buttonDisabled,onClick:this.onSubmit},i.a.createElement(G.a,{disabled:this.state.buttonDisabled}))),i.a.createElement("div",{className:"Critiques"},i.a.createElement("div",{className:"Panel-title"},"public critiques"),i.a.createElement("div",{className:"crits"},e.slice(0,5).map((function(e,t){var a=1-t/4;return a=Math.max(a,0),i.a.createElement("div",{key:t,className:"crit"},i.a.createElement("div",{className:"crit-inner",style:{opacity:a}},i.a.createElement("div",null,"from: ",e.from),i.a.createElement("div",null,e.crit)))})))))}}]),a}(i.a.Component));function Z(e){return i.a.createElement("div",null,"Help")}function ee(e){var t=e.children,a=e.value,n=e.index,r=Object(O.a)(e,["children","value","index"]);return i.a.createElement("div",Object.assign({className:a!==n?"inactive-tabs-panel":"active-tabs-panel",role:"tabpanel",hidden:a!==n,id:"scrollable-prevent-tabpanel-".concat(n),"aria-labelledby":"scrollable-prevent-tab-".concat(n)},r),a===n&&i.a.createElement("div",{className:"tabs"},t))}function te(e){return{id:"scrollable-prevent-tab-".concat(e),"aria-controls":"scrollable-prevent-tabpanel-".concat(e)}}var ae=Object(M.a)((function(e){return{root:{width:"100%",display:"flex",flex:1,flexDirection:"column",backgroundColor:"#000000dd"}}})),ne=Object(N.a)((function(e){return{root:{flex:"0 0 auto",height:"50px",background:"linear-gradient(".concat("#335ef6",", #1000ff);"),zIndex:0,fontFamily:["Arial","sans-serif"].join(","),"&:hover":{},"&$selected":{borderColor:"green"},"&:focus":{}}}}))((function(e){return i.a.createElement(R.a,e)})),ie=Object(N.a)((function(e){return{root:{textTransform:"none",minWidth:72,fontWeight:e.typography.fontWeightRegular,marginRight:e.spacing(4),fontFamily:["-apple-system","BlinkMacSystemFont",'"Segoe UI"',"Roboto",'"Helvetica Neue"',"Arial","sans-serif",'"Apple Color Emoji"','"Segoe UI Emoji"','"Segoe UI Symbol"'].join(","),"&:hover":{color:"white",opacity:1},"&$selected":{color:"white",fontWeight:e.typography.fontWeightMedium},"&:focus":{color:"white"}},selected:{}}}))((function(e){return i.a.createElement(D.a,Object.assign({disableRipple:!0},e))}));function re(e){var t=ae(),a=i.a.useState(0),n=Object(j.a)(a,2),r=n[0],s=n[1];return i.a.createElement("div",{className:t.root},i.a.createElement(ne,{position:"static"},i.a.createElement(W.a,{value:r,onChange:function(e,t){s(t)},scrollButtons:"off","aria-label":"scrollable prevent tabs example",indicatorColor:"primary",textColor:"primary",centered:!0},i.a.createElement(ie,Object.assign({icon:i.a.createElement(T.a,{fontSize:"large"}),"aria-label":"chat"},te(0))),i.a.createElement(ie,Object.assign({icon:i.a.createElement(L.a,{fontSize:"large"}),"aria-label":"leave critique"},te(1))),i.a.createElement(ie,Object.assign({icon:i.a.createElement(A.a,{fontSize:"large"}),"aria-label":"help"},te(2))))),i.a.createElement(ee,{value:r,index:0},i.a.createElement(X,e)),i.a.createElement(ee,{value:r,index:1},i.a.createElement($,{user:e.user,room:e.room})),i.a.createElement(ee,{value:r,index:2}),i.a.createElement(ee,{value:r,index:3},i.a.createElement(Z,null)))}var se,oe=a(140),le=a(304),ce=a(76),de=Object(oe.a)({palette:{primary:ce.a,secondary:ce.a,type:"dark"},typography:{fontFamily:"dogica, Arial",fontSize:10},overrides:{}}),ue=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).state={},n}return Object(d.a)(a,[{key:"componentDidUpdate",value:function(e){}},{key:"render",value:function(){var e={width:this.props.showSideBar?"400px":"0px",display:this.props.showSideBar?"block":"none"};return i.a.createElement("div",{className:"SideBar",style:e},i.a.createElement(le.a,{theme:de},i.a.createElement("div",{className:"SideBar-Flex"},i.a.createElement("div",{className:"SideBar-Space"}),i.a.createElement("div",{className:"SideBar-Content"},i.a.createElement(re,this.props)))))}}]),a}(i.a.PureComponent),me=a(44),he=a.n(me),pe=(a(203),a(204),function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).state={windowStyle:{opacity:1,visibility:"visible"},start:new Date},n}return Object(d.a)(a,[{key:"componentDidMount",value:function(){var e=this;this.interval=setInterval((function(){if((new Date).getTime()-e.state.start.getTime()>4e3){var t=e.state.windowStyle,a=t.opacity,n=t.visibility,i=!1;(a-=.01)<=0&&(a=0,n="hidden",i=!0),e.setState({windowStyle:{opacity:a,visibility:n}}),i&&clearInterval(e.interval)}}),10)}},{key:"componentWillUnmount",value:function(){clearInterval(this.interval)}},{key:"render",value:function(){var e=this.props.y?this.props.y:window.innerHeight-26-40-70,t=this.props.x?this.props.x:window.innerWidth-100-30;return i.a.createElement(C,{windowStyle:this.state.windowStyle,className:"glassesFrame",content:i.a.createElement("div",{className:"glassesIcon"}),width:100,height:40,x:t,y:e})}}]),a}(i.a.Component)),ve=a(89),we=a.n(ve),fe=a(129),ge=a.n(fe),ye=function(e){var t=e.user,a=(e.users,e.walls),n=e.doors,r=function(e){e.beginShape(),e.textureWrap(e.REPEAT),e.texture(se);for(var t=0;t<a.length;t++)e.vertex(a[t].x,a[t].y,a[t].x,a[t].y);e.endShape(),e.strokeWeight(5),e.stroke(255);for(var n=0;n<a.length-1;n++)e.line(a[n].x,a[n].y,a[n+1].x,a[n+1].y)},s=function(e){e.strokeWeight(10),e.stroke(255,0,0);for(var t=0;t<n.length;t++)e.line(n[t].x0,n[t].y0,n[t].x1,n[t].y1)};return i.a.createElement(ge.a,{setup:function(e,t){e.createCanvas(window.innerWidth,window.innerHeight,e.WEBGL).parent(t);se=e.loadImage("/assets/s3-bucket/homePage/wood-512.jpg")},draw:function(e){e.clear(),e.push(),e.translate(-t.x,-t.y),r(e),s(e),e.pop()}})};function be(e){return e.hasWine&&new Date-e.hasWine<15e3}var xe=function(e){var t=e.userName;return e.userHover,i.a.createElement("div",{className:"tooltip",style:{top:-20,left:0}},t)},Ee=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).setUserHover=function(){n.setState({userHover:!0})},n.setUserHoverLeave=function(){n.setState({userHover:!1})},n.state={userHover:!1},n}return Object(d.a)(a,[{key:"render",value:function(){var e=this,t=this.props,a=t.otherUser,n=t.user,r=t.avatarW,s=this.state.userHover,o=function(e,t,a){var n=t.y+window.innerHeight/2-e.y-a/2;return{x:t.x+window.innerWidth/2-e.x-a/2,y:n}}(n,a,r),l={top:o.y,left:o.x},c=be(a);return i.a.createElement("div",{className:"otherAvatar",onMouseEnter:this.setUserHover,onMouseLeave:this.setUserHoverLeave,onClick:function(){return e.props.userSetActiveChat(a)},style:l},i.a.createElement("div",{className:"emoji"},a.avatar),i.a.createElement("div",{className:"emoji-wine"+(c?"":" hidden")},"\ud83c\udf77"),i.a.createElement(xe,{userName:a.userName,userHover:s}))}}]),a}(i.a.Component),Se=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(e){return Object(c.a)(this,a),t.call(this,e)}return Object(d.a)(a,[{key:"render",value:function(){var e=this.props,t=e.users,a=e.user,n=e.userSetActiveChat,r=e.avatarW;return t?i.a.createElement("div",{className:"otherAvatars"},t.map((function(e,t){return i.a.createElement(Ee,{key:t,user:a,otherUser:e,avatarW:r,userSetActiveChat:n})}))):i.a.createElement("div",{className:"otherAvatars"})}}]),a}(i.a.Component);var ke=function(e){var t=e.user,a=e.avatarW,n=be(t);return i.a.createElement("div",{className:"userAvatar",style:{top:window.innerHeight/2-a/2,left:window.innerWidth/2-a/2}},i.a.createElement("div",null,t.avatar),i.a.createElement("div",{className:"emoji-wine"+(n?"":" hidden")},"\ud83c\udf77"))},Ce=(a(206),function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).onControlledDrag=function(e,t){var a=t.x,i=t.y;n.setState({controlledPosition:{x:a,y:i}})},n.onControlledDragStop=function(e,t){n.onControlledDrag(e,t),n.onStop()},n.onDblClick=function(){n.setState({isHidden:!1}),n.props.onDblClick(n.props.id)},n.onClick=function(){n.props.newIconToTop&&n.props.newIconToTop()},n.onHide=function(){n.setState({isHidden:!0})},n.state={isHidden:!0,controlledPosition:{x:e.x,y:e.y}},n.wrapper=i.a.createRef(),n}return Object(d.a)(a,[{key:"componentDidUpdate",value:function(e){if(this.props.x!==e.x||this.props.y!==e.y){var t=this.props.x-e.x,a=this.props.y-e.y,n=Object(o.a)({},this.state.controlledPosition);this.setState({controlledPosition:{x:n.x+t,y:n.y+a}})}}},{key:"render",value:function(){var e=this.state,t=e.controlledPosition,a=(e.isHidden,new DOMParser,this.props.title,"DesktopIcon");this.props.className&&(a+=" "+this.props.className);this.toolBarH,this.state.isMinimized||this.props.height;var n=this.props.bounded?".App-Content":null;return i.a.createElement("div",{className:"DesktopDiv",style:{zIndex:this.props.zIcon?this.props.zIcon:0}},i.a.createElement(S.a,{axis:"both",handle:".DesktopIcon",defaultPosition:{x:this.props.x,y:this.props.y},position:t,grid:[1,1],scale:1,bounds:n,cancel:".close, .minimize, .zoom",onStart:this.handleStart,onDrag:this.onControlledDrag,onStop:this.handleStop,nodeRef:this.wrapper},i.a.createElement("div",{ref:this.wrapper,onDoubleClick:this.onDblClick,onClick:this.onClick,className:a,style:{width:this.props.width+"px",height:this.props.height+"px"}},i.a.createElement("div",{className:"content"},this.props.content),i.a.createElement("div",{className:"desktop-text"},this.props.title))),this.props.disableWindow?i.a.createElement("div",null):this.getFrame())}},{key:"getFrame",value:function(){var e=this.state.isHidden;return i.a.createElement(C,{className:"FolderOpenFrame",title:this.props.title,isHidden:e,onHide:this.onHide.bind(this),x:this.props.box.x,y:this.props.box.y,z:this.props.zFrame?this.props.zFrame:0,width:this.props.box.w,height:this.props.box.h,content:this.props.frameContent,newFrameToTop:this.props.newFrameToTop})}}]),a}(i.a.Component)),je=function(e){var t={x:100,y:100,w:100,h:100};return i.a.createElement("div",{className:"folders"},i.a.createElement(Ce,{title:"statement",onDblClick:e.onDblClick,x:e.x,y:e.y,z:e.z0,bounded:!1,box:t,content:i.a.createElement("img",{src:window.AWS+"/waveforms/txt.png",width:80,height:80}),frameContent:i.a.createElement("div",{className:"txt"},"about")}),i.a.createElement(Ce,{title:"thesis",onDblClick:e.onDblClick,x:e.x+80,y:e.y+100,z:e.z1,bounded:!1,box:t,content:i.a.createElement("img",{src:window.AWS+"/waveforms/txt.png",width:80,height:80}),frameContent:i.a.createElement("div",{className:"txt"},"about")}),i.a.createElement(Ce,{title:"instagram",onDblClick:e.onDblClick,x:e.x+30,y:e.y+250,z:e.z2,box:t,bounded:!1,content:i.a.createElement("img",{src:window.AWS+"/homePage/instagram.png",width:80,height:80}),frameContent:i.a.createElement("div",{className:"txt"},"about")}))},Oe=function(e){return i.a.createElement(C,{title:"Welcome",windowStyle:{backgroundColor:"white"},content:i.a.createElement("div",{className:"MFA-deets"},i.a.createElement("div",{style:{fontSize:"40px",paddingBottom:"0px"}},"Losing"),i.a.createElement("div",{style:{fontSize:"40px",paddingBottom:"0px"}},"My"),i.a.createElement("div",{style:{fontSize:"40px",paddingBottom:"40px"}},"Dimension"),i.a.createElement("div",{style:{fontSize:"20px",paddingBottom:"40px"}},i.a.createElement("a",{href:"https://www.instagram.com/jdeboi/"},"Jenna deBoisblanc")),i.a.createElement("div",{style:{fontSize:"12px",paddingBottom:"10px"}},"Tulane University"),i.a.createElement("div",{style:{fontSize:"14px",paddingBottom:"20px"}},"MFA Thesis Exhibition"),i.a.createElement("div",{style:{fontSize:"12px"}},"April 2021")),width:e.w,height:e.h,x:e.x,y:e.y,bounded:!1})},Me=function(e){return i.a.createElement(C,{title:"",windowStyle:{backgroundColor:"white"},content:i.a.createElement("div",{className:"WineBar"},i.a.createElement("div",null,"\ud83c\udf77\ud83c\udf77"),i.a.createElement("div",null,"\ud83c\udf77\ud83c\udf77"),i.a.createElement("div",null,"\ud83c\udf77\ud83c\udf77"),i.a.createElement("div",null,"\ud83c\udf77\ud83c\udf77")),width:e.w,height:e.h,x:e.x,y:e.y,bounded:!1})},Ne=(a(207),function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).onDblClick=function(e){console.log("yeah clicked",e);var t=Object(l.a)(n.state.zIndex),a=(t[e],t.length-1);t.map((function(e){return e>a?e-1:e}))},n.userSetActiveChat=function(e){n.props.userSetActiveChat(e)},n.handleKeyDown=function(e){n.state.keyDown||("38"==(e=e||window.event).keyCode?n.props.userMove(0,-1,new Date):"40"==e.keyCode?n.props.userMove(0,1,new Date):"37"==e.keyCode?n.props.userMove(-1,0,new Date):"39"==e.keyCode&&n.props.userMove(1,0,new Date),n.setState({keyDown:!0}))},n.handleKeyUp=function(e){n.setState({keyDown:!1})},n.enterRoom=function(e){n.props.history.push(e)},n.state={keyDown:!1,zIndex:[0,1,2,3],OGW:window.innerWidth/2,OGH:window.innerHeight/2},n.avatarW=34,n}return Object(d.a)(a,[{key:"componentDidMount",value:function(){window.addEventListener("keydown",this.handleKeyDown),window.addEventListener("keyup",this.handleKeyUp),this.props.userSetRoom("home")}},{key:"componentWillUnmount",value:function(){window.removeEventListener("keydown",this.handleKeyDown),window.removeEventListener("keyup",this.handleKeyUp),this.props.userLeaveRoom("home")}},{key:"render",value:function(){var e=this.props,t=e.users,a=e.user,n=e.walls,r=e.doors,s=e.wineLocation,o=this.state.zIndex;return i.a.createElement("div",{className:"HomePage Sketch",onKeyDown:this.handleKeyDown,onKeyUp:this.handleKeyUp},i.a.createElement(ye,{className:"p5sketch",user:a,users:t,walls:n,doors:r}),i.a.createElement(Oe,{w:500,h:400,z:o[0],x:-250-a.x+this.state.OGW,y:-250-a.y+this.state.OGH}),i.a.createElement(Me,{x:s.x-a.x+this.state.OGW,y:s.y-a.y+this.state.OGH,w:s.w,h:s.h}),i.a.createElement(je,{x:300-a.x+this.state.OGW,y:-330-a.y+this.state.OGH,z0:o[1],z1:o[2],z2:o[3],onDblClick:this.onDblClick}),i.a.createElement("div",{className:"avatars"},i.a.createElement(Se,{users:t,user:a,avatarW:this.avatarW,userSetActiveChat:this.userSetActiveChat}),i.a.createElement(ke,{user:a,avatarW:this.avatarW})),i.a.createElement(pe,null))}}]),a}(i.a.Component)),Re=(a(209),a(1)),We=function(e){var t=Object(n.useRef)(null),a=e.antialias,r=e.engineOptions,s=e.adaptToDeviceRatio,o=e.sceneOptions,l=e.onRender,c=(e.onSceneReady,Object(O.a)(e,["antialias","engineOptions","adaptToDeviceRatio","sceneOptions","onRender","onSceneReady"]));return Object(n.useEffect)((function(){if(t.current){var n=new Re.Engine(t.current,a,r,s),i=new Re.Scene(n,o);i.isReady()?e.onSceneReady(i):i.onReadyObservable.addOnce((function(t){return e.onSceneReady(t)})),n.runRenderLoop((function(){"function"===typeof l&&l(i),i.render()}));var c=function(){i.getEngine().resize()};return window&&window.addEventListener("resize",c),function(){i.getEngine().dispose(),window&&window.removeEventListener("resize",c)}}}),[t]),i.a.createElement("canvas",Object.assign({ref:t},c))},De=a(33),ze=(a(115),function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(){return Object(c.a)(this,a),t.apply(this,arguments)}return Object(d.a)(a,[{key:"render",value:function(){var e=Math.floor(this.props.px),t=Math.floor(this.props.py),a={width:this.props.width,height:this.props.height+30,left:e,top:t},n="Frame FrameSimple";return this.props.notAbsolute&&(n+=" static"),i.a.createElement("div",{className:n,style:a},i.a.createElement("div",{className:"window",style:this.props.windowStyle},i.a.createElement(k,{title:this.props.title,toggleClosed:this.toggleClosed,toggleMinimzed:this.toggleMinimzed,toggleMaximized:this.toggleMaximized}),i.a.createElement("div",{className:"content"},this.props.content)))}},{key:"toggleMinimzed",value:function(){}},{key:"toggleClosed",value:function(){}}]),a}(i.a.Component));a(210);function Te(e){for(var t=e.numSteps,a=e.stepW,n=e.stepH,r=e.stepDown,s=[],o=0;o<t;o++)s.push(o);return s.map((function(s,o){var l="step";0==o&&(l+=" firstStep"),o==t-1&&(l+=" lastStep");var c,d;return c="0px 0px",d=a+"px "+n+"px",i.a.createElement("div",{className:l,key:o,style:{width:a,height:n,top:r*o-30,left:a*o,backgroundImage:"url(".concat(e.url,")"),backgroundPosition:c,backgroundSize:d}})}))}var Ie=function(e){return i.a.createElement("div",{className:"Stair"},i.a.createElement(C,{title:"",content:Te(e),width:e.stepW+24,height:10,x:e.x,y:e.y,window:"stair-window",handle:".step"}))};function Le(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return Math.random()*(t-e)+e}function Be(e,t,a,n){return(this-e)*(n-a)/(t-e)+a}var Ae,He,Fe=function(){function e(t,a,n){Object(c.a)(this,e),this.size=Math.min(n,a)/t*1.7,this.x=t,this.y=t,this.positions=[],this.heights=[],this.stairinfos=[],this.windowinfos=[],this.initTerrain(),this.initWindows(),this.initStairs(),this.ColorPalette={dark:new Re.Color3(0,0,0),light:new Re.Color3(.4,.4,.8),shadow:new Re.Color3(0,0,0),shade:new Re.Color3(.2,.2,.4),white:new Re.Color3(1,1,1)}}return Object(d.a)(e,[{key:"initTerrain",value:function(){for(var e=0;e<this.y;e++)for(var t=1,a=0;a<this.x;a++){var n=new Re.Vector3(a*this.size,0,e*this.size);this.positions.push(n),Math.random()<.5&&(t+=1);var i=e/(this.y-1);this.heights.push(this.size*Math.ceil(t*i))}}},{key:"initWindows",value:function(){for(var e=0;e<this.y-1;e++)for(var t=0;t<this.x-1;t++){var a=e*this.x+t,n=e*this.x+t+1,i=(e+1)*this.x+t,r=this.heights[a],s=this.heights[n],o=this.heights[i];if(r<s)for(var l=r;l<s-1;l+=this.size)if(Le()<.3){var c=Be(Math.floor(Le(1,6)),1,5,.2);this.windowinfos.push([a,1,l,c])}if(r<o)for(var d=r;d<o-1;d+=this.size)if(Le()<.3){var u=Be(Math.floor(Le(1,6)),1,5,.2);this.windowinfos.push([a,0,d,u])}}}},{key:"initStairs",value:function(){for(var e=0;e<this.y-1;e++)for(var t=0;t<this.x-1;t++){var a=e*this.x+t,n=e*this.x+t+1,i=(e+1)*this.x+t,r=this.heights[a],s=this.heights[n],o=this.heights[i];Le()<.5&&(r+this.size==s?this.stairinfos.push([a,1,Le()]):r+this.size==o&&this.stairinfos.push([a,0,Le()]))}}},{key:"render",value:function(e,t){for(var a=0;a<this.positions.length;a++){var n=this.positions[a],i=this.heights[a],r=i/(this.y*this.size*.5),s=new Re.StandardMaterial("stairMaterial",e),o=Re.Color3.Lerp(this.ColorPalette.shadow,this.ColorPalette.light,r);s.diffuseColor=o;var l=Re.MeshBuilder.CreateBox("box",{width:this.size,height:i,depth:this.size},e);l.position=new Re.Vector3(n.x,n.y+.5*i,n.z),l.material=s,l.checkCollisions=!0,l.parent=t}}},{key:"drawStairs",value:function(e,t){for(var a=0;a<1;a++){var n=this.stairinfos[a];this.drawStairByIndex(e,t,n)}}},{key:"drawStairByIndex",value:function(e,t,a){var n=a[0],i=a[1],r=(a[2],this.positions[n]),s=this.heights[n]/(this.y*this.size*.5),o=this.size/5,l=Re.Color3.Lerp(this.ColorPalette.shadow,this.ColorPalette.light,s),c=r.x,d=r.h+r.y,u=(r.z,Math.PI/2*i);this.size;for(var m=1;m<5;m++){var h=c,p=d+o*m*.5*1,v=.5*o+o*m,w=Re.MeshBuilder.CreateBox("box",{width:this.size,height:o*m*1,depth:o},e);w.position=new Re.Vector3(h,p,v),w.rotation.y=u;var f=new Re.StandardMaterial("stairMaterial",e);f.diffuseColor=l,w.material=f,w.parent=t}}}]),e}();i.a.Component,a(211);var Pe=a(305),Ue=a(310),Ve=a(40),Ge=a.n(Ve);function Ye(e){var t=i.a.useState(1),a=Object(j.a)(t,2),n=a[0],r=a[1],s={};return s.height="vertical"===e.orientation?"80px":"auto",s.width="vertical"===e.orientation?"auto":"100px",i.a.createElement("div",{className:"Slider"},i.a.createElement(Pe.a,{container:!0,spacing:2},i.a.createElement(Pe.a,{item:!0,className:"emoji-slider"},i.a.createElement("div",{className:"cloud-emoji","aria-label":"cloud"})),i.a.createElement(Pe.a,{item:!0,xs:!0},i.a.createElement(Ue.a,{value:n,onChange:function(t,a){r(a),e.callback(a)},orientation:e.orientation,style:s,color:"primary","aria-labelledby":"continuous-slider",step:.1,min:0,max:2,defaultValue:1})),i.a.createElement(Pe.a,{item:!0,className:"emoji-slider"},i.a.createElement("div",{className:"gust-emoji","aria-label":"dashing away"}))))}var _e,qe=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).state={videoSpeed:1},n.sliderOG={x:0,y:0},n.mainOG={x:0,y:0},n.cloudsRef=i.a.createRef(),n.setSpeed=n.setSpeed.bind(Object(p.a)(n)),n.getDimensions=n.getDimensions.bind(Object(p.a)(n)),n.getMainWindow=n.getMainWindow.bind(Object(p.a)(n)),n.getSliderWindow=n.getSliderWindow.bind(Object(p.a)(n)),n}return Object(d.a)(a,[{key:"componentDidMount",value:function(){this.interval=setInterval(this.resetPlayer,22e3),this.props.userSetRoom("macbook-air"),console.log(window.AWS+"/macbookAir/noframe.mp4")}},{key:"componentWillUnmount",value:function(){clearInterval(this.interval),this.props.userLeaveRoom("macbook-air")}},{key:"setSpeed",value:function(e){this.cloudsRef.current.playbackRate=e,this.setState({videoSpeed:e})}},{key:"getDimensions",value:function(){var e=this.props.dimensions,t=e.windowWidth,a=e.device,n=e.windowHeight;n-=34;var i=840,r=540,s=i/r,o=Math.min(.05*t,50),l=window.innerWidth/window.innerHeight;return"desktop"===a||l<1?c():function(){n-=28;var e={w:i,h:r,x:0,y:0},a={w:80,h:e.h,x:0,y:0,vertical:!0},l=n-2*o,c=t-3*o-a.w;c/l>s?(e.h=l,e.w=i*e.h/r):(e.w=c,e.h=r*e.w/i);var d=(n-e.h)/2;e.x=(t-e.w-a.w)/3,e.y=d,a.h=e.h;var u=(t-e.w-e.x-a.w)/2;return a.x=e.w+e.x+u,a.y=e.y,[e,a]}();function c(){var e={w:250,h:64,x:0,y:0,vertical:!1},a=(n-=56)-e.h-3*o,l=t-2*o,c={w:i,h:r,x:0,y:0};l/a>s?(c.h=Math.min(a,r),c.w=Math.min(i*c.h/r,i)):(c.w=Math.min(l,i),c.h=Math.min(r*c.w/i,r));var d=(n-e.h-c.h)/3;return c.x=t/2-c.w/2-2,c.y=d,e.x=(t-e.w)/2,e.y=c.y+c.h+28+d,[c,e]}}},{key:"getMainWindow",value:function(e){this.props.dimensions.flipped&&(this.mainOG.x,e.x),this.props.dimensions.flipped&&(this.mainOG.y,e.y);return this.props.dimensions.windowWidth<=0||e.w<=0?i.a.createElement("div",null):(0===this.mainOG.x&&(this.mainOG.x=e.x,this.mainOG.y=e.y),i.a.createElement(C,{title:"macbook air",content:i.a.createElement(Ge.a,{className:"react-player mainContent",playing:!0,muted:!0,loop:!0,width:e.w,height:e.h,url:window.AWS+"/macbookAir/noframe.mp4",playbackRate:this.state.videoSpeed}),width:e.w+2,height:e.h,x:e.x,y:e.y,px:e.x,py:e.y}))}},{key:"getSliderWindow",value:function(e){this.props.dimensions.flipped,this.props.dimensions.flipped;return this.props.dimensions.windowWidth<=0?i.a.createElement("div",null):i.a.createElement(C,{title:"",icon:"\ue330",content:i.a.createElement("div",{className:"sliderBox"},i.a.createElement(Ye,{callback:this.setSpeed,orientation:e.w<200?"vertical":"horizontal"})),width:e.w,height:e.h,x:e.x,y:e.y,px:e.x,py:e.y})}},{key:"render",value:function(){var e=this.getDimensions(),t=e[0],a=e[1];return i.a.createElement("div",{className:"MacbookAir Sketch"},i.a.createElement("video",{ref:this.cloudsRef,autoPlay:!0,muted:!0,loop:!0,className:"backgroundCover"},i.a.createElement("source",{src:window.AWS+"/macbookAir/clouds3d.mp4",type:"video/mp4"}),"Your browser does not support HTML5 video."),this.getMainWindow(t),this.getSliderWindow(a),i.a.createElement(pe,null))}}]),a}(i.a.Component),Xe=(a(229),a(306));i.a.Component,a(230);var Ke=a(2),Je=a(130),Qe=(a(231),a(131)),$e=a(132),Ze=a(133),et=a(134),tt=function(){function e(t,a){var n;Object(c.a)(this,e),this.pipeRadius=.2,this.ballJointRadius=1.5*this.pipeRadius,this.gridBounds=new Ke.Box3(new Ke.Vector3(-10,-10,-10),new Ke.Vector3(10,10,10)),this.scene=a,this.nodes=t,this.currentPosition=(n=this.gridBounds,new Ke.Vector3(nt(n.min.x,n.max.x),nt(n.min.y,n.max.y),nt(n.min.z,n.max.z))),this.positions=[this.currentPosition],this.object3d=new Ke.Object3D,this.scene.add(this.object3d),this.addTexture(),this.setAt(t,this.currentPosition,this),this.makeBallJoint(this.currentPosition)}return Object(d.a)(e,[{key:"makeCylinderBetweenPoints",value:function(e,t,a){var n=(new Ke.Vector3).subVectors(t,e),i=new Ke.ArrowHelper(n.clone().normalize(),e),r=new Ke.CylinderGeometry(this.pipeRadius,this.pipeRadius,n.length(),10,4,!0),s=new Ke.Mesh(r,a);s.rotation.setFromQuaternion(i.quaternion),s.position.addVectors(e,n.multiplyScalar(.5)),s.updateMatrix(),this.object3d.add(s)}},{key:"makeBallJoint",value:function(e){var t=new Ke.Mesh(new Ke.SphereGeometry(this.ballJointRadius,8,8),this.material);t.position.copy(e),this.object3d.add(t)}},{key:"makeElbowJoint",value:function(e,t,a){var n=new Ke.Mesh(new Ke.SphereGeometry(this.pipeRadius,8,8),this.material);n.position.copy(e),this.object3d.add(n)}},{key:"addTexture",value:function(){var e=window.AWS+"/jungleGyms/caution.jpg",t=(new Ke.TextureLoader).load(e);if(t.wrapS=t.wrapT=Ke.RepeatWrapping,t.repeat.set(.2,.2),t)this.material=new Ke.MeshLambertMaterial({map:t});else{var a=new Ke.Color(17439).multiplyScalar(.3);this.material=new Ke.MeshPhongMaterial({specular:11140351,color:17439,emissive:a,shininess:100})}}},{key:"update",value:function(){if(this.positions.length>1)var e=this.positions[this.positions.length-2],t=(new Ke.Vector3).subVectors(this.currentPosition,e);if(Math.random>.5&&t)var a=t;else(a=new Ke.Vector3)[at("xyz")]+=at([1,-1]);var n=(new Ke.Vector3).addVectors(this.currentPosition,a);this.gridBounds.containsPoint(n)&&(this.getAt(n)||(this.setAt(n,this),t&&!t.equals(a)&&this.makeBallJoint(this.currentPosition),this.makeCylinderBetweenPoints(this.currentPosition,n,this.material),this.currentPosition=n,this.positions.push(n)))}},{key:"setAt",value:function(e,t){this.nodes["("+e.x+", "+e.y+", "+e.z+")"]=t}},{key:"getAt",value:function(e,t){return this.nodes["("+e.x+", "+e.y+", "+e.z+")"]}}]),e}();function at(e){return e[Math.floor(Math.random()*e.length)]}function nt(e,t){return Math.round(function(e,t){return Math.random()*(t-e)+e}(e,t))}function it(e,t){return Math.random()*(t-e)+e}function rt(e){return Math.random()<e}var st,ot,lt,ct=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).handleWindowResize=function(){var e=window.innerWidth,t=window.innerHeight;n.renderer.setSize(e,t),n.camera.aspect=e/t,n.camera.updateProjectionMatrix()},n.setupScene=function(){n.scene=new Ke.Scene,n.camera=new Ke.PerspectiveCamera(45,window.innerWidth/window.innerHeight,1,1e5),n.renderer=new Ke.WebGLRenderer({alpha:!0,antialias:!0}),n.renderer.setSize(window.innerWidth,window.innerHeight),n.mount.appendChild(n.renderer.domElement),n.effect=new Je.a(n.renderer),n.effect.setSize(window.innerWidth,window.innerHeight),n.controls=new et.a(n.camera,n.renderer.domElement),n.controls.minDistance=1,n.controls.maxDistance=80;var e=new Ke.AmbientLight(11184810);n.scene.add(e),n.addLight(-10,2,4),n.addLight(1,-10,-2),n.addScreenCube(n.videoGym,1920,1080,.01,[0,0,-8],[0,0,0],47),n.addScreenCube(n.videoSwings,1080,1920,.01,[6,0,-20],[0,-Math.PI/2,0],20),n.pipes=[],n.vines=[],n.nodes={},n.addWallPaper(),n.addVines(),n.look()},n.startAnimationLoop=function(){for(var e=0;e<n.pipes.length;e++)n.pipes[e].update();if(0===n.pipes.length)for(e=0;e<1+(1+rt(.1));e++)n.pipes.push(new tt(n.nodes,n.scene));for(var t=0;t<3;t++)n.vines[t]&&(n.vines[t].position.y=-10-5*t+Math.sin((new Date).getTime()/1e3));n.controls&&n.controls.update(),n.effect.render(n.scene,n.camera),n.requestID=window.requestAnimationFrame(n.startAnimationLoop)},n.reset=function(){n.renderer.clear();for(var e=0;e<n.pipes.length;e++)n.scene.remove(n.pipes[e].object3d);n.pipes=[],n.nodes={},n.look()},n.addLight=function(){var e,t=16777215,a=1,i=new Ke.DirectionalLight(t,a);(e=i.position).set.apply(e,arguments),n.scene.add(i)},n.addScreenCube=function(e,t,a,i,r,s,o){var c,d,u,m,h,p,v=new Ke.VideoTexture(e);t*=i,a*=i,e.play(),v.minFilter=Ke.LinearFilter,v.magFilter=Ke.LinearFilter,v.format=Ke.RGBFormat;var w=new Ke.PlaneGeometry(t,a,1),f=new Ke.MeshBasicMaterial({color:16776960,side:Ke.DoubleSide,map:v}),g=new Ke.Mesh(w,f);(c=g.position).set.apply(c,Object(l.a)(r)),(d=g.rotation).set.apply(d,Object(l.a)(s)),n.scene.add(g);w=new Ke.BoxGeometry(t,a,o),f=new Ke.MeshPhongMaterial({color:43520,opacity:.3,transparent:!0,side:Ke.DoubleSide});var y=new Ke.Mesh(w,f);(u=y.position).set.apply(u,Object(l.a)(r)),(m=y.rotation).set.apply(m,Object(l.a)(s)),n.scene.add(y);w=new Ke.BoxBufferGeometry(t,a,o);var b=new Ke.EdgesGeometry(w),x=new Ke.LineSegments(b,new Ke.LineBasicMaterial({color:65280,linewidth:24}));(h=x.position).set.apply(h,Object(l.a)(r)),(p=x.rotation).set.apply(p,Object(l.a)(s)),n.scene.add(x)},n.addWallPaper=function(){var e=window.AWS+"/jungleGyms/wallpaper3.jpg",t=(new Ke.TextureLoader).load(e);t.wrapS=Ke.RepeatWrapping,t.wrapT=Ke.RepeatWrapping,t.repeat.set(4,4);var a=new Ke.PlaneGeometry(200,100,1),i=new Ke.MeshBasicMaterial({color:16776960,side:Ke.DoubleSide,map:t});new Ke.Mesh(a,i).position.set(0,0,-14),n.scene.background=t},n.addVines=function(){var e=Object(p.a)(n),t=window.AWS+"/jungleGyms/vines/",a=function(e){if(e.lengthComputable){var t=e.loaded/e.total*100;console.log(Math.round(t,2)+"% downloaded")}},i=function(){},r=new Ke.LoadingManager;r.addHandler(/\.dds$/i,new Ze.a),new $e.a(r).setPath(t).load("Vines.mtl",(function(n){n.preload(),new Qe.a(r).setMaterials(n).setPath(t).load("Vines.obj",(function(t){t.rotation.set(0,Math.PI,0),t.position.set(-10,-10,-10),t.scale.set(5,5,5),e.vines.push(t);var a=t.clone();a.position.set(0,-15,0),t.rotation.set(0,0,0),e.vines.push(a);var n=t.clone();n.rotation.set(0,-Math.PI/2,0),e.vines.push(n),e.scene.add(t),e.scene.add(a),e.scene.add(n)}),a,i)}))},n.look=function(){if(n.state.firstLoad||rt(.5))n.camera.position.set(0,0,14),n.setState({firstLoad:!1});else{var e=new Ke.Vector3(30,0,0),t=new Ke.Vector3(it(-1,1),it(-1,1),it(-1,1)),a=Math.PI/2,i=(new Ke.Matrix4).makeRotationAxis(t,a);e.applyMatrix4(i),n.camera.position.copy(e)}var r=new Ke.Vector3(0,0,0);n.camera.lookAt(r),n.controls.update()},n.state={firstLoad:!0},n}return Object(d.a)(a,[{key:"componentDidMount",value:function(){this.interval=setInterval(this.reset,2e4),window.addEventListener("resize",this.handleWindowResize),this.setupScene(),this.startAnimationLoop(),this.props.userSetRoom("jungle-gyms")}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.handleWindowResize),window.cancelAnimationFrame(this.requestID),this.controls.dispose(),clearInterval(this.interval),this.props.userLeaveRoom("jungle-gyms")}},{key:"render",value:function(){var e=this,t=window.AWS+"/jungleGyms/gym.mp4";return i.a.createElement("div",{className:"JungleGyms Sketch"},i.a.createElement("div",{className:"threeCanvas",ref:function(t){return e.mount=t}}),i.a.createElement("video",{crossOrigin:"anonymous",ref:function(t){return e.videoGym=t},autoPlay:!0,muted:!0,loop:!0,className:"gym"},i.a.createElement("source",{src:t,type:"video/mp4"}),"Your browser does not support HTML5 video."),i.a.createElement("video",{crossOrigin:"anonymous",ref:function(t){return e.videoSwings=t},autoPlay:!0,muted:!0,loop:!0,className:"gym"},i.a.createElement("source",{src:window.AWS+"/jungleGyms/swings.mp4",type:"video/mp4"}),"Your browser does not support HTML5 video."),i.a.createElement(pe,null))}}]),a}(i.a.Component),dt=(a(232),function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).initBirds=function(){for(var e=[],t=[],a=0;a<5;a++){var i=100*a+30*Math.random();a>=2.5&&(i=100*(5-a)+30*Math.random());var r=i-300,s=80*a+10*Math.random();e[a]=r,t[a]=s}n.setState({birdInitialsX:e,birdInitialsY:t,flyDirection:!0})},n.updateBirds=function(){var e=n.state.windowWidth+600,t=n.state,a=t.flyIndex;t.flyDirection;if(a>e)n.setState((function(e){return{flyDirection:Math.random()>.5,flyIndex:0,numVisibleBirds:Math.floor(4*Math.random()+2)}}));else{n.setState({flyIndex:n.state.flyIndex+5})}},n.getBird=function(e){var t=n.getBirdLocation(e);return i.a.createElement(ze,{title:"",content:i.a.createElement("div",{className:"bird "+(n.state.flyDirection?"flippedX":"")}),width:80,key:e,windowStyle:{background:"transparent"},height:60,px:t.x,py:t.y})},n.getBirdLocation=function(e){var t=n.state,a=t.numVisibleBirds,i=t.flyIndex,r=t.flyDirection,s=t.birdInitialsX,o=t.birdInitialsY,l=t.windowWidth,c={};return e<a?r?(c.x=i+s[e],c.y=o[e]+50*Math.sin(c.x/100),c.y=Math.floor(c.y)):(c.x=l+100-(i+s[e]),c.y=o[e]+50*Math.sin(c.x/100),c.y=Math.floor(c.y)):(c.x=-1e3,c.y=-1e3),c},n.state={birdInitialsX:[],birdInitialsY:[],numVisibleBirds:4,flyIndex:0,flyDirection:!0},n}return Object(d.a)(a,[{key:"componentDidMount",value:function(){this.initBirds(),this.interval=setInterval(this.updateBirds,50)}},{key:"componentWillUnmount",value:function(){clearInterval(this.interval)}},{key:"render",value:function(){var e=this;return i.a.createElement("div",{className:"birds"},this.state.birdInitialsX.map((function(t,a){return e.getBird(a)})))}}]),a}(i.a.Component)),ut=[],mt=[],ht=!1,pt=13;function vt(){var e=1e4*Math.sin(pt++);return e-Math.floor(e)}var wt=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(e){var n;Object(c.a)(this,a),(n=t.call(this,e)).state={island:"https://www.google.com/maps/embed?pb=!4v1591730465198!6m8!1m7!1sCAoSLEFGMVFpcFBTYW9SYVFBMmR0QjhoeTVaSUs5R3lQaGJBNVB5dVhFQ2o0UVdW!2m2!1d-17.3611139!2d177.1339841!3f99.14217177224654!4f16.212409154729073!5f0.5970117501821992",windowWidth:window.innerWidth,windowHeight:window.innerHeight,urlIndex:0},n.svFrame={};return n.svFrame.w=480,n.svFrame.h=288,n.svFrame.x=.3*(window.innerWidth-n.svFrame.w),n.svFrame.y=.4*(window.innerHeight-n.svFrame.h-30),n.controller={},n.controller.w=250,n.controller.h=60,n.controller.y=n.svFrame.h+n.svFrame.y+30,n.controller.x=(window.innerWidth-n.controller.w)/2,n.onRender=n.onRender.bind(Object(p.a)(n)),n}return Object(d.a)(a,[{key:"componentDidMount",value:function(){this.updateDimensions(),window.addEventListener("resize",this.updateDimensions.bind(this)),this.props.userSetRoom("hard-drives"),console.log("https://poly.google.com/view/3NwnG7YRk7A"),console.log("Thanks to Slanted Studios for the bird gif: https://giphy.com/media/l3Uchq9s6Hx0aK8F2/giphy.gif")}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.updateDimensions.bind(this)),this.props.userLeaveRoom("hard-drives")}},{key:"updateDimensions",value:function(){this.setState({windowWidth:window.innerWidth,windowHeight:window.innerHeight})}},{key:"onSceneReady",value:function(e){lt=new Date,st=new Re.AnaglyphUniversalCamera("af_cam",new Re.Vector3(0,32,-20),.033,e),e.clearColor=Re.Color3.Black(),st.setTarget(new Re.Vector3(0,32,0));var t=e.getEngine().getRenderingCanvas();st.attachControl(t,!0),st.inputs.removeByType("FreeCameraKeyboardMoveInput"),new Re.HemisphericLight("light1",new Re.Vector3(0,1,0),e).intensity=1.7,function(e){new Re.AssetContainer(e);var t=window.AWS+"/hardDrives/palm/";Re.SceneLoader.LoadAssetContainer(t,"QueenPalmTree.obj",e,(function(e){var t=e.meshes,a=[{x:-5,y:0,z:-2},{x:5,y:0,z:-2},{x:4,y:0,z:-10},{x:-4,y:0,z:-10}];t[1].rotation.y=0,t[1].scaling=new Re.Vector3(4,4,4),t[1].position.x=4*a[0].x,t[1].position.y=4*a[0].y,t[1].position.z=4*a[0].z,ut.push(t[1]),e.addAllToScene(),ot.addToRenderList(ut[0]);for(var n=1;n<a.length;n++){var i=e.instantiateModelsToScene().rootNodes[1];i.rotation.y=1.5*Math.PI,i.position.x=4*a[n].x,i.position.z=4*a[n].z,ut.push(i),ot.addToRenderList(i)}}))}(e);var a=new Re.Texture(window.AWS+"/shared/black_sand.jpg",e);a.vScale=a.uScale=20;var n=new Re.StandardMaterial("groundMaterial",e);n.diffuseTexture=a;var i=Re.Mesh.CreateGround("ground",512,512,32,e,!1);i.position.y=-1,i.rotation.y=Math.PI/2,i.material=n;var r=Re.Mesh.CreateGround("waterMesh",2048,2048,32,e,!1);(ot=new De.WaterMaterial("water",e,new Re.Vector2(1024,1024))).backFaceCulling=!0,ot.bumpTexture=new Re.Texture(window.AWS+"/shared/waterbump.png",e),ot.windForce=-5,ot.waveHeight=.8,ot.bumpHeight=.3,ot.waveLength=.3,ot.waterColor=new Re.Color3(0,0,.1),ot.colorBlendFactor=0,ot.addToRenderList(i),r.material=ot,function(e){var t;t=Re.Mesh.CreateBox("skyBox",1e3,e);var a=new Re.StandardMaterial("skyBox",e);a.backFaceCulling=!1,a.reflectionTexture=new Re.CubeTexture(window.AWS+"/hardDrives/skybox/skybox",e),a.reflectionTexture.coordinatesMode=Re.Texture.SKYBOX_MODE,a.diffuseColor=new Re.Color3(0,0,0),a.specularColor=new Re.Color3(0,0,0),a.disableLighting=!0,t.material=a,t&&ot.addToRenderList(t)}(e),function(e,t){var a=window.AWS+"/hardDrives/Corona/";Re.SceneLoader.LoadAssetContainer(a,"Corona2.obj",e,(function(e){var a=e.meshes[1];e.addAllToScene(),t.addToRenderList(a);for(var n=[{},{id:0,pos:{x:88,y:0,z:128},rot:{x:0,y:0,z:0}},{id:1,pos:{x:38,y:0,z:78},rot:{x:0,y:0,z:0}},{id:2,pos:{x:68,y:0,z:108},rot:{x:0,y:0,z:0}},{id:3,pos:{x:0,y:0,z:108},rot:{x:0,y:0,z:0}},{id:4,pos:{x:-88,y:0,z:98},rot:{x:0,y:0,z:0}},{id:5,pos:{x:-78,y:0,z:68},rot:{x:0,y:0,z:0}},{id:6,pos:{x:3,y:0,z:148},rot:{x:0,y:0,z:0}},{id:7,pos:{x:4,y:0,z:28},rot:{x:0,y:0,z:0}},{id:8,pos:{x:-40,y:0,z:-98},rot:{x:0,y:0,z:0}},{id:8,pos:{x:-70,y:0,z:98},rot:{x:0,y:0,z:0}},{id:0,pos:{x:88,y:0,z:-128},rot:{x:0,y:0,z:0}},{id:1,pos:{x:38,y:0,z:-78},rot:{x:0,y:0,z:0}},{id:2,pos:{x:68,y:0,z:-108},rot:{x:0,y:0,z:0}},{id:3,pos:{x:0,y:0,z:-108},rot:{x:0,y:0,z:0}},{id:4,pos:{x:-88,y:0,z:-98},rot:{x:0,y:0,z:0}},{id:5,pos:{x:-78,y:0,z:-68},rot:{x:0,y:0,z:0}},{id:6,pos:{x:3,y:0,z:-148},rot:{x:0,y:0,z:0}},{id:0,pos:{x:188,y:0,z:48},rot:{x:0,y:0,z:0}},{id:1,pos:{x:138,y:0,z:28},rot:{x:0,y:0,z:0}},{id:2,pos:{x:168,y:0,z:0},rot:{x:0,y:0,z:0}},{id:3,pos:{x:100,y:0,z:-20},rot:{x:0,y:0,z:0}},{id:0,pos:{x:-188,y:0,z:30},rot:{x:0,y:0,z:0}},{id:1,pos:{x:-138,y:0,z:20},rot:{x:0,y:0,z:0}},{id:2,pos:{x:-168,y:0,z:0},rot:{x:0,y:0,z:0}},{id:3,pos:{x:-100,y:0,z:-18},rot:{x:0,y:0,z:0}}],i=1;i<n.length;i++){var r=e.instantiateModelsToScene().rootNodes[0];r.rotation.y=vt()*Math.PI*2,r.rotation.x=Math.PI,r.rotation.z=.6*vt()-.3,r.position.y=2,r.position.x=n[i].pos.x,r.position.z=n[i].pos.z,mt.push(r),t.addToRenderList(r)}}))}(e,ot)}},{key:"onRender",value:function(e){for(var t=0;t<ut.length;t++){var a=t%2===0?1:-1;ut[t].rotation.y+=.005*a}var n=new Date;!ht&&n-lt>5e3&&(ht=!0);var i=document.getElementById("fps");i&&(i.innerHTML=e.getEngine().getFps().toFixed()+" fps")}},{key:"nextIsland",value:function(){var e=this.state.urlIndex;e++,e%=this.beaches.length,console.log("beaches",this.beaches[e],e),this.setState({urlIndex:e,island:this.beaches[e]})}},{key:"render",value:function(){return i.a.createElement("div",{className:"HardDrives Sketch"},i.a.createElement(We,{antialias:!0,onSceneReady:this.onSceneReady,onRender:this.onRender,id:"babylon-canvas"}),i.a.createElement(C,{title:"hard drives on seashores",content:i.a.createElement("iframe",{title:"island view",src:this.state.island,width:this.svFrame.w,height:this.svFrame.h,frameBorder:"0",allowFullScreen:"","aria-hidden":"false",tabIndex:"0"}),width:this.svFrame.w,height:this.svFrame.h,x:this.svFrame.x,y:this.svFrame.y}),i.a.createElement(dt,null),i.a.createElement(pe,null))}}]),a}(i.a.Component);a(233);function ft(e){return i.a.createElement(C,{title:e.title,isMinimized:e.isMinimized,isHidden:e.isHidden,content:i.a.createElement("img",{className:"grid-img",width:e.dimW+"px",height:e.dimW+"px",src:e.src,alt:"3d grid background"}),width:e.dimW,height:e.dimW,x:e.dimX,y:e.dimY})}var gt,yt,bt,xt=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).startTime=0,n.state={currentFrame:14,increasing:!0,windowWidth:window.innerWidth,windowHeight:window.innerHeight,currentText:"wasted"},n.gridNum=8,n.setFrame=n.setFrame.bind(Object(p.a)(n)),n.setText=n.setText.bind(Object(p.a)(n)),n.heightBuffer=70,n.words=["wasted","days","are","days","wasted"],n}return Object(d.a)(a,[{key:"componentDidMount",value:function(){this.updateDimensions(),this.startTime=new Date,window.addEventListener("resize",this.updateDimensions.bind(this)),this.intervalFrames=setInterval(this.setFrame,200),this.props.userSetRoom("wasted-days")}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.updateDimensions.bind(this)),clearInterval(this.intervalFrames),this.props.userLeaveRoom("wasted-days")}},{key:"updateDimensions",value:function(){this.setState({windowWidth:window.innerWidth,windowHeight:window.innerHeight})}},{key:"setText",value:function(){var e=Math.floor((this.state.currentFrame+1)/2);e>=this.words.length?e=this.words.length-1:e<0&&(e=0);var t=this.words[e];t&&(t=t.toUpperCase()),this.setState({currentText:t})}},{key:"setFrame",value:function(){var e=this.state.currentFrame;this.state.increasing?++e>this.gridNum&&(e=this.gridNum,this.setState({increasing:!1})):--e<-2&&(e=-1,this.setState({increasing:!0})),this.setState({currentFrame:e}),this.setText()}},{key:"render",value:function(){var e=this,t=this.state,a=t.windowWidth,n=t.windowHeight,r=a/10;r>180&&(r=180);for(var s=[],o=0;o<this.gridNum;o++)s.push(o);return i.a.createElement("div",{className:"Spacetimes Sketch"},i.a.createElement("div",{className:"palindrome",style:{visibility:"visible",fontSize:r}},this.state.currentText),s.map((function(t){var r=a/1e3;r>1?r=1:r<.8&&(r=.5);var s=(980-100*t)*r,o=a/2-s/2,l=(n-e.heightBuffer)/2-s/2,c=e.words[(7-t)%(e.words.length-1)];return s<150&&(c="..."),i.a.createElement(ft,{title:c,isMinimized:!1,isHidden:e.state.currentFrame<t,dimW:s,dimH:s,key:t,src:window.AWS+"/spacetimes/parrot.png",dimX:o,dimY:l})})))}}]),a}(i.a.Component);a(234);function Et(e){var t=1e4*Math.sin(e);return t-Math.floor(t)}function St(e,t){for(var a=t[e],n=0,i=[],r=0;r<t.length;r++)t[r]>n&&(n=t[r]),t[r]>a?i[r]=t[r]-1:i[r]=t[r];return i[e]=n,i}var kt,Ct=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).poolVid0=window.AWS+"/mars/pool/mars_0.mp4",n.poolVid1=window.AWS+"/mars/pool/mars_1.mp4",n.poolVid2=window.AWS+"/mars/pool/mars_2.mp4",n.poolVid3=window.AWS+"/mars/pool/mars_3.mp4",n.state={windowWidth:window.innerWidth,windowHeight:window.innerHeight,chairY:0,radioValue:"5ft",poolVid:n.poolVid1,swimmerPos:[{y:3,dir:1},{y:2,dir:-1}]},n.buttonClick=n.buttonClick.bind(Object(p.a)(n)),n.chairUpdate=n.chairUpdate.bind(Object(p.a)(n)),n.handleRadioChange=n.handleRadioChange.bind(Object(p.a)(n)),n.getSwimmerLanes=n.getSwimmerLanes.bind(Object(p.a)(n)),n.changeSwimLane=n.changeSwimLane.bind(Object(p.a)(n)),n.numSwimmers=8,n}return Object(d.a)(a,[{key:"componentDidMount",value:function(){this.chairInterval=setInterval(this.chairUpdate,50),this.swimInterval=setInterval(this.changeSwimLane,400),this.props.addClass("overflow-all"),this.props.userSetRoom("esc-to-mars")}},{key:"componentWillUnmount",value:function(){clearInterval(this.chairInterval),clearInterval(this.swimInterval),this.props.userLeaveRoom("esc-to-mars")}},{key:"chairUpdate",value:function(){this.setState({chairY:this.state.chairY+2})}},{key:"onSceneReady",value:function(e){gt=new Re.AnaglyphUniversalCamera("af_cam",new Re.Vector3(0,8,-5),.033,e),e.clearColor=new Re.Color4(0,0,0,0),gt.setTarget(new Re.Vector3(4,-8,-2));var t=e.getEngine().getRenderingCanvas();gt.attachControl(t,!0),new Re.HemisphericLight("light1",new Re.Vector3(0,1,0),e).intensity=.7;var a=Re.Mesh.CreateBox("skyBox",1e3,e),n=new Re.StandardMaterial("skyBox",e);n.backFaceCulling=!1,n.reflectionTexture=new Re.CubeTexture(window.AWS+"/mars/skybox/grid",e),n.reflectionTexture.coordinatesMode=Re.Texture.SKYBOX_MODE,n.diffuseColor=new Re.Color3(0,0,0),n.specularColor=new Re.Color3(0,0,0),n.disableLighting=!0,a.material=n,(bt=Re.Mesh.CreateGround("waterMesh",512,512,32,e,!1)).position.y=-9,(yt=new De.WaterMaterial("water",e,new Re.Vector2(1024,1024))).backFaceCulling=!0,yt.bumpTexture=new Re.Texture(window.AWS+"/shared/waterbump.png",e),yt.windForce=-5,yt.waveHeight=.8,yt.bumpHeight=.3,yt.waveLength=.3,yt.colorBlendFactor=0,yt.addToRenderList(a),bt.material=yt}},{key:"buttonClick",value:function(e){var t=[this.poolVid0,this.poolVid1,this.poolVid2,this.poolVid3];this.setState({poolVid:t[e]})}},{key:"onRender",value:function(e){var t=document.getElementById("fps");t&&(t.innerHTML=e.getEngine().getFps().toFixed()+" fps")}},{key:"render",value:function(){var e=this,t=(this.props.dimensions,{x:Math.max((window.innerWidth-1275)/2,0),h:640,y:25,w:0});t.w=548/1080*t.h;var a={w:600,h:200,x:t.x+t.w+25,y:t.y},n={w:300,h:300,x:a.x+a.w+25,y:t.y},r={w:a.w,h:t.h-a.h-25-26,y:a.y+a.h+26+25,x:t.x+t.w+25},s={w:500,h:152,x:n.x+n.w-500,y:t.y+t.h-152},o={w:80,h:316.8,x:r.x+30,y:r.y+50};this.numSwimmers=Math.ceil(o.h/36.9);var l={w:n.w,h:t.h-n.h-s.h-52-50,x:n.x,y:n.h+n.y+26+25},c=this.state.chairY,d={color:"red",backgroundPosition:"".concat(c,"px 0")};return i.a.createElement("div",{className:"Mars Sketch"},i.a.createElement(C,{title:"esc to mars",content:i.a.createElement("div",{className:"bigCrater",style:{height:"".concat(t.h,"px"),backgroundSize:"".concat(t.w,"px ").concat(t.h,"px")}},i.a.createElement("video",{className:"poolVid",key:this.state.poolVid,style:{height:"".concat(t.h,"px"),width:"".concat(t.w,"px")},autoPlay:!0,muted:!0,loop:!0},i.a.createElement("source",{src:this.state.poolVid,type:"video/mp4"}),"Your browser does not support HTML5 video.")),width:t.w,height:t.h,x:t.x,y:t.y}),i.a.createElement(C,{title:"",content:i.a.createElement("div",{className:"smallCrater"},i.a.createElement("div",{className:"bubbles"},i.a.createElement("img",{src:window.AWS+"/mars/bubbles3.gif",width:n.w,height:n.h}))),width:n.w,height:n.h,x:n.x,y:n.y}),i.a.createElement(C,{title:"",content:i.a.createElement("div",{className:"tank"},i.a.createElement("button",{onClick:function(){e.buttonClick(3)}},i.a.createElement("span",{className:"swimSign"},"0"),"ft"),i.a.createElement("button",{onClick:function(){e.buttonClick(2)}},i.a.createElement("span",{className:"swimSign"},"3"),"ft"),i.a.createElement("button",{onClick:function(){e.buttonClick(1)}},i.a.createElement("span",{className:"swimSign"},"5"),"ft"),i.a.createElement("button",{onClick:function(){e.buttonClick(0)}},i.a.createElement("span",{className:"swimSign"},"8"),"ft")),width:l.w,height:l.h,x:l.x,y:l.y}),i.a.createElement(C,{title:"",content:i.a.createElement("div",{className:"blueChair",style:d}),width:a.w,height:a.h,x:a.x,y:a.y}),i.a.createElement(C,{title:"",content:i.a.createElement(We,{className:"noSelect fullContent",antialias:!0,onSceneReady:this.onSceneReady,onRender:this.onRender,id:"babylon-canvas"}),width:r.w,height:r.h,x:r.x,y:r.y}),i.a.createElement(C,{title:"",content:i.a.createElement("div",{className:"diving"}),width:s.w,height:s.h,x:s.x,y:s.y}),i.a.createElement(C,{title:"",content:i.a.createElement("div",{className:"umbrellas"},this.getSwimmerLanes(),i.a.createElement("div",{className:"waterCover"})),width:o.w,height:o.h,windowStyle:{background:"black"},x:o.x,y:o.y}),i.a.createElement(pe,null))}},{key:"changeSwimLane",value:function(){for(var e=Object(l.a)(this.state.swimmerPos),t=0;t<e.length;t++){var a=Object(o.a)({},e[t]);1===a.dir?(a.y++,a.y>=this.numSwimmers&&(a.y=this.numSwimmers-1,a.dir=-1)):(a.y--,a.y<0&&(a.y=0,a.dir=1)),e[t]=a}this.setState({swimmerPos:e})}},{key:"getSwimmerLanes",value:function(){for(var e=this.state.swimmerPos,t=e[0].y,a=e[0].dir,n=e[1].y,r=e[1].dir,s=[],o=0;o<this.numSwimmers;o++)s[o]=o;return i.a.createElement("div",{className:"lanes"},s.map((function(e){var s="",o="",l="water",c="water";return e==t&&(s=i.a.createElement("img",{height:40,width:40,src:window.AWS+"/mars/womanswim.png"}),l=1===a?"rot":"rotNeg90"),e==n&&(o=i.a.createElement("img",{height:40,width:40,src:window.AWS+"/mars/manswim.png"}),c=1===r?"rot90":"rotNeg90"),i.a.createElement("div",{key:e,className:"swimRow"},i.a.createElement("span",{className:l},s),i.a.createElement("span",{className:c},o))})))}},{key:"getLabel",value:function(e){return i.a.createElement("div",null,i.a.createElement("span",{className:"swimSign"},e),"ft")}},{key:"handleRadioChange",value:function(e){this.setState({radioValue:e.target.value}),console.log(e.target.value)}}]),a}(i.a.Component),jt=(a(235),[]);function Ot(e){var t=[],a=0;e.setup=function(){e.createCanvas(e.windowWidth,e.windowHeight),kt=e.loadImage("https://lmd-bucket.s3.us-east-2.amazonaws.com/sketches/wetStreams/wateremoji.png",(function(t){return e.createEmojisTransparent()}))},e.myCustomRedrawAccordingToNewPropsHandler=function(a){if(a.origins)if(0===t.length)for(var n=0;n<a.origins.length;n++){var i=a.origins[n].x+a.offsets[n].x,r=a.origins[n].y+a.offsets[n].y;t[n]=new Nt(e,e.createVector(i,r),a.velocities[n].velX,a.velocities[n].velY,a.degrees[n],a.isPlaying[n]),t[n].initParticles(40)}else for(var s=0;s<t.length;s++){var o=a.origins[s].x+a.offsets[s].x+a.deltas[s].x,l=a.origins[s].y+a.offsets[s].y+a.deltas[s].y,c=a.isPlaying[s];t[s].origin.set(o,l,0),t[s].isPlaying=c}},e.createEmojisTransparent=function(){for(var t=0;t<5;t++)jt[t]=e.createGraphics(34,34),jt[t].clear(),jt[t].tint(255,e.map(t,-1,4,0,255)),jt[t].image(kt,0,0,34,34)},e.draw=function(){a+=.1,e.clear(),t.length>0&&t.forEach((function(e){e.run(a)}))}}function Mt(e,t,a,n,i,r){this.p5=e,this.acceleration=this.p5.createVector(0,0),this.gravity=this.p5.createVector(0,.1),this.velX=n,this.velY=i,this.deg=r,this.velocity=this.p5.createVector(this.p5.random(n.min,n.max),this.p5.random(i.min,i.max)),this.positionOG=this.p5.createVector(t.x,t.y),this.position=this.p5.createVector(t.x,t.y),this.lifespan=0,this.r=15*Math.random()+8,this.id=a,this.launched=!1,this.run=function(e,t){this.update(e,t),this.display(e)},this.update=function(e,t){this.launched&&(this.acceleration.add(this.gravity),this.velocity.add(this.acceleration),this.position.add(this.velocity),this.acceleration.mult(0),this.lifespan+=1,this.isDead(t))},this.display=function(e){if(this.launched){this.p5.noStroke();var t=this.p5.map(this.lifespan,0,60,255,0);this.p5.fill(0,t),this.p5.textSize(30),this.p5.push(),this.p5.translate(this.position.x,this.position.y),this.p5.rotate(this.p5.radians(this.deg));var a=this.p5.map(this.lifespan,40,0,0,jt.length-1);a=this.p5.floor(a),kt&&jt[a]&&this.p5.image(jt[a],0,-24),this.p5.pop()}},this.isDead=function(e){this.lifespan>40&&(this.launched=!1)},this.launch=function(e){return!this.launched&&(this.lifespan=0,this.launched=!0,this.positionOG=this.p5.createVector(e.x,e.y),this.position=this.p5.createVector(e.x,e.y),this.velocity=this.p5.createVector(this.p5.random(n.min,n.max),this.p5.random(i.min,i.max)),!0)}}function Nt(e,t,a,n,i,r){this.p5=e,this.particles=[],this.numParticle=0,this.origin=this.p5.createVector(t.x,t.y),this.percent=0,this.launchIndex=0,this.velX=a,this.velY=n,this.deg=i,this.isPlaying=r,this.initParticles=function(e){for(var t=0;t<e;t++)this.addParticle(t)},this.launchParticle=function(){this.particles[this.launchIndex%this.particles.length].launch(this.origin)&&this.launchIndex++},this.setPercent=function(e){this.percent=e},this.addParticle=function(e){this.particles.push(new Mt(this.p5,this.origin,e,this.velX,this.velY,this.deg))},this.run=function(e){var t=this;this.particles.forEach((function(a){a.run(e,t.origin)})),this.isPlaying&&this.launchParticle()}}var Rt=function(e){Object(u.a)(n,e);var t=Object(m.a)(n);function n(e){var a;Object(c.a)(this,n),(a=t.call(this,e)).handleDrag=function(e,t){var n=t.deltaX,i=t.deltaY,r=Object(l.a)(a.state.deltaPositions),s=Object(o.a)({},r[e]);s.x+=n,s.y+=i,r[e]=s,a.setState({deltaPositions:r})},a.startW=window.innerWidth,a.startH=window.innerHeight;return a.spacing=15,a.state={windowWidth:window.innerWidth,windowHeight:window.innerHeight,showerFrame:{w:300,h:300,x:(window.innerWidth-900-2*a.spacing)/2,y:Math.max((window.innerHeight-34-52-600-a.spacing)/2,a.spacing)},deltaPositions:[{x:0,y:0},{x:0,y:0},{x:0,y:0},{x:0,y:0},{x:0,y:0},{x:0,y:0}],isPlaying0:!0,isPlaying1:!0,percent0:0,percent1:1,playingStreams:[!0,!0,!0,!0,!0,!0]},a.handleDrag=a.handleDrag.bind(Object(p.a)(a)),a.playStreamReset=a.playStreamReset.bind(Object(p.a)(a)),a.toggleHandler=a.toggleHandler.bind(Object(p.a)(a)),a}return Object(d.a)(n,[{key:"componentDidMount",value:function(){this.updateDimensions(),window.addEventListener("resize",this.updateDimensions.bind(this)),this.interval=setInterval(this.playStreamReset,4e3),this.props.userSetRoom("wet-streams")}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.updateDimensions.bind(this)),clearInterval(this.interval),this.props.userLeaveRoom("wet-streams")}},{key:"updateDimensions",value:function(){var e=this.state.showerFrame;e.x=(window.innerWidth-3*e.w-2*this.spacing)/2,e.y=Math.max((window.innerHeight-34-52-2*e.h-this.spacing)/2,this.spacing),this.setState({windowWidth:window.innerWidth,windowHeight:window.innerHeight}),this.setState({showerFrame:e})}},{key:"playStreamReset",value:function(){for(var e=this.state.playingStreams,t=0;t<e.length;t++)e[t]=Math.random()>.5;this.setState({playingStreams:e})}},{key:"toggleHandler",value:function(e,t){var a=this.state.playingStreams;a[e]=t,this.setState({playingStreams:a})}},{key:"render",value:function(){for(var e=this,t=this.state,n=(t.windowWidth,t.windowHeight,t.showerFrame),r=t.playingStreams,s=[],o=n.x,l=n.y,c=0;c<3;c++)s[c]={x:o+c*(n.w+this.spacing),y:l},s[c+3]={x:o+c*(n.w+this.spacing),y:l+n.h+this.spacing+26};for(var d=[{x:215,y:328},{x:215,y:215},{x:50,y:195},{x:132,y:254},{x:260,y:335},{x:285,y:330}],u=0,m=d;u<m.length;u++){var h=m[u],p=n.w/400;h.x*=p,h.y*=p}return i.a.createElement("div",{className:"WetStreams Sketch"},[7,1,3,4,8,10].map((function(t,o){var l="";1===o&&(l="wet streams");var c=(e.state.windowWidth-e.startW)/2,d=(e.state.windowHeight-e.startH)/2;r[o];return function(e,t,n,r,s,o,l,c,d,u,m,h){return i.a.createElement(C,{key:e,id:e,onDrag:d,title:m,content:i.a.createElement("div",{className:5===e?"showerhead flippedX":"showerhead"},i.a.createElement("img",{src:a(236)("./"+c+".png"),style:{width:o+"px",height:l+"px"},alt:"shower head"})),width:o,height:l,x:t,y:n,dx:r,dy:s})}(o,s[o].x,s[o].y,c,d,n.w,n.h,t,e.handleDrag,0,l)})),";",i.a.createElement(we.a,{className:"p5sketch",sketch:Ot,origins:s,offsets:d,velocities:[{velX:{min:-.8,max:5},velY:{min:-.5,max:0}},{velX:{min:-5,max:2},velY:{min:-.5,max:0}},{velX:{min:-5,max:.8},velY:{min:-.5,max:0}},{velX:{min:-5,max:.8},velY:{min:-.5,max:0}},{velX:{min:-5,max:5},velY:{min:-.5,max:0}},{velX:{min:-.5,max:5},velY:{min:-.5,max:0}}],deltas:this.state.deltaPositions,degrees:[0,60,90,80,40,0],isPlaying:r}),i.a.createElement(pe,null))}}]),n}(i.a.Component),Wt=(a(119),a(90)),Dt=a.n(Wt),zt=a(31),Tt=a(43),It=a.n(Tt),Lt=a(35),Bt=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).getEmojis=function(){return n.props.emojis.map((function(e,t){var a=e.id,n=window.AWS+"/waveforms/emojis/"+["prayer","communion","praise","open","halo"][a]+".png";return i.a.createElement("img",{key:t,src:n,style:{top:"".concat(e.y,"px"),left:"".concat(e.x,"px"),opacity:e.opacity}})}))},n}return Object(d.a)(a,[{key:"render",value:function(){var e=this.props.emojis;return i.a.createElement("div",{className:"emojis"},e?this.getEmojis():i.a.createElement("div",null))}}]),a}(i.a.Component),At=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).updateEmojis=function(){new Date;var e=Object(l.a)(n.state.emojis);if(e.length>0){for(var t=0;t<e.length;t++){var a=Object(o.a)({},e[t]);e[t]=a,a&&(a.y-=12,a.y<0?(e.splice(t,1),t--):(a.x=a.startX+30*Math.sin(a.y/70),a.opacity=(a.y-80)/window.innerHeight,a.opacity<0?a.opacity=0:a.opacity>1&&(a.opacity=1)))}n.setState({emojis:e})}},n.addEmoji=function(e){console.log("ADD EMOJI",e);var t={startX:Math.random()*window.innerWidth,x:0,y:window.innerHeight-50,opacity:1,id:e};n.setState((function(e){return{emojis:[].concat(Object(l.a)(e.emojis),[t])}}))},n.state={emojis:[]},n}return Object(d.a)(a,[{key:"componentDidMount",value:function(){this.intervalEmoji=setInterval(this.updateEmojis,50)}},{key:"componentWillUnmount",value:function(){clearInterval(this.intervalEmoji)}},{key:"render",value:function(){var e=this,t=this.state.emojis;return i.a.createElement("div",null,i.a.createElement("div",{className:"bottomBar"},i.a.createElement("div",{className:"bar-vid"},i.a.createElement(Xe.a,{variant:"contained"},i.a.createElement(zt.a,{icon:Lt.d})),i.a.createElement(Xe.a,{variant:"contained"},i.a.createElement(zt.a,{icon:Lt.b}))),i.a.createElement("div",{className:"bar-emojis"},i.a.createElement(Xe.a,{variant:"contained",onClick:function(){return e.addEmoji(0)}},i.a.createElement("img",{src:window.AWS+"/waveforms/emojis/prayer.png"})),i.a.createElement(Xe.a,{variant:"contained",onClick:function(){return e.addEmoji(1)}},i.a.createElement("img",{src:window.AWS+"/waveforms/emojis/communion.png"})),i.a.createElement(Xe.a,{variant:"contained",onClick:function(){return e.addEmoji(2)}},i.a.createElement("img",{src:window.AWS+"/waveforms/emojis/praise.png"})),i.a.createElement(Xe.a,{variant:"contained",onClick:function(){return e.addEmoji(3)}},i.a.createElement("img",{src:window.AWS+"/waveforms/emojis/open.png"}))),i.a.createElement("div",{className:"bar-good-bad"},i.a.createElement(Xe.a,{variant:"contained"},i.a.createElement("img",{src:window.AWS+"/waveforms/emojis/halo.png"})),i.a.createElement(Xe.a,{variant:"contained"},i.a.createElement("img",{src:window.AWS+"/waveforms/emojis/devil.png"})))),i.a.createElement(Bt,{emojis:t}))}}]),a}(i.a.Component),Ht=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(e){var n;Object(c.a)(this,a),(n=t.call(this,e)).getTime=function(e){var t=e%60,a=Math.floor(e/60),n=Math.floor(a/60);return n<10&&(n="0"+n),t<10&&(t="0"+t),a+":"+t},n.updateTime=function(){var e=n.state.timeInc+1,t=n.getTime(e);n.setState({time:t,timeInc:e})},n.updateWatchers=function(){var e=n.state.watchers;Math.random()<.3?n.setState({watchers:e+1}):Math.random()<.6&&(e-1<1?n.setState({watchers:1}):n.setState({watchers:e-1}))};var i=Math.floor(300*Math.random());return n.state={timeInc:i,time:n.getTime(i),watchers:Math.floor(200*Math.random())},n}return Object(d.a)(a,[{key:"componentDidMount",value:function(){this.intervalTimer=setInterval(this.updateTime,1e3),this.intervalWatcher=setInterval(this.updateWatchers,2200)}},{key:"componentWillUnmount",value:function(){clearInterval(this.intervalTimer),clearInterval(this.intervalWatcher)}},{key:"render",value:function(){var e=this.state,t=e.time,a=e.watchers;return i.a.createElement("div",{className:"liveStream"},i.a.createElement("span",{className:"live"},"LIVE"),i.a.createElement("span",{className:"time"},t),i.a.createElement("span",{className:"eye"},i.a.createElement(zt.a,{icon:Lt.a})," ",a))}}]),a}(i.a.Component),Ft=(a(120),function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(e){var n;Object(c.a)(this,a),(n=t.call(this,e)).onSubmit=function(){alert("thanks for your submission. uploading to the cloud"),n.props.history.push("/confessions")};var r=.3;n.dimW=1584*r,n.dimH=1588*r,n.minVol=.01,r=1.4,n.videoConstraints={width:230*r,height:130*r,facingMode:"user"};n.tweetW=400;var s=Math.max((window.innerWidth-n.dimW-n.tweetW-120)/2,50),o=(window.innerHeight-n.dimH-26-30-60)/2+30;return n.state={windowWidth:window.innerWidth,windowHeight:window.innerHeight,windowX:s,windowY:o,tweetX:s+n.dimW+100,tweetY:o+20,webX:s+n.dimW+100,webY:o-50,earCursor:n.props.cursor,volume:n.minVol,timePeriod:"days",prayTo:"Kanye"},r=.1,n.updateDimensions=n.updateDimensions.bind(Object(p.a)(n)),n.resetPlayer=n.resetPlayer.bind(Object(p.a)(n)),n.handleChange=n.handleChange.bind(Object(p.a)(n)),n.memberRef0=i.a.createRef(),n}return Object(d.a)(a,[{key:"componentDidMount",value:function(){window.addEventListener("resize",this.updateDimensions),this.interval=setInterval(this.resetPlayer,22e3),this.props.userSetRoom("confessions")}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.updateDimensions),clearInterval(this.interval),this.props.userLeaveRoom("confessions")}},{key:"updateDimensions",value:function(){}},{key:"handleChange",value:function(e){this.setState({timePeriod:e.target.value})}},{key:"resetPlayer",value:function(){this.videoBack&&this.videoMain&&(this.videoBack.currentTime=0,this.videoMain.currentTime=.5)}},{key:"render",value:function(){var e=this,t=this.state;t.timePeriod,t.prayTo;return i.a.createElement("div",{className:"WaveForms Sketch"},i.a.createElement("div",{className:"confessions-form"},i.a.createElement(C,{className:"stairway",title:"cloud confessional",content:i.a.createElement("div",null,i.a.createElement("video",{autoPlay:!0,muted:!0,loop:!0,ref:function(t){e.videoMain=t},className:"react-player mainContent",width:this.dimW,height:this.dimH},i.a.createElement("source",{src:window.AWS+"/waveforms/waves2_lines.mp4",type:"video/mp4"})),i.a.createElement(Ht,null)),width:this.dimW,height:this.dimH,x:this.state.windowX,y:this.state.windowY}),i.a.createElement(C,{className:"doveFrame",title:"",windowStyle:{background:"transparent"},content:i.a.createElement("img",{src:window.AWS+"/waveforms/dove_t.gif",width:90,height:90}),width:90,height:90,x:this.state.windowX+this.dimW/2-45,y:this.state.windowY+this.dimH/2-45}),i.a.createElement("div",{className:"member",ref:this.memberRef0},i.a.createElement(C,{className:"static",content:i.a.createElement("div",null,i.a.createElement(It.a,{videoConstraints:this.videoConstraints}),i.a.createElement("img",{src:window.AWS+"/waveforms/divine.gif",width:"100%",height:"100%",style:{opacity:.3,position:"absolute",top:0,left:0}})),x:this.state.webX,y:this.state.webY,width:this.videoConstraints.width,height:this.videoConstraints.height})),i.a.createElement(Dt.a,{src:window.AWS+"/waveforms/shell_sound.wav",autoPlay:!0,volume:this.state.volume,controls:!1,loop:!0,ref:function(t){e.audioPlayer=t}}),i.a.createElement(C,{title:"",windowStyle:{background:"transparent"},content:i.a.createElement("div",{className:"confessional"},i.a.createElement("div",{className:"text-line0"},"Bless me"),i.a.createElement("select",{value:this.state.prayTo,onChange:this.handleChange},i.a.createElement("option",{value:"RBG"},"RBG"),i.a.createElement("option",{value:"Father"},"Father"),i.a.createElement("option",{value:"Mitch McConnel"},"Mitch McConnel"),i.a.createElement("option",{value:"Kanye"},"Kanye")),i.a.createElement("div",null,"for I have sinned. It has been:"),i.a.createElement("div",{className:"confessional-time"},i.a.createElement("div",{className:"confessional-box"},i.a.createElement("input",{type:"number",placeholder:"number"})),i.a.createElement("select",{value:this.state.timePeriod,onChange:this.handleChange},i.a.createElement("option",{value:"days"},"days"),i.a.createElement("option",{value:"months"},"months"),i.a.createElement("option",{value:"years"},"years"),i.a.createElement("option",{value:"never"},"never"))),i.a.createElement("div",{className:"text-line1"},"since I last went to confession."),i.a.createElement("div",{className:"multitext confessional-box"},i.a.createElement("textarea",{id:"outlined-multiline-static",label:"",multiline:!0,placeholder:"confession",className:"box text-line2"})),i.a.createElement("button",{className:"confessional-box",onClick:this.onSubmit},"submit")),width:this.tweetW,height:280,x:this.state.tweetX,y:this.state.tweetY}),i.a.createElement(At,null)),i.a.createElement(pe,{y:30}))}}]),a}(i.a.Component));var Pt=Object(h.f)(Ft),Ut=a(120);function Vt(){for(var e=[],t=0;t<8;t++)e[t]=t;return e}function Gt(){for(var e=[],t=0;t<8;t++)e[t]=t+100;return e}var Yt=a(55),_t=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).getTweet=function(e){var t=e.text,a=e.username,n=e.url,r=e.likes,s=e.rts,o=e.replies,l=e.time,c=e.tweetID,d="twitter.com/".concat(a,"/status/").concat(c),u="https://twitter.com/"+a,m=(d.substring(0,15),e.name);return m.length>24&&(m=m.substring(0,24)+"..."),i.a.createElement("div",{className:"tweet"},i.a.createElement("div",{className:"tweet-top"},i.a.createElement("div",{className:"tweeter-icon",style:{backgroundImage:"url(".concat(n,")")}},i.a.createElement("div",{className:"inner"})),i.a.createElement("div",{className:"tweeter"},i.a.createElement("div",{className:"person"},i.a.createElement("a",{href:u,target:"_blank"},m)),i.a.createElement("div",{className:"tweet-handle"},i.a.createElement("a",{href:u,target:"_blank"},"@",a))),i.a.createElement("div",{className:"tweet-time"},"\u2022 ",l)),i.a.createElement("div",{className:"tweet-content"},t),i.a.createElement("div",null,i.a.createElement("hr",null)),i.a.createElement("div",{className:"tweet-metrics"},i.a.createElement("div",{className:"comments"},i.a.createElement(zt.a,{icon:Yt.a}),i.a.createElement("span",null,r)),i.a.createElement("div",{className:"retweets"},i.a.createElement(zt.a,{icon:Lt.c}),i.a.createElement("span",null,s)),i.a.createElement("div",{className:"likes"},i.a.createElement(zt.a,{icon:Yt.b}),i.a.createElement("span",null,o))))},n}return Object(d.a)(a,[{key:"render",value:function(){return console.log("rendering tweeet"),this.props.tweet?this.getTweet(this.props.tweet):i.a.createElement("div",null,this.props.confession.txt)}}]),a}(i.a.Component),qt=function(e){var t=e.i,a=e.time,n=e.confession,r=e.tweet,s=e.onDblClick,o=e.zIcon,l=e.zFrame,c=e.newFrameToTop,d=e.newIconToTop,u=Et(t+30)*(window.innerWidth-100),m=15*Math.sin(a/400+u/100)+Et(t+3)*(window.innerHeight-200),h={x:100+20*t,y:100+20*t,w:400};return h.y=15*Math.sin(a/400+h.x/100)+h.y,i.a.createElement(Ce,{key:t,title:"#confession",onDblClick:function(){return s(t+1)},newFrameToTop:function(){c(t)},newIconToTop:function(){d(t)},x:u,y:m,zIcon:o,zFrame:l,box:h,content:i.a.createElement("img",{src:window.AWS+"/waveforms/txt-ligher.png",width:80,height:80}),frameContent:i.a.createElement("div",{className:"confession-txt"},i.a.createElement(_t,{confession:n,tweet:r}))})},Xt=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).addTweet=function(e,t,a){var r,s=Object(l.a)(n.state.tweets),o={};o.text=(r=t.text,Ut([{regex:/\@([a-z0-9_\-]+?)( |\,|$|\.|\:)/gim,fn:function(e,t){var a=t[0],n="https://twitter.com/"+a.substring(1,a.length);return i.a.createElement("a",{key:e,href:n,target:"_blank"},a)}},{regex:/(http|https):\/\/(\S+)\.([a-z]{2,}?)(.*?)( |\,|$|\.)/gim,fn:function(e,t){return i.a.createElement("span",{key:e},i.a.createElement("a",{target:"_blank",href:"".concat(t[1],"://").concat(t[2],".").concat(t[3]).concat(t[4])},t[2],".",t[3],t[4]),t[5])}},{regex:/\#([a-z0-9_\-]+?)( |\,|$|\.|\:)/gim,fn:function(e,t){var a=t[0],n="https://twitter.com/hashtag/".concat(a.substring(1,a.length),"?src=hashtag_click");return i.a.createElement("a",{key:e,href:n,target:"_blank"},a)}},{regex:/\&amp/,fn:function(e,t){return"&"}}])(r)),o.time="5s",o.tweetID=t.id,o.name=a.name,o.url=a.profile_image_url,o.username=a.username,o.likes=t.public_metrics.like_count,o.rts=t.public_metrics.retweet_count,o.replies=t.public_metrics.reply_count,0===e?s[0]=o:s.push(o),n.setState({tweets:s})},n.newFrameToTop=function(e){var t=St(e,n.state.zIndicesFrames);n.setState({zIndicesFrames:t})},n.newIconToTop=function(e){console.log("id",e);var t=St(e,n.state.zIndicesIcons);n.setState({zIndicesIcons:t})},n.onDblClick=function(e){n.newFrameToTop(e)},n.state={confessions:[{txt:"I am not thinking about my partner during sex."},{txt:"I said I love you but I didn't mean it."},{txt:"I took a macbook mouse from work"},{txt:"I cursed at God because honestly, what is going on here."},{txt:"I told my neighbors they were little brats"},{txt:"I said I hoped my boss would burn in hell."},{txt:"When I was diagnosed I was angry. It just felt so unfair. I blamed my husband, my myself, my kids. But most of all, I blamed God."},{txt:"No body tells you what's right. I mean, I guess God is supposed to do that, but I've lost hope that anyone's on the receiving end. If he'd just give me a sign or something maybe I wouldn't have so many doubts."}],tweets:[],time:0,zIndicesIcons:Vt(),zIndicesFrames:Gt()},n.fetchTweets=n.fetchTweets.bind(Object(p.a)(n)),n.addTweet=n.addTweet.bind(Object(p.a)(n)),n}return Object(d.a)(a,[{key:"componentDidMount",value:function(){var e=this;this.interval=setInterval((function(){return e.setState({time:Date.now()})}),30),this.fetchTweets(),this.props.userSetRoom("confessions")}},{key:"componentWillUnmount",value:function(){clearInterval(this.interval),this.props.userLeaveRoom("confessions")}},{key:"fetchTweets",value:function(){var e=Object(Q.a)(J.a.mark((function e(){var t,a,n,i,r,s,o,l=this;return J.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"/api/get/tweets/%23confession",e.next=3,fetch("/api/get/tweets/%23confession");case 3:return t=e.sent,e.next=6,t.json();case 6:if((a=e.sent).tweets.data){n=0,i=a.tweets.includes.users,console.log("USERS",i),r=Object(H.a)(a.tweets.data);try{for(o=function(){var e=s.value,t=e.author_id,a=i.filter((function(e){return e.id==t}));a[0]&&e&&l.addTweet(n++,e,a[0])},r.s();!(s=r.n()).done;)o()}catch(c){r.e(c)}finally{r.f()}}else console.log("NO TWEETS");console.log("DONE",this.state.tweets);case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,t=this.state,a=t.confessions,n=t.tweets,r=t.time,s=t.zIndicesIcons,o=t.zIndicesFrames;return i.a.createElement("div",{className:"WaveForms Sketch"},a.map((function(t,l){var c={zIcon:s[l],zFrame:o[l],time:r,tweet:n[l],confession:a[l],onDblClick:e.onDblClick,newFrameToTop:e.newFrameToTop,newIconToTop:e.newIconToTop};return i.a.createElement(qt,Object.assign({key:l,i:l},c))})),i.a.createElement(pe,{y:30}))}}]),a}(i.a.Component);a(251);i.a.Component;var Kt,Jt,Qt,$t,Zt,ea,ta,aa,na=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).state={},n}return Object(d.a)(a,[{key:"componentDidMount",value:function(){}},{key:"componentWillUnmount",value:function(){}},{key:"mod",value:function(e,t){return(e%t+t)%t}},{key:"onSceneReady",value:function(e){Kt=new Re.AnaglyphUniversalCamera("af_cam",new Re.Vector3(0,8,-5),.033,e),e.clearColor=new Re.Color4(0,0,0,0),Kt.setTarget(new Re.Vector3(11,4,-2));e.getEngine().getRenderingCanvas();new Re.HemisphericLight("light1",new Re.Vector3(0,1,0),e).intensity=.7,(Qt=Re.Mesh.CreateGround("waterMesh",512,512,32,e,!1)).position.y=-9,(Jt=new De.WaterMaterial("water",e,new Re.Vector2(1024,1024))).backFaceCulling=!0,Jt.bumpTexture=new Re.Texture(window.AWS+"/shared/waterbump.png",e),Jt.windForce=-5,Jt.waveHeight=.8,Jt.bumpHeight=.3,Jt.waveLength=.3,Jt.colorBlendFactor=0,Qt.material=Jt;var t=Re.Mesh.CreateBox("skyBox",1e3,e),a=new Re.StandardMaterial("skyBox",e);a.backFaceCulling=!1,a.reflectionTexture=new Re.CubeTexture(window.AWS+"/shared/sky/moon/moon",e),a.reflectionTexture.coordinatesMode=Re.Texture.SKYBOX_MODE,a.diffuseColor=new Re.Color3(0,0,0),a.specularColor=new Re.Color3(0,0,0),a.disableLighting=!0,t.material=a,Jt.addToRenderList(t);var n=new Re.Texture(window.AWS+"/shared/black_sand.jpg",e);n.vScale=n.uScale=10;var i=new Re.StandardMaterial("groundMaterial",e);i.diffuseTexture=n;var r=Re.Mesh.CreateGround("ground",512,512,32,e,!1);r.position.y=-10,r.material=i,Jt.addToRenderList(r),Re.Effect.ShadersStore.customFragmentShader="\n    #ifdef GL_ES\n    precision highp float;\n    #endif\n\n    // Samplers\n    varying vec2 vUV;\n    uniform sampler2D textureSampler;\n\n    // Parameters\n    uniform vec2 screenSize;\n    uniform float threshold;\n\n    void main(void)\n    {\n      vec2 texelSize = vec2(1.0 / screenSize.x, 1.0 / screenSize.y);\n      vec4 baseColor = texture2D(textureSampler, vUV);\n\n\n      if (baseColor.r < threshold) {\n        gl_FragColor = baseColor;\n      } else {\n        gl_FragColor = vec4(0);\n      }\n    }\n    ";var s=new Re.PostProcess("My custom post process","custom",["screenSize","threshold"],null,.25,Kt);s.onApply=function(e){e.setFloat2("screenSize",s.width,s.height),e.setFloat("threshold",.8)}}},{key:"onRender",value:function(e){var t=document.getElementById("fps");t&&(t.innerHTML=e.getEngine().getFps().toFixed()+" fps")}},{key:"render",value:function(){var e=this;return i.a.createElement("div",{className:"Loop Sketch",ref:this.divRef,onWheel:function(t){return e.wheel(t)}},i.a.createElement(We,{className:"noSelect backgroundCover",antialias:!0,onSceneReady:this.onSceneReady,onRender:this.onRender,id:"babylon-canvas"}))}}]),a}(i.a.Component),ia=(a(252),function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).setImages=function(){for(var e=n.state.imageIndex,t=Object(l.a)(n.state.mapDivs),a=0;a<n.numFrames;a++)t[a]=n.mod((e+2*a)*n.imgW,n.imgW*n.numImages);n.setState({mapDivs:t})},n.numFrames=15,n.imgW=450,n.imgH=254,n.state={deltaX:0,deltaY:0,startX:(window.innerWidth-15*n.numFrames-1*n.imgW-50)/2,startY:(window.innerHeight-15*n.numFrames+50)/2,imageIndex:0,mapDivs:[]},n.divRef=i.a.createRef(),n.preventDefault=function(e){return e.preventDefault()},n.numImages=51,n.wheel=n.wheel.bind(Object(p.a)(n)),n}return Object(d.a)(a,[{key:"componentDidMount",value:function(){this.divRef.current.addEventListener("wheel",this.preventDefault),this.setImages(),this.props.userSetRoom("xfinity-depths")}},{key:"componentWillUnmount",value:function(){this.divRef.current.removeEventListener("wheel",this.preventDefault),this.props.userLeaveRoom("xfinity-depths")}},{key:"wheel",value:function(e){var t=this.state.deltaY+e.deltaY,a=t/40;a=Math.floor(a),a=this.mod(a,this.numImages);for(var n=Object(l.a)(this.state.mapDivs),i=0;i<this.numFrames;i++)n[i]=this.mod((a+2*i)*this.imgW,this.imgW*this.numImages);return this.setState({deltaY:t,imageIndex:a,mapDivs:n}),!1}},{key:"mod",value:function(e,t){return(e%t+t)%t}},{key:"onSceneReady",value:function(e){$t=new Re.AnaglyphUniversalCamera("af_cam",new Re.Vector3(0,8,-5),.033,e),e.clearColor=new Re.Color4(0,0,0,0),$t.setTarget(new Re.Vector3(11,3,-2));e.getEngine().getRenderingCanvas();new Re.HemisphericLight("light1",new Re.Vector3(0,1,0),e).intensity=.7,(ea=Re.Mesh.CreateGround("waterMesh",512,512,32,e,!1)).position.y=-9,(Zt=new De.WaterMaterial("water",e,new Re.Vector2(1024,1024))).backFaceCulling=!0,Zt.bumpTexture=new Re.Texture(window.AWS+"/shared/waterbump.png",e),Zt.windForce=-5,Zt.waveHeight=.8,Zt.bumpHeight=.3,Zt.waveLength=.3,Zt.colorBlendFactor=0,ea.material=Zt;var t=new Re.Texture(window.AWS+"/shared/sand2.jpg",e);t.vScale=t.uScale=10;var a=new Re.StandardMaterial("groundMaterial",e);a.diffuseTexture=t;var n=Re.Mesh.CreateGround("ground",512,512,32,e,!1);n.position.y=-10,n.material=a,Zt.addToRenderList(n)}},{key:"onRender",value:function(e){var t=document.getElementById("fps");t&&(t.innerHTML=e.getEngine().getFps().toFixed()+" fps")}},{key:"render",value:function(){var e=this;return i.a.createElement("div",{className:"Loop Sketch",ref:this.divRef,onWheel:function(t){return e.wheel(t)}},i.a.createElement(We,{className:"noSelect backgroundCover",antialias:!0,onSceneReady:this.onSceneReady,onRender:this.onRender,id:"babylon-canvas"}),this.state.mapDivs.map((function(t,a){var n=(a+1)*(1/e.numFrames),r=e.state.imageIndex*e.imgW;return i.a.createElement(C,{windowStyle:{opacity:n},content:i.a.createElement("div",{className:"balloon",style:{backgroundPosition:"".concat(r,"px 0px"),width:e.imgW,height:e.imgH}}),key:a,width:e.imgW,height:e.imgH,isControlled:!1,x:e.state.startX+15*a,y:e.state.startY-15*a,z:1})})))}}]),a}(i.a.Component)),ra=(a(253),a(254)(Ke)),sa=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).mount=i.a.createRef(),n}return Object(d.a)(a,[{key:"componentDidMount",value:function(){var e,t,a,n,i=[];!function(i){e=new Ke.Scene;var r=window.innerWidth||2,s=window.innerHeight||2;t=new Ke.PerspectiveCamera(75,r/s,.1,1e3),(a=new Ke.WebGLRenderer).setSize(r,s),i.appendChild(a.domElement);var o=window.AWS+"/three/3D/hole.jpg";(n=new ra(a,o,r,s)).setSize(r,s)}(this.mount),function(){for(var t="/assets/three/pisa/",a=[t+"px.png",t+"nx.png",t+"py.png",t+"ny.png",t+"pz.png",t+"nz.png"],n=(new Ke.CubeTextureLoader).load(a),r=new Ke.SphereBufferGeometry(.1,32,16),s=new Ke.MeshBasicMaterial({color:16777215,envMap:n}),o=0;o<500;o++){var l=new Ke.Mesh(r,s);l.position.x=10*Math.random()-5,l.position.y=10*Math.random()-5,l.position.z=100*Math.random()-100,l.scale.x=l.scale.y=l.scale.z=3*Math.random()+1,e.add(l),i.push(l)}}(),function a(){requestAnimationFrame(a);for(var r=1e-4*Date.now(),s=0,o=i.length;s<o;s++){var l=i[s];l.position.x=5*Math.cos(r+s),l.position.y=5*Math.sin(r+1.1*s)}n.render(e,t)}()}},{key:"render",value:function(){var e=this;return i.a.createElement("div",{className:"Three",ref:function(t){return e.mount=t}})}}]),a}(n.Component),oa=[];i.a.Component;var la=a(13),ca=(a(255),function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).state={numFrames:0},n.clicked=n.clicked.bind(Object(p.a)(n)),n.getFrames=n.getFrames.bind(Object(p.a)(n)),n}return Object(d.a)(a,[{key:"componentDidMount",value:function(){this.props.addClass("overflow-all")}},{key:"componentWillUnmount",value:function(){}},{key:"mod",value:function(e,t){return(e%t+t)%t}},{key:"onDblClick",value:function(e){console.log(e);var t=this.state.numFrames;t++,this.setState({numFrames:t})}},{key:"render",value:function(){var e;return i.a.createElement("div",{className:"Dig",ref:this.divRef},i.a.createElement(Ce,(e={disableWindow:!0,onDblClick:this.onDblClick.bind(this),x:100,y:220,width:60,height:90,title:"dive",box:{x:400,y:400,w:400,h:200}},Object(la.a)(e,"title","z-axis"),Object(la.a)(e,"content",i.a.createElement("img",{src:window.AWS+"/loop/folder.png",width:80,height:80})),Object(la.a)(e,"frameContent",i.a.createElement("div",{className:"test"},"blue pill")),e)),this.getFrames())}},{key:"clicked",value:function(e){var t=this.state.numFrames;t++,this.setState({numFrames:t})}},{key:"getFrames",value:function(){for(var e=this,t=this.state.numFrames,a=[],n=0;n<t;n++)a[n]=n;return i.a.createElement("div",{className:"openedFrames"},a.map((function(t){var a=0;return a=Math.floor(t/20)%2==0?100+t%20*20:500-t%20*20,i.a.createElement(C,{handle:".App",key:t,x:a,y:100+20*t,width:400,height:300,title:"work",windowStyle:{background:"red"},content:i.a.createElement("div",{onDblClick:function(){e.clicked(t)}},i.a.createElement("img",{src:window.AWS+"/loop/folder.png",width:20,height:20}),i.a.createElement("span",null,"go deeper"))})})))}}]),a}(i.a.Component));a(121);var da=function(){return i.a.createElement("div",{className:"Page"},i.a.createElement("div",{className:"About Sketch"},i.a.createElement("div",{className:"container"},i.a.createElement("h1",null,"Artist Statement"),i.a.createElement("p",null,"Thinking about the simultaneous collapse / expansion of space during quarantine."),i.a.createElement("ul",null,i.a.createElement("li",null,"2D & multi-dimensional"),i.a.createElement("li",null,"confined but digitally liberated")),i.a.createElement("p",null,'Thinking about "home" in quarantine. Home pages, home spaces.'),i.a.createElement("ul",null,i.a.createElement("li",null,"safe haven & prison")),i.a.createElement("p",null,"Thinking about access to digital spaces in quarantine."),i.a.createElement("ul",null,i.a.createElement("li",null,'"same boat, different storm"')))))};var ua=function(){return i.a.createElement("div",{className:"Frame-box"},i.a.createElement("div",{className:"Page"},i.a.createElement("div",{className:"Credits"},i.a.createElement("div",{className:"container"},i.a.createElement("h1",null,"Credits"),i.a.createElement("h2",null,i.a.createElement(v.b,{to:"/macbook-air"},"Macbook Air")),i.a.createElement("p",null,i.a.createElement("ul",null,i.a.createElement("li",null,"thanks to Google for the ",i.a.createElement("a",{href:"https://poly.google.com/view/8Qwgncb6dJT"},"Umbrella Palm Tree"),", licensed under CC BY 2.0"),i.a.createElement("li",null,"thanks to bhgilad for the ",i.a.createElement("a",{href:"https://www.turbosquid.com/3d-models/80s-pool-chair-3d-model-1489585"},"pool chair")))),i.a.createElement("h2",null,i.a.createElement(v.b,{to:"/hard-drives-on-seashores"},"Hard Drives on Seashores")),i.a.createElement("p",null,i.a.createElement("ul",null,i.a.createElement("li",null,"thanks to Google for the ",i.a.createElement("a",{href:"https://poly.google.com/view/8Qwgncb6dJT"},"Umbrella Palm Tree"),", licensed under CC BY 2.0"),i.a.createElement("li",null,"thanks to Slanted Studios for the ",i.a.createElement("a",{href:"https://giphy.com/media/l3Uchq9s6Hx0aK8F2/giphy.gif"},"bird gif")))),i.a.createElement("h2",null,i.a.createElement(v.b,{to:"/jungle-gyms"},"Jungle Gyms")),i.a.createElement("p",null,i.a.createElement("ul",null,i.a.createElement("li",null,"special thanks to ",i.a.createElement("a",{href:"https://github.com/1j01/pipes/blob/master/screensaver.js"},"Isaiah Odhner for the pipes code"))))))))};var ma=function(){return i.a.createElement("div",null,i.a.createElement("h1",null,"NotFound"))},ha=(a(256),a(309)),pa=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).state={user:{avatar:"",userName:""}},n.setAvatarBar=n.setAvatarBar.bind(Object(p.a)(n)),n.setUserName=n.setUserName.bind(Object(p.a)(n)),n.handleSubmit=n.handleSubmit.bind(Object(p.a)(n)),n.onHide=n.onHide.bind(Object(p.a)(n)),n}return Object(d.a)(a,[{key:"shouldComponentUpdate",value:function(e){return e.showSignIn||this.props.showSignIn||e.hasAvatar!==this.props.hasAvatar}},{key:"componentDidUpdate",value:function(e){if(e.hasAvatar!==this.props.hasAvatar){var t=Object(o.a)({},this.state.user);t.avatar=this.props.user.avatar,t.userName=this.props.user.userName,this.setState({user:t})}}},{key:"setAvatarBar",value:function(e){var t=Object(o.a)({},this.state.user);t.avatar=e,this.setState({user:t})}},{key:"setUserName",value:function(e){var t=Object(o.a)({},this.state.user);t.userName=e.target.value,this.setState({user:t})}},{key:"handleSubmit",value:function(){var e=this.state.user,t=e.avatar,a=e.userName;""===t?alert("Please select an emoji avatar"):""===a?alert("Please set a user name"):a===this.props.user.userName?(console.log("username and props same",a),this.props.userSet(a,t)):(console.log("check registering user",a),this.props.userRegisterCheck(a,t))}},{key:"getEmojis",value:function(){return["\ud83d\ude00","\ud83d\ude01","\ud83d\ude02","\ud83d\ude03","\ud83d\ude04","\ud83d\ude05","\ud83d\ude06","\ud83d\ude07","\ud83d\ude08","\ud83d\udc7f","\ud83d\ude09","\ud83d\ude0a","\ud83d\ude0b","\ud83d\ude0c","\ud83d\ude0d","\ud83d\ude0e","\ud83d\ude0f","\ud83d\ude10","\ud83d\ude11","\ud83d\ude12","\ud83d\ude13","\ud83d\ude14","\ud83d\ude15","\ud83d\ude16","\ud83d\ude17","\ud83d\ude18","\ud83d\ude19","\ud83d\ude1a","\ud83d\ude1b","\ud83d\ude1c","\ud83d\ude1d","\ud83d\ude1e","\ud83d\ude1f","\ud83d\ude20","\ud83d\ude21","\ud83d\ude22","\ud83d\ude23","\ud83d\ude24","\ud83d\ude25","\ud83d\ude26","\ud83d\ude27","\ud83d\ude28","\ud83d\ude29","\ud83d\ude2a","\ud83d\ude2b","\ud83d\ude2c","\ud83d\ude2d","\ud83d\ude2e","\ud83d\ude2f","\ud83d\ude30","\ud83d\ude31","\ud83d\ude32","\ud83d\ude33","\ud83d\ude34","\ud83d\ude35","\ud83d\ude36","\ud83d\ude37","\ud83d\ude38","\ud83d\ude39","\ud83d\ude3a","\ud83d\ude3b","\ud83d\ude3c","\ud83d\ude3d","\ud83d\ude3e","\ud83d\ude3f","\ud83d\ude40","\ud83d\udc63","\ud83d\udc64","\ud83d\udc65","\ud83d\udc76","\ud83d\udc76\ud83c\udffb","\ud83d\udc76\ud83c\udffc","\ud83d\udc76\ud83c\udffd","\ud83d\udc76\ud83c\udffe","\ud83d\udc76\ud83c\udfff","\ud83d\udc66","\ud83d\udc66\ud83c\udffb","\ud83d\udc66\ud83c\udffc","\ud83d\udc66\ud83c\udffd","\ud83d\udc66\ud83c\udffe","\ud83d\udc66\ud83c\udfff","\ud83d\udc67","\ud83d\udc67\ud83c\udffb","\ud83d\udc67\ud83c\udffc","\ud83d\udc67\ud83c\udffd","\ud83d\udc67\ud83c\udffe","\ud83d\udc67\ud83c\udfff","\ud83d\udc68","\ud83d\udc68\ud83c\udffb","\ud83d\udc68\ud83c\udffc","\ud83d\udc68\ud83c\udffd","\ud83d\udc68\ud83c\udffe","\ud83d\udc68\ud83c\udfff","\ud83d\udc69","\ud83d\udc69\ud83c\udffb","\ud83d\udc69\ud83c\udffc","\ud83d\udc69\ud83c\udffd","\ud83d\udc69\ud83c\udffe","\ud83d\udc69\ud83c\udfff","\ud83d\udc6a","\ud83d\udc68\u200d\ud83d\udc69\u200d\ud83d\udc67","\ud83d\udc68\u200d\ud83d\udc69\u200d\ud83d\udc67\u200d\ud83d\udc66","\ud83d\udc68\u200d\ud83d\udc69\u200d\ud83d\udc66\u200d\ud83d\udc66","\ud83d\udc68\u200d\ud83d\udc69\u200d\ud83d\udc67\u200d\ud83d\udc67","\ud83d\udc69\u200d\ud83d\udc69\u200d\ud83d\udc66","\ud83d\udc69\u200d\ud83d\udc69\u200d\ud83d\udc67","\ud83d\udc69\u200d\ud83d\udc69\u200d\ud83d\udc67\u200d\ud83d\udc66","\ud83d\udc69\u200d\ud83d\udc69\u200d\ud83d\udc66\u200d\ud83d\udc66","\ud83d\udc69\u200d\ud83d\udc69\u200d\ud83d\udc67\u200d\ud83d\udc67","\ud83d\udc68\u200d\ud83d\udc68\u200d\ud83d\udc66","\ud83d\udc68\u200d\ud83d\udc68\u200d\ud83d\udc67","\ud83d\udc68\u200d\ud83d\udc68\u200d\ud83d\udc67\u200d\ud83d\udc66","\ud83d\udc68\u200d\ud83d\udc68\u200d\ud83d\udc66\u200d\ud83d\udc66","\ud83d\udc68\u200d\ud83d\udc68\u200d\ud83d\udc67\u200d\ud83d\udc67","\ud83d\udc6b","\ud83d\udc6c","\ud83d\udc6d","\ud83d\udc6f","\ud83d\udc70","\ud83d\udc70\ud83c\udffb","\ud83d\udc70\ud83c\udffc","\ud83d\udc70\ud83c\udffd","\ud83d\udc70\ud83c\udffe","\ud83d\udc70\ud83c\udfff","\ud83d\udc71","\ud83d\udc71\ud83c\udffb","\ud83d\udc71\ud83c\udffc","\ud83d\udc71\ud83c\udffd","\ud83d\udc71\ud83c\udffe","\ud83d\udc71\ud83c\udfff","\ud83d\udc72","\ud83d\udc72\ud83c\udffb","\ud83d\udc72\ud83c\udffc","\ud83d\udc72\ud83c\udffd","\ud83d\udc72\ud83c\udffe","\ud83d\udc72\ud83c\udfff","\ud83d\udc73","\ud83d\udc73\ud83c\udffb","\ud83d\udc73\ud83c\udffc","\ud83d\udc73\ud83c\udffd","\ud83d\udc73\ud83c\udffe","\ud83d\udc73\ud83c\udfff","\ud83d\udc74","\ud83d\udc74\ud83c\udffb","\ud83d\udc74\ud83c\udffc","\ud83d\udc74\ud83c\udffd","\ud83d\udc74\ud83c\udffe","\ud83d\udc74\ud83c\udfff","\ud83d\udc75","\ud83d\udc75\ud83c\udffb","\ud83d\udc75\ud83c\udffc","\ud83d\udc75\ud83c\udffd","\ud83d\udc75\ud83c\udffe","\ud83d\udc75\ud83c\udfff","\ud83d\udc6e","\ud83d\udc6e\ud83c\udffb","\ud83d\udc6e\ud83c\udffc","\ud83d\udc6e\ud83c\udffd","\ud83d\udc6e\ud83c\udffe","\ud83d\udc6e\ud83c\udfff","\ud83d\udc77","\ud83d\udc77\ud83c\udffb","\ud83d\udc77\ud83c\udffc","\ud83d\udc77\ud83c\udffd","\ud83d\udc77\ud83c\udffe","\ud83d\udc77\ud83c\udfff","\ud83d\udc78","\ud83d\udc78\ud83c\udffb","\ud83d\udc78\ud83c\udffc","\ud83d\udc78\ud83c\udffd","\ud83d\udc78\ud83c\udffe","\ud83d\udc78\ud83c\udfff","\ud83d\udc82","\ud83d\udc82\ud83c\udffb","\ud83d\udc82\ud83c\udffc","\ud83d\udc82\ud83c\udffd","\ud83d\udc82\ud83c\udffe","\ud83d\udc82\ud83c\udfff","\ud83d\udc7c","\ud83d\udc7c\ud83c\udffb","\ud83d\udc7c\ud83c\udffc","\ud83d\udc7c\ud83c\udffd","\ud83d\udc7c\ud83c\udffe","\ud83d\udc7c\ud83c\udfff","\ud83c\udf85","\ud83c\udf85\ud83c\udffb","\ud83c\udf85\ud83c\udffc","\ud83c\udf85\ud83c\udffd","\ud83c\udf85\ud83c\udffe","\ud83c\udf85\ud83c\udfff","\ud83d\udc7b","\ud83d\udc79","\ud83d\udc7a","\ud83d\udca9","\ud83d\udc80","\ud83d\udc7d","\ud83d\udc7e","\ud83d\ude47","\ud83d\ude47\ud83c\udffb","\ud83d\ude47\ud83c\udffc","\ud83d\ude47\ud83c\udffd","\ud83d\ude47\ud83c\udffe","\ud83d\ude47\ud83c\udfff","\ud83d\udc81","\ud83d\udc81\ud83c\udffb","\ud83d\udc81\ud83c\udffc","\ud83d\udc81\ud83c\udffd","\ud83d\udc81\ud83c\udffe","\ud83d\udc81\ud83c\udfff","\ud83d\ude45","\ud83d\ude45\ud83c\udffb","\ud83d\ude45\ud83c\udffc","\ud83d\ude45\ud83c\udffd","\ud83d\ude45\ud83c\udffe","\ud83d\ude45\ud83c\udfff","\ud83d\ude46","\ud83d\ude46\ud83c\udffb","\ud83d\ude46\ud83c\udffc","\ud83d\ude46\ud83c\udffd","\ud83d\ude46\ud83c\udffe","\ud83d\ude46\ud83c\udfff","\ud83d\ude4b","\ud83d\ude4b\ud83c\udffb","\ud83d\ude4b\ud83c\udffc","\ud83d\ude4b\ud83c\udffd","\ud83d\ude4b\ud83c\udffe","\ud83d\ude4b\ud83c\udfff","\ud83d\ude4e","\ud83d\ude4e\ud83c\udffb","\ud83d\ude4e\ud83c\udffc","\ud83d\ude4e\ud83c\udffd","\ud83d\ude4e\ud83c\udffe","\ud83d\ude4e\ud83c\udfff","\ud83d\ude4d","\ud83d\ude4d\ud83c\udffb","\ud83d\ude4d\ud83c\udffc","\ud83d\ude4d\ud83c\udffd","\ud83d\ude4d\ud83c\udffe","\ud83d\ude4d\ud83c\udfff","\ud83d\udc86","\ud83d\udc86\ud83c\udffb","\ud83d\udc86\ud83c\udffc","\ud83d\udc86\ud83c\udffd","\ud83d\udc86\ud83c\udffe","\ud83d\udc86\ud83c\udfff","\ud83d\udc87","\ud83d\udc87\ud83c\udffb","\ud83d\udc87\ud83c\udffc","\ud83d\udc87\ud83c\udffd","\ud83d\udc87\ud83c\udffe","\ud83d\udc87\ud83c\udfff","\ud83d\udc91","\ud83d\udc69\u200d\u2764\ufe0f\u200d\ud83d\udc69","\ud83d\udc68\u200d\u2764\ufe0f\u200d\ud83d\udc68","\ud83d\udc8f","\ud83d\udc69\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83d\udc69","\ud83d\udc68\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83d\udc68","\ud83d\ude4c","\ud83d\ude4c\ud83c\udffb","\ud83d\ude4c\ud83c\udffc","\ud83d\ude4c\ud83c\udffd","\ud83d\ude4c\ud83c\udffe","\ud83d\ude4c\ud83c\udfff","\ud83d\udc4f","\ud83d\udc4f\ud83c\udffb","\ud83d\udc4f\ud83c\udffc","\ud83d\udc4f\ud83c\udffd","\ud83d\udc4f\ud83c\udffe","\ud83d\udc4f\ud83c\udfff","\ud83d\udc42","\ud83d\udc42\ud83c\udffb","\ud83d\udc42\ud83c\udffc","\ud83d\udc42\ud83c\udffd","\ud83d\udc42\ud83c\udffe","\ud83d\udc42\ud83c\udfff","\ud83d\udc40","\ud83d\udc43","\ud83d\udc43\ud83c\udffb","\ud83d\udc43\ud83c\udffc","\ud83d\udc43\ud83c\udffd","\ud83d\udc43\ud83c\udffe","\ud83d\udc43\ud83c\udfff","\ud83d\udc44","\ud83d\udc8b","\ud83d\udc45","\ud83d\udc85","\ud83d\udc85\ud83c\udffb","\ud83d\udc85\ud83c\udffc","\ud83d\udc85\ud83c\udffd","\ud83d\udc85\ud83c\udffe","\ud83d\udc85\ud83c\udfff","\ud83d\udc4b","\ud83d\udc4b\ud83c\udffb","\ud83d\udc4b\ud83c\udffc","\ud83d\udc4b\ud83c\udffd","\ud83d\udc4b\ud83c\udffe","\ud83d\udc4b\ud83c\udfff","\ud83d\udc4d","\ud83d\udc4d\ud83c\udffb","\ud83d\udc4d\ud83c\udffc","\ud83d\udc4d\ud83c\udffd","\ud83d\udc4d\ud83c\udffe","\ud83d\udc4d\ud83c\udfff","\ud83d\udc4e","\ud83d\udc4e\ud83c\udffb","\ud83d\udc4e\ud83c\udffc","\ud83d\udc4e\ud83c\udffd","\ud83d\udc4e\ud83c\udffe","\ud83d\udc4e\ud83c\udfff","\u261d","\u261d\ud83c\udffb","\u261d\ud83c\udffc","\u261d\ud83c\udffd","\u261d\ud83c\udffe","\u261d\ud83c\udfff","\ud83d\udc46","\ud83d\udc46\ud83c\udffb","\ud83d\udc46\ud83c\udffc","\ud83d\udc46\ud83c\udffd","\ud83d\udc46\ud83c\udffe","\ud83d\udc46\ud83c\udfff","\ud83d\udc47","\ud83d\udc47\ud83c\udffb","\ud83d\udc47\ud83c\udffc","\ud83d\udc47\ud83c\udffd","\ud83d\udc47\ud83c\udffe","\ud83d\udc47\ud83c\udfff","\ud83d\udc48","\ud83d\udc48\ud83c\udffb","\ud83d\udc48\ud83c\udffc","\ud83d\udc48\ud83c\udffd","\ud83d\udc48\ud83c\udffe","\ud83d\udc48\ud83c\udfff","\ud83d\udc49","\ud83d\udc49\ud83c\udffb","\ud83d\udc49\ud83c\udffc","\ud83d\udc49\ud83c\udffd","\ud83d\udc49\ud83c\udffe","\ud83d\udc49\ud83c\udfff","\ud83d\udc4c","\ud83d\udc4c\ud83c\udffb","\ud83d\udc4c\ud83c\udffc","\ud83d\udc4c\ud83c\udffd","\ud83d\udc4c\ud83c\udffe","\ud83d\udc4c\ud83c\udfff","\u270c","\u270c\ud83c\udffb","\u270c\ud83c\udffc","\u270c\ud83c\udffd","\u270c\ud83c\udffe","\u270c\ud83c\udfff","\ud83d\udc4a","\ud83d\udc4a\ud83c\udffb","\ud83d\udc4a\ud83c\udffc","\ud83d\udc4a\ud83c\udffd","\ud83d\udc4a\ud83c\udffe","\ud83d\udc4a\ud83c\udfff","\u270a","\u270a\ud83c\udffb","\u270a\ud83c\udffc","\u270a\ud83c\udffd","\u270a\ud83c\udffe","\u270a\ud83c\udfff","\u270b","\u270b\ud83c\udffb","\u270b\ud83c\udffc","\u270b\ud83c\udffd","\u270b\ud83c\udffe","\u270b\ud83c\udfff","\ud83d\udcaa","\ud83d\udcaa\ud83c\udffb","\ud83d\udcaa\ud83c\udffc","\ud83d\udcaa\ud83c\udffd","\ud83d\udcaa\ud83c\udffe","\ud83d\udcaa\ud83c\udfff","\ud83d\udc50","\ud83d\udc50\ud83c\udffb","\ud83d\udc50\ud83c\udffc","\ud83d\udc50\ud83c\udffd","\ud83d\udc50\ud83c\udffe","\ud83d\udc50\ud83c\udfff","\ud83d\ude4f","\ud83d\ude4f\ud83c\udffb","\ud83d\ude4f\ud83c\udffc","\ud83d\ude4f\ud83c\udffd","\ud83d\ude4f\ud83c\udffe","\ud83d\ude4f\ud83c\udfff","\ud83c\udf31","\ud83c\udf32","\ud83c\udf33","\ud83c\udf34","\ud83c\udf35","\ud83c\udf37","\ud83c\udf38","\ud83c\udf39","\ud83c\udf3a","\ud83c\udf3b","\ud83c\udf3c","\ud83d\udc90","\ud83c\udf3e","\ud83c\udf3f","\ud83c\udf40","\ud83c\udf41","\ud83c\udf42","\ud83c\udf43","\ud83c\udf44","\ud83c\udf30","\ud83d\udc00","\ud83d\udc01","\ud83d\udc2d","\ud83d\udc39","\ud83d\udc02","\ud83d\udc03","\ud83d\udc04","\ud83d\udc2e","\ud83d\udc05","\ud83d\udc06","\ud83d\udc2f","\ud83d\udc07","\ud83d\udc30","\ud83d\udc08","\ud83d\udc31","\ud83d\udc0e","\ud83d\udc34","\ud83d\udc0f","\ud83d\udc11","\ud83d\udc10","\ud83d\udc13","\ud83d\udc14","\ud83d\udc24","\ud83d\udc23","\ud83d\udc25","\ud83d\udc26","\ud83d\udc27","\ud83d\udc18","\ud83d\udc2a","\ud83d\udc2b","\ud83d\udc17","\ud83d\udc16","\ud83d\udc37","\ud83d\udc3d","\ud83d\udc15","\ud83d\udc29","\ud83d\udc36","\ud83d\udc3a","\ud83d\udc3b","\ud83d\udc28","\ud83d\udc3c","\ud83d\udc35","\ud83d\ude48","\ud83d\ude49","\ud83d\ude4a","\ud83d\udc12","\ud83d\udc09","\ud83d\udc32","\ud83d\udc0a","\ud83d\udc0d","\ud83d\udc22","\ud83d\udc38","\ud83d\udc0b","\ud83d\udc33","\ud83d\udc2c","\ud83d\udc19","\ud83d\udc1f","\ud83d\udc20","\ud83d\udc21","\ud83d\udc1a","\ud83d\udc0c","\ud83d\udc1b","\ud83d\udc1c","\ud83d\udc1d","\ud83d\udc1e","\ud83d\udc3e","\u26a1\ufe0f","\ud83d\udd25","\ud83c\udf19","\u2600\ufe0f","\u26c5\ufe0f","\u2601\ufe0f","\ud83d\udca7","\ud83d\udca6","\u2614\ufe0f","\ud83d\udca8","\u2744\ufe0f","\ud83c\udf1f","\u2b50\ufe0f","\ud83c\udf20","\ud83c\udf04","\ud83c\udf05","\ud83c\udf08","\ud83c\udf0a","\ud83c\udf0b","\ud83c\udf0c","\ud83d\uddfb","\ud83d\uddfe","\ud83c\udf10","\ud83c\udf0d","\ud83c\udf0e","\ud83c\udf0f","\ud83c\udf11","\ud83c\udf12","\ud83c\udf13","\ud83c\udf14","\ud83c\udf15","\ud83c\udf16","\ud83c\udf17","\ud83c\udf18","\ud83c\udf1a","\ud83c\udf1d","\ud83c\udf1b","\ud83c\udf1c","\ud83c\udf1e","\ud83c\udf45","\ud83c\udf46","\ud83c\udf3d","\ud83c\udf60","\ud83c\udf47","\ud83c\udf48","\ud83c\udf49","\ud83c\udf4a","\ud83c\udf4b","\ud83c\udf4c","\ud83c\udf4d","\ud83c\udf4e","\ud83c\udf4f","\ud83c\udf50","\ud83c\udf51","\ud83c\udf52","\ud83c\udf53","\ud83c\udf54","\ud83c\udf55","\ud83c\udf56","\ud83c\udf57","\ud83c\udf58","\ud83c\udf59","\ud83c\udf5a","\ud83c\udf5b","\ud83c\udf5c","\ud83c\udf5d","\ud83c\udf5e","\ud83c\udf5f","\ud83c\udf61","\ud83c\udf62","\ud83c\udf63","\ud83c\udf64","\ud83c\udf65","\ud83c\udf66","\ud83c\udf67","\ud83c\udf68","\ud83c\udf69","\ud83c\udf6a","\ud83c\udf6b","\ud83c\udf6c","\ud83c\udf6d","\ud83c\udf6e","\ud83c\udf6f","\ud83c\udf70","\ud83c\udf71","\ud83c\udf72","\ud83c\udf73","\ud83c\udf74","\ud83c\udf75","\u2615\ufe0f","\ud83c\udf76","\ud83c\udf77","\ud83c\udf78","\ud83c\udf79","\ud83c\udf7a","\ud83c\udf7b","\ud83c\udf7c","\ud83c\udf80","\ud83c\udf81","\ud83c\udf82","\ud83c\udf83","\ud83c\udf84","\ud83c\udf8b","\ud83c\udf8d","\ud83c\udf91","\ud83c\udf86","\ud83c\udf87","\ud83c\udf89","\ud83c\udf8a","\ud83c\udf88","\ud83d\udcab","\u2728","\ud83d\udca5","\ud83c\udf93","\ud83d\udc51","\ud83c\udf8e","\ud83c\udf8f","\ud83c\udf90","\ud83c\udf8c","\ud83c\udfee","\ud83d\udc8d","\u2764\ufe0f","\ud83d\udc94","\ud83d\udc8c","\ud83d\udc95","\ud83d\udc9e","\ud83d\udc93","\ud83d\udc97","\ud83d\udc96","\ud83d\udc98","\ud83d\udc9d","\ud83d\udc9f","\ud83d\udc9c","\ud83d\udc9b","\ud83d\udc9a","\ud83d\udc99","\ud83c\udfc3","\ud83c\udfc3\ud83c\udffb","\ud83c\udfc3\ud83c\udffc","\ud83c\udfc3\ud83c\udffd","\ud83c\udfc3\ud83c\udffe","\ud83c\udfc3\ud83c\udfff","\ud83d\udeb6","\ud83d\udeb6\ud83c\udffb","\ud83d\udeb6\ud83c\udffc","\ud83d\udeb6\ud83c\udffd","\ud83d\udeb6\ud83c\udffe","\ud83d\udeb6\ud83c\udfff","\ud83d\udc83","\ud83d\udc83\ud83c\udffb","\ud83d\udc83\ud83c\udffc","\ud83d\udc83\ud83c\udffd","\ud83d\udc83\ud83c\udffe","\ud83d\udc83\ud83c\udfff","\ud83d\udea3","\ud83d\udea3\ud83c\udffb","\ud83d\udea3\ud83c\udffc","\ud83d\udea3\ud83c\udffd","\ud83d\udea3\ud83c\udffe","\ud83d\udea3\ud83c\udfff","\ud83c\udfca","\ud83c\udfca\ud83c\udffb","\ud83c\udfca\ud83c\udffc","\ud83c\udfca\ud83c\udffd","\ud83c\udfca\ud83c\udffe","\ud83c\udfca\ud83c\udfff","\ud83c\udfc4","\ud83c\udfc4\ud83c\udffb","\ud83c\udfc4\ud83c\udffc","\ud83c\udfc4\ud83c\udffd","\ud83c\udfc4\ud83c\udffe","\ud83c\udfc4\ud83c\udfff","\ud83d\udec0","\ud83d\udec0\ud83c\udffb","\ud83d\udec0\ud83c\udffc","\ud83d\udec0\ud83c\udffd","\ud83d\udec0\ud83c\udffe","\ud83d\udec0\ud83c\udfff","\ud83c\udfc2","\ud83c\udfbf","\u26c4\ufe0f","\ud83d\udeb4","\ud83d\udeb4\ud83c\udffb","\ud83d\udeb4\ud83c\udffc","\ud83d\udeb4\ud83c\udffd","\ud83d\udeb4\ud83c\udffe","\ud83d\udeb4\ud83c\udfff","\ud83d\udeb5","\ud83d\udeb5\ud83c\udffb","\ud83d\udeb5\ud83c\udffc","\ud83d\udeb5\ud83c\udffd","\ud83d\udeb5\ud83c\udffe","\ud83d\udeb5\ud83c\udfff","\ud83c\udfc7","\ud83c\udfc7\ud83c\udffb","\ud83c\udfc7\ud83c\udffc","\ud83c\udfc7\ud83c\udffd","\ud83c\udfc7\ud83c\udffe","\ud83c\udfc7\ud83c\udfff","\u26fa\ufe0f","\ud83c\udfa3","\u26bd\ufe0f","\ud83c\udfc0","\ud83c\udfc8","\u26be\ufe0f","\ud83c\udfbe","\ud83c\udfc9","\u26f3\ufe0f","\ud83c\udfc6","\ud83c\udfbd","\ud83c\udfc1","\ud83c\udfb9","\ud83c\udfb8","\ud83c\udfbb","\ud83c\udfb7","\ud83c\udfba","\ud83c\udfb5","\ud83c\udfb6","\ud83c\udfbc","\ud83c\udfa7","\ud83c\udfa4","\ud83c\udfad","\ud83c\udfab","\ud83c\udfa9","\ud83c\udfaa","\ud83c\udfac","\ud83c\udfa8","\ud83c\udfaf","\ud83c\udfb1","\ud83c\udfb3","\ud83c\udfb0","\ud83c\udfb2","\ud83c\udfae","\ud83c\udfb4","\ud83c\udccf","\ud83c\udc04\ufe0f","\ud83c\udfa0","\ud83c\udfa1","\ud83c\udfa2","\ud83d\ude83","\ud83d\ude9e","\ud83d\ude82","\ud83d\ude8b","\ud83d\ude9d","\ud83d\ude84","\ud83d\ude85","\ud83d\ude86","\ud83d\ude87","\ud83d\ude88","\ud83d\ude89","\ud83d\ude8a","\ud83d\ude8c","\ud83d\ude8d","\ud83d\ude8e","\ud83d\ude90","\ud83d\ude91","\ud83d\ude92","\ud83d\ude93","\ud83d\ude94","\ud83d\udea8","\ud83d\ude95","\ud83d\ude96","\ud83d\ude97","\ud83d\ude98","\ud83d\ude99","\ud83d\ude9a","\ud83d\ude9b","\ud83d\ude9c","\ud83d\udeb2","\ud83d\ude8f","\u26fd\ufe0f","\ud83d\udea7","\ud83d\udea6","\ud83d\udea5","\ud83d\ude80","\ud83d\ude81","\u2708\ufe0f","\ud83d\udcba","\u2693\ufe0f","\ud83d\udea2","\ud83d\udea4","\u26f5\ufe0f","\ud83d\udea1","\ud83d\udea0","\ud83d\ude9f","\ud83d\udec2","\ud83d\udec3","\ud83d\udec4","\ud83d\udec5","\ud83d\udcb4","\ud83d\udcb6","\ud83d\udcb7","\ud83d\udcb5","\ud83d\uddfd","\ud83d\uddff","\ud83c\udf01","\ud83d\uddfc","\u26f2\ufe0f","\ud83c\udff0","\ud83c\udfef","\ud83c\udf07","\ud83c\udf06","\ud83c\udf03","\ud83c\udf09","\ud83c\udfe0","\ud83c\udfe1","\ud83c\udfe2","\ud83c\udfec","\ud83c\udfed","\ud83c\udfe3","\ud83c\udfe4","\ud83c\udfe5","\ud83c\udfe6","\ud83c\udfe8","\ud83c\udfe9","\ud83d\udc92","\u26ea\ufe0f","\ud83c\udfea","\ud83c\udfeb","\ud83c\udde6\ud83c\uddfa","\ud83c\udde6\ud83c\uddf9","\ud83c\udde7\ud83c\uddea","\ud83c\udde7\ud83c\uddf7","\ud83c\udde8\ud83c\udde6","\ud83c\udde8\ud83c\uddf1","\ud83c\udde8\ud83c\uddf3","\ud83c\udde8\ud83c\uddf4","\ud83c\udde9\ud83c\uddf0","\ud83c\uddeb\ud83c\uddee","\ud83c\uddeb\ud83c\uddf7","\ud83c\udde9\ud83c\uddea","\ud83c\udded\ud83c\uddf0","\ud83c\uddee\ud83c\uddf3","\ud83c\uddee\ud83c\udde9","\ud83c\uddee\ud83c\uddea","\ud83c\uddee\ud83c\uddf1","\ud83c\uddee\ud83c\uddf9","\ud83c\uddef\ud83c\uddf5","\ud83c\uddf0\ud83c\uddf7","\ud83c\uddf2\ud83c\uddf4","\ud83c\uddf2\ud83c\uddfe","\ud83c\uddf2\ud83c\uddfd","\ud83c\uddf3\ud83c\uddf1","\ud83c\uddf3\ud83c\uddff","\ud83c\uddf3\ud83c\uddf4","\ud83c\uddf5\ud83c\udded","\ud83c\uddf5\ud83c\uddf1","\ud83c\uddf5\ud83c\uddf9","\ud83c\uddf5\ud83c\uddf7","\ud83c\uddf7\ud83c\uddfa","\ud83c\uddf8\ud83c\udde6","\ud83c\uddf8\ud83c\uddec","\ud83c\uddff\ud83c\udde6","\ud83c\uddea\ud83c\uddf8","\ud83c\uddf8\ud83c\uddea","\ud83c\udde8\ud83c\udded","\ud83c\uddf9\ud83c\uddf7","\ud83c\uddec\ud83c\udde7","\ud83c\uddfa\ud83c\uddf8","\ud83c\udde6\ud83c\uddea","\ud83c\uddfb\ud83c\uddf3","\u231a\ufe0f","\ud83d\udcf1","\ud83d\udcf2","\ud83d\udcbb","\u23f0","\u23f3","\u231b\ufe0f","\ud83d\udcf7","\ud83d\udcf9","\ud83c\udfa5","\ud83d\udcfa","\ud83d\udcfb","\ud83d\udcdf","\ud83d\udcde","\u260e\ufe0f","\ud83d\udce0","\ud83d\udcbd","\ud83d\udcbe","\ud83d\udcbf","\ud83d\udcc0","\ud83d\udcfc","\ud83d\udd0b","\ud83d\udd0c","\ud83d\udca1","\ud83d\udd26","\ud83d\udce1","\ud83d\udcb3","\ud83d\udcb8","\ud83d\udcb0","\ud83d\udc8e","\ud83c\udf02","\ud83d\udc5d","\ud83d\udc5b","\ud83d\udc5c","\ud83d\udcbc","\ud83c\udf92","\ud83d\udc84","\ud83d\udc53","\ud83d\udc52","\ud83d\udc61","\ud83d\udc60","\ud83d\udc62","\ud83d\udc5e","\ud83d\udc5f","\ud83d\udc59","\ud83d\udc57","\ud83d\udc58","\ud83d\udc5a","\ud83d\udc55","\ud83d\udc54","\ud83d\udc56","\ud83d\udeaa","\ud83d\udebf","\ud83d\udec1","\ud83d\udebd","\ud83d\udc88","\ud83d\udc89","\ud83d\udc8a","\ud83d\udd2c","\ud83d\udd2d","\ud83d\udd2e","\ud83d\udd27","\ud83d\udd2a","\ud83d\udd29","\ud83d\udd28","\ud83d\udca3","\ud83d\udeac","\ud83d\udd2b","\ud83d\udd16","\ud83d\udcf0","\ud83d\udd11"]}},{key:"getRandomEmoji",value:function(){var e=this.getEmojis();return e[Math.floor(Math.random()*e.length)]}},{key:"onHide",value:function(){this.handleSubmit(),this.props.hasAvatar&&""!=this.state.user.userName&&this.props.closeSignIn()}},{key:"render",value:function(){var e=this,t=this.state.user,a=(""===t.avatar||t.avatar,this.getEmojis());return i.a.createElement("div",{className:"SignIn"},i.a.createElement(C,{title:"avatar",isHidden:!this.props.showSignIn,onHide:this.onHide,content:i.a.createElement("div",{className:"SignIn-Content"},i.a.createElement("div",{className:"userBar"},i.a.createElement("div",{className:"avatar"},t.avatar),i.a.createElement(ha.a,{onChange:this.setUserName,value:t.userName,placeholder:"enter user name",inputProps:{"aria-label":"user name field"}})),i.a.createElement("div",{className:"emoji-list"},a.map((function(t,a){return i.a.createElement("button",{key:a,onClick:function(){return e.setAvatarBar(t)}},t)}))),i.a.createElement("div",{className:"submit"},i.a.createElement(Xe.a,{variant:"outlined",onClick:function(){return e.handleSubmit(!0)}},"Submit"))),width:500,height:400,x:100,y:100}))}}]),a}(i.a.Component),va=a(137),wa=a.n(va),fa=a(138),ga=a.n(fa),ya=a(139),ba=a.n(ya),xa=a(135),Ea=a.n(xa);function Sa(e,t,a,n,i,r,s){return function(e,t,a){return Math.sqrt(function(e,t,a){var n=Ca(t,a);if(0==n)return Ca(e,t);var i=((e.x-t.x)*(a.x-t.x)+(e.y-t.y)*(a.y-t.y))/n;return i=Math.max(0,Math.min(1,i)),Ca(e,{x:t.x+i*(a.x-t.x),y:t.y+i*(a.y-t.y)})}(e,t,a))}({x:e,y:t},{x:a,y:n},{x:i,y:r})<s}function ka(e){return e*e}function Ca(e,t){return ka(e.x-t.x)+ka(e.y-t.y)}var ja=a(136);"\n  local('dogica'),\n  local('dogica-Regular'),\n  url(".concat(a.n(ja).a,") format('ttf')\n  ");window.AWS="https://lmd-bucket.s3.us-east-2.amazonaws.com/sketches";var Oa=Object(oe.a)({palette:{primary:{main:wa.a[300]},secondary:ga.a,error:ba.a,contrastThreshold:3,tonalOffset:.2},typography:{fontFamily:"dogica, Arial",fontSize:10},overrides:{}}),Ma=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(e){var n;Object(c.a)(this,a),(n=t.call(this,e)).addUserMessage=function(e){var t=[].concat(Object(l.a)(n.state.messages),[e]);n.setState({messages:t})},n.toggleSideBar=function(){console.log("TOGGLED"),n.setState((function(e){return{showSideBar:!e.showSideBar}}))},n.handleDrawerClose=function(){console.log("CLOSED"),n.setState({showSideBar:!1})},n.updateDeviceDimensions=function(){var e={};e.windowWidth="undefined"!==typeof window?window.innerWidth:0,e.windowHeight="undefined"!==typeof window?window.innerHeight:0;var t=n.state.wOG/n.state.hOG;e.flipped=!1,e.windowWidth/e.windowHeight!==t&&(e.flipped=!0),e.orientation=e.windowWidth/e.windowHeight>1?"landscape":"portrait";var a=Math.min(e.windowWidth,e.windowHeight);console.log("minD",a,e.windowWidth,e.windowHeight),e.device="",e.device=a<450?"mobile":a<700?"tablet":"desktop",n.setState({dimensions:e})},n.addClass=function(e){var t=n.state.classes;t+=" "+e,n.setState({classes:t})},n.socketSetup=function(){_.on("connect",(function(){var e=Object(o.a)({},n.state.user);e.room=n.state.room,console.log("CONNECTED",_.id,"in room",n.state.room),n.setState({sessionID:_.id}),_.emit("setUser",e),_.emit("joinRoom",n.state.room),n.addBots()})),_.on("usersUpdate",(function(e){var t=n.state.sessionID,a=e.filter((function(e){return e.id!=t}));n.setState({users:a})})),_.on("message",(function(e){console.log("message received",e);var t=Object(o.a)({},e);t.to===n.state.room?t.to="room":"all"!==t.to&&(t.to="me"),t.from=n.getUserNameById(t.from),n.addUserMessage(t)})),_.on("userJoined",(function(e){Object(o.a)({},n.state.user);n.setState({usersChange:!0}),console.log("SOMEONE JOINED")})),_.on("userDisconnected",(function(e){n.setState({usersChange:!0}),console.log("SOMEONE DISCONNECTED")}))},n.addBots=function(){var e={x:n.wineLocation.x-50,y:n.wineLocation.y+50,avatar:"\ud83e\udd16",room:"home",userName:"wineBot",id:0};_.emit("setBot",e)},n.addWine=function(){var e=Object(o.a)({},n.state.user);e.needsWine=!0,n.userNearWine()&&(e.needsWine=!1,e.hasWine=new Date),n.setState({user:e}),_.emit("setUser",e)},n.userNearWine=function(){var e=Object(o.a)({},n.state.user),t=e.x-(n.wineLocation.x+n.wineLocation.w/2),a=e.y-(n.wineLocation.y+n.wineLocation.h/2);return Math.sqrt(t*t+a*a)<200},n.getUserNameById=function(e){var t=n.state.users;if(t){var a=t.find((function(t){return t.id===e}));if(a)return a.userName}return""},n.getAvatarById=function(e){var t=n.state.users;if(t){var a=t.find((function(t){return t.id===e}));if(a)return a.avatar}return""},n.avatarClicked=function(){n.setState({showSignIn:!0})},n.userSetActiveChat=function(e){var t=null;e&&(t=Object(o.a)({},e)),n.setState({userActiveChat:t,showSideBar:!0})},n.userUpdated=function(e,t){var a=Object(o.a)({},n.state.user);a.userName=t,a.avatar=e,n.setState({user:a})},n.userMove=function(e,t,a){var i=Object(o.a)({},n.state.user);i.x+=50*e,i.y+=50*t;var r=function(e,t){for(var a=0;a<t.length;a++)if(Sa(e.x,e.y,t[a].x0,t[a].y0,t[a].x1,t[a].y1,30))return t[a].to;return null}({x:i.x,y:i.y},n.doors);r?(alert("door!"),n.props.history.push(r)):function(e,t){for(var a=0;a<t.length-1;a++)if(Sa(e.x,e.y,t[a].x,t[a].y,t[a+1].x,t[a+1].y,30))return!0;return!1}({x:i.x,y:i.y},n.centerPoints)||(n.userNearWine()&&i.needsWine&&(i.needsWine=!1,i.hasWine=new Date),n.setState({user:i}),_.emit("setUser",i))},n.userSet=function(e,t){he.a.set("hasAvatar",!0),he.a.set("avatar",t),he.a.set("userName",e),n.userUpdated(t,e),n.setState({hasAvatar:!0,showSignIn:!1});var a=Object(o.a)({},n.state.user);a.room=n.state.room,_.emit("setUser",a)},n.userRegister=function(e){var t=e.isUser,a=e.user;console.log("user register!!!"),t?alert("username already exists. Please enter a new username."):n.userSet(a.userName,a.avatar)},n.userRegisterCheck=function(e,t){console.log("userRegisterCheck");var a={userName:e,avatar:t};_.emit("registerUser",a,n.userRegister)},n.userSetRoom=function(e){n.setState({room:e}),_.emit("joinRoom",e)},n.userLeaveRoom=function(e){_.emit("leaveRoom",e)},n.closeSignIn=function(){n.setState({showSignIn:!1})},n.state={cursor:0,cursorID:0,dimensions:{windowWidth:window.innerWidth,windowHeight:window.innerHeight,device:"desktop",flipped:!1,orientation:"landscape"},wOG:window.innerWidth,hOG:window.innerHeight,classes:"App",showSideBar:!1,hasAvatar:!1,showSignIn:!1,sessionID:null,usersChange:!1,user:{avatar:"",userName:"",room:"",x:0,y:0,hasWine:null,needsWine:!1},users:null,userActiveChat:null,messages:[],room:"home"};return n.centerPoints=[{x:0,y:-500},{x:500,y:0},{x:0,y:500},{x:-500,y:0},{x:0,y:-500}],n.doors=[{x0:0,y0:-500,x1:200,y1:-300,to:"/macbook-air"},{x0:0,y0:500,x1:-200,y1:300,to:"/hard-drives-on-seashores"},{x0:500,y0:0,x1:300,y1:200,to:"/jungle-gyms"}],n.wineLocation={x:-100,y:500,w:80,h:150},n}return Object(d.a)(a,[{key:"componentDidMount",value:function(){if(this.socketSetup(),he.a.get("hasAvatar")){var e=he.a.get("userName"),t=he.a.get("avatar"),a=Object(o.a)({},this.state.user);a.userName=e,a.avatar=t,this.setState({user:a,showSignIn:!1,hasAvatar:!0}),_.connected&&(a.room=this.state.room,_.emit("setUser",a))}else console.log("nope"),this.setState({showSignIn:!0,hasAvatar:!1});this.updateDeviceDimensions(),window.addEventListener("resize",this.updateDeviceDimensions)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.updateDeviceDimensions)}},{key:"componentDidUpdate",value:function(){this.state.usersChange&&this.setState({usersChange:!1})}},{key:"render",value:function(){var e=this,t=this.state.dimensions;return i.a.createElement("div",{className:this.state.classes},i.a.createElement(le.a,{theme:Oa},i.a.createElement("div",{className:"App-Header"},i.a.createElement("div",{className:"BackHeader"}),i.a.createElement(x,{dimensions:t,toggleSideBar:this.toggleSideBar,user:this.state.user,userSet:this.userSet,avatarClicked:this.avatarClicked})),i.a.createElement("div",{className:"App-Content inner-outline"},i.a.createElement(h.c,null,i.a.createElement(h.a,{exact:!0,path:"/",render:function(){return i.a.createElement(Ne,{user:e.state.user,users:e.state.users,userMove:e.userMove,userSetRoom:e.userSetRoom,userLeaveRoom:e.userLeaveRoom,walls:e.centerPoints,doors:e.doors,userSetActiveChat:e.userSetActiveChat,wineLocation:e.wineLocation})}}),i.a.createElement(h.a,{path:"/macbook-air",render:function(){return i.a.createElement(qe,{dimensions:t,userSetRoom:e.userSetRoom,userLeaveRoom:e.userLeaveRoom})}}),i.a.createElement(h.a,{path:"/jungle-gyms",render:function(){return i.a.createElement(ct,{userSetRoom:e.userSetRoom,userLeaveRoom:e.userLeaveRoom})}}),i.a.createElement(h.a,{path:"/hard-drives-on-seashores",render:function(){return i.a.createElement(wt,{userSetRoom:e.userSetRoom,userLeaveRoom:e.userLeaveRoom})}}),i.a.createElement(h.a,{path:"/wasted-days-are-days-wasted",render:function(){return i.a.createElement(xt,{dimensions:t,userSetRoom:e.userSetRoom,userLeaveRoom:e.userLeaveRoom})}}),i.a.createElement(h.a,{path:"/esc-to-mars",render:function(){return i.a.createElement(Ct,{addClass:e.addClass,dimensions:t,userSetRoom:e.userSetRoom,userLeaveRoom:e.userLeaveRoom})}}),i.a.createElement(h.a,{path:"/wet-streams",render:function(){return i.a.createElement(Rt,{userSetRoom:e.userSetRoom,userLeaveRoom:e.userLeaveRoom})}}),i.a.createElement(h.a,{path:"/xfinity-depths",render:function(){return i.a.createElement(ia,{dimensions:t,userSetRoom:e.userSetRoom,userLeaveRoom:e.userLeaveRoom})}}),i.a.createElement(h.a,{path:"/cloud-confessional",render:function(){return i.a.createElement(Pt,{cursor:e.state.cursorID,userSetRoom:e.userSetRoom,userLeaveRoom:e.userLeaveRoom})}}),i.a.createElement(h.a,{path:"/confessions",render:function(){return i.a.createElement(Xt,{userSetRoom:e.userSetRoom,userLeaveRoom:e.userLeaveRoom})}}),i.a.createElement(h.a,{path:"/dig",render:function(){return i.a.createElement(ca,{addClass:e.addClass})}}),i.a.createElement(h.a,{path:"/moon-light",component:na}),i.a.createElement(h.a,{path:"/three",component:sa}),i.a.createElement(h.a,{path:"/credits",render:function(){return i.a.createElement(ua,{userSetRoom:e.userSetRoom,userLeaveRoom:e.userLeaveRoom})}}),i.a.createElement(h.a,{path:"/words",render:function(){return i.a.createElement(da,{userSetRoom:e.userSetRoom,userLeaveRoom:e.userLeaveRoom})}}),i.a.createElement(h.a,{component:ma})),i.a.createElement(Ea.a,{top:window.innerHeight-55,left:10})),i.a.createElement(ue,{room:this.state.room,user:this.state.user,users:this.state.users,usersChange:this.state.usersChange,showSideBar:this.state.showSideBar,handleDrawerClose:this.handleDrawerClose.bind(this),messages:this.state.messages,addUserMessage:this.addUserMessage,userActiveChat:this.state.userActiveChat,userSetActiveChat:this.userSetActiveChat,addWine:this.addWine}),i.a.createElement(pa,{user:this.state.user,hasAvatar:this.state.hasAvatar,showSignIn:this.state.showSignIn,closeSignIn:this.closeSignIn.bind(this),userUpdated:this.userUpdated,userSet:this.userSet,userRegisterCheck:this.userRegisterCheck})))}}]),a}(i.a.Component),Na=Object(h.f)(Ma);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(i.a.createElement(i.a.StrictMode,null,i.a.createElement(v.a,null,i.a.createElement(Na,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},99:function(e,t,a){}},[[150,1,2]]]);
//# sourceMappingURL=main.5e4aa505.chunk.js.map